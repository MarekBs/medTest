var rk=Object.defineProperty;var ik=(n,e,t)=>e in n?rk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ve=(n,e,t)=>ik(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function sk(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gm={exports:{}},Ic={},Ym={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w;function ok(){if(_w)return $e;_w=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function E(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,I={};function A(j,J,fe){this.props=j,this.context=J,this.refs=I,this.updater=fe||T}A.prototype.isReactComponent={},A.prototype.setState=function(j,J){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,J,"setState")},A.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function N(){}N.prototype=A.prototype;function V(j,J,fe){this.props=j,this.context=J,this.refs=I,this.updater=fe||T}var U=V.prototype=new N;U.constructor=V,b(U,A.prototype),U.isPureReactComponent=!0;var z=Array.isArray,Q=Object.prototype.hasOwnProperty,Y={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function x(j,J,fe){var Te,Se={},ae=null,ve=null;if(J!=null)for(Te in J.ref!==void 0&&(ve=J.ref),J.key!==void 0&&(ae=""+J.key),J)Q.call(J,Te)&&!R.hasOwnProperty(Te)&&(Se[Te]=J[Te]);var he=arguments.length-2;if(he===1)Se.children=fe;else if(1<he){for(var Re=Array(he),We=0;We<he;We++)Re[We]=arguments[We+2];Se.children=Re}if(j&&j.defaultProps)for(Te in he=j.defaultProps,he)Se[Te]===void 0&&(Se[Te]=he[Te]);return{$$typeof:n,type:j,key:ae,ref:ve,props:Se,_owner:Y.current}}function k(j,J){return{$$typeof:n,type:j.type,key:J,ref:j.ref,props:j.props,_owner:j._owner}}function O(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function L(j){var J={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(fe){return J[fe]})}var M=/\/+/g;function P(j,J){return typeof j=="object"&&j!==null&&j.key!=null?L(""+j.key):J.toString(36)}function De(j,J,fe,Te,Se){var ae=typeof j;(ae==="undefined"||ae==="boolean")&&(j=null);var ve=!1;if(j===null)ve=!0;else switch(ae){case"string":case"number":ve=!0;break;case"object":switch(j.$$typeof){case n:case e:ve=!0}}if(ve)return ve=j,Se=Se(ve),j=Te===""?"."+P(ve,0):Te,z(Se)?(fe="",j!=null&&(fe=j.replace(M,"$&/")+"/"),De(Se,J,fe,"",function(We){return We})):Se!=null&&(O(Se)&&(Se=k(Se,fe+(!Se.key||ve&&ve.key===Se.key?"":(""+Se.key).replace(M,"$&/")+"/")+j)),J.push(Se)),1;if(ve=0,Te=Te===""?".":Te+":",z(j))for(var he=0;he<j.length;he++){ae=j[he];var Re=Te+P(ae,he);ve+=De(ae,J,fe,Re,Se)}else if(Re=E(j),typeof Re=="function")for(j=Re.call(j),he=0;!(ae=j.next()).done;)ae=ae.value,Re=Te+P(ae,he++),ve+=De(ae,J,fe,Re,Se);else if(ae==="object")throw J=String(j),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return ve}function be(j,J,fe){if(j==null)return j;var Te=[],Se=0;return De(j,Te,"","",function(ae){return J.call(fe,ae,Se++)}),Te}function we(j){if(j._status===-1){var J=j._result;J=J(),J.then(function(fe){(j._status===0||j._status===-1)&&(j._status=1,j._result=fe)},function(fe){(j._status===0||j._status===-1)&&(j._status=2,j._result=fe)}),j._status===-1&&(j._status=0,j._result=J)}if(j._status===1)return j._result.default;throw j._result}var ge={current:null},re={transition:null},ue={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:re,ReactCurrentOwner:Y};function le(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:be,forEach:function(j,J,fe){be(j,function(){J.apply(this,arguments)},fe)},count:function(j){var J=0;return be(j,function(){J++}),J},toArray:function(j){return be(j,function(J){return J})||[]},only:function(j){if(!O(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},$e.Component=A,$e.Fragment=t,$e.Profiler=i,$e.PureComponent=V,$e.StrictMode=r,$e.Suspense=h,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,$e.act=le,$e.cloneElement=function(j,J,fe){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var Te=b({},j.props),Se=j.key,ae=j.ref,ve=j._owner;if(J!=null){if(J.ref!==void 0&&(ae=J.ref,ve=Y.current),J.key!==void 0&&(Se=""+J.key),j.type&&j.type.defaultProps)var he=j.type.defaultProps;for(Re in J)Q.call(J,Re)&&!R.hasOwnProperty(Re)&&(Te[Re]=J[Re]===void 0&&he!==void 0?he[Re]:J[Re])}var Re=arguments.length-2;if(Re===1)Te.children=fe;else if(1<Re){he=Array(Re);for(var We=0;We<Re;We++)he[We]=arguments[We+2];Te.children=he}return{$$typeof:n,type:j.type,key:Se,ref:ae,props:Te,_owner:ve}},$e.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:o,_context:j},j.Consumer=j},$e.createElement=x,$e.createFactory=function(j){var J=x.bind(null,j);return J.type=j,J},$e.createRef=function(){return{current:null}},$e.forwardRef=function(j){return{$$typeof:c,render:j}},$e.isValidElement=O,$e.lazy=function(j){return{$$typeof:m,_payload:{_status:-1,_result:j},_init:we}},$e.memo=function(j,J){return{$$typeof:f,type:j,compare:J===void 0?null:J}},$e.startTransition=function(j){var J=re.transition;re.transition={};try{j()}finally{re.transition=J}},$e.unstable_act=le,$e.useCallback=function(j,J){return ge.current.useCallback(j,J)},$e.useContext=function(j){return ge.current.useContext(j)},$e.useDebugValue=function(){},$e.useDeferredValue=function(j){return ge.current.useDeferredValue(j)},$e.useEffect=function(j,J){return ge.current.useEffect(j,J)},$e.useId=function(){return ge.current.useId()},$e.useImperativeHandle=function(j,J,fe){return ge.current.useImperativeHandle(j,J,fe)},$e.useInsertionEffect=function(j,J){return ge.current.useInsertionEffect(j,J)},$e.useLayoutEffect=function(j,J){return ge.current.useLayoutEffect(j,J)},$e.useMemo=function(j,J){return ge.current.useMemo(j,J)},$e.useReducer=function(j,J,fe){return ge.current.useReducer(j,J,fe)},$e.useRef=function(j){return ge.current.useRef(j)},$e.useState=function(j){return ge.current.useState(j)},$e.useSyncExternalStore=function(j,J,fe){return ge.current.useSyncExternalStore(j,J,fe)},$e.useTransition=function(){return ge.current.useTransition()},$e.version="18.3.1",$e}var yw;function k_(){return yw||(yw=1,Ym.exports=ok()),Ym.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw;function ak(){if(vw)return Ic;vw=1;var n=k_(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,f){var m,v={},E=null,T=null;f!==void 0&&(E=""+f),h.key!==void 0&&(E=""+h.key),h.ref!==void 0&&(T=h.ref);for(m in h)r.call(h,m)&&!o.hasOwnProperty(m)&&(v[m]=h[m]);if(c&&c.defaultProps)for(m in h=c.defaultProps,h)v[m]===void 0&&(v[m]=h[m]);return{$$typeof:e,type:c,key:E,ref:T,props:v,_owner:i.current}}return Ic.Fragment=t,Ic.jsx=l,Ic.jsxs=l,Ic}var Ew;function lk(){return Ew||(Ew=1,Gm.exports=ak()),Gm.exports}var X=lk(),W=k_();const Pi=sk(W);var td={},Qm={exports:{}},wn={},Xm={exports:{}},Jm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function ck(){return ww||(ww=1,function(n){function e(re,ue){var le=re.length;re.push(ue);e:for(;0<le;){var j=le-1>>>1,J=re[j];if(0<i(J,ue))re[j]=ue,re[le]=J,le=j;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ue=re[0],le=re.pop();if(le!==ue){re[0]=le;e:for(var j=0,J=re.length,fe=J>>>1;j<fe;){var Te=2*(j+1)-1,Se=re[Te],ae=Te+1,ve=re[ae];if(0>i(Se,le))ae<J&&0>i(ve,Se)?(re[j]=ve,re[ae]=le,j=ae):(re[j]=Se,re[Te]=le,j=Te);else if(ae<J&&0>i(ve,le))re[j]=ve,re[ae]=le,j=ae;else break e}}return ue}function i(re,ue){var le=re.sortIndex-ue.sortIndex;return le!==0?le:re.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],f=[],m=1,v=null,E=3,T=!1,b=!1,I=!1,A=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(re){for(var ue=t(f);ue!==null;){if(ue.callback===null)r(f);else if(ue.startTime<=re)r(f),ue.sortIndex=ue.expirationTime,e(h,ue);else break;ue=t(f)}}function z(re){if(I=!1,U(re),!b)if(t(h)!==null)b=!0,we(Q);else{var ue=t(f);ue!==null&&ge(z,ue.startTime-re)}}function Q(re,ue){b=!1,I&&(I=!1,N(x),x=-1),T=!0;var le=E;try{for(U(ue),v=t(h);v!==null&&(!(v.expirationTime>ue)||re&&!L());){var j=v.callback;if(typeof j=="function"){v.callback=null,E=v.priorityLevel;var J=j(v.expirationTime<=ue);ue=n.unstable_now(),typeof J=="function"?v.callback=J:v===t(h)&&r(h),U(ue)}else r(h);v=t(h)}if(v!==null)var fe=!0;else{var Te=t(f);Te!==null&&ge(z,Te.startTime-ue),fe=!1}return fe}finally{v=null,E=le,T=!1}}var Y=!1,R=null,x=-1,k=5,O=-1;function L(){return!(n.unstable_now()-O<k)}function M(){if(R!==null){var re=n.unstable_now();O=re;var ue=!0;try{ue=R(!0,re)}finally{ue?P():(Y=!1,R=null)}}else Y=!1}var P;if(typeof V=="function")P=function(){V(M)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,be=De.port2;De.port1.onmessage=M,P=function(){be.postMessage(null)}}else P=function(){A(M,0)};function we(re){R=re,Y||(Y=!0,P())}function ge(re,ue){x=A(function(){re(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){b||T||(b=!0,we(Q))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(re){switch(E){case 1:case 2:case 3:var ue=3;break;default:ue=E}var le=E;E=ue;try{return re()}finally{E=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,ue){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var le=E;E=re;try{return ue()}finally{E=le}},n.unstable_scheduleCallback=function(re,ue,le){var j=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?j+le:j):le=j,re){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=le+J,re={id:m++,callback:ue,priorityLevel:re,startTime:le,expirationTime:J,sortIndex:-1},le>j?(re.sortIndex=le,e(f,re),t(h)===null&&re===t(f)&&(I?(N(x),x=-1):I=!0,ge(z,le-j))):(re.sortIndex=J,e(h,re),b||T||(b=!0,we(Q))),re},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(re){var ue=E;return function(){var le=E;E=ue;try{return re.apply(this,arguments)}finally{E=le}}}}(Jm)),Jm}var Tw;function uk(){return Tw||(Tw=1,Xm.exports=ck()),Xm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sw;function hk(){if(Sw)return wn;Sw=1;var n=k_(),e=uk();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function E(s){return h.call(v,s)?!0:h.call(m,s)?!1:f.test(s)?v[s]=!0:(m[s]=!0,!1)}function T(s,a,u,p){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,a,u,p){if(a===null||typeof a>"u"||T(s,a,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function I(s,a,u,p,g,y,S){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=y,this.removeEmptyString=S}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){A[s]=new I(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];A[a]=new I(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){A[s]=new I(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){A[s]=new I(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){A[s]=new I(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){A[s]=new I(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){A[s]=new I(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){A[s]=new I(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){A[s]=new I(s,5,!1,s.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function V(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(N,V);A[a]=new I(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(N,V);A[a]=new I(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(N,V);A[a]=new I(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){A[s]=new I(s,1,!1,s.toLowerCase(),null,!1,!1)}),A.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){A[s]=new I(s,1,!1,s.toLowerCase(),null,!0,!0)});function U(s,a,u,p){var g=A.hasOwnProperty(a)?A[a]:null;(g!==null?g.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(b(a,u,g,p)&&(u=null),p||g===null?E(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(a=g.attributeName,p=g.attributeNamespace,u===null?s.removeAttribute(a):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,p?s.setAttributeNS(p,a,u):s.setAttribute(a,u))))}var z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),Y=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),L=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),re=Symbol.iterator;function ue(s){return s===null||typeof s!="object"?null:(s=re&&s[re]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,j;function J(s){if(j===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);j=a&&a[1]||""}return`
`+j+s}var fe=!1;function Te(s,a){if(!s||fe)return"";fe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(q){var p=q}Reflect.construct(s,[],a)}else{try{a.call()}catch(q){p=q}s.call(a.prototype)}else{try{throw Error()}catch(q){p=q}s()}}catch(q){if(q&&p&&typeof q.stack=="string"){for(var g=q.stack.split(`
`),y=p.stack.split(`
`),S=g.length-1,D=y.length-1;1<=S&&0<=D&&g[S]!==y[D];)D--;for(;1<=S&&0<=D;S--,D--)if(g[S]!==y[D]){if(S!==1||D!==1)do if(S--,D--,0>D||g[S]!==y[D]){var F=`
`+g[S].replace(" at new "," at ");return s.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",s.displayName)),F}while(1<=S&&0<=D);break}}}finally{fe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?J(s):""}function Se(s){switch(s.tag){case 5:return J(s.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return s=Te(s.type,!1),s;case 11:return s=Te(s.type.render,!1),s;case 1:return s=Te(s.type,!0),s;default:return""}}function ae(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case Y:return"Portal";case k:return"Profiler";case x:return"StrictMode";case P:return"Suspense";case De:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case O:return(s._context.displayName||"Context")+".Provider";case M:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case be:return a=s.displayName||null,a!==null?a:ae(s.type)||"Memo";case we:a=s._payload,s=s._init;try{return ae(s(a))}catch{}}return null}function ve(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(a);case 8:return a===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function he(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Re(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function We(s){var a=Re(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(S){p=""+S,y.call(this,S)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(S){p=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Ze(s){s._valueTracker||(s._valueTracker=We(s))}function ft(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),p="";return s&&(p=Re(s)?s.checked?"true":"false":s.value),s=p,s!==u?(a.setValue(s),!0):!1}function Yt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Lt(s,a){var u=a.checked;return le({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function fn(s,a){var u=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;u=he(a.value!=null?a.value:u),s._wrapperState={initialChecked:p,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Or(s,a){a=a.checked,a!=null&&U(s,"checked",a,!1)}function Nr(s,a){Or(s,a);var u=he(a.value),p=a.type;if(u!=null)p==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?lr(s,a.type,u):a.hasOwnProperty("defaultValue")&&lr(s,a.type,he(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Ki(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function lr(s,a,u){(a!=="number"||Yt(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var At=Array.isArray;function Qt(s,a,u,p){if(s=s.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=a.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&p&&(s[u].defaultSelected=!0)}else{for(u=""+he(u),a=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,p&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Dr(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ui(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(At(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:he(u)}}function Lr(s,a){var u=he(a.value),p=he(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),p!=null&&(s.defaultValue=""+p)}function qi(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function pt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?pt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var zn,Ll=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,p,g){MSApp.execUnsafeLocalFunction(function(){return s(a,u,p,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(zn=zn||document.createElement("div"),zn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=zn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Gi(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var Qs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xs=["Webkit","ms","Moz","O"];Object.keys(Qs).forEach(function(s){Xs.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Qs[a]=Qs[s]})});function Ml(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||Qs.hasOwnProperty(s)&&Qs[s]?(""+a).trim():a+"px"}function Vl(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var p=u.indexOf("--")===0,g=Ml(u,a[u],p);u==="float"&&(u="cssFloat"),p?s.setProperty(u,g):s[u]=g}}var Fl=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $l(s,a){if(a){if(Fl[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function jl(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Js=null;function Zo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ea=null,Hn=null,Mr=null;function ta(s){if(s=uc(s)){if(typeof ea!="function")throw Error(t(280));var a=s.stateNode;a&&(a=gh(a),ea(s.stateNode,s.type,a))}}function Vr(s){Hn?Mr?Mr.push(s):Mr=[s]:Hn=s}function Ul(){if(Hn){var s=Hn,a=Mr;if(Mr=Hn=null,ta(s),a)for(s=0;s<a.length;s++)ta(a[s])}}function Zs(s,a){return s(a)}function Bl(){}var hi=!1;function zl(s,a,u){if(hi)return s(a,u);hi=!0;try{return Zs(s,a,u)}finally{hi=!1,(Hn!==null||Mr!==null)&&(Bl(),Ul())}}function yt(s,a){var u=s.stateNode;if(u===null)return null;var p=gh(u);if(p===null)return null;u=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var na=!1;if(c)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){na=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{na=!1}function eo(s,a,u,p,g,y,S,D,F){var q=Array.prototype.slice.call(arguments,3);try{a.apply(u,q)}catch(te){this.onError(te)}}var to=!1,ra=null,ur=!1,Hl=null,Tp={onError:function(s){to=!0,ra=s}};function ia(s,a,u,p,g,y,S,D,F){to=!1,ra=null,eo.apply(Tp,arguments)}function Uu(s,a,u,p,g,y,S,D,F){if(ia.apply(this,arguments),to){if(to){var q=ra;to=!1,ra=null}else throw Error(t(198));ur||(ur=!0,Hl=q)}}function hr(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function no(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function dr(s){if(hr(s)!==s)throw Error(t(188))}function Bu(s){var a=s.alternate;if(!a){if(a=hr(s),a===null)throw Error(t(188));return a!==s?null:s}for(var u=s,p=a;;){var g=u.return;if(g===null)break;var y=g.alternate;if(y===null){if(p=g.return,p!==null){u=p;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===u)return dr(g),s;if(y===p)return dr(g),a;y=y.sibling}throw Error(t(188))}if(u.return!==p.return)u=g,p=y;else{for(var S=!1,D=g.child;D;){if(D===u){S=!0,u=g,p=y;break}if(D===p){S=!0,p=g,u=y;break}D=D.sibling}if(!S){for(D=y.child;D;){if(D===u){S=!0,u=y,p=g;break}if(D===p){S=!0,p=y,u=g;break}D=D.sibling}if(!S)throw Error(t(189))}}if(u.alternate!==p)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:a}function Wl(s){return s=Bu(s),s!==null?sa(s):null}function sa(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=sa(s);if(a!==null)return a;s=s.sibling}return null}var oa=e.unstable_scheduleCallback,Kl=e.unstable_cancelCallback,zu=e.unstable_shouldYield,Sp=e.unstable_requestPaint,tt=e.unstable_now,Hu=e.unstable_getCurrentPriorityLevel,ro=e.unstable_ImmediatePriority,Yi=e.unstable_UserBlockingPriority,Wn=e.unstable_NormalPriority,ql=e.unstable_LowPriority,Wu=e.unstable_IdlePriority,io=null,kn=null;function Ku(s){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(io,s,void 0,(s.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:Gu,Gl=Math.log,qu=Math.LN2;function Gu(s){return s>>>=0,s===0?32:31-(Gl(s)/qu|0)|0}var aa=64,la=4194304;function Qi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function so(s,a){var u=s.pendingLanes;if(u===0)return 0;var p=0,g=s.suspendedLanes,y=s.pingedLanes,S=u&268435455;if(S!==0){var D=S&~g;D!==0?p=Qi(D):(y&=S,y!==0&&(p=Qi(y)))}else S=u&~g,S!==0?p=Qi(S):y!==0&&(p=Qi(y));if(p===0)return 0;if(a!==0&&a!==p&&(a&g)===0&&(g=p&-p,y=a&-a,g>=y||g===16&&(y&4194240)!==0))return a;if((p&4)!==0&&(p|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)u=31-an(a),g=1<<u,p|=s[u],a&=~g;return p}function bp(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function di(s,a){for(var u=s.suspendedLanes,p=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes;0<y;){var S=31-an(y),D=1<<S,F=g[S];F===-1?((D&u)===0||(D&p)!==0)&&(g[S]=bp(D,a)):F<=a&&(s.expiredLanes|=D),y&=~D}}function Rn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function oo(){var s=aa;return aa<<=1,(aa&4194240)===0&&(aa=64),s}function Xi(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function Ji(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-an(a),s[a]=u}function et(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-an(u),y=1<<g;a[g]=0,p[g]=-1,s[g]=-1,u&=~y}}function Zi(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var p=31-an(u),g=1<<p;g&a|s[p]&a&&(s[p]|=a),u&=~g}}var Be=0;function es(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Yu,ca,Qu,Xu,Ju,Yl=!1,Fr=[],Ut=null,fr=null,pr=null,ts=new Map,Kn=new Map,$r=[],Ip="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zu(s,a){switch(s){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":ts.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kn.delete(a.pointerId)}}function pn(s,a,u,p,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:u,eventSystemFlags:p,nativeEvent:y,targetContainers:[g]},a!==null&&(a=uc(a),a!==null&&ca(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function Ap(s,a,u,p,g){switch(a){case"focusin":return Ut=pn(Ut,s,a,u,p,g),!0;case"dragenter":return fr=pn(fr,s,a,u,p,g),!0;case"mouseover":return pr=pn(pr,s,a,u,p,g),!0;case"pointerover":var y=g.pointerId;return ts.set(y,pn(ts.get(y)||null,s,a,u,p,g)),!0;case"gotpointercapture":return y=g.pointerId,Kn.set(y,pn(Kn.get(y)||null,s,a,u,p,g)),!0}return!1}function eh(s){var a=ho(s.target);if(a!==null){var u=hr(a);if(u!==null){if(a=u.tag,a===13){if(a=no(u),a!==null){s.blockedOn=a,Ju(s.priority,function(){Qu(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function fi(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=ua(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);Js=p,u.target.dispatchEvent(p),Js=null}else return a=uc(u),a!==null&&ca(a),s.blockedOn=u,!1;a.shift()}return!0}function ao(s,a,u){fi(s)&&u.delete(a)}function th(){Yl=!1,Ut!==null&&fi(Ut)&&(Ut=null),fr!==null&&fi(fr)&&(fr=null),pr!==null&&fi(pr)&&(pr=null),ts.forEach(ao),Kn.forEach(ao)}function mr(s,a){s.blockedOn===a&&(s.blockedOn=null,Yl||(Yl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,th)))}function gr(s){function a(g){return mr(g,s)}if(0<Fr.length){mr(Fr[0],s);for(var u=1;u<Fr.length;u++){var p=Fr[u];p.blockedOn===s&&(p.blockedOn=null)}}for(Ut!==null&&mr(Ut,s),fr!==null&&mr(fr,s),pr!==null&&mr(pr,s),ts.forEach(a),Kn.forEach(a),u=0;u<$r.length;u++)p=$r[u],p.blockedOn===s&&(p.blockedOn=null);for(;0<$r.length&&(u=$r[0],u.blockedOn===null);)eh(u),u.blockedOn===null&&$r.shift()}var pi=z.ReactCurrentBatchConfig,ns=!0;function at(s,a,u,p){var g=Be,y=pi.transition;pi.transition=null;try{Be=1,Ql(s,a,u,p)}finally{Be=g,pi.transition=y}}function Cp(s,a,u,p){var g=Be,y=pi.transition;pi.transition=null;try{Be=4,Ql(s,a,u,p)}finally{Be=g,pi.transition=y}}function Ql(s,a,u,p){if(ns){var g=ua(s,a,u,p);if(g===null)Fp(s,a,p,lo,u),Zu(s,p);else if(Ap(g,s,a,u,p))p.stopPropagation();else if(Zu(s,p),a&4&&-1<Ip.indexOf(s)){for(;g!==null;){var y=uc(g);if(y!==null&&Yu(y),y=ua(s,a,u,p),y===null&&Fp(s,a,p,lo,u),y===g)break;g=y}g!==null&&p.stopPropagation()}else Fp(s,a,p,null,u)}}var lo=null;function ua(s,a,u,p){if(lo=null,s=Zo(p),s=ho(s),s!==null)if(a=hr(s),a===null)s=null;else if(u=a.tag,u===13){if(s=no(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return lo=s,null}function Xl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hu()){case ro:return 1;case Yi:return 4;case Wn:case ql:return 16;case Wu:return 536870912;default:return 16}default:return 16}}var Pn=null,ha=null,mn=null;function Jl(){if(mn)return mn;var s,a=ha,u=a.length,p,g="value"in Pn?Pn.value:Pn.textContent,y=g.length;for(s=0;s<u&&a[s]===g[s];s++);var S=u-s;for(p=1;p<=S&&a[u-p]===g[y-p];p++);return mn=g.slice(s,1<p?1-p:void 0)}function da(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function jr(){return!0}function Zl(){return!1}function Bt(s){function a(u,p,g,y,S){this._reactName=u,this._targetInst=g,this.type=p,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(u=s[D],this[D]=u?u(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?jr:Zl,this.isPropagationStopped=Zl,this}return le(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=jr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=jr)},persist:function(){},isPersistent:jr}),a}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fa=Bt(_r),Ur=le({},_r,{view:0,detail:0}),xp=Bt(Ur),pa,mi,rs,co=le({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Br,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==rs&&(rs&&s.type==="mousemove"?(pa=s.screenX-rs.screenX,mi=s.screenY-rs.screenY):mi=pa=0,rs=s),pa)},movementY:function(s){return"movementY"in s?s.movementY:mi}}),ma=Bt(co),ec=le({},co,{dataTransfer:0}),nh=Bt(ec),ga=le({},Ur,{relatedTarget:0}),_a=Bt(ga),rh=le({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),gi=Bt(rh),ih=le({},_r,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),sh=Bt(ih),oh=le({},_r,{data:0}),tc=Bt(oh),ya={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ah={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=ah[s])?!!a[s]:!1}function Br(){return lh}var d=le({},Ur,{key:function(s){if(s.key){var a=ya[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=da(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ln[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Br,charCode:function(s){return s.type==="keypress"?da(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?da(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_=Bt(d),w=le({},co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=Bt(w),B=le({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Br}),G=Bt(B),ce=le({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qe=Bt(ce),Ct=le({},co,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=Bt(Ct),Mt=[9,13,27,32],Tt=c&&"CompositionEvent"in window,qn=null;c&&"documentMode"in document&&(qn=document.documentMode);var On=c&&"TextEvent"in window&&!qn,uo=c&&(!Tt||qn&&8<qn&&11>=qn),va=" ",hv=!1;function dv(s,a){switch(s){case"keyup":return Mt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ea=!1;function ex(s,a){switch(s){case"compositionend":return fv(a);case"keypress":return a.which!==32?null:(hv=!0,va);case"textInput":return s=a.data,s===va&&hv?null:s;default:return null}}function tx(s,a){if(Ea)return s==="compositionend"||!Tt&&dv(s,a)?(s=Jl(),mn=ha=Pn=null,Ea=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return uo&&a.locale!=="ko"?null:a.data;default:return null}}var nx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pv(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!nx[s.type]:a==="textarea"}function mv(s,a,u,p){Vr(p),a=fh(a,"onChange"),0<a.length&&(u=new fa("onChange","change",null,u,p),s.push({event:u,listeners:a}))}var nc=null,rc=null;function rx(s){Nv(s,0)}function ch(s){var a=Ia(s);if(ft(a))return s}function ix(s,a){if(s==="change")return a}var gv=!1;if(c){var kp;if(c){var Rp="oninput"in document;if(!Rp){var _v=document.createElement("div");_v.setAttribute("oninput","return;"),Rp=typeof _v.oninput=="function"}kp=Rp}else kp=!1;gv=kp&&(!document.documentMode||9<document.documentMode)}function yv(){nc&&(nc.detachEvent("onpropertychange",vv),rc=nc=null)}function vv(s){if(s.propertyName==="value"&&ch(rc)){var a=[];mv(a,rc,s,Zo(s)),zl(rx,a)}}function sx(s,a,u){s==="focusin"?(yv(),nc=a,rc=u,nc.attachEvent("onpropertychange",vv)):s==="focusout"&&yv()}function ox(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ch(rc)}function ax(s,a){if(s==="click")return ch(a)}function lx(s,a){if(s==="input"||s==="change")return ch(a)}function cx(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var yr=typeof Object.is=="function"?Object.is:cx;function ic(s,a){if(yr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),p=Object.keys(a);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var g=u[p];if(!h.call(a,g)||!yr(s[g],a[g]))return!1}return!0}function Ev(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function wv(s,a){var u=Ev(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=a&&p>=a)return{node:u,offset:a-s};s=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ev(u)}}function Tv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Tv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Sv(){for(var s=window,a=Yt();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=Yt(s.document)}return a}function Pp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function ux(s){var a=Sv(),u=s.focusedElem,p=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&Tv(u.ownerDocument.documentElement,u)){if(p!==null&&Pp(u)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,y=Math.min(p.start,g);p=p.end===void 0?y:Math.min(p.end,g),!s.extend&&y>p&&(g=p,p=y,y=g),g=wv(u,y);var S=wv(u,p);g&&S&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),y>p?(s.addRange(a),s.extend(S.node,S.offset)):(a.setEnd(S.node,S.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var hx=c&&"documentMode"in document&&11>=document.documentMode,wa=null,Op=null,sc=null,Np=!1;function bv(s,a,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Np||wa==null||wa!==Yt(p)||(p=wa,"selectionStart"in p&&Pp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),sc&&ic(sc,p)||(sc=p,p=fh(Op,"onSelect"),0<p.length&&(a=new fa("onSelect","select",null,a,u),s.push({event:a,listeners:p}),a.target=wa)))}function uh(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Ta={animationend:uh("Animation","AnimationEnd"),animationiteration:uh("Animation","AnimationIteration"),animationstart:uh("Animation","AnimationStart"),transitionend:uh("Transition","TransitionEnd")},Dp={},Iv={};c&&(Iv=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function hh(s){if(Dp[s])return Dp[s];if(!Ta[s])return s;var a=Ta[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in Iv)return Dp[s]=a[u];return s}var Av=hh("animationend"),Cv=hh("animationiteration"),xv=hh("animationstart"),kv=hh("transitionend"),Rv=new Map,Pv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(s,a){Rv.set(s,a),o(a,[s])}for(var Lp=0;Lp<Pv.length;Lp++){var Mp=Pv[Lp],dx=Mp.toLowerCase(),fx=Mp[0].toUpperCase()+Mp.slice(1);is(dx,"on"+fx)}is(Av,"onAnimationEnd"),is(Cv,"onAnimationIteration"),is(xv,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(kv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),px=new Set("cancel close invalid load scroll toggle".split(" ").concat(oc));function Ov(s,a,u){var p=s.type||"unknown-event";s.currentTarget=u,Uu(p,a,void 0,s),s.currentTarget=null}function Nv(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],g=p.event;p=p.listeners;e:{var y=void 0;if(a)for(var S=p.length-1;0<=S;S--){var D=p[S],F=D.instance,q=D.currentTarget;if(D=D.listener,F!==y&&g.isPropagationStopped())break e;Ov(g,D,q),y=F}else for(S=0;S<p.length;S++){if(D=p[S],F=D.instance,q=D.currentTarget,D=D.listener,F!==y&&g.isPropagationStopped())break e;Ov(g,D,q),y=F}}}if(ur)throw s=Hl,ur=!1,Hl=null,s}function rt(s,a){var u=a[Hp];u===void 0&&(u=a[Hp]=new Set);var p=s+"__bubble";u.has(p)||(Dv(a,s,2,!1),u.add(p))}function Vp(s,a,u){var p=0;a&&(p|=4),Dv(u,s,p,a)}var dh="_reactListening"+Math.random().toString(36).slice(2);function ac(s){if(!s[dh]){s[dh]=!0,r.forEach(function(u){u!=="selectionchange"&&(px.has(u)||Vp(u,!1,s),Vp(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[dh]||(a[dh]=!0,Vp("selectionchange",!1,a))}}function Dv(s,a,u,p){switch(Xl(a)){case 1:var g=at;break;case 4:g=Cp;break;default:g=Ql}u=g.bind(null,a,u,s),g=void 0,!na||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),p?g!==void 0?s.addEventListener(a,u,{capture:!0,passive:g}):s.addEventListener(a,u,!0):g!==void 0?s.addEventListener(a,u,{passive:g}):s.addEventListener(a,u,!1)}function Fp(s,a,u,p,g){var y=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var S=p.tag;if(S===3||S===4){var D=p.stateNode.containerInfo;if(D===g||D.nodeType===8&&D.parentNode===g)break;if(S===4)for(S=p.return;S!==null;){var F=S.tag;if((F===3||F===4)&&(F=S.stateNode.containerInfo,F===g||F.nodeType===8&&F.parentNode===g))return;S=S.return}for(;D!==null;){if(S=ho(D),S===null)return;if(F=S.tag,F===5||F===6){p=y=S;continue e}D=D.parentNode}}p=p.return}zl(function(){var q=y,te=Zo(u),ie=[];e:{var ee=Rv.get(s);if(ee!==void 0){var de=fa,_e=s;switch(s){case"keypress":if(da(u)===0)break e;case"keydown":case"keyup":de=_;break;case"focusin":_e="focus",de=_a;break;case"focusout":_e="blur",de=_a;break;case"beforeblur":case"afterblur":de=_a;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=ma;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=G;break;case Av:case Cv:case xv:de=gi;break;case kv:de=Qe;break;case"scroll":de=xp;break;case"wheel":de=ze;break;case"copy":case"cut":case"paste":de=sh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=C}var ye=(a&4)!==0,vt=!ye&&s==="scroll",H=ye?ee!==null?ee+"Capture":null:ee;ye=[];for(var $=q,K;$!==null;){K=$;var oe=K.stateNode;if(K.tag===5&&oe!==null&&(K=oe,H!==null&&(oe=yt($,H),oe!=null&&ye.push(lc($,oe,K)))),vt)break;$=$.return}0<ye.length&&(ee=new de(ee,_e,null,u,te),ie.push({event:ee,listeners:ye}))}}if((a&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",de=s==="mouseout"||s==="pointerout",ee&&u!==Js&&(_e=u.relatedTarget||u.fromElement)&&(ho(_e)||_e[_i]))break e;if((de||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,de?(_e=u.relatedTarget||u.toElement,de=q,_e=_e?ho(_e):null,_e!==null&&(vt=hr(_e),_e!==vt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(de=null,_e=q),de!==_e)){if(ye=ma,oe="onMouseLeave",H="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(ye=C,oe="onPointerLeave",H="onPointerEnter",$="pointer"),vt=de==null?ee:Ia(de),K=_e==null?ee:Ia(_e),ee=new ye(oe,$+"leave",de,u,te),ee.target=vt,ee.relatedTarget=K,oe=null,ho(te)===q&&(ye=new ye(H,$+"enter",_e,u,te),ye.target=K,ye.relatedTarget=vt,oe=ye),vt=oe,de&&_e)t:{for(ye=de,H=_e,$=0,K=ye;K;K=Sa(K))$++;for(K=0,oe=H;oe;oe=Sa(oe))K++;for(;0<$-K;)ye=Sa(ye),$--;for(;0<K-$;)H=Sa(H),K--;for(;$--;){if(ye===H||H!==null&&ye===H.alternate)break t;ye=Sa(ye),H=Sa(H)}ye=null}else ye=null;de!==null&&Lv(ie,ee,de,ye,!1),_e!==null&&vt!==null&&Lv(ie,vt,_e,ye,!0)}}e:{if(ee=q?Ia(q):window,de=ee.nodeName&&ee.nodeName.toLowerCase(),de==="select"||de==="input"&&ee.type==="file")var Ee=ix;else if(pv(ee))if(gv)Ee=lx;else{Ee=ox;var Ae=sx}else(de=ee.nodeName)&&de.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(Ee=ax);if(Ee&&(Ee=Ee(s,q))){mv(ie,Ee,u,te);break e}Ae&&Ae(s,ee,q),s==="focusout"&&(Ae=ee._wrapperState)&&Ae.controlled&&ee.type==="number"&&lr(ee,"number",ee.value)}switch(Ae=q?Ia(q):window,s){case"focusin":(pv(Ae)||Ae.contentEditable==="true")&&(wa=Ae,Op=q,sc=null);break;case"focusout":sc=Op=wa=null;break;case"mousedown":Np=!0;break;case"contextmenu":case"mouseup":case"dragend":Np=!1,bv(ie,u,te);break;case"selectionchange":if(hx)break;case"keydown":case"keyup":bv(ie,u,te)}var Ce;if(Tt)e:{switch(s){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Ea?dv(s,u)&&(Ne="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ne="onCompositionStart");Ne&&(uo&&u.locale!=="ko"&&(Ea||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Ea&&(Ce=Jl()):(Pn=te,ha="value"in Pn?Pn.value:Pn.textContent,Ea=!0)),Ae=fh(q,Ne),0<Ae.length&&(Ne=new tc(Ne,s,null,u,te),ie.push({event:Ne,listeners:Ae}),Ce?Ne.data=Ce:(Ce=fv(u),Ce!==null&&(Ne.data=Ce)))),(Ce=On?ex(s,u):tx(s,u))&&(q=fh(q,"onBeforeInput"),0<q.length&&(te=new tc("onBeforeInput","beforeinput",null,u,te),ie.push({event:te,listeners:q}),te.data=Ce))}Nv(ie,a)})}function lc(s,a,u){return{instance:s,listener:a,currentTarget:u}}function fh(s,a){for(var u=a+"Capture",p=[];s!==null;){var g=s,y=g.stateNode;g.tag===5&&y!==null&&(g=y,y=yt(s,u),y!=null&&p.unshift(lc(s,y,g)),y=yt(s,a),y!=null&&p.push(lc(s,y,g))),s=s.return}return p}function Sa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Lv(s,a,u,p,g){for(var y=a._reactName,S=[];u!==null&&u!==p;){var D=u,F=D.alternate,q=D.stateNode;if(F!==null&&F===p)break;D.tag===5&&q!==null&&(D=q,g?(F=yt(u,y),F!=null&&S.unshift(lc(u,F,D))):g||(F=yt(u,y),F!=null&&S.push(lc(u,F,D)))),u=u.return}S.length!==0&&s.push({event:a,listeners:S})}var mx=/\r\n?/g,gx=/\u0000|\uFFFD/g;function Mv(s){return(typeof s=="string"?s:""+s).replace(mx,`
`).replace(gx,"")}function ph(s,a,u){if(a=Mv(a),Mv(s)!==a&&u)throw Error(t(425))}function mh(){}var $p=null,jp=null;function Up(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Bp=typeof setTimeout=="function"?setTimeout:void 0,_x=typeof clearTimeout=="function"?clearTimeout:void 0,Vv=typeof Promise=="function"?Promise:void 0,yx=typeof queueMicrotask=="function"?queueMicrotask:typeof Vv<"u"?function(s){return Vv.resolve(null).then(s).catch(vx)}:Bp;function vx(s){setTimeout(function(){throw s})}function zp(s,a){var u=a,p=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(p===0){s.removeChild(g),gr(a);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=g}while(u);gr(a)}function ss(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Fv(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var ba=Math.random().toString(36).slice(2),zr="__reactFiber$"+ba,cc="__reactProps$"+ba,_i="__reactContainer$"+ba,Hp="__reactEvents$"+ba,Ex="__reactListeners$"+ba,wx="__reactHandles$"+ba;function ho(s){var a=s[zr];if(a)return a;for(var u=s.parentNode;u;){if(a=u[_i]||u[zr]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=Fv(s);s!==null;){if(u=s[zr])return u;s=Fv(s)}return a}s=u,u=s.parentNode}return null}function uc(s){return s=s[zr]||s[_i],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ia(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function gh(s){return s[cc]||null}var Wp=[],Aa=-1;function os(s){return{current:s}}function it(s){0>Aa||(s.current=Wp[Aa],Wp[Aa]=null,Aa--)}function nt(s,a){Aa++,Wp[Aa]=s.current,s.current=a}var as={},Xt=os(as),gn=os(!1),fo=as;function Ca(s,a){var u=s.type.contextTypes;if(!u)return as;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var g={},y;for(y in u)g[y]=a[y];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function _n(s){return s=s.childContextTypes,s!=null}function _h(){it(gn),it(Xt)}function $v(s,a,u){if(Xt.current!==as)throw Error(t(168));nt(Xt,a),nt(gn,u)}function jv(s,a,u){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var g in p)if(!(g in a))throw Error(t(108,ve(s)||"Unknown",g));return le({},u,p)}function yh(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||as,fo=Xt.current,nt(Xt,s),nt(gn,gn.current),!0}function Uv(s,a,u){var p=s.stateNode;if(!p)throw Error(t(169));u?(s=jv(s,a,fo),p.__reactInternalMemoizedMergedChildContext=s,it(gn),it(Xt),nt(Xt,s)):it(gn),nt(gn,u)}var yi=null,vh=!1,Kp=!1;function Bv(s){yi===null?yi=[s]:yi.push(s)}function Tx(s){vh=!0,Bv(s)}function ls(){if(!Kp&&yi!==null){Kp=!0;var s=0,a=Be;try{var u=yi;for(Be=1;s<u.length;s++){var p=u[s];do p=p(!0);while(p!==null)}yi=null,vh=!1}catch(g){throw yi!==null&&(yi=yi.slice(s+1)),oa(ro,ls),g}finally{Be=a,Kp=!1}}return null}var xa=[],ka=0,Eh=null,wh=0,Gn=[],Yn=0,po=null,vi=1,Ei="";function mo(s,a){xa[ka++]=wh,xa[ka++]=Eh,Eh=s,wh=a}function zv(s,a,u){Gn[Yn++]=vi,Gn[Yn++]=Ei,Gn[Yn++]=po,po=s;var p=vi;s=Ei;var g=32-an(p)-1;p&=~(1<<g),u+=1;var y=32-an(a)+g;if(30<y){var S=g-g%5;y=(p&(1<<S)-1).toString(32),p>>=S,g-=S,vi=1<<32-an(a)+g|u<<g|p,Ei=y+s}else vi=1<<y|u<<g|p,Ei=s}function qp(s){s.return!==null&&(mo(s,1),zv(s,1,0))}function Gp(s){for(;s===Eh;)Eh=xa[--ka],xa[ka]=null,wh=xa[--ka],xa[ka]=null;for(;s===po;)po=Gn[--Yn],Gn[Yn]=null,Ei=Gn[--Yn],Gn[Yn]=null,vi=Gn[--Yn],Gn[Yn]=null}var Nn=null,Dn=null,lt=!1,vr=null;function Hv(s,a){var u=Zn(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function Wv(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Nn=s,Dn=ss(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Nn=s,Dn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=po!==null?{id:vi,overflow:Ei}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=Zn(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,Nn=s,Dn=null,!0):!1;default:return!1}}function Yp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Qp(s){if(lt){var a=Dn;if(a){var u=a;if(!Wv(s,a)){if(Yp(s))throw Error(t(418));a=ss(u.nextSibling);var p=Nn;a&&Wv(s,a)?Hv(p,u):(s.flags=s.flags&-4097|2,lt=!1,Nn=s)}}else{if(Yp(s))throw Error(t(418));s.flags=s.flags&-4097|2,lt=!1,Nn=s}}}function Kv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Nn=s}function Th(s){if(s!==Nn)return!1;if(!lt)return Kv(s),lt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Up(s.type,s.memoizedProps)),a&&(a=Dn)){if(Yp(s))throw qv(),Error(t(418));for(;a;)Hv(s,a),a=ss(a.nextSibling)}if(Kv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){Dn=ss(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}Dn=null}}else Dn=Nn?ss(s.stateNode.nextSibling):null;return!0}function qv(){for(var s=Dn;s;)s=ss(s.nextSibling)}function Ra(){Dn=Nn=null,lt=!1}function Xp(s){vr===null?vr=[s]:vr.push(s)}var Sx=z.ReactCurrentBatchConfig;function hc(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var p=u.stateNode}if(!p)throw Error(t(147,s));var g=p,y=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===y?a.ref:(a=function(S){var D=g.refs;S===null?delete D[y]:D[y]=S},a._stringRef=y,a)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function Sh(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Gv(s){var a=s._init;return a(s._payload)}function Yv(s){function a(H,$){if(s){var K=H.deletions;K===null?(H.deletions=[$],H.flags|=16):K.push($)}}function u(H,$){if(!s)return null;for(;$!==null;)a(H,$),$=$.sibling;return null}function p(H,$){for(H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function g(H,$){return H=gs(H,$),H.index=0,H.sibling=null,H}function y(H,$,K){return H.index=K,s?(K=H.alternate,K!==null?(K=K.index,K<$?(H.flags|=2,$):K):(H.flags|=2,$)):(H.flags|=1048576,$)}function S(H){return s&&H.alternate===null&&(H.flags|=2),H}function D(H,$,K,oe){return $===null||$.tag!==6?($=Bm(K,H.mode,oe),$.return=H,$):($=g($,K),$.return=H,$)}function F(H,$,K,oe){var Ee=K.type;return Ee===R?te(H,$,K.props.children,oe,K.key):$!==null&&($.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===we&&Gv(Ee)===$.type)?(oe=g($,K.props),oe.ref=hc(H,$,K),oe.return=H,oe):(oe=qh(K.type,K.key,K.props,null,H.mode,oe),oe.ref=hc(H,$,K),oe.return=H,oe)}function q(H,$,K,oe){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=zm(K,H.mode,oe),$.return=H,$):($=g($,K.children||[]),$.return=H,$)}function te(H,$,K,oe,Ee){return $===null||$.tag!==7?($=So(K,H.mode,oe,Ee),$.return=H,$):($=g($,K),$.return=H,$)}function ie(H,$,K){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Bm(""+$,H.mode,K),$.return=H,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case Q:return K=qh($.type,$.key,$.props,null,H.mode,K),K.ref=hc(H,null,$),K.return=H,K;case Y:return $=zm($,H.mode,K),$.return=H,$;case we:var oe=$._init;return ie(H,oe($._payload),K)}if(At($)||ue($))return $=So($,H.mode,K,null),$.return=H,$;Sh(H,$)}return null}function ee(H,$,K,oe){var Ee=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Ee!==null?null:D(H,$,""+K,oe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return K.key===Ee?F(H,$,K,oe):null;case Y:return K.key===Ee?q(H,$,K,oe):null;case we:return Ee=K._init,ee(H,$,Ee(K._payload),oe)}if(At(K)||ue(K))return Ee!==null?null:te(H,$,K,oe,null);Sh(H,K)}return null}function de(H,$,K,oe,Ee){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return H=H.get(K)||null,D($,H,""+oe,Ee);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case Q:return H=H.get(oe.key===null?K:oe.key)||null,F($,H,oe,Ee);case Y:return H=H.get(oe.key===null?K:oe.key)||null,q($,H,oe,Ee);case we:var Ae=oe._init;return de(H,$,K,Ae(oe._payload),Ee)}if(At(oe)||ue(oe))return H=H.get(K)||null,te($,H,oe,Ee,null);Sh($,oe)}return null}function _e(H,$,K,oe){for(var Ee=null,Ae=null,Ce=$,Ne=$=0,$t=null;Ce!==null&&Ne<K.length;Ne++){Ce.index>Ne?($t=Ce,Ce=null):$t=Ce.sibling;var qe=ee(H,Ce,K[Ne],oe);if(qe===null){Ce===null&&(Ce=$t);break}s&&Ce&&qe.alternate===null&&a(H,Ce),$=y(qe,$,Ne),Ae===null?Ee=qe:Ae.sibling=qe,Ae=qe,Ce=$t}if(Ne===K.length)return u(H,Ce),lt&&mo(H,Ne),Ee;if(Ce===null){for(;Ne<K.length;Ne++)Ce=ie(H,K[Ne],oe),Ce!==null&&($=y(Ce,$,Ne),Ae===null?Ee=Ce:Ae.sibling=Ce,Ae=Ce);return lt&&mo(H,Ne),Ee}for(Ce=p(H,Ce);Ne<K.length;Ne++)$t=de(Ce,H,Ne,K[Ne],oe),$t!==null&&(s&&$t.alternate!==null&&Ce.delete($t.key===null?Ne:$t.key),$=y($t,$,Ne),Ae===null?Ee=$t:Ae.sibling=$t,Ae=$t);return s&&Ce.forEach(function(_s){return a(H,_s)}),lt&&mo(H,Ne),Ee}function ye(H,$,K,oe){var Ee=ue(K);if(typeof Ee!="function")throw Error(t(150));if(K=Ee.call(K),K==null)throw Error(t(151));for(var Ae=Ee=null,Ce=$,Ne=$=0,$t=null,qe=K.next();Ce!==null&&!qe.done;Ne++,qe=K.next()){Ce.index>Ne?($t=Ce,Ce=null):$t=Ce.sibling;var _s=ee(H,Ce,qe.value,oe);if(_s===null){Ce===null&&(Ce=$t);break}s&&Ce&&_s.alternate===null&&a(H,Ce),$=y(_s,$,Ne),Ae===null?Ee=_s:Ae.sibling=_s,Ae=_s,Ce=$t}if(qe.done)return u(H,Ce),lt&&mo(H,Ne),Ee;if(Ce===null){for(;!qe.done;Ne++,qe=K.next())qe=ie(H,qe.value,oe),qe!==null&&($=y(qe,$,Ne),Ae===null?Ee=qe:Ae.sibling=qe,Ae=qe);return lt&&mo(H,Ne),Ee}for(Ce=p(H,Ce);!qe.done;Ne++,qe=K.next())qe=de(Ce,H,Ne,qe.value,oe),qe!==null&&(s&&qe.alternate!==null&&Ce.delete(qe.key===null?Ne:qe.key),$=y(qe,$,Ne),Ae===null?Ee=qe:Ae.sibling=qe,Ae=qe);return s&&Ce.forEach(function(nk){return a(H,nk)}),lt&&mo(H,Ne),Ee}function vt(H,$,K,oe){if(typeof K=="object"&&K!==null&&K.type===R&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:e:{for(var Ee=K.key,Ae=$;Ae!==null;){if(Ae.key===Ee){if(Ee=K.type,Ee===R){if(Ae.tag===7){u(H,Ae.sibling),$=g(Ae,K.props.children),$.return=H,H=$;break e}}else if(Ae.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===we&&Gv(Ee)===Ae.type){u(H,Ae.sibling),$=g(Ae,K.props),$.ref=hc(H,Ae,K),$.return=H,H=$;break e}u(H,Ae);break}else a(H,Ae);Ae=Ae.sibling}K.type===R?($=So(K.props.children,H.mode,oe,K.key),$.return=H,H=$):(oe=qh(K.type,K.key,K.props,null,H.mode,oe),oe.ref=hc(H,$,K),oe.return=H,H=oe)}return S(H);case Y:e:{for(Ae=K.key;$!==null;){if($.key===Ae)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){u(H,$.sibling),$=g($,K.children||[]),$.return=H,H=$;break e}else{u(H,$);break}else a(H,$);$=$.sibling}$=zm(K,H.mode,oe),$.return=H,H=$}return S(H);case we:return Ae=K._init,vt(H,$,Ae(K._payload),oe)}if(At(K))return _e(H,$,K,oe);if(ue(K))return ye(H,$,K,oe);Sh(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,$!==null&&$.tag===6?(u(H,$.sibling),$=g($,K),$.return=H,H=$):(u(H,$),$=Bm(K,H.mode,oe),$.return=H,H=$),S(H)):u(H,$)}return vt}var Pa=Yv(!0),Qv=Yv(!1),bh=os(null),Ih=null,Oa=null,Jp=null;function Zp(){Jp=Oa=Ih=null}function em(s){var a=bh.current;it(bh),s._currentValue=a}function tm(s,a,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===u)break;s=s.return}}function Na(s,a){Ih=s,Jp=Oa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(yn=!0),s.firstContext=null)}function Qn(s){var a=s._currentValue;if(Jp!==s)if(s={context:s,memoizedValue:a,next:null},Oa===null){if(Ih===null)throw Error(t(308));Oa=s,Ih.dependencies={lanes:0,firstContext:s}}else Oa=Oa.next=s;return a}var go=null;function nm(s){go===null?go=[s]:go.push(s)}function Xv(s,a,u,p){var g=a.interleaved;return g===null?(u.next=u,nm(a)):(u.next=g.next,g.next=u),a.interleaved=u,wi(s,p)}function wi(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var cs=!1;function rm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jv(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ti(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function us(s,a,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(Ke&2)!==0){var g=p.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),p.pending=a,wi(s,u)}return g=p.interleaved,g===null?(a.next=a,nm(p)):(a.next=g.next,g.next=a),p.interleaved=a,wi(s,u)}function Ah(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,u|=p,a.lanes=u,Zi(s,u)}}function Zv(s,a){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var g=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var S={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?g=y=S:y=y.next=S,u=u.next}while(u!==null);y===null?g=y=a:y=y.next=a}else g=y=a;u={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:p.shared,effects:p.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function Ch(s,a,u,p){var g=s.updateQueue;cs=!1;var y=g.firstBaseUpdate,S=g.lastBaseUpdate,D=g.shared.pending;if(D!==null){g.shared.pending=null;var F=D,q=F.next;F.next=null,S===null?y=q:S.next=q,S=F;var te=s.alternate;te!==null&&(te=te.updateQueue,D=te.lastBaseUpdate,D!==S&&(D===null?te.firstBaseUpdate=q:D.next=q,te.lastBaseUpdate=F))}if(y!==null){var ie=g.baseState;S=0,te=q=F=null,D=y;do{var ee=D.lane,de=D.eventTime;if((p&ee)===ee){te!==null&&(te=te.next={eventTime:de,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var _e=s,ye=D;switch(ee=a,de=u,ye.tag){case 1:if(_e=ye.payload,typeof _e=="function"){ie=_e.call(de,ie,ee);break e}ie=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=ye.payload,ee=typeof _e=="function"?_e.call(de,ie,ee):_e,ee==null)break e;ie=le({},ie,ee);break e;case 2:cs=!0}}D.callback!==null&&D.lane!==0&&(s.flags|=64,ee=g.effects,ee===null?g.effects=[D]:ee.push(D))}else de={eventTime:de,lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},te===null?(q=te=de,F=ie):te=te.next=de,S|=ee;if(D=D.next,D===null){if(D=g.shared.pending,D===null)break;ee=D,D=ee.next,ee.next=null,g.lastBaseUpdate=ee,g.shared.pending=null}}while(!0);if(te===null&&(F=ie),g.baseState=F,g.firstBaseUpdate=q,g.lastBaseUpdate=te,a=g.shared.interleaved,a!==null){g=a;do S|=g.lane,g=g.next;while(g!==a)}else y===null&&(g.shared.lanes=0);vo|=S,s.lanes=S,s.memoizedState=ie}}function eE(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],g=p.callback;if(g!==null){if(p.callback=null,p=u,typeof g!="function")throw Error(t(191,g));g.call(p)}}}var dc={},Hr=os(dc),fc=os(dc),pc=os(dc);function _o(s){if(s===dc)throw Error(t(174));return s}function im(s,a){switch(nt(pc,a),nt(fc,s),nt(Hr,dc),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:mt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=mt(a,s)}it(Hr),nt(Hr,a)}function Da(){it(Hr),it(fc),it(pc)}function tE(s){_o(pc.current);var a=_o(Hr.current),u=mt(a,s.type);a!==u&&(nt(fc,s),nt(Hr,u))}function sm(s){fc.current===s&&(it(Hr),it(fc))}var ut=os(0);function xh(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var om=[];function am(){for(var s=0;s<om.length;s++)om[s]._workInProgressVersionPrimary=null;om.length=0}var kh=z.ReactCurrentDispatcher,lm=z.ReactCurrentBatchConfig,yo=0,ht=null,xt=null,Vt=null,Rh=!1,mc=!1,gc=0,bx=0;function Jt(){throw Error(t(321))}function cm(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!yr(s[u],a[u]))return!1;return!0}function um(s,a,u,p,g,y){if(yo=y,ht=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,kh.current=s===null||s.memoizedState===null?xx:kx,s=u(p,g),mc){y=0;do{if(mc=!1,gc=0,25<=y)throw Error(t(301));y+=1,Vt=xt=null,a.updateQueue=null,kh.current=Rx,s=u(p,g)}while(mc)}if(kh.current=Nh,a=xt!==null&&xt.next!==null,yo=0,Vt=xt=ht=null,Rh=!1,a)throw Error(t(300));return s}function hm(){var s=gc!==0;return gc=0,s}function Wr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?ht.memoizedState=Vt=s:Vt=Vt.next=s,Vt}function Xn(){if(xt===null){var s=ht.alternate;s=s!==null?s.memoizedState:null}else s=xt.next;var a=Vt===null?ht.memoizedState:Vt.next;if(a!==null)Vt=a,xt=s;else{if(s===null)throw Error(t(310));xt=s,s={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Vt===null?ht.memoizedState=Vt=s:Vt=Vt.next=s}return Vt}function _c(s,a){return typeof a=="function"?a(s):a}function dm(s){var a=Xn(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var p=xt,g=p.baseQueue,y=u.pending;if(y!==null){if(g!==null){var S=g.next;g.next=y.next,y.next=S}p.baseQueue=g=y,u.pending=null}if(g!==null){y=g.next,p=p.baseState;var D=S=null,F=null,q=y;do{var te=q.lane;if((yo&te)===te)F!==null&&(F=F.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),p=q.hasEagerState?q.eagerState:s(p,q.action);else{var ie={lane:te,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};F===null?(D=F=ie,S=p):F=F.next=ie,ht.lanes|=te,vo|=te}q=q.next}while(q!==null&&q!==y);F===null?S=p:F.next=D,yr(p,a.memoizedState)||(yn=!0),a.memoizedState=p,a.baseState=S,a.baseQueue=F,u.lastRenderedState=p}if(s=u.interleaved,s!==null){g=s;do y=g.lane,ht.lanes|=y,vo|=y,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function fm(s){var a=Xn(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var p=u.dispatch,g=u.pending,y=a.memoizedState;if(g!==null){u.pending=null;var S=g=g.next;do y=s(y,S.action),S=S.next;while(S!==g);yr(y,a.memoizedState)||(yn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),u.lastRenderedState=y}return[y,p]}function nE(){}function rE(s,a){var u=ht,p=Xn(),g=a(),y=!yr(p.memoizedState,g);if(y&&(p.memoizedState=g,yn=!0),p=p.queue,pm(oE.bind(null,u,p,s),[s]),p.getSnapshot!==a||y||Vt!==null&&Vt.memoizedState.tag&1){if(u.flags|=2048,yc(9,sE.bind(null,u,p,g,a),void 0,null),Ft===null)throw Error(t(349));(yo&30)!==0||iE(u,a,g)}return g}function iE(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=ht.updateQueue,a===null?(a={lastEffect:null,stores:null},ht.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function sE(s,a,u,p){a.value=u,a.getSnapshot=p,aE(a)&&lE(s)}function oE(s,a,u){return u(function(){aE(a)&&lE(s)})}function aE(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!yr(s,u)}catch{return!0}}function lE(s){var a=wi(s,1);a!==null&&Sr(a,s,1,-1)}function cE(s){var a=Wr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_c,lastRenderedState:s},a.queue=s,s=s.dispatch=Cx.bind(null,ht,s),[a.memoizedState,s]}function yc(s,a,u,p){return s={tag:s,create:a,destroy:u,deps:p,next:null},a=ht.updateQueue,a===null?(a={lastEffect:null,stores:null},ht.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,a.lastEffect=s)),s}function uE(){return Xn().memoizedState}function Ph(s,a,u,p){var g=Wr();ht.flags|=s,g.memoizedState=yc(1|a,u,void 0,p===void 0?null:p)}function Oh(s,a,u,p){var g=Xn();p=p===void 0?null:p;var y=void 0;if(xt!==null){var S=xt.memoizedState;if(y=S.destroy,p!==null&&cm(p,S.deps)){g.memoizedState=yc(a,u,y,p);return}}ht.flags|=s,g.memoizedState=yc(1|a,u,y,p)}function hE(s,a){return Ph(8390656,8,s,a)}function pm(s,a){return Oh(2048,8,s,a)}function dE(s,a){return Oh(4,2,s,a)}function fE(s,a){return Oh(4,4,s,a)}function pE(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function mE(s,a,u){return u=u!=null?u.concat([s]):null,Oh(4,4,pE.bind(null,a,s),u)}function mm(){}function gE(s,a){var u=Xn();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&cm(a,p[1])?p[0]:(u.memoizedState=[s,a],s)}function _E(s,a){var u=Xn();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&cm(a,p[1])?p[0]:(s=s(),u.memoizedState=[s,a],s)}function yE(s,a,u){return(yo&21)===0?(s.baseState&&(s.baseState=!1,yn=!0),s.memoizedState=u):(yr(u,a)||(u=oo(),ht.lanes|=u,vo|=u,s.baseState=!0),a)}function Ix(s,a){var u=Be;Be=u!==0&&4>u?u:4,s(!0);var p=lm.transition;lm.transition={};try{s(!1),a()}finally{Be=u,lm.transition=p}}function vE(){return Xn().memoizedState}function Ax(s,a,u){var p=ps(s);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},EE(s))wE(a,u);else if(u=Xv(s,a,u,p),u!==null){var g=un();Sr(u,s,p,g),TE(u,a,p)}}function Cx(s,a,u){var p=ps(s),g={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(EE(s))wE(a,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var S=a.lastRenderedState,D=y(S,u);if(g.hasEagerState=!0,g.eagerState=D,yr(D,S)){var F=a.interleaved;F===null?(g.next=g,nm(a)):(g.next=F.next,F.next=g),a.interleaved=g;return}}catch{}finally{}u=Xv(s,a,g,p),u!==null&&(g=un(),Sr(u,s,p,g),TE(u,a,p))}}function EE(s){var a=s.alternate;return s===ht||a!==null&&a===ht}function wE(s,a){mc=Rh=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function TE(s,a,u){if((u&4194240)!==0){var p=a.lanes;p&=s.pendingLanes,u|=p,a.lanes=u,Zi(s,u)}}var Nh={readContext:Qn,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},xx={readContext:Qn,useCallback:function(s,a){return Wr().memoizedState=[s,a===void 0?null:a],s},useContext:Qn,useEffect:hE,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,Ph(4194308,4,pE.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Ph(4194308,4,s,a)},useInsertionEffect:function(s,a){return Ph(4,2,s,a)},useMemo:function(s,a){var u=Wr();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var p=Wr();return a=u!==void 0?u(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=Ax.bind(null,ht,s),[p.memoizedState,s]},useRef:function(s){var a=Wr();return s={current:s},a.memoizedState=s},useState:cE,useDebugValue:mm,useDeferredValue:function(s){return Wr().memoizedState=s},useTransition:function(){var s=cE(!1),a=s[0];return s=Ix.bind(null,s[1]),Wr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var p=ht,g=Wr();if(lt){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),Ft===null)throw Error(t(349));(yo&30)!==0||iE(p,a,u)}g.memoizedState=u;var y={value:u,getSnapshot:a};return g.queue=y,hE(oE.bind(null,p,y,s),[s]),p.flags|=2048,yc(9,sE.bind(null,p,y,u,a),void 0,null),u},useId:function(){var s=Wr(),a=Ft.identifierPrefix;if(lt){var u=Ei,p=vi;u=(p&~(1<<32-an(p)-1)).toString(32)+u,a=":"+a+"R"+u,u=gc++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=bx++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},kx={readContext:Qn,useCallback:gE,useContext:Qn,useEffect:pm,useImperativeHandle:mE,useInsertionEffect:dE,useLayoutEffect:fE,useMemo:_E,useReducer:dm,useRef:uE,useState:function(){return dm(_c)},useDebugValue:mm,useDeferredValue:function(s){var a=Xn();return yE(a,xt.memoizedState,s)},useTransition:function(){var s=dm(_c)[0],a=Xn().memoizedState;return[s,a]},useMutableSource:nE,useSyncExternalStore:rE,useId:vE,unstable_isNewReconciler:!1},Rx={readContext:Qn,useCallback:gE,useContext:Qn,useEffect:pm,useImperativeHandle:mE,useInsertionEffect:dE,useLayoutEffect:fE,useMemo:_E,useReducer:fm,useRef:uE,useState:function(){return fm(_c)},useDebugValue:mm,useDeferredValue:function(s){var a=Xn();return xt===null?a.memoizedState=s:yE(a,xt.memoizedState,s)},useTransition:function(){var s=fm(_c)[0],a=Xn().memoizedState;return[s,a]},useMutableSource:nE,useSyncExternalStore:rE,useId:vE,unstable_isNewReconciler:!1};function Er(s,a){if(s&&s.defaultProps){a=le({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function gm(s,a,u,p){a=s.memoizedState,u=u(p,a),u=u==null?a:le({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Dh={isMounted:function(s){return(s=s._reactInternals)?hr(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var p=un(),g=ps(s),y=Ti(p,g);y.payload=a,u!=null&&(y.callback=u),a=us(s,y,g),a!==null&&(Sr(a,s,g,p),Ah(a,s,g))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var p=un(),g=ps(s),y=Ti(p,g);y.tag=1,y.payload=a,u!=null&&(y.callback=u),a=us(s,y,g),a!==null&&(Sr(a,s,g,p),Ah(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=un(),p=ps(s),g=Ti(u,p);g.tag=2,a!=null&&(g.callback=a),a=us(s,g,p),a!==null&&(Sr(a,s,p,u),Ah(a,s,p))}};function SE(s,a,u,p,g,y,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,y,S):a.prototype&&a.prototype.isPureReactComponent?!ic(u,p)||!ic(g,y):!0}function bE(s,a,u){var p=!1,g=as,y=a.contextType;return typeof y=="object"&&y!==null?y=Qn(y):(g=_n(a)?fo:Xt.current,p=a.contextTypes,y=(p=p!=null)?Ca(s,g):as),a=new a(u,y),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Dh,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=y),a}function IE(s,a,u,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,p),a.state!==s&&Dh.enqueueReplaceState(a,a.state,null)}function _m(s,a,u,p){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs={},rm(s);var y=a.contextType;typeof y=="object"&&y!==null?g.context=Qn(y):(y=_n(a)?fo:Xt.current,g.context=Ca(s,y)),g.state=s.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(gm(s,a,y,u),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Dh.enqueueReplaceState(g,g.state,null),Ch(s,u,g,p),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function La(s,a){try{var u="",p=a;do u+=Se(p),p=p.return;while(p);var g=u}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:a,stack:g,digest:null}}function ym(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function vm(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var Px=typeof WeakMap=="function"?WeakMap:Map;function AE(s,a,u){u=Ti(-1,u),u.tag=3,u.payload={element:null};var p=a.value;return u.callback=function(){Uh||(Uh=!0,Dm=p),vm(s,a)},u}function CE(s,a,u){u=Ti(-1,u),u.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var g=a.value;u.payload=function(){return p(g)},u.callback=function(){vm(s,a)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){vm(s,a),typeof p!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})}),u}function xE(s,a,u){var p=s.pingCache;if(p===null){p=s.pingCache=new Px;var g=new Set;p.set(a,g)}else g=p.get(a),g===void 0&&(g=new Set,p.set(a,g));g.has(u)||(g.add(u),s=Wx.bind(null,s,a,u),a.then(s,s))}function kE(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function RE(s,a,u,p,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Ti(-1,1),a.tag=2,us(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var Ox=z.ReactCurrentOwner,yn=!1;function cn(s,a,u,p){a.child=s===null?Qv(a,null,u,p):Pa(a,s.child,u,p)}function PE(s,a,u,p,g){u=u.render;var y=a.ref;return Na(a,g),p=um(s,a,u,p,y,g),u=hm(),s!==null&&!yn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Si(s,a,g)):(lt&&u&&qp(a),a.flags|=1,cn(s,a,p,g),a.child)}function OE(s,a,u,p,g){if(s===null){var y=u.type;return typeof y=="function"&&!Um(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=y,NE(s,a,y,p,g)):(s=qh(u.type,null,p,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,(s.lanes&g)===0){var S=y.memoizedProps;if(u=u.compare,u=u!==null?u:ic,u(S,p)&&s.ref===a.ref)return Si(s,a,g)}return a.flags|=1,s=gs(y,p),s.ref=a.ref,s.return=a,a.child=s}function NE(s,a,u,p,g){if(s!==null){var y=s.memoizedProps;if(ic(y,p)&&s.ref===a.ref)if(yn=!1,a.pendingProps=p=y,(s.lanes&g)!==0)(s.flags&131072)!==0&&(yn=!0);else return a.lanes=s.lanes,Si(s,a,g)}return Em(s,a,u,p,g)}function DE(s,a,u){var p=a.pendingProps,g=p.children,y=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Va,Ln),Ln|=u;else{if((u&1073741824)===0)return s=y!==null?y.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,nt(Va,Ln),Ln|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=y!==null?y.baseLanes:u,nt(Va,Ln),Ln|=p}else y!==null?(p=y.baseLanes|u,a.memoizedState=null):p=u,nt(Va,Ln),Ln|=p;return cn(s,a,g,u),a.child}function LE(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Em(s,a,u,p,g){var y=_n(u)?fo:Xt.current;return y=Ca(a,y),Na(a,g),u=um(s,a,u,p,y,g),p=hm(),s!==null&&!yn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Si(s,a,g)):(lt&&p&&qp(a),a.flags|=1,cn(s,a,u,g),a.child)}function ME(s,a,u,p,g){if(_n(u)){var y=!0;yh(a)}else y=!1;if(Na(a,g),a.stateNode===null)Mh(s,a),bE(a,u,p),_m(a,u,p,g),p=!0;else if(s===null){var S=a.stateNode,D=a.memoizedProps;S.props=D;var F=S.context,q=u.contextType;typeof q=="object"&&q!==null?q=Qn(q):(q=_n(u)?fo:Xt.current,q=Ca(a,q));var te=u.getDerivedStateFromProps,ie=typeof te=="function"||typeof S.getSnapshotBeforeUpdate=="function";ie||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D!==p||F!==q)&&IE(a,S,p,q),cs=!1;var ee=a.memoizedState;S.state=ee,Ch(a,p,S,g),F=a.memoizedState,D!==p||ee!==F||gn.current||cs?(typeof te=="function"&&(gm(a,u,te,p),F=a.memoizedState),(D=cs||SE(a,u,D,p,ee,F,q))?(ie||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=F),S.props=p,S.state=F,S.context=q,p=D):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{S=a.stateNode,Jv(s,a),D=a.memoizedProps,q=a.type===a.elementType?D:Er(a.type,D),S.props=q,ie=a.pendingProps,ee=S.context,F=u.contextType,typeof F=="object"&&F!==null?F=Qn(F):(F=_n(u)?fo:Xt.current,F=Ca(a,F));var de=u.getDerivedStateFromProps;(te=typeof de=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D!==ie||ee!==F)&&IE(a,S,p,F),cs=!1,ee=a.memoizedState,S.state=ee,Ch(a,p,S,g);var _e=a.memoizedState;D!==ie||ee!==_e||gn.current||cs?(typeof de=="function"&&(gm(a,u,de,p),_e=a.memoizedState),(q=cs||SE(a,u,q,p,ee,_e,F)||!1)?(te||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,_e,F),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,_e,F)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||D===s.memoizedProps&&ee===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&ee===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=_e),S.props=p,S.state=_e,S.context=F,p=q):(typeof S.componentDidUpdate!="function"||D===s.memoizedProps&&ee===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&ee===s.memoizedState||(a.flags|=1024),p=!1)}return wm(s,a,u,p,y,g)}function wm(s,a,u,p,g,y){LE(s,a);var S=(a.flags&128)!==0;if(!p&&!S)return g&&Uv(a,u,!1),Si(s,a,y);p=a.stateNode,Ox.current=a;var D=S&&typeof u.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&S?(a.child=Pa(a,s.child,null,y),a.child=Pa(a,null,D,y)):cn(s,a,D,y),a.memoizedState=p.state,g&&Uv(a,u,!0),a.child}function VE(s){var a=s.stateNode;a.pendingContext?$v(s,a.pendingContext,a.pendingContext!==a.context):a.context&&$v(s,a.context,!1),im(s,a.containerInfo)}function FE(s,a,u,p,g){return Ra(),Xp(g),a.flags|=256,cn(s,a,u,p),a.child}var Tm={dehydrated:null,treeContext:null,retryLane:0};function Sm(s){return{baseLanes:s,cachePool:null,transitions:null}}function $E(s,a,u){var p=a.pendingProps,g=ut.current,y=!1,S=(a.flags&128)!==0,D;if((D=S)||(D=s!==null&&s.memoizedState===null?!1:(g&2)!==0),D?(y=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),nt(ut,g&1),s===null)return Qp(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(S=p.children,s=p.fallback,y?(p=a.mode,y=a.child,S={mode:"hidden",children:S},(p&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=S):y=Gh(S,p,0,null),s=So(s,p,u,null),y.return=a,s.return=a,y.sibling=s,a.child=y,a.child.memoizedState=Sm(u),a.memoizedState=Tm,s):bm(a,S));if(g=s.memoizedState,g!==null&&(D=g.dehydrated,D!==null))return Nx(s,a,S,p,D,g,u);if(y){y=p.fallback,S=a.mode,g=s.child,D=g.sibling;var F={mode:"hidden",children:p.children};return(S&1)===0&&a.child!==g?(p=a.child,p.childLanes=0,p.pendingProps=F,a.deletions=null):(p=gs(g,F),p.subtreeFlags=g.subtreeFlags&14680064),D!==null?y=gs(D,y):(y=So(y,S,u,null),y.flags|=2),y.return=a,p.return=a,p.sibling=y,a.child=p,p=y,y=a.child,S=s.child.memoizedState,S=S===null?Sm(u):{baseLanes:S.baseLanes|u,cachePool:null,transitions:S.transitions},y.memoizedState=S,y.childLanes=s.childLanes&~u,a.memoizedState=Tm,p}return y=s.child,s=y.sibling,p=gs(y,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=u),p.return=a,p.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=p,a.memoizedState=null,p}function bm(s,a){return a=Gh({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Lh(s,a,u,p){return p!==null&&Xp(p),Pa(a,s.child,null,u),s=bm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Nx(s,a,u,p,g,y,S){if(u)return a.flags&256?(a.flags&=-257,p=ym(Error(t(422))),Lh(s,a,S,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(y=p.fallback,g=a.mode,p=Gh({mode:"visible",children:p.children},g,0,null),y=So(y,g,S,null),y.flags|=2,p.return=a,y.return=a,p.sibling=y,a.child=p,(a.mode&1)!==0&&Pa(a,s.child,null,S),a.child.memoizedState=Sm(S),a.memoizedState=Tm,y);if((a.mode&1)===0)return Lh(s,a,S,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var D=p.dgst;return p=D,y=Error(t(419)),p=ym(y,p,void 0),Lh(s,a,S,p)}if(D=(S&s.childLanes)!==0,yn||D){if(p=Ft,p!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(p.suspendedLanes|S))!==0?0:g,g!==0&&g!==y.retryLane&&(y.retryLane=g,wi(s,g),Sr(p,s,g,-1))}return jm(),p=ym(Error(t(421))),Lh(s,a,S,p)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=Kx.bind(null,s),g._reactRetry=a,null):(s=y.treeContext,Dn=ss(g.nextSibling),Nn=a,lt=!0,vr=null,s!==null&&(Gn[Yn++]=vi,Gn[Yn++]=Ei,Gn[Yn++]=po,vi=s.id,Ei=s.overflow,po=a),a=bm(a,p.children),a.flags|=4096,a)}function jE(s,a,u){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),tm(s.return,a,u)}function Im(s,a,u,p,g){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:g}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=p,y.tail=u,y.tailMode=g)}function UE(s,a,u){var p=a.pendingProps,g=p.revealOrder,y=p.tail;if(cn(s,a,p.children,u),p=ut.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&jE(s,u,a);else if(s.tag===19)jE(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(nt(ut,p),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(u=a.child,g=null;u!==null;)s=u.alternate,s!==null&&xh(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),Im(a,!1,g,u,y);break;case"backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&xh(s)===null){a.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}Im(a,!0,u,null,y);break;case"together":Im(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Mh(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Si(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),vo|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,u=gs(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=gs(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function Dx(s,a,u){switch(a.tag){case 3:VE(a),Ra();break;case 5:tE(a);break;case 1:_n(a.type)&&yh(a);break;case 4:im(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,g=a.memoizedProps.value;nt(bh,p._currentValue),p._currentValue=g;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(nt(ut,ut.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?$E(s,a,u):(nt(ut,ut.current&1),s=Si(s,a,u),s!==null?s.sibling:null);nt(ut,ut.current&1);break;case 19:if(p=(u&a.childLanes)!==0,(s.flags&128)!==0){if(p)return UE(s,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),nt(ut,ut.current),p)break;return null;case 22:case 23:return a.lanes=0,DE(s,a,u)}return Si(s,a,u)}var BE,Am,zE,HE;BE=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Am=function(){},zE=function(s,a,u,p){var g=s.memoizedProps;if(g!==p){s=a.stateNode,_o(Hr.current);var y=null;switch(u){case"input":g=Lt(s,g),p=Lt(s,p),y=[];break;case"select":g=le({},g,{value:void 0}),p=le({},p,{value:void 0}),y=[];break;case"textarea":g=Dr(s,g),p=Dr(s,p),y=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=mh)}$l(u,p);var S;u=null;for(q in g)if(!p.hasOwnProperty(q)&&g.hasOwnProperty(q)&&g[q]!=null)if(q==="style"){var D=g[q];for(S in D)D.hasOwnProperty(S)&&(u||(u={}),u[S]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(i.hasOwnProperty(q)?y||(y=[]):(y=y||[]).push(q,null));for(q in p){var F=p[q];if(D=g!=null?g[q]:void 0,p.hasOwnProperty(q)&&F!==D&&(F!=null||D!=null))if(q==="style")if(D){for(S in D)!D.hasOwnProperty(S)||F&&F.hasOwnProperty(S)||(u||(u={}),u[S]="");for(S in F)F.hasOwnProperty(S)&&D[S]!==F[S]&&(u||(u={}),u[S]=F[S])}else u||(y||(y=[]),y.push(q,u)),u=F;else q==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,D=D?D.__html:void 0,F!=null&&D!==F&&(y=y||[]).push(q,F)):q==="children"?typeof F!="string"&&typeof F!="number"||(y=y||[]).push(q,""+F):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(i.hasOwnProperty(q)?(F!=null&&q==="onScroll"&&rt("scroll",s),y||D===F||(y=[])):(y=y||[]).push(q,F))}u&&(y=y||[]).push("style",u);var q=y;(a.updateQueue=q)&&(a.flags|=4)}},HE=function(s,a,u,p){u!==p&&(a.flags|=4)};function vc(s,a){if(!lt)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Zt(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(a)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=p,s.childLanes=u,a}function Lx(s,a,u){var p=a.pendingProps;switch(Gp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(a),null;case 1:return _n(a.type)&&_h(),Zt(a),null;case 3:return p=a.stateNode,Da(),it(gn),it(Xt),am(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Th(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,vr!==null&&(Vm(vr),vr=null))),Am(s,a),Zt(a),null;case 5:sm(a);var g=_o(pc.current);if(u=a.type,s!==null&&a.stateNode!=null)zE(s,a,u,p,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return Zt(a),null}if(s=_o(Hr.current),Th(a)){p=a.stateNode,u=a.type;var y=a.memoizedProps;switch(p[zr]=a,p[cc]=y,s=(a.mode&1)!==0,u){case"dialog":rt("cancel",p),rt("close",p);break;case"iframe":case"object":case"embed":rt("load",p);break;case"video":case"audio":for(g=0;g<oc.length;g++)rt(oc[g],p);break;case"source":rt("error",p);break;case"img":case"image":case"link":rt("error",p),rt("load",p);break;case"details":rt("toggle",p);break;case"input":fn(p,y),rt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!y.multiple},rt("invalid",p);break;case"textarea":ui(p,y),rt("invalid",p)}$l(u,y),g=null;for(var S in y)if(y.hasOwnProperty(S)){var D=y[S];S==="children"?typeof D=="string"?p.textContent!==D&&(y.suppressHydrationWarning!==!0&&ph(p.textContent,D,s),g=["children",D]):typeof D=="number"&&p.textContent!==""+D&&(y.suppressHydrationWarning!==!0&&ph(p.textContent,D,s),g=["children",""+D]):i.hasOwnProperty(S)&&D!=null&&S==="onScroll"&&rt("scroll",p)}switch(u){case"input":Ze(p),Ki(p,y,!0);break;case"textarea":Ze(p),qi(p);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(p.onclick=mh)}p=g,a.updateQueue=p,p!==null&&(a.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=pt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=S.createElement(u,{is:p.is}):(s=S.createElement(u),u==="select"&&(S=s,p.multiple?S.multiple=!0:p.size&&(S.size=p.size))):s=S.createElementNS(s,u),s[zr]=a,s[cc]=p,BE(s,a,!1,!1),a.stateNode=s;e:{switch(S=jl(u,p),u){case"dialog":rt("cancel",s),rt("close",s),g=p;break;case"iframe":case"object":case"embed":rt("load",s),g=p;break;case"video":case"audio":for(g=0;g<oc.length;g++)rt(oc[g],s);g=p;break;case"source":rt("error",s),g=p;break;case"img":case"image":case"link":rt("error",s),rt("load",s),g=p;break;case"details":rt("toggle",s),g=p;break;case"input":fn(s,p),g=Lt(s,p),rt("invalid",s);break;case"option":g=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},g=le({},p,{value:void 0}),rt("invalid",s);break;case"textarea":ui(s,p),g=Dr(s,p),rt("invalid",s);break;default:g=p}$l(u,g),D=g;for(y in D)if(D.hasOwnProperty(y)){var F=D[y];y==="style"?Vl(s,F):y==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&Ll(s,F)):y==="children"?typeof F=="string"?(u!=="textarea"||F!=="")&&Gi(s,F):typeof F=="number"&&Gi(s,""+F):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?F!=null&&y==="onScroll"&&rt("scroll",s):F!=null&&U(s,y,F,S))}switch(u){case"input":Ze(s),Ki(s,p,!1);break;case"textarea":Ze(s),qi(s);break;case"option":p.value!=null&&s.setAttribute("value",""+he(p.value));break;case"select":s.multiple=!!p.multiple,y=p.value,y!=null?Qt(s,!!p.multiple,y,!1):p.defaultValue!=null&&Qt(s,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=mh)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Zt(a),null;case 6:if(s&&a.stateNode!=null)HE(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(u=_o(pc.current),_o(Hr.current),Th(a)){if(p=a.stateNode,u=a.memoizedProps,p[zr]=a,(y=p.nodeValue!==u)&&(s=Nn,s!==null))switch(s.tag){case 3:ph(p.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ph(p.nodeValue,u,(s.mode&1)!==0)}y&&(a.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[zr]=a,a.stateNode=p}return Zt(a),null;case 13:if(it(ut),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(lt&&Dn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)qv(),Ra(),a.flags|=98560,y=!1;else if(y=Th(a),p!==null&&p.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[zr]=a}else Ra(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Zt(a),y=!1}else vr!==null&&(Vm(vr),vr=null),y=!0;if(!y)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(ut.current&1)!==0?kt===0&&(kt=3):jm())),a.updateQueue!==null&&(a.flags|=4),Zt(a),null);case 4:return Da(),Am(s,a),s===null&&ac(a.stateNode.containerInfo),Zt(a),null;case 10:return em(a.type._context),Zt(a),null;case 17:return _n(a.type)&&_h(),Zt(a),null;case 19:if(it(ut),y=a.memoizedState,y===null)return Zt(a),null;if(p=(a.flags&128)!==0,S=y.rendering,S===null)if(p)vc(y,!1);else{if(kt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(S=xh(s),S!==null){for(a.flags|=128,vc(y,!1),p=S.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=u,u=a.child;u!==null;)y=u,s=p,y.flags&=14680066,S=y.alternate,S===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=S.childLanes,y.lanes=S.lanes,y.child=S.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=S.memoizedProps,y.memoizedState=S.memoizedState,y.updateQueue=S.updateQueue,y.type=S.type,s=S.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return nt(ut,ut.current&1|2),a.child}s=s.sibling}y.tail!==null&&tt()>Fa&&(a.flags|=128,p=!0,vc(y,!1),a.lanes=4194304)}else{if(!p)if(s=xh(S),s!==null){if(a.flags|=128,p=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),vc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!lt)return Zt(a),null}else 2*tt()-y.renderingStartTime>Fa&&u!==1073741824&&(a.flags|=128,p=!0,vc(y,!1),a.lanes=4194304);y.isBackwards?(S.sibling=a.child,a.child=S):(u=y.last,u!==null?u.sibling=S:a.child=S,y.last=S)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=tt(),a.sibling=null,u=ut.current,nt(ut,p?u&1|2:u&1),a):(Zt(a),null);case 22:case 23:return $m(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(Ln&1073741824)!==0&&(Zt(a),a.subtreeFlags&6&&(a.flags|=8192)):Zt(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function Mx(s,a){switch(Gp(a),a.tag){case 1:return _n(a.type)&&_h(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Da(),it(gn),it(Xt),am(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return sm(a),null;case 13:if(it(ut),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Ra()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return it(ut),null;case 4:return Da(),null;case 10:return em(a.type._context),null;case 22:case 23:return $m(),null;case 24:return null;default:return null}}var Vh=!1,en=!1,Vx=typeof WeakSet=="function"?WeakSet:Set,me=null;function Ma(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){gt(s,a,p)}else u.current=null}function Cm(s,a,u){try{u()}catch(p){gt(s,a,p)}}var WE=!1;function Fx(s,a){if($p=ns,s=Sv(),Pp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var g=p.anchorOffset,y=p.focusNode;p=p.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var S=0,D=-1,F=-1,q=0,te=0,ie=s,ee=null;t:for(;;){for(var de;ie!==u||g!==0&&ie.nodeType!==3||(D=S+g),ie!==y||p!==0&&ie.nodeType!==3||(F=S+p),ie.nodeType===3&&(S+=ie.nodeValue.length),(de=ie.firstChild)!==null;)ee=ie,ie=de;for(;;){if(ie===s)break t;if(ee===u&&++q===g&&(D=S),ee===y&&++te===p&&(F=S),(de=ie.nextSibling)!==null)break;ie=ee,ee=ie.parentNode}ie=de}u=D===-1||F===-1?null:{start:D,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(jp={focusedElem:s,selectionRange:u},ns=!1,me=a;me!==null;)if(a=me,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,me=s;else for(;me!==null;){a=me;try{var _e=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var ye=_e.memoizedProps,vt=_e.memoizedState,H=a.stateNode,$=H.getSnapshotBeforeUpdate(a.elementType===a.type?ye:Er(a.type,ye),vt);H.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var K=a.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){gt(a,a.return,oe)}if(s=a.sibling,s!==null){s.return=a.return,me=s;break}me=a.return}return _e=WE,WE=!1,_e}function Ec(s,a,u){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&s)===s){var y=g.destroy;g.destroy=void 0,y!==void 0&&Cm(a,u,y)}g=g.next}while(g!==p)}}function Fh(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var p=u.create;u.destroy=p()}u=u.next}while(u!==a)}}function xm(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function KE(s){var a=s.alternate;a!==null&&(s.alternate=null,KE(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[zr],delete a[cc],delete a[Hp],delete a[Ex],delete a[wx])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function qE(s){return s.tag===5||s.tag===3||s.tag===4}function GE(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||qE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function km(s,a,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=mh));else if(p!==4&&(s=s.child,s!==null))for(km(s,a,u),s=s.sibling;s!==null;)km(s,a,u),s=s.sibling}function Rm(s,a,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Rm(s,a,u),s=s.sibling;s!==null;)Rm(s,a,u),s=s.sibling}var zt=null,wr=!1;function hs(s,a,u){for(u=u.child;u!==null;)YE(s,a,u),u=u.sibling}function YE(s,a,u){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(io,u)}catch{}switch(u.tag){case 5:en||Ma(u,a);case 6:var p=zt,g=wr;zt=null,hs(s,a,u),zt=p,wr=g,zt!==null&&(wr?(s=zt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):zt.removeChild(u.stateNode));break;case 18:zt!==null&&(wr?(s=zt,u=u.stateNode,s.nodeType===8?zp(s.parentNode,u):s.nodeType===1&&zp(s,u),gr(s)):zp(zt,u.stateNode));break;case 4:p=zt,g=wr,zt=u.stateNode.containerInfo,wr=!0,hs(s,a,u),zt=p,wr=g;break;case 0:case 11:case 14:case 15:if(!en&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var y=g,S=y.destroy;y=y.tag,S!==void 0&&((y&2)!==0||(y&4)!==0)&&Cm(u,a,S),g=g.next}while(g!==p)}hs(s,a,u);break;case 1:if(!en&&(Ma(u,a),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(D){gt(u,a,D)}hs(s,a,u);break;case 21:hs(s,a,u);break;case 22:u.mode&1?(en=(p=en)||u.memoizedState!==null,hs(s,a,u),en=p):hs(s,a,u);break;default:hs(s,a,u)}}function QE(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new Vx),a.forEach(function(p){var g=qx.bind(null,s,p);u.has(p)||(u.add(p),p.then(g,g))})}}function Tr(s,a){var u=a.deletions;if(u!==null)for(var p=0;p<u.length;p++){var g=u[p];try{var y=s,S=a,D=S;e:for(;D!==null;){switch(D.tag){case 5:zt=D.stateNode,wr=!1;break e;case 3:zt=D.stateNode.containerInfo,wr=!0;break e;case 4:zt=D.stateNode.containerInfo,wr=!0;break e}D=D.return}if(zt===null)throw Error(t(160));YE(y,S,g),zt=null,wr=!1;var F=g.alternate;F!==null&&(F.return=null),g.return=null}catch(q){gt(g,a,q)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)XE(a,s),a=a.sibling}function XE(s,a){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Tr(a,s),Kr(s),p&4){try{Ec(3,s,s.return),Fh(3,s)}catch(ye){gt(s,s.return,ye)}try{Ec(5,s,s.return)}catch(ye){gt(s,s.return,ye)}}break;case 1:Tr(a,s),Kr(s),p&512&&u!==null&&Ma(u,u.return);break;case 5:if(Tr(a,s),Kr(s),p&512&&u!==null&&Ma(u,u.return),s.flags&32){var g=s.stateNode;try{Gi(g,"")}catch(ye){gt(s,s.return,ye)}}if(p&4&&(g=s.stateNode,g!=null)){var y=s.memoizedProps,S=u!==null?u.memoizedProps:y,D=s.type,F=s.updateQueue;if(s.updateQueue=null,F!==null)try{D==="input"&&y.type==="radio"&&y.name!=null&&Or(g,y),jl(D,S);var q=jl(D,y);for(S=0;S<F.length;S+=2){var te=F[S],ie=F[S+1];te==="style"?Vl(g,ie):te==="dangerouslySetInnerHTML"?Ll(g,ie):te==="children"?Gi(g,ie):U(g,te,ie,q)}switch(D){case"input":Nr(g,y);break;case"textarea":Lr(g,y);break;case"select":var ee=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!y.multiple;var de=y.value;de!=null?Qt(g,!!y.multiple,de,!1):ee!==!!y.multiple&&(y.defaultValue!=null?Qt(g,!!y.multiple,y.defaultValue,!0):Qt(g,!!y.multiple,y.multiple?[]:"",!1))}g[cc]=y}catch(ye){gt(s,s.return,ye)}}break;case 6:if(Tr(a,s),Kr(s),p&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,y=s.memoizedProps;try{g.nodeValue=y}catch(ye){gt(s,s.return,ye)}}break;case 3:if(Tr(a,s),Kr(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{gr(a.containerInfo)}catch(ye){gt(s,s.return,ye)}break;case 4:Tr(a,s),Kr(s);break;case 13:Tr(a,s),Kr(s),g=s.child,g.flags&8192&&(y=g.memoizedState!==null,g.stateNode.isHidden=y,!y||g.alternate!==null&&g.alternate.memoizedState!==null||(Nm=tt())),p&4&&QE(s);break;case 22:if(te=u!==null&&u.memoizedState!==null,s.mode&1?(en=(q=en)||te,Tr(a,s),en=q):Tr(a,s),Kr(s),p&8192){if(q=s.memoizedState!==null,(s.stateNode.isHidden=q)&&!te&&(s.mode&1)!==0)for(me=s,te=s.child;te!==null;){for(ie=me=te;me!==null;){switch(ee=me,de=ee.child,ee.tag){case 0:case 11:case 14:case 15:Ec(4,ee,ee.return);break;case 1:Ma(ee,ee.return);var _e=ee.stateNode;if(typeof _e.componentWillUnmount=="function"){p=ee,u=ee.return;try{a=p,_e.props=a.memoizedProps,_e.state=a.memoizedState,_e.componentWillUnmount()}catch(ye){gt(p,u,ye)}}break;case 5:Ma(ee,ee.return);break;case 22:if(ee.memoizedState!==null){ew(ie);continue}}de!==null?(de.return=ee,me=de):ew(ie)}te=te.sibling}e:for(te=null,ie=s;;){if(ie.tag===5){if(te===null){te=ie;try{g=ie.stateNode,q?(y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(D=ie.stateNode,F=ie.memoizedProps.style,S=F!=null&&F.hasOwnProperty("display")?F.display:null,D.style.display=Ml("display",S))}catch(ye){gt(s,s.return,ye)}}}else if(ie.tag===6){if(te===null)try{ie.stateNode.nodeValue=q?"":ie.memoizedProps}catch(ye){gt(s,s.return,ye)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===s)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===s)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===s)break e;te===ie&&(te=null),ie=ie.return}te===ie&&(te=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Tr(a,s),Kr(s),p&4&&QE(s);break;case 21:break;default:Tr(a,s),Kr(s)}}function Kr(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(qE(u)){var p=u;break e}u=u.return}throw Error(t(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(Gi(g,""),p.flags&=-33);var y=GE(s);Rm(s,y,g);break;case 3:case 4:var S=p.stateNode.containerInfo,D=GE(s);km(s,D,S);break;default:throw Error(t(161))}}catch(F){gt(s,s.return,F)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function $x(s,a,u){me=s,JE(s)}function JE(s,a,u){for(var p=(s.mode&1)!==0;me!==null;){var g=me,y=g.child;if(g.tag===22&&p){var S=g.memoizedState!==null||Vh;if(!S){var D=g.alternate,F=D!==null&&D.memoizedState!==null||en;D=Vh;var q=en;if(Vh=S,(en=F)&&!q)for(me=g;me!==null;)S=me,F=S.child,S.tag===22&&S.memoizedState!==null?tw(g):F!==null?(F.return=S,me=F):tw(g);for(;y!==null;)me=y,JE(y),y=y.sibling;me=g,Vh=D,en=q}ZE(s)}else(g.subtreeFlags&8772)!==0&&y!==null?(y.return=g,me=y):ZE(s)}}function ZE(s){for(;me!==null;){var a=me;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:en||Fh(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!en)if(u===null)p.componentDidMount();else{var g=a.elementType===a.type?u.memoizedProps:Er(a.type,u.memoizedProps);p.componentDidUpdate(g,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var y=a.updateQueue;y!==null&&eE(a,y,p);break;case 3:var S=a.updateQueue;if(S!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}eE(a,S,u)}break;case 5:var D=a.stateNode;if(u===null&&a.flags&4){u=D;var F=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&u.focus();break;case"img":F.src&&(u.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var q=a.alternate;if(q!==null){var te=q.memoizedState;if(te!==null){var ie=te.dehydrated;ie!==null&&gr(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}en||a.flags&512&&xm(a)}catch(ee){gt(a,a.return,ee)}}if(a===s){me=null;break}if(u=a.sibling,u!==null){u.return=a.return,me=u;break}me=a.return}}function ew(s){for(;me!==null;){var a=me;if(a===s){me=null;break}var u=a.sibling;if(u!==null){u.return=a.return,me=u;break}me=a.return}}function tw(s){for(;me!==null;){var a=me;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Fh(4,a)}catch(F){gt(a,u,F)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var g=a.return;try{p.componentDidMount()}catch(F){gt(a,g,F)}}var y=a.return;try{xm(a)}catch(F){gt(a,y,F)}break;case 5:var S=a.return;try{xm(a)}catch(F){gt(a,S,F)}}}catch(F){gt(a,a.return,F)}if(a===s){me=null;break}var D=a.sibling;if(D!==null){D.return=a.return,me=D;break}me=a.return}}var jx=Math.ceil,$h=z.ReactCurrentDispatcher,Pm=z.ReactCurrentOwner,Jn=z.ReactCurrentBatchConfig,Ke=0,Ft=null,St=null,Ht=0,Ln=0,Va=os(0),kt=0,wc=null,vo=0,jh=0,Om=0,Tc=null,vn=null,Nm=0,Fa=1/0,bi=null,Uh=!1,Dm=null,ds=null,Bh=!1,fs=null,zh=0,Sc=0,Lm=null,Hh=-1,Wh=0;function un(){return(Ke&6)!==0?tt():Hh!==-1?Hh:Hh=tt()}function ps(s){return(s.mode&1)===0?1:(Ke&2)!==0&&Ht!==0?Ht&-Ht:Sx.transition!==null?(Wh===0&&(Wh=oo()),Wh):(s=Be,s!==0||(s=window.event,s=s===void 0?16:Xl(s.type)),s)}function Sr(s,a,u,p){if(50<Sc)throw Sc=0,Lm=null,Error(t(185));Ji(s,u,p),((Ke&2)===0||s!==Ft)&&(s===Ft&&((Ke&2)===0&&(jh|=u),kt===4&&ms(s,Ht)),En(s,p),u===1&&Ke===0&&(a.mode&1)===0&&(Fa=tt()+500,vh&&ls()))}function En(s,a){var u=s.callbackNode;di(s,a);var p=so(s,s===Ft?Ht:0);if(p===0)u!==null&&Kl(u),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(u!=null&&Kl(u),a===1)s.tag===0?Tx(rw.bind(null,s)):Bv(rw.bind(null,s)),yx(function(){(Ke&6)===0&&ls()}),u=null;else{switch(es(p)){case 1:u=ro;break;case 4:u=Yi;break;case 16:u=Wn;break;case 536870912:u=Wu;break;default:u=Wn}u=hw(u,nw.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function nw(s,a){if(Hh=-1,Wh=0,(Ke&6)!==0)throw Error(t(327));var u=s.callbackNode;if($a()&&s.callbackNode!==u)return null;var p=so(s,s===Ft?Ht:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||a)a=Kh(s,p);else{a=p;var g=Ke;Ke|=2;var y=sw();(Ft!==s||Ht!==a)&&(bi=null,Fa=tt()+500,wo(s,a));do try{zx();break}catch(D){iw(s,D)}while(!0);Zp(),$h.current=y,Ke=g,St!==null?a=0:(Ft=null,Ht=0,a=kt)}if(a!==0){if(a===2&&(g=Rn(s),g!==0&&(p=g,a=Mm(s,g))),a===1)throw u=wc,wo(s,0),ms(s,p),En(s,tt()),u;if(a===6)ms(s,p);else{if(g=s.current.alternate,(p&30)===0&&!Ux(g)&&(a=Kh(s,p),a===2&&(y=Rn(s),y!==0&&(p=y,a=Mm(s,y))),a===1))throw u=wc,wo(s,0),ms(s,p),En(s,tt()),u;switch(s.finishedWork=g,s.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:To(s,vn,bi);break;case 3:if(ms(s,p),(p&130023424)===p&&(a=Nm+500-tt(),10<a)){if(so(s,0)!==0)break;if(g=s.suspendedLanes,(g&p)!==p){un(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Bp(To.bind(null,s,vn,bi),a);break}To(s,vn,bi);break;case 4:if(ms(s,p),(p&4194240)===p)break;for(a=s.eventTimes,g=-1;0<p;){var S=31-an(p);y=1<<S,S=a[S],S>g&&(g=S),p&=~y}if(p=g,p=tt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*jx(p/1960))-p,10<p){s.timeoutHandle=Bp(To.bind(null,s,vn,bi),p);break}To(s,vn,bi);break;case 5:To(s,vn,bi);break;default:throw Error(t(329))}}}return En(s,tt()),s.callbackNode===u?nw.bind(null,s):null}function Mm(s,a){var u=Tc;return s.current.memoizedState.isDehydrated&&(wo(s,a).flags|=256),s=Kh(s,a),s!==2&&(a=vn,vn=u,a!==null&&Vm(a)),s}function Vm(s){vn===null?vn=s:vn.push.apply(vn,s)}function Ux(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var g=u[p],y=g.getSnapshot;g=g.value;try{if(!yr(y(),g))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ms(s,a){for(a&=~Om,a&=~jh,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-an(a),p=1<<u;s[u]=-1,a&=~p}}function rw(s){if((Ke&6)!==0)throw Error(t(327));$a();var a=so(s,0);if((a&1)===0)return En(s,tt()),null;var u=Kh(s,a);if(s.tag!==0&&u===2){var p=Rn(s);p!==0&&(a=p,u=Mm(s,p))}if(u===1)throw u=wc,wo(s,0),ms(s,a),En(s,tt()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,To(s,vn,bi),En(s,tt()),null}function Fm(s,a){var u=Ke;Ke|=1;try{return s(a)}finally{Ke=u,Ke===0&&(Fa=tt()+500,vh&&ls())}}function Eo(s){fs!==null&&fs.tag===0&&(Ke&6)===0&&$a();var a=Ke;Ke|=1;var u=Jn.transition,p=Be;try{if(Jn.transition=null,Be=1,s)return s()}finally{Be=p,Jn.transition=u,Ke=a,(Ke&6)===0&&ls()}}function $m(){Ln=Va.current,it(Va)}function wo(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,_x(u)),St!==null)for(u=St.return;u!==null;){var p=u;switch(Gp(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&_h();break;case 3:Da(),it(gn),it(Xt),am();break;case 5:sm(p);break;case 4:Da();break;case 13:it(ut);break;case 19:it(ut);break;case 10:em(p.type._context);break;case 22:case 23:$m()}u=u.return}if(Ft=s,St=s=gs(s.current,null),Ht=Ln=a,kt=0,wc=null,Om=jh=vo=0,vn=Tc=null,go!==null){for(a=0;a<go.length;a++)if(u=go[a],p=u.interleaved,p!==null){u.interleaved=null;var g=p.next,y=u.pending;if(y!==null){var S=y.next;y.next=g,p.next=S}u.pending=p}go=null}return s}function iw(s,a){do{var u=St;try{if(Zp(),kh.current=Nh,Rh){for(var p=ht.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}Rh=!1}if(yo=0,Vt=xt=ht=null,mc=!1,gc=0,Pm.current=null,u===null||u.return===null){kt=1,wc=a,St=null;break}e:{var y=s,S=u.return,D=u,F=a;if(a=Ht,D.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var q=F,te=D,ie=te.tag;if((te.mode&1)===0&&(ie===0||ie===11||ie===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var de=kE(S);if(de!==null){de.flags&=-257,RE(de,S,D,y,a),de.mode&1&&xE(y,q,a),a=de,F=q;var _e=a.updateQueue;if(_e===null){var ye=new Set;ye.add(F),a.updateQueue=ye}else _e.add(F);break e}else{if((a&1)===0){xE(y,q,a),jm();break e}F=Error(t(426))}}else if(lt&&D.mode&1){var vt=kE(S);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),RE(vt,S,D,y,a),Xp(La(F,D));break e}}y=F=La(F,D),kt!==4&&(kt=2),Tc===null?Tc=[y]:Tc.push(y),y=S;do{switch(y.tag){case 3:y.flags|=65536,a&=-a,y.lanes|=a;var H=AE(y,F,a);Zv(y,H);break e;case 1:D=F;var $=y.type,K=y.stateNode;if((y.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(ds===null||!ds.has(K)))){y.flags|=65536,a&=-a,y.lanes|=a;var oe=CE(y,D,a);Zv(y,oe);break e}}y=y.return}while(y!==null)}aw(u)}catch(Ee){a=Ee,St===u&&u!==null&&(St=u=u.return);continue}break}while(!0)}function sw(){var s=$h.current;return $h.current=Nh,s===null?Nh:s}function jm(){(kt===0||kt===3||kt===2)&&(kt=4),Ft===null||(vo&268435455)===0&&(jh&268435455)===0||ms(Ft,Ht)}function Kh(s,a){var u=Ke;Ke|=2;var p=sw();(Ft!==s||Ht!==a)&&(bi=null,wo(s,a));do try{Bx();break}catch(g){iw(s,g)}while(!0);if(Zp(),Ke=u,$h.current=p,St!==null)throw Error(t(261));return Ft=null,Ht=0,kt}function Bx(){for(;St!==null;)ow(St)}function zx(){for(;St!==null&&!zu();)ow(St)}function ow(s){var a=uw(s.alternate,s,Ln);s.memoizedProps=s.pendingProps,a===null?aw(s):St=a,Pm.current=null}function aw(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=Lx(u,a,Ln),u!==null){St=u;return}}else{if(u=Mx(u,a),u!==null){u.flags&=32767,St=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{kt=6,St=null;return}}if(a=a.sibling,a!==null){St=a;return}St=a=s}while(a!==null);kt===0&&(kt=5)}function To(s,a,u){var p=Be,g=Jn.transition;try{Jn.transition=null,Be=1,Hx(s,a,u,p)}finally{Jn.transition=g,Be=p}return null}function Hx(s,a,u,p){do $a();while(fs!==null);if((Ke&6)!==0)throw Error(t(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=u.lanes|u.childLanes;if(et(s,y),s===Ft&&(St=Ft=null,Ht=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Bh||(Bh=!0,hw(Wn,function(){return $a(),null})),y=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||y){y=Jn.transition,Jn.transition=null;var S=Be;Be=1;var D=Ke;Ke|=4,Pm.current=null,Fx(s,u),XE(u,s),ux(jp),ns=!!$p,jp=$p=null,s.current=u,$x(u),Sp(),Ke=D,Be=S,Jn.transition=y}else s.current=u;if(Bh&&(Bh=!1,fs=s,zh=g),y=s.pendingLanes,y===0&&(ds=null),Ku(u.stateNode),En(s,tt()),a!==null)for(p=s.onRecoverableError,u=0;u<a.length;u++)g=a[u],p(g.value,{componentStack:g.stack,digest:g.digest});if(Uh)throw Uh=!1,s=Dm,Dm=null,s;return(zh&1)!==0&&s.tag!==0&&$a(),y=s.pendingLanes,(y&1)!==0?s===Lm?Sc++:(Sc=0,Lm=s):Sc=0,ls(),null}function $a(){if(fs!==null){var s=es(zh),a=Jn.transition,u=Be;try{if(Jn.transition=null,Be=16>s?16:s,fs===null)var p=!1;else{if(s=fs,fs=null,zh=0,(Ke&6)!==0)throw Error(t(331));var g=Ke;for(Ke|=4,me=s.current;me!==null;){var y=me,S=y.child;if((me.flags&16)!==0){var D=y.deletions;if(D!==null){for(var F=0;F<D.length;F++){var q=D[F];for(me=q;me!==null;){var te=me;switch(te.tag){case 0:case 11:case 15:Ec(8,te,y)}var ie=te.child;if(ie!==null)ie.return=te,me=ie;else for(;me!==null;){te=me;var ee=te.sibling,de=te.return;if(KE(te),te===q){me=null;break}if(ee!==null){ee.return=de,me=ee;break}me=de}}}var _e=y.alternate;if(_e!==null){var ye=_e.child;if(ye!==null){_e.child=null;do{var vt=ye.sibling;ye.sibling=null,ye=vt}while(ye!==null)}}me=y}}if((y.subtreeFlags&2064)!==0&&S!==null)S.return=y,me=S;else e:for(;me!==null;){if(y=me,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Ec(9,y,y.return)}var H=y.sibling;if(H!==null){H.return=y.return,me=H;break e}me=y.return}}var $=s.current;for(me=$;me!==null;){S=me;var K=S.child;if((S.subtreeFlags&2064)!==0&&K!==null)K.return=S,me=K;else e:for(S=$;me!==null;){if(D=me,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:Fh(9,D)}}catch(Ee){gt(D,D.return,Ee)}if(D===S){me=null;break e}var oe=D.sibling;if(oe!==null){oe.return=D.return,me=oe;break e}me=D.return}}if(Ke=g,ls(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(io,s)}catch{}p=!0}return p}finally{Be=u,Jn.transition=a}}return!1}function lw(s,a,u){a=La(u,a),a=AE(s,a,1),s=us(s,a,1),a=un(),s!==null&&(Ji(s,1,a),En(s,a))}function gt(s,a,u){if(s.tag===3)lw(s,s,u);else for(;a!==null;){if(a.tag===3){lw(a,s,u);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ds===null||!ds.has(p))){s=La(u,s),s=CE(a,s,1),a=us(a,s,1),s=un(),a!==null&&(Ji(a,1,s),En(a,s));break}}a=a.return}}function Wx(s,a,u){var p=s.pingCache;p!==null&&p.delete(a),a=un(),s.pingedLanes|=s.suspendedLanes&u,Ft===s&&(Ht&u)===u&&(kt===4||kt===3&&(Ht&130023424)===Ht&&500>tt()-Nm?wo(s,0):Om|=u),En(s,a)}function cw(s,a){a===0&&((s.mode&1)===0?a=1:(a=la,la<<=1,(la&130023424)===0&&(la=4194304)));var u=un();s=wi(s,a),s!==null&&(Ji(s,a,u),En(s,u))}function Kx(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),cw(s,u)}function qx(s,a){var u=0;switch(s.tag){case 13:var p=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),cw(s,u)}var uw;uw=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||gn.current)yn=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return yn=!1,Dx(s,a,u);yn=(s.flags&131072)!==0}else yn=!1,lt&&(a.flags&1048576)!==0&&zv(a,wh,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Mh(s,a),s=a.pendingProps;var g=Ca(a,Xt.current);Na(a,u),g=um(null,a,p,s,g,u);var y=hm();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,_n(p)?(y=!0,yh(a)):y=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,rm(a),g.updater=Dh,a.stateNode=g,g._reactInternals=a,_m(a,p,s,u),a=wm(null,a,p,!0,y,u)):(a.tag=0,lt&&y&&qp(a),cn(null,a,g,u),a=a.child),a;case 16:p=a.elementType;e:{switch(Mh(s,a),s=a.pendingProps,g=p._init,p=g(p._payload),a.type=p,g=a.tag=Yx(p),s=Er(p,s),g){case 0:a=Em(null,a,p,s,u);break e;case 1:a=ME(null,a,p,s,u);break e;case 11:a=PE(null,a,p,s,u);break e;case 14:a=OE(null,a,p,Er(p.type,s),u);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Er(p,g),Em(s,a,p,g,u);case 1:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Er(p,g),ME(s,a,p,g,u);case 3:e:{if(VE(a),s===null)throw Error(t(387));p=a.pendingProps,y=a.memoizedState,g=y.element,Jv(s,a),Ch(a,p,null,u);var S=a.memoizedState;if(p=S.element,y.isDehydrated)if(y={element:p,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){g=La(Error(t(423)),a),a=FE(s,a,p,u,g);break e}else if(p!==g){g=La(Error(t(424)),a),a=FE(s,a,p,u,g);break e}else for(Dn=ss(a.stateNode.containerInfo.firstChild),Nn=a,lt=!0,vr=null,u=Qv(a,null,p,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ra(),p===g){a=Si(s,a,u);break e}cn(s,a,p,u)}a=a.child}return a;case 5:return tE(a),s===null&&Qp(a),p=a.type,g=a.pendingProps,y=s!==null?s.memoizedProps:null,S=g.children,Up(p,g)?S=null:y!==null&&Up(p,y)&&(a.flags|=32),LE(s,a),cn(s,a,S,u),a.child;case 6:return s===null&&Qp(a),null;case 13:return $E(s,a,u);case 4:return im(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=Pa(a,null,p,u):cn(s,a,p,u),a.child;case 11:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Er(p,g),PE(s,a,p,g,u);case 7:return cn(s,a,a.pendingProps,u),a.child;case 8:return cn(s,a,a.pendingProps.children,u),a.child;case 12:return cn(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(p=a.type._context,g=a.pendingProps,y=a.memoizedProps,S=g.value,nt(bh,p._currentValue),p._currentValue=S,y!==null)if(yr(y.value,S)){if(y.children===g.children&&!gn.current){a=Si(s,a,u);break e}}else for(y=a.child,y!==null&&(y.return=a);y!==null;){var D=y.dependencies;if(D!==null){S=y.child;for(var F=D.firstContext;F!==null;){if(F.context===p){if(y.tag===1){F=Ti(-1,u&-u),F.tag=2;var q=y.updateQueue;if(q!==null){q=q.shared;var te=q.pending;te===null?F.next=F:(F.next=te.next,te.next=F),q.pending=F}}y.lanes|=u,F=y.alternate,F!==null&&(F.lanes|=u),tm(y.return,u,a),D.lanes|=u;break}F=F.next}}else if(y.tag===10)S=y.type===a.type?null:y.child;else if(y.tag===18){if(S=y.return,S===null)throw Error(t(341));S.lanes|=u,D=S.alternate,D!==null&&(D.lanes|=u),tm(S,u,a),S=y.sibling}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===a){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}cn(s,a,g.children,u),a=a.child}return a;case 9:return g=a.type,p=a.pendingProps.children,Na(a,u),g=Qn(g),p=p(g),a.flags|=1,cn(s,a,p,u),a.child;case 14:return p=a.type,g=Er(p,a.pendingProps),g=Er(p.type,g),OE(s,a,p,g,u);case 15:return NE(s,a,a.type,a.pendingProps,u);case 17:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Er(p,g),Mh(s,a),a.tag=1,_n(p)?(s=!0,yh(a)):s=!1,Na(a,u),bE(a,p,g),_m(a,p,g,u),wm(null,a,p,!0,s,u);case 19:return UE(s,a,u);case 22:return DE(s,a,u)}throw Error(t(156,a.tag))};function hw(s,a){return oa(s,a)}function Gx(s,a,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(s,a,u,p){return new Gx(s,a,u,p)}function Um(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Yx(s){if(typeof s=="function")return Um(s)?1:0;if(s!=null){if(s=s.$$typeof,s===M)return 11;if(s===be)return 14}return 2}function gs(s,a){var u=s.alternate;return u===null?(u=Zn(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function qh(s,a,u,p,g,y){var S=2;if(p=s,typeof s=="function")Um(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case R:return So(u.children,g,y,a);case x:S=8,g|=8;break;case k:return s=Zn(12,u,a,g|2),s.elementType=k,s.lanes=y,s;case P:return s=Zn(13,u,a,g),s.elementType=P,s.lanes=y,s;case De:return s=Zn(19,u,a,g),s.elementType=De,s.lanes=y,s;case ge:return Gh(u,g,y,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:S=10;break e;case L:S=9;break e;case M:S=11;break e;case be:S=14;break e;case we:S=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=Zn(S,u,a,g),a.elementType=s,a.type=p,a.lanes=y,a}function So(s,a,u,p){return s=Zn(7,s,p,a),s.lanes=u,s}function Gh(s,a,u,p){return s=Zn(22,s,p,a),s.elementType=ge,s.lanes=u,s.stateNode={isHidden:!1},s}function Bm(s,a,u){return s=Zn(6,s,null,a),s.lanes=u,s}function zm(s,a,u){return a=Zn(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function Qx(s,a,u,p,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xi(0),this.expirationTimes=Xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Hm(s,a,u,p,g,y,S,D,F){return s=new Qx(s,a,u,D,F),a===1?(a=1,y===!0&&(a|=8)):a=0,y=Zn(3,null,null,a),s.current=y,y.stateNode=s,y.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},rm(y),s}function Xx(s,a,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:p==null?null:""+p,children:s,containerInfo:a,implementation:u}}function dw(s){if(!s)return as;s=s._reactInternals;e:{if(hr(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(_n(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(_n(u))return jv(s,u,a)}return a}function fw(s,a,u,p,g,y,S,D,F){return s=Hm(u,p,!0,s,g,y,S,D,F),s.context=dw(null),u=s.current,p=un(),g=ps(u),y=Ti(p,g),y.callback=a??null,us(u,y,g),s.current.lanes=g,Ji(s,g,p),En(s,p),s}function Yh(s,a,u,p){var g=a.current,y=un(),S=ps(g);return u=dw(u),a.context===null?a.context=u:a.pendingContext=u,a=Ti(y,S),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=us(g,a,S),s!==null&&(Sr(s,g,S,y),Ah(s,g,S)),S}function Qh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function pw(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Wm(s,a){pw(s,a),(s=s.alternate)&&pw(s,a)}function Jx(){return null}var mw=typeof reportError=="function"?reportError:function(s){console.error(s)};function Km(s){this._internalRoot=s}Xh.prototype.render=Km.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));Yh(s,a,null,null)},Xh.prototype.unmount=Km.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Eo(function(){Yh(null,s,null,null)}),a[_i]=null}};function Xh(s){this._internalRoot=s}Xh.prototype.unstable_scheduleHydration=function(s){if(s){var a=Xu();s={blockedOn:null,target:s,priority:a};for(var u=0;u<$r.length&&a!==0&&a<$r[u].priority;u++);$r.splice(u,0,s),u===0&&eh(s)}};function qm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Jh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function gw(){}function Zx(s,a,u,p,g){if(g){if(typeof p=="function"){var y=p;p=function(){var q=Qh(S);y.call(q)}}var S=fw(a,p,s,0,null,!1,!1,"",gw);return s._reactRootContainer=S,s[_i]=S.current,ac(s.nodeType===8?s.parentNode:s),Eo(),S}for(;g=s.lastChild;)s.removeChild(g);if(typeof p=="function"){var D=p;p=function(){var q=Qh(F);D.call(q)}}var F=Hm(s,0,!1,null,null,!1,!1,"",gw);return s._reactRootContainer=F,s[_i]=F.current,ac(s.nodeType===8?s.parentNode:s),Eo(function(){Yh(a,F,u,p)}),F}function Zh(s,a,u,p,g){var y=u._reactRootContainer;if(y){var S=y;if(typeof g=="function"){var D=g;g=function(){var F=Qh(S);D.call(F)}}Yh(a,S,s,g)}else S=Zx(u,a,s,g,p);return Qh(S)}Yu=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=Qi(a.pendingLanes);u!==0&&(Zi(a,u|1),En(a,tt()),(Ke&6)===0&&(Fa=tt()+500,ls()))}break;case 13:Eo(function(){var p=wi(s,1);if(p!==null){var g=un();Sr(p,s,1,g)}}),Wm(s,1)}},ca=function(s){if(s.tag===13){var a=wi(s,134217728);if(a!==null){var u=un();Sr(a,s,134217728,u)}Wm(s,134217728)}},Qu=function(s){if(s.tag===13){var a=ps(s),u=wi(s,a);if(u!==null){var p=un();Sr(u,s,a,p)}Wm(s,a)}},Xu=function(){return Be},Ju=function(s,a){var u=Be;try{return Be=s,a()}finally{Be=u}},ea=function(s,a,u){switch(a){case"input":if(Nr(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var p=u[a];if(p!==s&&p.form===s.form){var g=gh(p);if(!g)throw Error(t(90));ft(p),Nr(p,g)}}}break;case"textarea":Lr(s,u);break;case"select":a=u.value,a!=null&&Qt(s,!!u.multiple,a,!1)}},Zs=Fm,Bl=Eo;var ek={usingClientEntryPoint:!1,Events:[uc,Ia,gh,Vr,Ul,Fm]},bc={findFiberByHostInstance:ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tk={bundleType:bc.bundleType,version:bc.version,rendererPackageName:bc.rendererPackageName,rendererConfig:bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Wl(s),s===null?null:s.stateNode},findFiberByHostInstance:bc.findFiberByHostInstance||Jx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ed.isDisabled&&ed.supportsFiber)try{io=ed.inject(tk),kn=ed}catch{}}return wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ek,wn.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qm(a))throw Error(t(200));return Xx(s,a,null,u)},wn.createRoot=function(s,a){if(!qm(s))throw Error(t(299));var u=!1,p="",g=mw;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Hm(s,1,!1,null,null,u,!1,p,g),s[_i]=a.current,ac(s.nodeType===8?s.parentNode:s),new Km(a)},wn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Wl(a),s=s===null?null:s.stateNode,s},wn.flushSync=function(s){return Eo(s)},wn.hydrate=function(s,a,u){if(!Jh(a))throw Error(t(200));return Zh(null,s,a,!0,u)},wn.hydrateRoot=function(s,a,u){if(!qm(s))throw Error(t(405));var p=u!=null&&u.hydratedSources||null,g=!1,y="",S=mw;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),a=fw(a,null,s,1,u??null,g,!1,y,S),s[_i]=a.current,ac(s),p)for(s=0;s<p.length;s++)u=p[s],g=u._getVersion,g=g(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,g]:a.mutableSourceEagerHydrationData.push(u,g);return new Xh(a)},wn.render=function(s,a,u){if(!Jh(a))throw Error(t(200));return Zh(null,s,a,!1,u)},wn.unmountComponentAtNode=function(s){if(!Jh(s))throw Error(t(40));return s._reactRootContainer?(Eo(function(){Zh(null,null,s,!1,function(){s._reactRootContainer=null,s[_i]=null})}),!0):!1},wn.unstable_batchedUpdates=Fm,wn.unstable_renderSubtreeIntoContainer=function(s,a,u,p){if(!Jh(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Zh(s,a,u,!1,p)},wn.version="18.3.1-next-f1338f8080-20240426",wn}var bw;function dk(){if(bw)return Qm.exports;bw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qm.exports=hk(),Qm.exports}var Iw;function fk(){if(Iw)return td;Iw=1;var n=dk();return td.createRoot=n.createRoot,td.hydrateRoot=n.hydrateRoot,td}var pk=fk(),Ac={},Aw;function mk(){if(Aw)return Ac;Aw=1,Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.parse=l,Ac.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function l(E,T){const b=new o,I=E.length;if(I<2)return b;const A=(T==null?void 0:T.decode)||m;let N=0;do{const V=E.indexOf("=",N);if(V===-1)break;const U=E.indexOf(";",N),z=U===-1?I:U;if(V>z){N=E.lastIndexOf(";",V-1)+1;continue}const Q=c(E,N,V),Y=h(E,V,Q),R=E.slice(Q,Y);if(b[R]===void 0){let x=c(E,V+1,z),k=h(E,z,x);const O=A(E.slice(x,k));b[R]=O}N=z+1}while(N<I);return b}function c(E,T,b){do{const I=E.charCodeAt(T);if(I!==32&&I!==9)return T}while(++T<b);return b}function h(E,T,b){for(;T>b;){const I=E.charCodeAt(--T);if(I!==32&&I!==9)return T+1}return b}function f(E,T,b){const I=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const A=I(T);if(!e.test(A))throw new TypeError(`argument val is invalid: ${T}`);let N=E+"="+A;if(!b)return N;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);N+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);N+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);N+="; Path="+b.path}if(b.expires){if(!v(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);N+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(N+="; HttpOnly"),b.secure&&(N+="; Secure"),b.partitioned&&(N+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return N}function m(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function v(E){return i.call(E)==="[object Date]"}return Ac}mk();var Cw="popstate";function gk(n={}){function e(r,i){let{pathname:o,search:l,hash:c}=r.location;return $g("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:ou(i)}return yk(e,t,null,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ir(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _k(){return Math.random().toString(36).substring(2,10)}function xw(n,e){return{usr:n.state,key:n.key,idx:e}}function $g(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Tl(e):e,state:t,key:e&&e.key||r||_k()}}function ou({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Tl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function yk(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c="POP",h=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function v(){c="POP";let A=m(),N=A==null?null:A-f;f=A,h&&h({action:c,location:I.location,delta:N})}function E(A,N){c="PUSH";let V=$g(I.location,A,N);f=m()+1;let U=xw(V,f),z=I.createHref(V);try{l.pushState(U,"",z)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;i.location.assign(z)}o&&h&&h({action:c,location:I.location,delta:1})}function T(A,N){c="REPLACE";let V=$g(I.location,A,N);f=m();let U=xw(V,f),z=I.createHref(V);l.replaceState(U,"",z),o&&h&&h({action:c,location:I.location,delta:0})}function b(A){return vk(A)}let I={get action(){return c},get location(){return n(i,l)},listen(A){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Cw,v),h=A,()=>{i.removeEventListener(Cw,v),h=null}},createHref(A){return e(i,A)},createURL:b,encodeLocation(A){let N=b(A);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:E,replace:T,go(A){return l.go(A)}};return I}function vk(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ct(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:ou(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function rb(n,e,t="/"){return Ek(n,e,t,!1)}function Ek(n,e,t,r){let i=typeof e=="string"?Tl(e):e,o=Mi(i.pathname||"/",t);if(o==null)return null;let l=ib(n);wk(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=Ok(o);c=Rk(l[h],f,r)}return c}function ib(n,e=[],t=[],r=""){let i=(o,l,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(ct(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let f=Oi([r,h.relativePath]),m=t.concat(h);o.children&&o.children.length>0&&(ct(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),ib(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:xk(f,o.index),routesMeta:m})};return n.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let h of sb(o.path))i(o,l,h)}),e}function sb(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=sb(r.join("/")),c=[];return c.push(...l.map(h=>h===""?o:[o,h].join("/"))),i&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function wk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:kk(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Tk=/^:[\w-]+$/,Sk=3,bk=2,Ik=1,Ak=10,Ck=-2,kw=n=>n==="*";function xk(n,e){let t=n.split("/"),r=t.length;return t.some(kw)&&(r+=Ck),e&&(r+=bk),t.filter(i=>!kw(i)).reduce((i,o)=>i+(Tk.test(o)?Sk:o===""?Ik:Ak),r)}function kk(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Rk(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],f=c===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",v=qd({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),E=h.route;if(!v&&f&&t&&!r[r.length-1].route.index&&(v=qd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:Oi([o,v.pathname]),pathnameBase:Mk(Oi([o,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(o=Oi([o,v.pathnameBase]))}return l}function qd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Pk(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:v},E)=>{if(m==="*"){let b=c[E]||"";l=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const T=c[E];return v&&!T?f[m]=void 0:f[m]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function Pk(n,e=!1,t=!0){Ir(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Ok(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ir(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Mi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Nk(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Tl(n):n;return{pathname:t?t.startsWith("/")?t:Dk(t,e):e,search:Vk(r),hash:Fk(i)}}function Dk(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Zm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Lk(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function R_(n){let e=Lk(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function P_(n,e,t,r=!1){let i;typeof n=="string"?i=Tl(n):(i={...n},ct(!i.pathname||!i.pathname.includes("?"),Zm("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),Zm("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),Zm("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),v-=1;i.pathname=E.join("/")}c=v>=0?e[v]:"/"}let h=Nk(i,c),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}var Oi=n=>n.join("/").replace(/\/\/+/g,"/"),Mk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Vk=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Fk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function $k(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var ob=["POST","PUT","PATCH","DELETE"];new Set(ob);var jk=["GET",...ob];new Set(jk);var Sl=W.createContext(null);Sl.displayName="DataRouter";var Df=W.createContext(null);Df.displayName="DataRouterState";var ab=W.createContext({isTransitioning:!1});ab.displayName="ViewTransition";var Uk=W.createContext(new Map);Uk.displayName="Fetchers";var Bk=W.createContext(null);Bk.displayName="Await";var kr=W.createContext(null);kr.displayName="Navigation";var wu=W.createContext(null);wu.displayName="Location";var ci=W.createContext({outlet:null,matches:[],isDataRoute:!1});ci.displayName="Route";var O_=W.createContext(null);O_.displayName="RouteError";function zk(n,{relative:e}={}){ct(bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=W.useContext(kr),{hash:i,pathname:o,search:l}=Tu(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Oi([t,o])),r.createHref({pathname:c,search:l,hash:i})}function bl(){return W.useContext(wu)!=null}function zs(){return ct(bl(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(wu).location}var lb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cb(n){W.useContext(kr).static||W.useLayoutEffect(n)}function Lf(){let{isDataRoute:n}=W.useContext(ci);return n?nR():Hk()}function Hk(){ct(bl(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(Sl),{basename:e,navigator:t}=W.useContext(kr),{matches:r}=W.useContext(ci),{pathname:i}=zs(),o=JSON.stringify(R_(r)),l=W.useRef(!1);return cb(()=>{l.current=!0}),W.useCallback((h,f={})=>{if(Ir(l.current,lb),!l.current)return;if(typeof h=="number"){t.go(h);return}let m=P_(h,JSON.parse(o),i,f.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Oi([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,o,i,n])}W.createContext(null);function Tu(n,{relative:e}={}){let{matches:t}=W.useContext(ci),{pathname:r}=zs(),i=JSON.stringify(R_(t));return W.useMemo(()=>P_(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function Wk(n,e){return ub(n,e)}function ub(n,e,t,r){var N;ct(bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=W.useContext(kr),{matches:o}=W.useContext(ci),l=o[o.length-1],c=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let V=m&&m.path||"";hb(h,!m||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let v=zs(),E;if(e){let V=typeof e=="string"?Tl(e):e;ct(f==="/"||((N=V.pathname)==null?void 0:N.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${V.pathname}" was given in the \`location\` prop.`),E=V}else E=v;let T=E.pathname||"/",b=T;if(f!=="/"){let V=f.replace(/^\//,"").split("/");b="/"+T.replace(/^\//,"").split("/").slice(V.length).join("/")}let I=rb(n,{pathname:b});Ir(m||I!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Ir(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=Qk(I&&I.map(V=>Object.assign({},V,{params:Object.assign({},c,V.params),pathname:Oi([f,i.encodeLocation?i.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?f:Oi([f,i.encodeLocation?i.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),o,t,r);return e&&A?W.createElement(wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},A):A}function Kk(){let n=tR(),e=$k(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:i},t):null,l)}var qk=W.createElement(Kk,null),Gk=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(ci.Provider,{value:this.props.routeContext},W.createElement(O_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Yk({routeContext:n,match:e,children:t}){let r=W.useContext(Sl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(ci.Provider,{value:n},t)}function Qk(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let h=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);ct(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,c=-1;if(t)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:m,errors:v}=t,E=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||E){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((h,f,m)=>{let v,E=!1,T=null,b=null;t&&(v=o&&f.route.id?o[f.route.id]:void 0,T=f.route.errorElement||qk,l&&(c<0&&m===0?(hb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,b=null):c===m&&(E=!0,b=f.route.hydrateFallbackElement||null)));let I=e.concat(i.slice(0,m+1)),A=()=>{let N;return v?N=T:E?N=b:f.route.Component?N=W.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=h,W.createElement(Yk,{match:f,routeContext:{outlet:h,matches:I,isDataRoute:t!=null},children:N})};return t&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?W.createElement(Gk,{location:t.location,revalidation:t.revalidation,component:T,error:v,children:A(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):A()},null)}function N_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xk(n){let e=W.useContext(Sl);return ct(e,N_(n)),e}function Jk(n){let e=W.useContext(Df);return ct(e,N_(n)),e}function Zk(n){let e=W.useContext(ci);return ct(e,N_(n)),e}function D_(n){let e=Zk(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function eR(){return D_("useRouteId")}function tR(){var r;let n=W.useContext(O_),e=Jk("useRouteError"),t=D_("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function nR(){let{router:n}=Xk("useNavigate"),e=D_("useNavigate"),t=W.useRef(!1);return cb(()=>{t.current=!0}),W.useCallback(async(i,o={})=>{Ir(t.current,lb),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var Rw={};function hb(n,e,t){!e&&!Rw[n]&&(Rw[n]=!0,Ir(!1,t))}W.memo(rR);function rR({routes:n,future:e,state:t}){return ub(n,void 0,t,e)}function iR({to:n,replace:e,state:t,relative:r}){ct(bl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=W.useContext(kr);Ir(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=W.useContext(ci),{pathname:l}=zs(),c=Lf(),h=P_(n,R_(o),l,r==="path"),f=JSON.stringify(h);return W.useEffect(()=>{c(JSON.parse(f),{replace:e,state:t,relative:r})},[c,f,r,e,t]),null}function Rd(n){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){ct(!bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=W.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=Tl(t));let{pathname:h="/",search:f="",hash:m="",state:v=null,key:E="default"}=t,T=W.useMemo(()=>{let b=Mi(h,l);return b==null?null:{location:{pathname:b,search:f,hash:m,state:v,key:E},navigationType:r}},[l,h,f,m,v,E,r]);return Ir(T!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:W.createElement(kr.Provider,{value:c},W.createElement(wu.Provider,{children:e,value:T}))}function oR({children:n,location:e}){return Wk(jg(n),e)}function jg(n,e=[]){let t=[];return W.Children.forEach(n,(r,i)=>{if(!W.isValidElement(r))return;let o=[...e,i];if(r.type===W.Fragment){t.push.apply(t,jg(r.props.children,o));return}ct(r.type===Rd,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=jg(r.props.children,o)),t.push(l)}),t}var Pd="get",Od="application/x-www-form-urlencoded";function Mf(n){return n!=null&&typeof n.tagName=="string"}function aR(n){return Mf(n)&&n.tagName.toLowerCase()==="button"}function lR(n){return Mf(n)&&n.tagName.toLowerCase()==="form"}function cR(n){return Mf(n)&&n.tagName.toLowerCase()==="input"}function uR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function hR(n,e){return n.button===0&&(!e||e==="_self")&&!uR(n)}var nd=null;function dR(){if(nd===null)try{new FormData(document.createElement("form"),0),nd=!1}catch{nd=!0}return nd}var fR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function eg(n){return n!=null&&!fR.has(n)?(Ir(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Od}"`),null):n}function pR(n,e){let t,r,i,o,l;if(lR(n)){let c=n.getAttribute("action");r=c?Mi(c,e):null,t=n.getAttribute("method")||Pd,i=eg(n.getAttribute("enctype"))||Od,o=new FormData(n)}else if(aR(n)||cR(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(r=h?Mi(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Pd,i=eg(n.getAttribute("formenctype"))||eg(c.getAttribute("enctype"))||Od,o=new FormData(c,n),!dR()){let{name:f,type:m,value:v}=n;if(m==="image"){let E=f?`${f}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else f&&o.append(f,v)}}else{if(Mf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Pd,r=null,i=Od,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}function L_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function mR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function _R(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await mR(o,t);return l.links?l.links():[]}return[]}));return wR(r.flat(1).filter(gR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Pw(n,e,t,r,i,o){let l=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,c=(h,f)=>{var m;return t[f].pathname!==h.pathname||((m=t[f].route.path)==null?void 0:m.endsWith("*"))&&t[f].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,f)=>l(h,f)||c(h,f)):o==="data"?e.filter((h,f)=>{var v;let m=r.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let E=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function yR(n,e,{includeHydrateFallback:t}={}){return vR(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function vR(n){return[...new Set(n)]}function ER(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function wR(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(ER(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var TR=new Set([100,101,204,205]);function SR(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Mi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function db(){let n=W.useContext(Sl);return L_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function bR(){let n=W.useContext(Df);return L_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var M_=W.createContext(void 0);M_.displayName="FrameworkContext";function fb(){let n=W.useContext(M_);return L_(n,"You must render this element inside a <HydratedRouter> element"),n}function IR(n,e){let t=W.useContext(M_),[r,i]=W.useState(!1),[o,l]=W.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:m,onTouchStart:v}=e,E=W.useRef(null);W.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let I=N=>{N.forEach(V=>{l(V.isIntersecting)})},A=new IntersectionObserver(I,{threshold:.5});return E.current&&A.observe(E.current),()=>{A.disconnect()}}},[n]),W.useEffect(()=>{if(r){let I=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(I)}}},[r]);let T=()=>{i(!0)},b=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,E,{}]:[o,E,{onFocus:Cc(c,T),onBlur:Cc(h,b),onMouseEnter:Cc(f,T),onMouseLeave:Cc(m,b),onTouchStart:Cc(v,T)}]:[!1,E,{}]}function Cc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function AR({page:n,...e}){let{router:t}=db(),r=W.useMemo(()=>rb(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?W.createElement(xR,{page:n,matches:r,...e}):null}function CR(n){let{manifest:e,routeModules:t}=fb(),[r,i]=W.useState([]);return W.useEffect(()=>{let o=!1;return _R(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function xR({page:n,matches:e,...t}){let r=zs(),{manifest:i,routeModules:o}=fb(),{basename:l}=db(),{loaderData:c,matches:h}=bR(),f=W.useMemo(()=>Pw(n,e,h,i,r,"data"),[n,e,h,i,r]),m=W.useMemo(()=>Pw(n,e,h,i,r,"assets"),[n,e,h,i,r]),v=W.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,I=!1;if(e.forEach(N=>{var U;let V=i.routes[N.route.id];!V||!V.hasLoader||(!f.some(z=>z.route.id===N.route.id)&&N.route.id in c&&((U=o[N.route.id])!=null&&U.shouldRevalidate)||V.hasClientLoader?I=!0:b.add(N.route.id))}),b.size===0)return[];let A=SR(n,l);return I&&b.size>0&&A.searchParams.set("_routes",e.filter(N=>b.has(N.route.id)).map(N=>N.route.id).join(",")),[A.pathname+A.search]},[l,c,r,i,f,e,n,o]),E=W.useMemo(()=>yR(m,i),[m,i]),T=CR(m);return W.createElement(W.Fragment,null,v.map(b=>W.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),E.map(b=>W.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),T.map(({key:b,link:I})=>W.createElement("link",{key:b,...I})))}function kR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var pb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pb&&(window.__reactRouterVersion="7.6.2")}catch{}function RR({basename:n,children:e,window:t}){let r=W.useRef();r.current==null&&(r.current=gk({window:t,v5Compat:!0}));let i=r.current,[o,l]=W.useState({action:i.action,location:i.location}),c=W.useCallback(h=>{W.startTransition(()=>l(h))},[l]);return W.useLayoutEffect(()=>i.listen(c),[i,c]),W.createElement(sR,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var mb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,au=W.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:c,target:h,to:f,preventScrollReset:m,viewTransition:v,...E},T){let{basename:b}=W.useContext(kr),I=typeof f=="string"&&mb.test(f),A,N=!1;if(typeof f=="string"&&I&&(A=f,pb))try{let k=new URL(window.location.href),O=f.startsWith("//")?new URL(k.protocol+f):new URL(f),L=Mi(O.pathname,b);O.origin===k.origin&&L!=null?f=L+O.search+O.hash:N=!0}catch{Ir(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=zk(f,{relative:i}),[U,z,Q]=IR(r,E),Y=DR(f,{replace:l,state:c,target:h,preventScrollReset:m,relative:i,viewTransition:v});function R(k){e&&e(k),k.defaultPrevented||Y(k)}let x=W.createElement("a",{...E,...Q,href:A||V,onClick:N||o?e:R,ref:kR(T,z),target:h,"data-discover":!I&&t==="render"?"true":void 0});return U&&!I?W.createElement(W.Fragment,null,x,W.createElement(AR,{page:V})):x});au.displayName="Link";var PR=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:c,children:h,...f},m){let v=Tu(l,{relative:f.relative}),E=zs(),T=W.useContext(Df),{navigator:b,basename:I}=W.useContext(kr),A=T!=null&&$R(v)&&c===!0,N=b.encodeLocation?b.encodeLocation(v).pathname:v.pathname,V=E.pathname,U=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(V=V.toLowerCase(),U=U?U.toLowerCase():null,N=N.toLowerCase()),U&&I&&(U=Mi(U,I)||U);const z=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let Q=V===N||!i&&V.startsWith(N)&&V.charAt(z)==="/",Y=U!=null&&(U===N||!i&&U.startsWith(N)&&U.charAt(N.length)==="/"),R={isActive:Q,isPending:Y,isTransitioning:A},x=Q?e:void 0,k;typeof r=="function"?k=r(R):k=[r,Q?"active":null,Y?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(R):o;return W.createElement(au,{...f,"aria-current":x,className:k,ref:m,style:O,to:l,viewTransition:c},typeof h=="function"?h(R):h)});PR.displayName="NavLink";var OR=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=Pd,action:c,onSubmit:h,relative:f,preventScrollReset:m,viewTransition:v,...E},T)=>{let b=VR(),I=FR(c,{relative:f}),A=l.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&mb.test(c),V=U=>{if(h&&h(U),U.defaultPrevented)return;U.preventDefault();let z=U.nativeEvent.submitter,Q=(z==null?void 0:z.getAttribute("formmethod"))||l;b(z||U.currentTarget,{fetcherKey:e,method:Q,navigate:t,replace:i,state:o,relative:f,preventScrollReset:m,viewTransition:v})};return W.createElement("form",{ref:T,method:A,action:I,onSubmit:r?h:V,...E,"data-discover":!N&&n==="render"?"true":void 0})});OR.displayName="Form";function NR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gb(n){let e=W.useContext(Sl);return ct(e,NR(n)),e}function DR(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=Lf(),h=zs(),f=Tu(n,{relative:o});return W.useCallback(m=>{if(hR(m,e)){m.preventDefault();let v=t!==void 0?t:ou(h)===ou(f);c(n,{replace:v,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[h,c,f,t,r,e,n,i,o,l])}var LR=0,MR=()=>`__${String(++LR)}__`;function VR(){let{router:n}=gb("useSubmit"),{basename:e}=W.useContext(kr),t=eR();return W.useCallback(async(r,i={})=>{let{action:o,method:l,encType:c,formData:h,body:f}=pR(r,e);if(i.navigate===!1){let m=i.fetcherKey||MR();await n.fetch(m,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function FR(n,{relative:e}={}){let{basename:t}=W.useContext(kr),r=W.useContext(ci);ct(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Tu(n||".",{relative:e})},l=zs();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),h=c.getAll("index");if(h.some(m=>m==="")){c.delete("index"),h.filter(v=>v).forEach(v=>c.append("index",v));let m=c.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Oi([t,o.pathname])),ou(o)}function $R(n,e={}){let t=W.useContext(ab);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=gb("useViewTransitionState"),i=Tu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Mi(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Mi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return qd(i.pathname,l)!=null||qd(i.pathname,o)!=null}[...TR];const jR=()=>{};var Ow={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},UR=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],c=n[t++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},yb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,c=l?n[i+1]:0,h=i+2<n.length,f=h?n[i+2]:0,m=o>>2,v=(o&3)<<4|c>>4;let E=(c&15)<<2|f>>6,T=f&63;h||(T=64,l||(E=64)),r.push(t[m],t[v],t[E],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(_b(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):UR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const v=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||f==null||v==null)throw new BR;const E=o<<2|c>>4;if(r.push(E),f!==64){const T=c<<4&240|f>>2;if(r.push(T),v!==64){const b=f<<6&192|v;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class BR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zR=function(n){const e=_b(n);return yb.encodeByteArray(e,!0)},Gd=function(n){return zR(n).replace(/\./g,"")},vb=function(n){try{return yb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=()=>HR().__FIREBASE_DEFAULTS__,KR=()=>{if(typeof process>"u"||typeof Ow>"u")return;const n=Ow.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},qR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&vb(n[1]);return e&&JSON.parse(e)},Vf=()=>{try{return jR()||WR()||KR()||qR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Eb=n=>{var e,t;return(t=(e=Vf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},GR=n=>{const e=Eb(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},wb=()=>{var n;return(n=Vf())===null||n===void 0?void 0:n.config},Tb=n=>{var e;return(e=Vf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(n){return n.endsWith(".cloudworkstations.dev")}async function Sb(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Gd(JSON.stringify(t)),Gd(JSON.stringify(l)),""].join(".")}const Kc={};function XR(){const n={prod:[],emulator:[]};for(const e of Object.keys(Kc))Kc[e]?n.emulator.push(e):n.prod.push(e);return n}function JR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Nw=!1;function bb(n,e){if(typeof window>"u"||typeof document>"u"||!Su(window.location.host)||Kc[n]===e||Kc[n]||Nw)return;Kc[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=XR().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function c(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function h(E,T){E.setAttribute("width","24"),E.setAttribute("id",T),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function f(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Nw=!0,l()},E}function m(E,T){E.setAttribute("id",T),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=JR(r),T=t("text"),b=document.getElementById(T)||document.createElement("span"),I=t("learnmore"),A=document.getElementById(I)||document.createElement("a"),N=t("preprendIcon"),V=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const U=E.element;c(U),m(A,I);const z=f();h(V,N),U.append(V,b,A,z),document.body.appendChild(U)}o?(b.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function eP(){var n;const e=(n=Vf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ib(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function nP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rP(){const n=on();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function iP(){return!eP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ab(){try{return typeof indexedDB=="object"}catch{return!1}}function Cb(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function sP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="FirebaseError";class Rr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=oP,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ko.prototype.create)}}class Ko{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?aP(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Rr(i,c,r)}}function aP(n,e){return n.replace(lP,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const lP=/\{\$([^}]+)}/g;function cP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Vi(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(Dw(o)&&Dw(l)){if(!Vi(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Dw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Mc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function uP(n,e){const t=new hP(n,e);return t.subscribe.bind(t)}class hP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");dP(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=tg),i.error===void 0&&(i.error=tg),i.complete===void 0&&(i.complete=tg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function tg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=1e3,pP=2,mP=4*60*60*1e3,gP=.5;function Lw(n,e=fP,t=pP){const r=e*Math.pow(t,n),i=Math.round(gP*r*(Math.random()-.5)*2);return Math.min(mP,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(n){return n&&n._delegate?n._delegate:n}class Ar{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new YR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vP(e))try{this.getOrInitializeService({instanceIdentifier:Co})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Co){return this.instances.has(e)}getOptions(e=Co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Co){return this.component?this.component.multipleInstances?e:Co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yP(n){return n===Co?void 0:n}function vP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _P(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const wP={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},TP=je.INFO,SP={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},bP=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=SP[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ff{constructor(e){this.name=e,this._logLevel=TP,this._logHandler=bP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const IP=(n,e)=>e.some(t=>n instanceof t);let Mw,Vw;function AP(){return Mw||(Mw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CP(){return Vw||(Vw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xb=new WeakMap,Ug=new WeakMap,kb=new WeakMap,ng=new WeakMap,V_=new WeakMap;function xP(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(xs(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&xb.set(t,n)}).catch(()=>{}),V_.set(e,n),e}function kP(n){if(Ug.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});Ug.set(n,e)}let Bg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ug.get(n);if(e==="objectStoreNames")return n.objectStoreNames||kb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function RP(n){Bg=n(Bg)}function PP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(rg(this),e,...t);return kb.set(r,e.sort?e.sort():[e]),xs(r)}:CP().includes(n)?function(...e){return n.apply(rg(this),e),xs(xb.get(this))}:function(...e){return xs(n.apply(rg(this),e))}}function OP(n){return typeof n=="function"?PP(n):(n instanceof IDBTransaction&&kP(n),IP(n,AP())?new Proxy(n,Bg):n)}function xs(n){if(n instanceof IDBRequest)return xP(n);if(ng.has(n))return ng.get(n);const e=OP(n);return e!==n&&(ng.set(n,e),V_.set(e,n)),e}const rg=n=>V_.get(n);function Rb(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),c=xs(l);return r&&l.addEventListener("upgradeneeded",h=>{r(xs(l.result),h.oldVersion,h.newVersion,xs(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const NP=["get","getKey","getAll","getAllKeys","count"],DP=["put","add","delete","clear"],ig=new Map;function Fw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ig.get(e))return ig.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=DP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||NP.includes(t)))return;const o=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),i&&h.done]))[0]};return ig.set(e,o),o}RP(n=>({...n,get:(e,t,r)=>Fw(e,t)||n.get(e,t,r),has:(e,t)=>!!Fw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(MP(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function MP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zg="@firebase/app",$w="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new Ff("@firebase/app"),VP="@firebase/app-compat",FP="@firebase/analytics-compat",$P="@firebase/analytics",jP="@firebase/app-check-compat",UP="@firebase/app-check",BP="@firebase/auth",zP="@firebase/auth-compat",HP="@firebase/database",WP="@firebase/data-connect",KP="@firebase/database-compat",qP="@firebase/functions",GP="@firebase/functions-compat",YP="@firebase/installations",QP="@firebase/installations-compat",XP="@firebase/messaging",JP="@firebase/messaging-compat",ZP="@firebase/performance",eO="@firebase/performance-compat",tO="@firebase/remote-config",nO="@firebase/remote-config-compat",rO="@firebase/storage",iO="@firebase/storage-compat",sO="@firebase/firestore",oO="@firebase/ai",aO="@firebase/firestore-compat",lO="firebase",cO="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="[DEFAULT]",uO={[zg]:"fire-core",[VP]:"fire-core-compat",[$P]:"fire-analytics",[FP]:"fire-analytics-compat",[UP]:"fire-app-check",[jP]:"fire-app-check-compat",[BP]:"fire-auth",[zP]:"fire-auth-compat",[HP]:"fire-rtdb",[WP]:"fire-data-connect",[KP]:"fire-rtdb-compat",[qP]:"fire-fn",[GP]:"fire-fn-compat",[YP]:"fire-iid",[QP]:"fire-iid-compat",[XP]:"fire-fcm",[JP]:"fire-fcm-compat",[ZP]:"fire-perf",[eO]:"fire-perf-compat",[tO]:"fire-rc",[nO]:"fire-rc-compat",[rO]:"fire-gcs",[iO]:"fire-gcs-compat",[sO]:"fire-fst",[aO]:"fire-fst-compat",[oO]:"fire-vertex","fire-js":"fire-js",[lO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=new Map,hO=new Map,Wg=new Map;function jw(n,e){try{n.container.addComponent(e)}catch(t){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function si(n){const e=n.name;if(Wg.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;Wg.set(e,n);for(const t of Yd.values())jw(t,n);for(const t of hO.values())jw(t,n);return!0}function qo(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function tr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ks=new Ko("app","Firebase",dO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ar("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=cO;function Pb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Hg,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ks.create("bad-app-name",{appName:String(i)});if(t||(t=wb()),!t)throw ks.create("no-options");const o=Yd.get(i);if(o){if(Vi(t,o.options)&&Vi(r,o.config))return o;throw ks.create("duplicate-app",{appName:i})}const l=new EP(i);for(const h of Wg.values())l.addComponent(h);const c=new fO(t,r,l);return Yd.set(i,c),c}function F_(n=Hg){const e=Yd.get(n);if(!e&&n===Hg&&wb())return Pb();if(!e)throw ks.create("no-app",{appName:n});return e}function rr(n,e,t){var r;let i=(r=uO[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(c.join(" "));return}si(new Ar(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="firebase-heartbeat-database",mO=1,lu="firebase-heartbeat-store";let sg=null;function Ob(){return sg||(sg=Rb(pO,mO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(lu)}catch(t){console.warn(t)}}}}).catch(n=>{throw ks.create("idb-open",{originalErrorMessage:n.message})})),sg}async function gO(n){try{const t=(await Ob()).transaction(lu),r=await t.objectStore(lu).get(Nb(n));return await t.done,r}catch(e){if(e instanceof Rr)Fi.warn(e.message);else{const t=ks.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fi.warn(t.message)}}}async function Uw(n,e){try{const r=(await Ob()).transaction(lu,"readwrite");await r.objectStore(lu).put(e,Nb(n)),await r.done}catch(t){if(t instanceof Rr)Fi.warn(t.message);else{const r=ks.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Fi.warn(r.message)}}}function Nb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=1024,yO=30;class vO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wO(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Bw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>yO){const l=TO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Fi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Bw(),{heartbeatsToSend:r,unsentEntries:i}=EO(this._heartbeatsCache.heartbeats),o=Gd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Fi.warn(t),""}}}function Bw(){return new Date().toISOString().substring(0,10)}function EO(n,e=_O){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),zw(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),zw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class wO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ab()?Cb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await gO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Uw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Uw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function zw(n){return Gd(JSON.stringify({version:2,heartbeats:n})).length}function TO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(n){si(new Ar("platform-logger",e=>new LP(e),"PRIVATE")),si(new Ar("heartbeat",e=>new vO(e),"PRIVATE")),rr(zg,$w,n),rr(zg,$w,"esm2017"),rr("fire-js","")}SO("");function $_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Db(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bO=Db,Lb=new Ko("auth","Firebase",Db());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=new Ff("@firebase/auth");function IO(n,...e){Qd.logLevel<=je.WARN&&Qd.warn(`Auth (${Il}): ${n}`,...e)}function Nd(n,...e){Qd.logLevel<=je.ERROR&&Qd.error(`Auth (${Il}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(n,...e){throw j_(n,...e)}function Jr(n,...e){return j_(n,...e)}function Mb(n,e,t){const r=Object.assign(Object.assign({},bO()),{[e]:t});return new Ko("auth","Firebase",r).create(e,{appName:n.name})}function Ni(n){return Mb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function j_(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Lb.create(n,...e)}function Pe(n,e,...t){if(!n)throw j_(e,...t)}function ki(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Nd(e),new Error(e)}function $i(n,e){n||ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function AO(){return Hw()==="http:"||Hw()==="https:"}function Hw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AO()||Ib()||"connection"in navigator)?navigator.onLine:!0}function xO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,t){this.shortDelay=e,this.longDelay=t,$i(t>e,"Short delay should be less than long delay!"),this.isMobile=ZR()||nP()}get(){return CO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(n,e){$i(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PO=new Iu(3e4,6e4);function Hs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Hi(n,e,t,r,i={}){return Fb(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=bu(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:h},o);return tP()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Su(n.emulatorConfig.host)&&(f.credentials="include"),Vb.fetch()(await $b(n,n.config.apiHost,t,c),f)})}async function Fb(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},kO),e);try{const i=new NO(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw rd(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw rd(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw rd(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw rd(n,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Mb(n,m,f);Cr(n,m)}}catch(i){if(i instanceof Rr)throw i;Cr(n,"network-request-failed",{message:String(i)})}}async function Au(n,e,t,r,i={}){const o=await Hi(n,e,t,r,i);return"mfaPendingCredential"in o&&Cr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function $b(n,e,t,r){const i=`${e}${t}?${r}`,o=n,l=o.config.emulator?U_(n.config,i):`${n.config.apiScheme}://${i}`;return RO.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function OO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Jr(this.auth,"network-request-failed")),PO.get())})}}function rd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Jr(n,e,r);return i.customData._tokenResponse=t,i}function Ww(n){return n!==void 0&&n.enterprise!==void 0}class DO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return OO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LO(n,e){return Hi(n,"GET","/v2/recaptchaConfig",Hs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO(n,e){return Hi(n,"POST","/v1/accounts:delete",e)}async function Xd(n,e){return Hi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VO(n,e=!1){const t=Dt(n),r=await t.getIdToken(e),i=B_(r);Pe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:qc(og(i.auth_time)),issuedAtTime:qc(og(i.iat)),expirationTime:qc(og(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function og(n){return Number(n)*1e3}function B_(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Nd("JWT malformed, contained fewer than 3 sections"),null;try{const i=vb(t);return i?JSON.parse(i):(Nd("Failed to decode base64 JWT payload"),null)}catch(i){return Nd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Kw(n){const e=B_(n);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Rr&&FO(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function FO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qc(this.lastLoginAt),this.creationTime=qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jd(n){var e;const t=n.auth,r=await n.getIdToken(),i=await il(n,Xd(t,{idToken:r}));Pe(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?jb(o.providerUserInfo):[],c=UO(n.providerData,l),h=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),m=h?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new qg(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function jO(n){const e=Dt(n);await Jd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UO(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jb(n){return n.map(e=>{var{providerId:t}=e,r=$_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO(n,e){const t=await Fb(n,{},async()=>{const r=bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=await $b(n,i,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Vb.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function zO(n,e){return Hi(n,"POST","/v2/accounts:revokeToken",Hs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Kw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const t=Kw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await BO(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new Za;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Pe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Pe(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(n,e){Pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class br{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=$_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $O(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new qg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await il(this,this.stsTokenManager.getToken(this.auth,e));return Pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return VO(this,e)}reload(){return jO(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Jd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tr(this.auth.app))return Promise.reject(Ni(this.auth));const e=await this.getIdToken();return await il(this,MO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,c,h,f,m;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(i=t.email)!==null&&i!==void 0?i:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,b=(l=t.photoURL)!==null&&l!==void 0?l:void 0,I=(c=t.tenantId)!==null&&c!==void 0?c:void 0,A=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,N=(f=t.createdAt)!==null&&f!==void 0?f:void 0,V=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:U,emailVerified:z,isAnonymous:Q,providerData:Y,stsTokenManager:R}=t;Pe(U&&R,e,"internal-error");const x=Za.fromJSON(this.name,R);Pe(typeof U=="string",e,"internal-error"),ys(v,e.name),ys(E,e.name),Pe(typeof z=="boolean",e,"internal-error"),Pe(typeof Q=="boolean",e,"internal-error"),ys(T,e.name),ys(b,e.name),ys(I,e.name),ys(A,e.name),ys(N,e.name),ys(V,e.name);const k=new br({uid:U,auth:e,email:E,emailVerified:z,displayName:v,isAnonymous:Q,photoURL:b,phoneNumber:T,tenantId:I,stsTokenManager:x,createdAt:N,lastLoginAt:V});return Y&&Array.isArray(Y)&&(k.providerData=Y.map(O=>Object.assign({},O))),A&&(k._redirectEventId=A),k}static async _fromIdTokenResponse(e,t,r=!1){const i=new Za;i.updateFromServerResponse(t);const o=new br({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Jd(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Pe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?jb(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new Za;c.updateFromIdToken(r);const h=new br({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new qg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=new Map;function Ri(n){$i(n instanceof Function,"Expected a class definition");let e=qw.get(n);return e?($i(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,qw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ub.type="NONE";const Gw=Ub;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(n,e,t){return`firebase:${n}:${e}:${t}`}class el{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Dd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Dd("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Xd(this.auth,{idToken:e}).catch(()=>{});return t?br._fromGetAccountInfoResponse(this.auth,t,e):null}return br._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new el(Ri(Gw),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Ri(Gw);const l=Dd(r,e.config.apiKey,e.name);let c=null;for(const f of t)try{const m=await f._get(l);if(m){let v;if(typeof m=="string"){const E=await Xd(e,{idToken:m}).catch(()=>{});if(!E)break;v=await br._fromGetAccountInfoResponse(e,E,m)}else v=br._fromJSON(e,m);f!==o&&(c=v),o=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new el(o,e,r):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new el(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Bb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qb(e))return"Blackberry";if(Gb(e))return"Webos";if(zb(e))return"Safari";if((e.includes("chrome/")||Hb(e))&&!e.includes("edge/"))return"Chrome";if(Kb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Bb(n=on()){return/firefox\//i.test(n)}function zb(n=on()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hb(n=on()){return/crios\//i.test(n)}function Wb(n=on()){return/iemobile/i.test(n)}function Kb(n=on()){return/android/i.test(n)}function qb(n=on()){return/blackberry/i.test(n)}function Gb(n=on()){return/webos/i.test(n)}function z_(n=on()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function HO(n=on()){var e;return z_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function WO(){return rP()&&document.documentMode===10}function Yb(n=on()){return z_(n)||Kb(n)||Gb(n)||qb(n)||/windows phone/i.test(n)||Wb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(n,e=[]){let t;switch(n){case"Browser":t=Yw(on());break;case"Worker":t=`${Yw(on())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Il}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(n,e={}){return Hi(n,"GET","/v2/passwordPolicy",Hs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=6;class YO{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:GO,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qw(this),this.idTokenSubscription=new Qw(this),this.beforeStateQueue=new KO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ri(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await el.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Xd(this,{idToken:e}),r=await br._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(tr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Jd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tr(this.app))return Promise.reject(Ni(this));const t=e?Dt(e):null;return t&&Pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tr(this.app)?Promise.reject(Ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tr(this.app)?Promise.reject(Ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qO(this),t=new YO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ko("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await zO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ri(e)||this._popupRedirectResolver;Pe(t,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[Ri(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&IO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Go(n){return Dt(n)}class Qw{constructor(e){this.auth=e,this.observer=null,this.addObserver=uP(t=>this.observer=t)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $f={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XO(n){$f=n}function Xb(n){return $f.loadJS(n)}function JO(){return $f.recaptchaEnterpriseScript}function ZO(){return $f.gapiScript}function eN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class tN{constructor(){this.enterprise=new nN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class nN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const rN="recaptcha-enterprise",Jb="NO_RECAPTCHA";class iN{constructor(e){this.type=rN,this.auth=Go(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{LO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new DO(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{c(h)})})}function i(o,l,c){const h=window.grecaptcha;Ww(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(Jb)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tN().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!t&&Ww(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=JO();h.length!==0&&(h+=c),Xb(h).then(()=>{i(c,o,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function Xw(n,e,t,r=!1,i=!1){const o=new iN(n);let l;if(i)l=Jb;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Gg(n,e,t,r,i){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Xw(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Xw(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(n,e){const t=qo(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Vi(o,e??{}))return i;Cr(i,"already-initialized")}return t.initialize({options:e})}function oN(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ri);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function aN(n,e,t){const r=Go(n);Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=Zb(e),{host:l,port:c}=lN(e),h=c===null?"":`:${c}`,f={url:`${o}//${l}${h}/`},m=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Pe(Vi(f,r.config.emulator)&&Vi(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Su(l)?(Sb(`${o}//${l}${h}`),bb("Auth",!0)):cN()}function Zb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function lN(n){const e=Zb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Jw(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:Jw(l)}}}function Jw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function cN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ki("not implemented")}_getIdTokenResponse(e){return ki("not implemented")}_linkToIdToken(e,t){return ki("not implemented")}_getReauthenticationResolver(e){return ki("not implemented")}}async function uN(n,e){return Hi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(n,e){return Au(n,"POST","/v1/accounts:signInWithPassword",Hs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(n,e){return Au(n,"POST","/v1/accounts:signInWithEmailLink",Hs(n,e))}async function fN(n,e){return Au(n,"POST","/v1/accounts:signInWithEmailLink",Hs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends H_{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new cu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new cu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gg(e,t,"signInWithPassword",hN);case"emailLink":return dN(e,{email:this._email,oobCode:this._password});default:Cr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gg(e,r,"signUpPassword",uN);case"emailLink":return fN(e,{idToken:t,email:this._email,oobCode:this._password});default:Cr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(n,e){return Au(n,"POST","/v1/accounts:signInWithIdp",Hs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="http://localhost";class Mo extends H_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=$_(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Mo(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return tl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,tl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,tl(e,t)}buildRequest(){const e={requestUri:pN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gN(n){const e=Lc(Mc(n)).link,t=e?Lc(Mc(e)).deep_link_id:null,r=Lc(Mc(n)).deep_link_id;return(r?Lc(Mc(r)).link:null)||r||t||e||n}class W_{constructor(e){var t,r,i,o,l,c;const h=Lc(Mc(e)),f=(t=h.apiKey)!==null&&t!==void 0?t:null,m=(r=h.oobCode)!==null&&r!==void 0?r:null,v=mN((i=h.mode)!==null&&i!==void 0?i:null);Pe(f&&m&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=m,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=gN(e);try{return new W_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.providerId=Al.PROVIDER_ID}static credential(e,t){return cu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=W_.parseLink(t);return Pe(r,"argument-error"),cu._fromEmailAndCode(e,r.code,r.tenantId)}}Al.PROVIDER_ID="password";Al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends eI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Cu{constructor(){super("facebook.com")}static credential(e){return Mo._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Mo._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ts.credential(t,r)}catch{return null}}}Ts.GOOGLE_SIGN_IN_METHOD="google.com";Ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Cu{constructor(){super("github.com")}static credential(e){return Mo._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.GITHUB_SIGN_IN_METHOD="github.com";Ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Cu{constructor(){super("twitter.com")}static credential(e,t){return Mo._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return bs.credential(t,r)}catch{return null}}}bs.TWITTER_SIGN_IN_METHOD="twitter.com";bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(n,e){return Au(n,"POST","/v1/accounts:signUp",Hs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await br._fromIdTokenResponse(e,r,i),l=Zw(r);return new Vo({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=Zw(r);return new Vo({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function Zw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd extends Rr{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Zd.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Zd(e,t,r,i)}}function tI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Zd._fromErrorAndOperation(n,o,e,r):o})}async function yN(n,e,t=!1){const r=await il(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Vo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(n,e,t=!1){const{auth:r}=n;if(tr(r.app))return Promise.reject(Ni(r));const i="reauthenticate";try{const o=await il(n,tI(r,i,e,n),t);Pe(o.idToken,r,"internal-error");const l=B_(o.idToken);Pe(l,r,"internal-error");const{sub:c}=l;return Pe(n.uid===c,r,"user-mismatch"),Vo._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Cr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(n,e,t=!1){if(tr(n.app))return Promise.reject(Ni(n));const r="signIn",i=await tI(n,r,e),o=await Vo._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function EN(n,e){return nI(Go(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(n){const e=Go(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wN(n,e,t){if(tr(n.app))return Promise.reject(Ni(n));const r=Go(n),l=await Gg(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_N).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&rI(n),h}),c=await Vo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function TN(n,e,t){return tr(n.app)?Promise.reject(Ni(n)):EN(Dt(n),Al.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rI(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(n,e){return Hi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Dt(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await il(r,SN(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function IN(n,e,t,r){return Dt(n).onIdTokenChanged(e,t,r)}function AN(n,e,t){return Dt(n).beforeAuthStateChanged(e,t)}function iI(n,e,t,r){return Dt(n).onAuthStateChanged(e,t,r)}function sI(n){return Dt(n).signOut()}const ef="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=1e3,xN=10;class aI extends oI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);WO()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,xN):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},CN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}aI.type="LOCAL";const kN=aI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI extends oI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}lI.type="SESSION";const cI=lI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new jf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(t.origin,o)),h=await RN(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const f=K_("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(v){const E=v;if(E.data.eventId===f)switch(E.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(E.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function ON(n){Zr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function NN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function LN(){return uI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="firebaseLocalStorageDb",MN=1,tf="firebaseLocalStorage",dI="fbase_key";class xu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Uf(n,e){return n.transaction([tf],e?"readwrite":"readonly").objectStore(tf)}function VN(){const n=indexedDB.deleteDatabase(hI);return new xu(n).toPromise()}function Yg(){const n=indexedDB.open(hI,MN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(tf,{keyPath:dI})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(tf)?e(r):(r.close(),await VN(),e(await Yg()))})})}async function e0(n,e,t){const r=Uf(n,!0).put({[dI]:e,value:t});return new xu(r).toPromise()}async function FN(n,e){const t=Uf(n,!1).get(e),r=await new xu(t).toPromise();return r===void 0?null:r.value}function t0(n,e){const t=Uf(n,!0).delete(e);return new xu(t).toPromise()}const $N=800,jN=3;class fI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>jN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jf._getInstance(LN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await NN(),!this.activeServiceWorker)return;this.sender=new PN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yg();return await e0(e,ef,"1"),await t0(e,ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>e0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>FN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>t0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Uf(i,!1).getAll();return new xu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$N)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fI.type="LOCAL";const UN=fI;new Iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(n,e){return e?Ri(e):(Pe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_ extends H_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return tl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function zN(n){return nI(n.auth,new q_(n),n.bypassAuthState)}function HN(n){const{auth:e,user:t}=n;return Pe(t,e,"internal-error"),vN(t,new q_(n),n.bypassAuthState)}async function WN(n){const{auth:e,user:t}=n;return Pe(t,e,"internal-error"),yN(t,new q_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zN;case"linkViaPopup":case"linkViaRedirect":return WN;case"reauthViaPopup":case"reauthViaRedirect":return HN;default:Cr(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=new Iu(2e3,1e4);class Xa extends pI{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const e=K_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KN.get())};e()}}Xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="pendingRedirect",Ld=new Map;class GN extends pI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ld.get(this.auth._key());if(!e){try{const r=await YN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ld.set(this.auth._key(),e)}return this.bypassAuthState||Ld.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YN(n,e){const t=JN(e),r=XN(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function QN(n,e){Ld.set(n._key(),e)}function XN(n){return Ri(n._redirectPersistence)}function JN(n){return Dd(qN,n.config.apiKey,n.name)}async function ZN(n,e,t=!1){if(tr(n.app))return Promise.reject(Ni(n));const r=Go(n),i=BN(r,e),l=await new GN(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=10*60*1e3;class tD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!mI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Jr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eD&&this.cachedEventUids.clear(),this.cachedEventUids.has(n0(e))}saveEventToCache(e){this.cachedEventUids.add(n0(e)),this.lastProcessedEventTime=Date.now()}}function n0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function mI({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(n,e={}){return Hi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sD=/^https?/;async function oD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await rD(n);for(const t of e)try{if(aD(t))return}catch{}Cr(n,"unauthorized-domain")}function aD(n){const e=Kg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!sD.test(t))return!1;if(iD.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=new Iu(3e4,6e4);function r0(){const n=Zr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function cD(n){return new Promise((e,t)=>{var r,i,o;function l(){r0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{r0(),t(Jr(n,"network-request-failed"))},timeout:lD.get()})}if(!((i=(r=Zr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Zr().gapi)===null||o===void 0)&&o.load)l();else{const c=eN("iframefcb");return Zr()[c]=()=>{gapi.load?l():t(Jr(n,"network-request-failed"))},Xb(`${ZO()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw Md=null,e})}let Md=null;function uD(n){return Md=Md||cD(n),Md}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new Iu(5e3,15e3),dD="__/auth/iframe",fD="emulator/auth/iframe",pD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gD(n){const e=n.config;Pe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?U_(e,fD):`https://${n.config.authDomain}/${dD}`,r={apiKey:e.apiKey,appName:n.name,v:Il},i=mD.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${bu(r).slice(1)}`}async function _D(n){const e=await uD(n),t=Zr().gapi;return Pe(t,n,"internal-error"),e.open({where:document.body,url:gD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pD,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Jr(n,"network-request-failed"),c=Zr().setTimeout(()=>{o(l)},hD.get());function h(){Zr().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vD=500,ED=600,wD="_blank",TD="http://localhost";class i0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SD(n,e,t,r=vD,i=ED){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},yD),{width:r.toString(),height:i.toString(),top:o,left:l}),f=on().toLowerCase();t&&(c=Hb(f)?wD:t),Bb(f)&&(e=e||TD,h.scrollbars="yes");const m=Object.entries(h).reduce((E,[T,b])=>`${E}${T}=${b},`,"");if(HO(f)&&c!=="_self")return bD(e||"",c),new i0(null);const v=window.open(e||"",c,m);Pe(v,n,"popup-blocked");try{v.focus()}catch{}return new i0(v)}function bD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="__/auth/handler",AD="emulator/auth/handler",CD=encodeURIComponent("fac");async function s0(n,e,t,r,i,o){Pe(n.config.authDomain,n,"auth-domain-config-required"),Pe(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Il,eventId:i};if(e instanceof eI){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",cP(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries({}))l[m]=v}if(e instanceof Cu){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await n._getAppCheckToken(),f=h?`#${CD}=${encodeURIComponent(h)}`:"";return`${xD(n)}?${bu(c).slice(1)}${f}`}function xD({config:n}){return n.emulator?U_(n,AD):`https://${n.authDomain}/${ID}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="webStorageSupport";class kD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cI,this._completeRedirectFn=ZN,this._overrideRedirectResult=QN}async _openPopup(e,t,r,i){var o;$i((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await s0(e,t,r,Kg(),i);return SD(e,l,K_())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await s0(e,t,r,Kg(),i);return ON(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):($i(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await _D(e),r=new tD(e);return t.register("authEvent",i=>(Pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ag,{type:ag},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[ag];l!==void 0&&t(!!l),Cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=oD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Yb()||zb()||z_()}}const RD=kD;var o0="@firebase/auth",a0="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ND(n){si(new Ar("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Pe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qb(n)},f=new QO(r,i,o,h);return oN(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),si(new Ar("auth-internal",e=>{const t=Go(e.getProvider("auth").getImmediate());return(r=>new PD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(o0,a0,OD(n)),rr(o0,a0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=5*60,LD=Tb("authIdTokenMaxAge")||DD;let l0=null;const MD=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>LD)return;const i=t==null?void 0:t.token;l0!==i&&(l0=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function VD(n=F_()){const e=qo(n,"auth");if(e.isInitialized())return e.getImmediate();const t=sN(n,{popupRedirectResolver:RD,persistence:[UN,kN,cI]}),r=Tb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=MD(o.toString());AN(t,l,()=>l(t.currentUser)),IN(t,c=>l(c))}}const i=Eb("auth");return i&&aN(t,`http://${i}`),t}function FD(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}XO({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Jr("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",FD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ND("Browser");var $D="firebase",jD="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr($D,jD,"app");const gI="@firebase/installations",G_="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=1e4,yI=`w:${G_}`,vI="FIS_v2",UD="https://firebaseinstallations.googleapis.com/v1",BD=60*60*1e3,zD="installations",HD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fo=new Ko(zD,HD,WD);function EI(n){return n instanceof Rr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI({projectId:n}){return`${UD}/projects/${n}/installations`}function TI(n){return{token:n.token,requestStatus:2,expiresIn:qD(n.expiresIn),creationTime:Date.now()}}async function SI(n,e){const r=(await e.json()).error;return Fo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function bI({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function KD(n,{refreshToken:e}){const t=bI(n);return t.append("Authorization",GD(e)),t}async function II(n){const e=await n();return e.status>=500&&e.status<600?n():e}function qD(n){return Number(n.replace("s","000"))}function GD(n){return`${vI} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=wI(n),i=bI(n),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const l={fid:t,authVersion:vI,appId:n.appId,sdkVersion:yI},c={method:"POST",headers:i,body:JSON.stringify(l)},h=await II(()=>fetch(r,c));if(h.ok){const f=await h.json();return{fid:f.fid||t,registrationStatus:2,refreshToken:f.refreshToken,authToken:TI(f.authToken)}}else throw await SI("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=/^[cdef][\w-]{21}$/,Qg="";function JD(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=ZD(n);return XD.test(t)?t:Qg}catch{return Qg}}function ZD(n){return QD(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=new Map;function xI(n,e){const t=Bf(n);kI(t,e),e2(t,e)}function kI(n,e){const t=CI.get(n);if(t)for(const r of t)r(e)}function e2(n,e){const t=t2();t&&t.postMessage({key:n,fid:e}),n2()}let ko=null;function t2(){return!ko&&"BroadcastChannel"in self&&(ko=new BroadcastChannel("[Firebase] FID Change"),ko.onmessage=n=>{kI(n.data.key,n.data.fid)}),ko}function n2(){CI.size===0&&ko&&(ko.close(),ko=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="firebase-installations-database",i2=1,$o="firebase-installations-store";let lg=null;function Y_(){return lg||(lg=Rb(r2,i2,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore($o)}}})),lg}async function nf(n,e){const t=Bf(n),i=(await Y_()).transaction($o,"readwrite"),o=i.objectStore($o),l=await o.get(t);return await o.put(e,t),await i.done,(!l||l.fid!==e.fid)&&xI(n,e.fid),e}async function RI(n){const e=Bf(n),r=(await Y_()).transaction($o,"readwrite");await r.objectStore($o).delete(e),await r.done}async function zf(n,e){const t=Bf(n),i=(await Y_()).transaction($o,"readwrite"),o=i.objectStore($o),l=await o.get(t),c=e(l);return c===void 0?await o.delete(t):await o.put(c,t),await i.done,c&&(!l||l.fid!==c.fid)&&xI(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q_(n){let e;const t=await zf(n.appConfig,r=>{const i=s2(r),o=o2(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===Qg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function s2(n){const e=n||{fid:JD(),registrationStatus:0};return PI(e)}function o2(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Fo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=a2(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:l2(n)}:{installationEntry:e}}async function a2(n,e){try{const t=await YD(n,e);return nf(n.appConfig,t)}catch(t){throw EI(t)&&t.customData.serverCode===409?await RI(n.appConfig):await nf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function l2(n){let e=await c0(n.appConfig);for(;e.registrationStatus===1;)await AI(100),e=await c0(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Q_(n);return r||t}return e}function c0(n){return zf(n,e=>{if(!e)throw Fo.create("installation-not-found");return PI(e)})}function PI(n){return c2(n)?{fid:n.fid,registrationStatus:0}:n}function c2(n){return n.registrationStatus===1&&n.registrationTime+_I<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2({appConfig:n,heartbeatServiceProvider:e},t){const r=h2(n,t),i=KD(n,t),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const l={installation:{sdkVersion:yI,appId:n.appId}},c={method:"POST",headers:i,body:JSON.stringify(l)},h=await II(()=>fetch(r,c));if(h.ok){const f=await h.json();return TI(f)}else throw await SI("Generate Auth Token",h)}function h2(n,{fid:e}){return`${wI(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X_(n,e=!1){let t;const r=await zf(n.appConfig,o=>{if(!OI(o))throw Fo.create("not-registered");const l=o.authToken;if(!e&&p2(l))return o;if(l.requestStatus===1)return t=d2(n,e),o;{if(!navigator.onLine)throw Fo.create("app-offline");const c=g2(o);return t=f2(n,c),c}});return t?await t:r.authToken}async function d2(n,e){let t=await u0(n.appConfig);for(;t.authToken.requestStatus===1;)await AI(100),t=await u0(n.appConfig);const r=t.authToken;return r.requestStatus===0?X_(n,e):r}function u0(n){return zf(n,e=>{if(!OI(e))throw Fo.create("not-registered");const t=e.authToken;return _2(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function f2(n,e){try{const t=await u2(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await nf(n.appConfig,r),t}catch(t){if(EI(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await RI(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await nf(n.appConfig,r)}throw t}}function OI(n){return n!==void 0&&n.registrationStatus===2}function p2(n){return n.requestStatus===2&&!m2(n)}function m2(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+BD}function g2(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function _2(n){return n.requestStatus===1&&n.requestTime+_I<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2(n){const e=n,{installationEntry:t,registrationPromise:r}=await Q_(e);return r?r.catch(console.error):X_(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(n,e=!1){const t=n;return await E2(t),(await X_(t,e)).token}async function E2(n){const{registrationPromise:e}=await Q_(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(n){if(!n||!n.options)throw cg("App Configuration");if(!n.name)throw cg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw cg(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function cg(n){return Fo.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="installations",T2="installations-internal",S2=n=>{const e=n.getProvider("app").getImmediate(),t=w2(e),r=qo(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},b2=n=>{const e=n.getProvider("app").getImmediate(),t=qo(e,NI).getImmediate();return{getId:()=>y2(t),getToken:i=>v2(t,i)}};function I2(){si(new Ar(NI,S2,"PUBLIC")),si(new Ar(T2,b2,"PRIVATE"))}I2();rr(gI,G_);rr(gI,G_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="analytics",A2="firebase_id",C2="origin",x2=60*1e3,k2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",J_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn=new Ff("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Fn=new Ko("analytics","Analytics",R2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(n){if(!n.startsWith(J_)){const e=Fn.create("invalid-gtag-resource",{gtagURL:n});return xn.warn(e.message),""}return n}function DI(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function O2(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function N2(n,e){const t=O2("firebase-js-sdk-policy",{createScriptURL:P2}),r=document.createElement("script"),i=`${J_}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function D2(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function L2(n,e,t,r,i,o){const l=r[i];try{if(l)await e[l];else{const h=(await DI(t)).find(f=>f.measurementId===i);h&&await e[h.appId]}}catch(c){xn.error(c)}n("config",i,o)}async function M2(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const c=await DI(t);for(const h of l){const f=c.find(v=>v.measurementId===h),m=f&&e[f.appId];if(m)o.push(m);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),n("event",r,i||{})}catch(o){xn.error(o)}}function V2(n,e,t,r){async function i(o,...l){try{if(o==="event"){const[c,h]=l;await M2(n,e,t,c,h)}else if(o==="config"){const[c,h]=l;await L2(n,e,t,r,c,h)}else if(o==="consent"){const[c,h]=l;n("consent",c,h)}else if(o==="get"){const[c,h,f]=l;n("get",c,h,f)}else if(o==="set"){const[c]=l;n("set",c)}else n(o,...l)}catch(c){xn.error(c)}}return i}function F2(n,e,t,r,i){let o=function(...l){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=V2(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}function $2(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(J_)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=30,U2=1e3;class B2{constructor(e={},t=U2){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const LI=new B2;function z2(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function H2(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:z2(r)},o=k2.replace("{app-id}",t),l=await fetch(o,i);if(l.status!==200&&l.status!==304){let c="";try{const h=await l.json();!((e=h.error)===null||e===void 0)&&e.message&&(c=h.error.message)}catch{}throw Fn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function W2(n,e=LI,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw Fn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Fn.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new G2;return setTimeout(async()=>{c.abort()},x2),MI({appId:r,apiKey:i,measurementId:o},l,c,e)}async function MI(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=LI){var o;const{appId:l,measurementId:c}=n;try{await K2(r,e)}catch(h){if(c)return xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:c};throw h}try{const h=await H2(n);return i.deleteThrottleMetadata(l),h}catch(h){const f=h;if(!q2(f)){if(i.deleteThrottleMetadata(l),c)return xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:c};throw h}const m=Number((o=f==null?void 0:f.customData)===null||o===void 0?void 0:o.httpStatus)===503?Lw(t,i.intervalMillis,j2):Lw(t,i.intervalMillis),v={throttleEndTimeMillis:Date.now()+m,backoffCount:t+1};return i.setThrottleMetadata(l,v),xn.debug(`Calling attemptFetch again in ${m} millis`),MI(n,v,r,i)}}function K2(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function q2(n){if(!(n instanceof Rr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class G2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Y2(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const o=await e,l=Object.assign(Object.assign({},r),{send_to:o});n("event",t,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(){if(Ab())try{await Cb()}catch(n){return xn.warn(Fn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return xn.warn(Fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function X2(n,e,t,r,i,o,l){var c;const h=W2(n);h.then(T=>{t[T.measurementId]=T.appId,n.options.measurementId&&T.measurementId!==n.options.measurementId&&xn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>xn.error(T)),e.push(h);const f=Q2().then(T=>{if(T)return r.getId()}),[m,v]=await Promise.all([h,f]);$2(o)||N2(o,m.measurementId),i("js",new Date);const E=(c=l==null?void 0:l.config)!==null&&c!==void 0?c:{};return E[C2]="firebase",E.update=!0,v!=null&&(E[A2]=v),i("config",m.measurementId,E),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.app=e}_delete(){return delete Gc[this.app.options.appId],Promise.resolve()}}let Gc={},h0=[];const d0={};let ug="dataLayer",Z2="gtag",f0,VI,p0=!1;function eL(){const n=[];if(Ib()&&n.push("This is a browser extension environment."),sP()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Fn.create("invalid-analytics-context",{errorInfo:e});xn.warn(t.message)}}function tL(n,e,t){eL();const r=n.options.appId;if(!r)throw Fn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Fn.create("no-api-key");if(Gc[r]!=null)throw Fn.create("already-exists",{id:r});if(!p0){D2(ug);const{wrappedGtag:o,gtagCore:l}=F2(Gc,h0,d0,ug,Z2);VI=o,f0=l,p0=!0}return Gc[r]=X2(n,h0,d0,e,f0,ug,t),new J2(n)}function nL(n=F_()){n=Dt(n);const e=qo(n,rf);return e.isInitialized()?e.getImmediate():rL(n)}function rL(n,e={}){const t=qo(n,rf);if(t.isInitialized()){const i=t.getImmediate();if(Vi(e,t.getOptions()))return i;throw Fn.create("already-initialized")}return t.initialize({options:e})}function iL(n,e,t,r){n=Dt(n),Y2(VI,Gc[n.app.options.appId],e,t,r).catch(i=>xn.error(i))}const m0="@firebase/analytics",g0="0.10.16";function sL(){si(new Ar(rf,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return tL(r,i,t)},"PUBLIC")),si(new Ar("analytics-internal",n,"PRIVATE")),rr(m0,g0),rr(m0,g0,"esm2017");function n(e){try{const t=e.getProvider(rf).getImmediate();return{logEvent:(r,i,o)=>iL(t,r,i,o)}}catch(t){throw Fn.create("interop-component-reg-failed",{reason:t})}}}sL();var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rs,FI;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,x){function k(){}k.prototype=x.prototype,R.D=x.prototype,R.prototype=new k,R.prototype.constructor=R,R.C=function(O,L,M){for(var P=Array(arguments.length-2),De=2;De<arguments.length;De++)P[De-2]=arguments[De];return x.prototype[L].apply(O,P)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,x,k){k||(k=0);var O=Array(16);if(typeof x=="string")for(var L=0;16>L;++L)O[L]=x.charCodeAt(k++)|x.charCodeAt(k++)<<8|x.charCodeAt(k++)<<16|x.charCodeAt(k++)<<24;else for(L=0;16>L;++L)O[L]=x[k++]|x[k++]<<8|x[k++]<<16|x[k++]<<24;x=R.g[0],k=R.g[1],L=R.g[2];var M=R.g[3],P=x+(M^k&(L^M))+O[0]+3614090360&4294967295;x=k+(P<<7&4294967295|P>>>25),P=M+(L^x&(k^L))+O[1]+3905402710&4294967295,M=x+(P<<12&4294967295|P>>>20),P=L+(k^M&(x^k))+O[2]+606105819&4294967295,L=M+(P<<17&4294967295|P>>>15),P=k+(x^L&(M^x))+O[3]+3250441966&4294967295,k=L+(P<<22&4294967295|P>>>10),P=x+(M^k&(L^M))+O[4]+4118548399&4294967295,x=k+(P<<7&4294967295|P>>>25),P=M+(L^x&(k^L))+O[5]+1200080426&4294967295,M=x+(P<<12&4294967295|P>>>20),P=L+(k^M&(x^k))+O[6]+2821735955&4294967295,L=M+(P<<17&4294967295|P>>>15),P=k+(x^L&(M^x))+O[7]+4249261313&4294967295,k=L+(P<<22&4294967295|P>>>10),P=x+(M^k&(L^M))+O[8]+1770035416&4294967295,x=k+(P<<7&4294967295|P>>>25),P=M+(L^x&(k^L))+O[9]+2336552879&4294967295,M=x+(P<<12&4294967295|P>>>20),P=L+(k^M&(x^k))+O[10]+4294925233&4294967295,L=M+(P<<17&4294967295|P>>>15),P=k+(x^L&(M^x))+O[11]+2304563134&4294967295,k=L+(P<<22&4294967295|P>>>10),P=x+(M^k&(L^M))+O[12]+1804603682&4294967295,x=k+(P<<7&4294967295|P>>>25),P=M+(L^x&(k^L))+O[13]+4254626195&4294967295,M=x+(P<<12&4294967295|P>>>20),P=L+(k^M&(x^k))+O[14]+2792965006&4294967295,L=M+(P<<17&4294967295|P>>>15),P=k+(x^L&(M^x))+O[15]+1236535329&4294967295,k=L+(P<<22&4294967295|P>>>10),P=x+(L^M&(k^L))+O[1]+4129170786&4294967295,x=k+(P<<5&4294967295|P>>>27),P=M+(k^L&(x^k))+O[6]+3225465664&4294967295,M=x+(P<<9&4294967295|P>>>23),P=L+(x^k&(M^x))+O[11]+643717713&4294967295,L=M+(P<<14&4294967295|P>>>18),P=k+(M^x&(L^M))+O[0]+3921069994&4294967295,k=L+(P<<20&4294967295|P>>>12),P=x+(L^M&(k^L))+O[5]+3593408605&4294967295,x=k+(P<<5&4294967295|P>>>27),P=M+(k^L&(x^k))+O[10]+38016083&4294967295,M=x+(P<<9&4294967295|P>>>23),P=L+(x^k&(M^x))+O[15]+3634488961&4294967295,L=M+(P<<14&4294967295|P>>>18),P=k+(M^x&(L^M))+O[4]+3889429448&4294967295,k=L+(P<<20&4294967295|P>>>12),P=x+(L^M&(k^L))+O[9]+568446438&4294967295,x=k+(P<<5&4294967295|P>>>27),P=M+(k^L&(x^k))+O[14]+3275163606&4294967295,M=x+(P<<9&4294967295|P>>>23),P=L+(x^k&(M^x))+O[3]+4107603335&4294967295,L=M+(P<<14&4294967295|P>>>18),P=k+(M^x&(L^M))+O[8]+1163531501&4294967295,k=L+(P<<20&4294967295|P>>>12),P=x+(L^M&(k^L))+O[13]+2850285829&4294967295,x=k+(P<<5&4294967295|P>>>27),P=M+(k^L&(x^k))+O[2]+4243563512&4294967295,M=x+(P<<9&4294967295|P>>>23),P=L+(x^k&(M^x))+O[7]+1735328473&4294967295,L=M+(P<<14&4294967295|P>>>18),P=k+(M^x&(L^M))+O[12]+2368359562&4294967295,k=L+(P<<20&4294967295|P>>>12),P=x+(k^L^M)+O[5]+4294588738&4294967295,x=k+(P<<4&4294967295|P>>>28),P=M+(x^k^L)+O[8]+2272392833&4294967295,M=x+(P<<11&4294967295|P>>>21),P=L+(M^x^k)+O[11]+1839030562&4294967295,L=M+(P<<16&4294967295|P>>>16),P=k+(L^M^x)+O[14]+4259657740&4294967295,k=L+(P<<23&4294967295|P>>>9),P=x+(k^L^M)+O[1]+2763975236&4294967295,x=k+(P<<4&4294967295|P>>>28),P=M+(x^k^L)+O[4]+1272893353&4294967295,M=x+(P<<11&4294967295|P>>>21),P=L+(M^x^k)+O[7]+4139469664&4294967295,L=M+(P<<16&4294967295|P>>>16),P=k+(L^M^x)+O[10]+3200236656&4294967295,k=L+(P<<23&4294967295|P>>>9),P=x+(k^L^M)+O[13]+681279174&4294967295,x=k+(P<<4&4294967295|P>>>28),P=M+(x^k^L)+O[0]+3936430074&4294967295,M=x+(P<<11&4294967295|P>>>21),P=L+(M^x^k)+O[3]+3572445317&4294967295,L=M+(P<<16&4294967295|P>>>16),P=k+(L^M^x)+O[6]+76029189&4294967295,k=L+(P<<23&4294967295|P>>>9),P=x+(k^L^M)+O[9]+3654602809&4294967295,x=k+(P<<4&4294967295|P>>>28),P=M+(x^k^L)+O[12]+3873151461&4294967295,M=x+(P<<11&4294967295|P>>>21),P=L+(M^x^k)+O[15]+530742520&4294967295,L=M+(P<<16&4294967295|P>>>16),P=k+(L^M^x)+O[2]+3299628645&4294967295,k=L+(P<<23&4294967295|P>>>9),P=x+(L^(k|~M))+O[0]+4096336452&4294967295,x=k+(P<<6&4294967295|P>>>26),P=M+(k^(x|~L))+O[7]+1126891415&4294967295,M=x+(P<<10&4294967295|P>>>22),P=L+(x^(M|~k))+O[14]+2878612391&4294967295,L=M+(P<<15&4294967295|P>>>17),P=k+(M^(L|~x))+O[5]+4237533241&4294967295,k=L+(P<<21&4294967295|P>>>11),P=x+(L^(k|~M))+O[12]+1700485571&4294967295,x=k+(P<<6&4294967295|P>>>26),P=M+(k^(x|~L))+O[3]+2399980690&4294967295,M=x+(P<<10&4294967295|P>>>22),P=L+(x^(M|~k))+O[10]+4293915773&4294967295,L=M+(P<<15&4294967295|P>>>17),P=k+(M^(L|~x))+O[1]+2240044497&4294967295,k=L+(P<<21&4294967295|P>>>11),P=x+(L^(k|~M))+O[8]+1873313359&4294967295,x=k+(P<<6&4294967295|P>>>26),P=M+(k^(x|~L))+O[15]+4264355552&4294967295,M=x+(P<<10&4294967295|P>>>22),P=L+(x^(M|~k))+O[6]+2734768916&4294967295,L=M+(P<<15&4294967295|P>>>17),P=k+(M^(L|~x))+O[13]+1309151649&4294967295,k=L+(P<<21&4294967295|P>>>11),P=x+(L^(k|~M))+O[4]+4149444226&4294967295,x=k+(P<<6&4294967295|P>>>26),P=M+(k^(x|~L))+O[11]+3174756917&4294967295,M=x+(P<<10&4294967295|P>>>22),P=L+(x^(M|~k))+O[2]+718787259&4294967295,L=M+(P<<15&4294967295|P>>>17),P=k+(M^(L|~x))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(L+(P<<21&4294967295|P>>>11))&4294967295,R.g[2]=R.g[2]+L&4294967295,R.g[3]=R.g[3]+M&4294967295}r.prototype.u=function(R,x){x===void 0&&(x=R.length);for(var k=x-this.blockSize,O=this.B,L=this.h,M=0;M<x;){if(L==0)for(;M<=k;)i(this,R,M),M+=this.blockSize;if(typeof R=="string"){for(;M<x;)if(O[L++]=R.charCodeAt(M++),L==this.blockSize){i(this,O),L=0;break}}else for(;M<x;)if(O[L++]=R[M++],L==this.blockSize){i(this,O),L=0;break}}this.h=L,this.o+=x},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;var k=8*this.o;for(x=R.length-8;x<R.length;++x)R[x]=k&255,k/=256;for(this.u(R),R=Array(16),x=k=0;4>x;++x)for(var O=0;32>O;O+=8)R[k++]=this.g[x]>>>O&255;return R};function o(R,x){var k=c;return Object.prototype.hasOwnProperty.call(k,R)?k[R]:k[R]=x(R)}function l(R,x){this.h=x;for(var k=[],O=!0,L=R.length-1;0<=L;L--){var M=R[L]|0;O&&M==x||(k[L]=M,O=!1)}this.g=k}var c={};function h(R){return-128<=R&&128>R?o(R,function(x){return new l([x|0],0>x?-1:0)}):new l([R|0],0>R?-1:0)}function f(R){if(isNaN(R)||!isFinite(R))return v;if(0>R)return A(f(-R));for(var x=[],k=1,O=0;R>=k;O++)x[O]=R/k|0,k*=4294967296;return new l(x,0)}function m(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return A(m(R.substring(1),x));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=f(Math.pow(x,8)),O=v,L=0;L<R.length;L+=8){var M=Math.min(8,R.length-L),P=parseInt(R.substring(L,L+M),x);8>M?(M=f(Math.pow(x,M)),O=O.j(M).add(f(P))):(O=O.j(k),O=O.add(f(P)))}return O}var v=h(0),E=h(1),T=h(16777216);n=l.prototype,n.m=function(){if(I(this))return-A(this).m();for(var R=0,x=1,k=0;k<this.g.length;k++){var O=this.i(k);R+=(0<=O?O:4294967296+O)*x,x*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(b(this))return"0";if(I(this))return"-"+A(this).toString(R);for(var x=f(Math.pow(R,6)),k=this,O="";;){var L=z(k,x).g;k=N(k,L.j(x));var M=((0<k.g.length?k.g[0]:k.h)>>>0).toString(R);if(k=L,b(k))return M+O;for(;6>M.length;)M="0"+M;O=M+O}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function b(R){if(R.h!=0)return!1;for(var x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function I(R){return R.h==-1}n.l=function(R){return R=N(this,R),I(R)?-1:b(R)?0:1};function A(R){for(var x=R.g.length,k=[],O=0;O<x;O++)k[O]=~R.g[O];return new l(k,~R.h).add(E)}n.abs=function(){return I(this)?A(this):this},n.add=function(R){for(var x=Math.max(this.g.length,R.g.length),k=[],O=0,L=0;L<=x;L++){var M=O+(this.i(L)&65535)+(R.i(L)&65535),P=(M>>>16)+(this.i(L)>>>16)+(R.i(L)>>>16);O=P>>>16,M&=65535,P&=65535,k[L]=P<<16|M}return new l(k,k[k.length-1]&-2147483648?-1:0)};function N(R,x){return R.add(A(x))}n.j=function(R){if(b(this)||b(R))return v;if(I(this))return I(R)?A(this).j(A(R)):A(A(this).j(R));if(I(R))return A(this.j(A(R)));if(0>this.l(T)&&0>R.l(T))return f(this.m()*R.m());for(var x=this.g.length+R.g.length,k=[],O=0;O<2*x;O++)k[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<R.g.length;L++){var M=this.i(O)>>>16,P=this.i(O)&65535,De=R.i(L)>>>16,be=R.i(L)&65535;k[2*O+2*L]+=P*be,V(k,2*O+2*L),k[2*O+2*L+1]+=M*be,V(k,2*O+2*L+1),k[2*O+2*L+1]+=P*De,V(k,2*O+2*L+1),k[2*O+2*L+2]+=M*De,V(k,2*O+2*L+2)}for(O=0;O<x;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=x;O<2*x;O++)k[O]=0;return new l(k,0)};function V(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function U(R,x){this.g=R,this.h=x}function z(R,x){if(b(x))throw Error("division by zero");if(b(R))return new U(v,v);if(I(R))return x=z(A(R),x),new U(A(x.g),A(x.h));if(I(x))return x=z(R,A(x)),new U(A(x.g),x.h);if(30<R.g.length){if(I(R)||I(x))throw Error("slowDivide_ only works with positive integers.");for(var k=E,O=x;0>=O.l(R);)k=Q(k),O=Q(O);var L=Y(k,1),M=Y(O,1);for(O=Y(O,2),k=Y(k,2);!b(O);){var P=M.add(O);0>=P.l(R)&&(L=L.add(k),M=P),O=Y(O,1),k=Y(k,1)}return x=N(R,L.j(x)),new U(L,x)}for(L=v;0<=R.l(x);){for(k=Math.max(1,Math.floor(R.m()/x.m())),O=Math.ceil(Math.log(k)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),M=f(k),P=M.j(x);I(P)||0<P.l(R);)k-=O,M=f(k),P=M.j(x);b(M)&&(M=E),L=L.add(M),R=N(R,P)}return new U(L,R)}n.A=function(R){return z(this,R).h},n.and=function(R){for(var x=Math.max(this.g.length,R.g.length),k=[],O=0;O<x;O++)k[O]=this.i(O)&R.i(O);return new l(k,this.h&R.h)},n.or=function(R){for(var x=Math.max(this.g.length,R.g.length),k=[],O=0;O<x;O++)k[O]=this.i(O)|R.i(O);return new l(k,this.h|R.h)},n.xor=function(R){for(var x=Math.max(this.g.length,R.g.length),k=[],O=0;O<x;O++)k[O]=this.i(O)^R.i(O);return new l(k,this.h^R.h)};function Q(R){for(var x=R.g.length+1,k=[],O=0;O<x;O++)k[O]=R.i(O)<<1|R.i(O-1)>>>31;return new l(k,R.h)}function Y(R,x){var k=x>>5;x%=32;for(var O=R.g.length-k,L=[],M=0;M<O;M++)L[M]=0<x?R.i(M+k)>>>x|R.i(M+k+1)<<32-x:R.i(M+k);return new l(L,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,FI=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,Rs=l}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});var id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $I,Vc,jI,Vd,Xg,UI,BI,zI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,w){return d==Array.prototype||d==Object.prototype||(d[_]=w.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof id=="object"&&id];for(var _=0;_<d.length;++_){var w=d[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function i(d,_){if(_)e:{var w=r;d=d.split(".");for(var C=0;C<d.length-1;C++){var B=d[C];if(!(B in w))break e;w=w[B]}d=d[d.length-1],C=w[d],_=_(C),_!=C&&_!=null&&e(w,d,{configurable:!0,writable:!0,value:_})}}function o(d,_){d instanceof String&&(d+="");var w=0,C=!1,B={next:function(){if(!C&&w<d.length){var G=w++;return{value:_(G,d[G]),done:!1}}return C=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}i("Array.prototype.values",function(d){return d||function(){return o(this,function(_,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function f(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function m(d,_,w){return d.call.apply(d.bind,arguments)}function v(d,_,w){if(!d)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,C),d.apply(_,B)}}return function(){return d.apply(_,arguments)}}function E(d,_,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,E.apply(null,arguments)}function T(d,_){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),d.apply(this,C)}}function b(d,_){function w(){}w.prototype=_.prototype,d.aa=_.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(C,B,G){for(var ce=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)ce[Qe-2]=arguments[Qe];return _.prototype[B].apply(C,ce)}}function I(d){const _=d.length;if(0<_){const w=Array(_);for(let C=0;C<_;C++)w[C]=d[C];return w}return[]}function A(d,_){for(let w=1;w<arguments.length;w++){const C=arguments[w];if(h(C)){const B=d.length||0,G=C.length||0;d.length=B+G;for(let ce=0;ce<G;ce++)d[B+ce]=C[ce]}else d.push(C)}}class N{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function V(d){return/^[\s\xa0]*$/.test(d)}function U(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function z(d){return z[" "](d),d}z[" "]=function(){};var Q=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function Y(d,_,w){for(const C in d)_.call(w,d[C],C,d)}function R(d,_){for(const w in d)_.call(void 0,d[w],w,d)}function x(d){const _={};for(const w in d)_[w]=d[w];return _}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,_){let w,C;for(let B=1;B<arguments.length;B++){C=arguments[B];for(w in C)d[w]=C[w];for(let G=0;G<k.length;G++)w=k[G],Object.prototype.hasOwnProperty.call(C,w)&&(d[w]=C[w])}}function L(d){var _=1;d=d.split(":");const w=[];for(;0<_&&d.length;)w.push(d.shift()),_--;return d.length&&w.push(d.join(":")),w}function M(d){c.setTimeout(()=>{throw d},0)}function P(){var d=ue;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class De{constructor(){this.h=this.g=null}add(_,w){const C=be.get();C.set(_,w),this.h?this.h.next=C:this.g=C,this.h=C}}var be=new N(()=>new we,d=>d.reset());class we{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,re=!1,ue=new De,le=()=>{const d=c.Promise.resolve(void 0);ge=()=>{d.then(j)}};var j=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(w){M(w)}var _=be;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}re=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};c.addEventListener("test",w,_),c.removeEventListener("test",w,_)}catch{}return d}();function Se(d,_){if(fe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,C=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(Q){e:{try{z(_.nodeName);var B=!0;break e}catch{}B=!1}B||(_=null)}}else w=="mouseover"?_=d.fromElement:w=="mouseout"&&(_=d.toElement);this.relatedTarget=_,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ae[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Se.aa.h.call(this)}}b(Se,fe);var ae={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),he=0;function Re(d,_,w,C,B){this.listener=d,this.proxy=null,this.src=_,this.type=w,this.capture=!!C,this.ha=B,this.key=++he,this.da=this.fa=!1}function We(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ze(d){this.src=d,this.g={},this.h=0}Ze.prototype.add=function(d,_,w,C,B){var G=d.toString();d=this.g[G],d||(d=this.g[G]=[],this.h++);var ce=Yt(d,_,C,B);return-1<ce?(_=d[ce],w||(_.fa=!1)):(_=new Re(_,this.src,G,!!C,B),_.fa=w,d.push(_)),_};function ft(d,_){var w=_.type;if(w in d.g){var C=d.g[w],B=Array.prototype.indexOf.call(C,_,void 0),G;(G=0<=B)&&Array.prototype.splice.call(C,B,1),G&&(We(_),d.g[w].length==0&&(delete d.g[w],d.h--))}}function Yt(d,_,w,C){for(var B=0;B<d.length;++B){var G=d[B];if(!G.da&&G.listener==_&&G.capture==!!w&&G.ha==C)return B}return-1}var Lt="closure_lm_"+(1e6*Math.random()|0),fn={};function Or(d,_,w,C,B){if(Array.isArray(_)){for(var G=0;G<_.length;G++)Or(d,_[G],w,C,B);return null}return w=qi(w),d&&d[ve]?d.K(_,w,f(C)?!!C.capture:!1,B):Nr(d,_,w,!1,C,B)}function Nr(d,_,w,C,B,G){if(!_)throw Error("Invalid event type");var ce=f(B)?!!B.capture:!!B,Qe=ui(d);if(Qe||(d[Lt]=Qe=new Ze(d)),w=Qe.add(_,w,C,ce,G),w.proxy)return w;if(C=Ki(),w.proxy=C,C.src=d,C.listener=w,d.addEventListener)Te||(B=ce),B===void 0&&(B=!1),d.addEventListener(_.toString(),C,B);else if(d.attachEvent)d.attachEvent(Qt(_.toString()),C);else if(d.addListener&&d.removeListener)d.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ki(){function d(w){return _.call(d.src,d.listener,w)}const _=Dr;return d}function lr(d,_,w,C,B){if(Array.isArray(_))for(var G=0;G<_.length;G++)lr(d,_[G],w,C,B);else C=f(C)?!!C.capture:!!C,w=qi(w),d&&d[ve]?(d=d.i,_=String(_).toString(),_ in d.g&&(G=d.g[_],w=Yt(G,w,C,B),-1<w&&(We(G[w]),Array.prototype.splice.call(G,w,1),G.length==0&&(delete d.g[_],d.h--)))):d&&(d=ui(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Yt(_,w,C,B)),(w=-1<d?_[d]:null)&&At(w))}function At(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[ve])ft(_.i,d);else{var w=d.type,C=d.proxy;_.removeEventListener?_.removeEventListener(w,C,d.capture):_.detachEvent?_.detachEvent(Qt(w),C):_.addListener&&_.removeListener&&_.removeListener(C),(w=ui(_))?(ft(w,d),w.h==0&&(w.src=null,_[Lt]=null)):We(d)}}}function Qt(d){return d in fn?fn[d]:fn[d]="on"+d}function Dr(d,_){if(d.da)d=!0;else{_=new Se(_,this);var w=d.listener,C=d.ha||d.src;d.fa&&At(d),d=w.call(C,_)}return d}function ui(d){return d=d[Lt],d instanceof Ze?d:null}var Lr="__closure_events_fn_"+(1e9*Math.random()>>>0);function qi(d){return typeof d=="function"?d:(d[Lr]||(d[Lr]=function(_){return d.handleEvent(_)}),d[Lr])}function pt(){J.call(this),this.i=new Ze(this),this.M=this,this.F=null}b(pt,J),pt.prototype[ve]=!0,pt.prototype.removeEventListener=function(d,_,w,C){lr(this,d,_,w,C)};function mt(d,_){var w,C=d.F;if(C)for(w=[];C;C=C.F)w.push(C);if(d=d.M,C=_.type||_,typeof _=="string")_=new fe(_,d);else if(_ instanceof fe)_.target=_.target||d;else{var B=_;_=new fe(C,d),O(_,B)}if(B=!0,w)for(var G=w.length-1;0<=G;G--){var ce=_.g=w[G];B=zn(ce,C,!0,_)&&B}if(ce=_.g=d,B=zn(ce,C,!0,_)&&B,B=zn(ce,C,!1,_)&&B,w)for(G=0;G<w.length;G++)ce=_.g=w[G],B=zn(ce,C,!1,_)&&B}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var w=d.g[_],C=0;C<w.length;C++)We(w[C]);delete d.g[_],d.h--}}this.F=null},pt.prototype.K=function(d,_,w,C){return this.i.add(String(d),_,!1,w,C)},pt.prototype.L=function(d,_,w,C){return this.i.add(String(d),_,!0,w,C)};function zn(d,_,w,C){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var B=!0,G=0;G<_.length;++G){var ce=_[G];if(ce&&!ce.da&&ce.capture==w){var Qe=ce.listener,Ct=ce.ha||ce.src;ce.fa&&ft(d.i,ce),B=Qe.call(Ct,C)!==!1&&B}}return B&&!C.defaultPrevented}function Ll(d,_,w){if(typeof d=="function")w&&(d=E(d,w));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:c.setTimeout(d,_||0)}function Gi(d){d.g=Ll(()=>{d.g=null,d.i&&(d.i=!1,Gi(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Qs extends J{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Gi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xs(d){J.call(this),this.h=d,this.g={}}b(Xs,J);var Ml=[];function Vl(d){Y(d.g,function(_,w){this.g.hasOwnProperty(w)&&At(_)},d),d.g={}}Xs.prototype.N=function(){Xs.aa.N.call(this),Vl(this)},Xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fl=c.JSON.stringify,$l=c.JSON.parse,jl=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function Js(){}Js.prototype.h=null;function Zo(d){return d.h||(d.h=d.i())}function ea(){}var Hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mr(){fe.call(this,"d")}b(Mr,fe);function ta(){fe.call(this,"c")}b(ta,fe);var Vr={},Ul=null;function Zs(){return Ul=Ul||new pt}Vr.La="serverreachability";function Bl(d){fe.call(this,Vr.La,d)}b(Bl,fe);function hi(d){const _=Zs();mt(_,new Bl(_))}Vr.STAT_EVENT="statevent";function zl(d,_){fe.call(this,Vr.STAT_EVENT,d),this.stat=_}b(zl,fe);function yt(d){const _=Zs();mt(_,new zl(_,d))}Vr.Ma="timingevent";function na(d,_){fe.call(this,Vr.Ma,d),this.size=_}b(na,fe);function cr(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},_)}function eo(){this.g=!0}eo.prototype.xa=function(){this.g=!1};function to(d,_,w,C,B,G){d.info(function(){if(d.g)if(G)for(var ce="",Qe=G.split("&"),Ct=0;Ct<Qe.length;Ct++){var ze=Qe[Ct].split("=");if(1<ze.length){var Mt=ze[0];ze=ze[1];var Tt=Mt.split("_");ce=2<=Tt.length&&Tt[1]=="type"?ce+(Mt+"="+ze+"&"):ce+(Mt+"=redacted&")}}else ce=null;else ce=G;return"XMLHTTP REQ ("+C+") [attempt "+B+"]: "+_+`
`+w+`
`+ce})}function ra(d,_,w,C,B,G,ce){d.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+B+"]: "+_+`
`+w+`
`+G+" "+ce})}function ur(d,_,w,C){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Tp(d,w)+(C?" "+C:"")})}function Hl(d,_){d.info(function(){return"TIMEOUT: "+_})}eo.prototype.info=function(){};function Tp(d,_){if(!d.g)return _;if(!_)return null;try{var w=JSON.parse(_);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var C=w[d];if(!(2>C.length)){var B=C[1];if(Array.isArray(B)&&!(1>B.length)){var G=B[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ce=1;ce<B.length;ce++)B[ce]=""}}}}return Fl(w)}catch{return _}}var ia={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Uu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hr;function no(){}b(no,Js),no.prototype.g=function(){return new XMLHttpRequest},no.prototype.i=function(){return{}},hr=new no;function dr(d,_,w,C){this.j=d,this.i=_,this.l=w,this.R=C||1,this.U=new Xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bu}function Bu(){this.i=null,this.g="",this.h=!1}var Wl={},sa={};function oa(d,_,w){d.L=1,d.v=Zi(Rn(_)),d.m=w,d.P=!0,Kl(d,null)}function Kl(d,_){d.F=Date.now(),tt(d),d.A=Rn(d.v);var w=d.A,C=d.R;Array.isArray(C)||(C=[String(C)]),ts(w.i,"t",C),d.C=0,w=d.j.J,d.h=new Bu,d.g=oh(d.j,w?_:null,!d.m),0<d.O&&(d.M=new Qs(E(d.Y,d,d.g),d.O)),_=d.U,w=d.g,C=d.ca;var B="readystatechange";Array.isArray(B)||(B&&(Ml[0]=B.toString()),B=Ml);for(var G=0;G<B.length;G++){var ce=Or(w,B[G],C||_.handleEvent,!1,_.h||_);if(!ce)break;_.g[ce.key]=ce}_=d.H?x(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),hi(),to(d.i,d.u,d.A,d.l,d.R,d.m)}dr.prototype.ca=function(d){d=d.target;const _=this.M;_&&mn(d)==3?_.j():this.Y(d)},dr.prototype.Y=function(d){try{if(d==this.g)e:{const Tt=mn(this.g);var _=this.g.Ba();const qn=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||Jl(this.g)))){this.J||Tt!=4||_==7||(_==8||0>=qn?hi(3):hi(2)),ro(this);var w=this.g.Z();this.X=w;t:if(zu(this)){var C=Jl(this.g);d="";var B=C.length,G=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wn(this),Yi(this);var ce="";break t}this.h.i=new c.TextDecoder}for(_=0;_<B;_++)this.h.h=!0,d+=this.h.i.decode(C[_],{stream:!(G&&_==B-1)});C.length=0,this.h.g+=d,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=w==200,ra(this.i,this.u,this.A,this.l,this.R,Tt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,Ct=this.g;if((Qe=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Qe)){var ze=Qe;break t}}ze=null}if(w=ze)ur(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ql(this,w);else{this.o=!1,this.s=3,yt(12),Wn(this),Yi(this);break e}}if(this.P){w=!0;let On;for(;!this.J&&this.C<ce.length;)if(On=Sp(this,ce),On==sa){Tt==4&&(this.s=4,yt(14),w=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(On==Wl){this.s=4,yt(15),ur(this.i,this.l,ce,"[Invalid Chunk]"),w=!1;break}else ur(this.i,this.l,On,null),ql(this,On);if(zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||ce.length!=0||this.h.h||(this.s=1,yt(16),w=!1),this.o=this.o&&w,!w)ur(this.i,this.l,ce,"[Invalid Chunked Response]"),Wn(this),Yi(this);else if(0<ce.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),ec(Mt),Mt.M=!0,yt(11))}}else ur(this.i,this.l,ce,null),ql(this,ce);Tt==4&&Wn(this),this.o&&!this.J&&(Tt==4?_a(this.j,this):(this.o=!1,tt(this)))}else da(this.g),w==400&&0<ce.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),Wn(this),Yi(this)}}}catch{}finally{}};function zu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Sp(d,_){var w=d.C,C=_.indexOf(`
`,w);return C==-1?sa:(w=Number(_.substring(w,C)),isNaN(w)?Wl:(C+=1,C+w>_.length?sa:(_=_.slice(C,C+w),d.C=C+w,_)))}dr.prototype.cancel=function(){this.J=!0,Wn(this)};function tt(d){d.S=Date.now()+d.I,Hu(d,d.I)}function Hu(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=cr(E(d.ba,d),_)}function ro(d){d.B&&(c.clearTimeout(d.B),d.B=null)}dr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Hl(this.i,this.A),this.L!=2&&(hi(),yt(17)),Wn(this),this.s=2,Yi(this)):Hu(this,this.S-d)};function Yi(d){d.j.G==0||d.J||_a(d.j,d)}function Wn(d){ro(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Vl(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function ql(d,_){try{var w=d.j;if(w.G!=0&&(w.g==d||an(w.h,d))){if(!d.K&&an(w.h,d)&&w.G==3){try{var C=w.Da.g.parse(_)}catch{C=null}if(Array.isArray(C)&&C.length==3){var B=C;if(B[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)ga(w),_r(w);else break e;ma(w),yt(18)}}else w.za=B[1],0<w.za-w.T&&37500>B[2]&&w.F&&w.v==0&&!w.C&&(w.C=cr(E(w.Za,w),6e3));if(1>=Ku(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else gi(w,11)}else if((d.K||w.g==d)&&ga(w),!V(_))for(B=w.Da.g.parse(_),_=0;_<B.length;_++){let ze=B[_];if(w.T=ze[0],ze=ze[1],w.G==2)if(ze[0]=="c"){w.K=ze[1],w.ia=ze[2];const Mt=ze[3];Mt!=null&&(w.la=Mt,w.j.info("VER="+w.la));const Tt=ze[4];Tt!=null&&(w.Aa=Tt,w.j.info("SVER="+w.Aa));const qn=ze[5];qn!=null&&typeof qn=="number"&&0<qn&&(C=1.5*qn,w.L=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const On=d.g;if(On){const uo=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uo){var G=C.h;G.g||uo.indexOf("spdy")==-1&&uo.indexOf("quic")==-1&&uo.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Gl(G,G.h),G.h=null))}if(C.D){const va=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;va&&(C.ya=va,et(C.I,C.D,va))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),C=w;var ce=d;if(C.qa=sh(C,C.J?C.ia:null,C.W),ce.K){qu(C.h,ce);var Qe=ce,Ct=C.L;Ct&&(Qe.I=Ct),Qe.B&&(ro(Qe),tt(Qe)),C.g=ce}else co(C);0<w.i.length&&Ur(w)}else ze[0]!="stop"&&ze[0]!="close"||gi(w,7);else w.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?gi(w,7):Bt(w):ze[0]!="noop"&&w.l&&w.l.ta(ze),w.v=0)}}hi(4)}catch{}}var Wu=class{constructor(d,_){this.g=d,this.map=_}};function io(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ku(d){return d.h?1:d.g?d.g.size:0}function an(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Gl(d,_){d.g?d.g.add(_):d.h=_}function qu(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}io.prototype.cancel=function(){if(this.i=Gu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Gu(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const w of d.g.values())_=_.concat(w.D);return _}return I(d.i)}function aa(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var _=[],w=d.length,C=0;C<w;C++)_.push(d[C]);return _}_=[],w=0;for(C in d)_[w++]=d[C];return _}function la(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var _=[];d=d.length;for(var w=0;w<d;w++)_.push(w);return _}_=[],w=0;for(const C in d)_[w++]=C;return _}}}function Qi(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var w=la(d),C=aa(d),B=C.length,G=0;G<B;G++)_.call(void 0,C[G],w&&w[G],d)}var so=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bp(d,_){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var C=d[w].indexOf("="),B=null;if(0<=C){var G=d[w].substring(0,C);B=d[w].substring(C+1)}else G=d[w];_(G,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function di(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof di){this.h=d.h,oo(this,d.j),this.o=d.o,this.g=d.g,Xi(this,d.s),this.l=d.l;var _=d.i,w=new Fr;w.i=_.i,_.g&&(w.g=new Map(_.g),w.h=_.h),Ji(this,w),this.m=d.m}else d&&(_=String(d).match(so))?(this.h=!1,oo(this,_[1]||"",!0),this.o=Be(_[2]||""),this.g=Be(_[3]||"",!0),Xi(this,_[4]),this.l=Be(_[5]||"",!0),Ji(this,_[6]||"",!0),this.m=Be(_[7]||"")):(this.h=!1,this.i=new Fr(null,this.h))}di.prototype.toString=function(){var d=[],_=this.j;_&&d.push(es(_,ca,!0),":");var w=this.g;return(w||_=="file")&&(d.push("//"),(_=this.o)&&d.push(es(_,ca,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(es(w,w.charAt(0)=="/"?Xu:Qu,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",es(w,Yl)),d.join("")};function Rn(d){return new di(d)}function oo(d,_,w){d.j=w?Be(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Xi(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Ji(d,_,w){_ instanceof Fr?(d.i=_,$r(d.i,d.h)):(w||(_=es(_,Ju)),d.i=new Fr(_,d.h))}function et(d,_,w){d.i.set(_,w)}function Zi(d){return et(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Be(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function es(d,_,w){return typeof d=="string"?(d=encodeURI(d).replace(_,Yu),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Yu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ca=/[#\/\?@]/g,Qu=/[#\?:]/g,Xu=/[#\?]/g,Ju=/[#\?@]/g,Yl=/#/g;function Fr(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Ut(d){d.g||(d.g=new Map,d.h=0,d.i&&bp(d.i,function(_,w){d.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}n=Fr.prototype,n.add=function(d,_){Ut(this),this.i=null,d=Kn(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(_),this.h+=1,this};function fr(d,_){Ut(d),_=Kn(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function pr(d,_){return Ut(d),_=Kn(d,_),d.g.has(_)}n.forEach=function(d,_){Ut(this),this.g.forEach(function(w,C){w.forEach(function(B){d.call(_,B,C,this)},this)},this)},n.na=function(){Ut(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),w=[];for(let C=0;C<_.length;C++){const B=d[C];for(let G=0;G<B.length;G++)w.push(_[C])}return w},n.V=function(d){Ut(this);let _=[];if(typeof d=="string")pr(this,d)&&(_=_.concat(this.g.get(Kn(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)_=_.concat(d[w])}return _},n.set=function(d,_){return Ut(this),this.i=null,d=Kn(this,d),pr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function ts(d,_,w){fr(d,_),0<w.length&&(d.i=null,d.g.set(Kn(d,_),I(w)),d.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var w=0;w<_.length;w++){var C=_[w];const G=encodeURIComponent(String(C)),ce=this.V(C);for(C=0;C<ce.length;C++){var B=G;ce[C]!==""&&(B+="="+encodeURIComponent(String(ce[C]))),d.push(B)}}return this.i=d.join("&")};function Kn(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function $r(d,_){_&&!d.j&&(Ut(d),d.i=null,d.g.forEach(function(w,C){var B=C.toLowerCase();C!=B&&(fr(this,C),ts(this,B,w))},d)),d.j=_}function Ip(d,_){const w=new eo;if(c.Image){const C=new Image;C.onload=T(pn,w,"TestLoadImage: loaded",!0,_,C),C.onerror=T(pn,w,"TestLoadImage: error",!1,_,C),C.onabort=T(pn,w,"TestLoadImage: abort",!1,_,C),C.ontimeout=T(pn,w,"TestLoadImage: timeout",!1,_,C),c.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=d}else _(!1)}function Zu(d,_){const w=new eo,C=new AbortController,B=setTimeout(()=>{C.abort(),pn(w,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:C.signal}).then(G=>{clearTimeout(B),G.ok?pn(w,"TestPingServer: ok",!0,_):pn(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),pn(w,"TestPingServer: error",!1,_)})}function pn(d,_,w,C,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),C(w)}catch{}}function Ap(){this.g=new jl}function eh(d,_,w){const C=w||"";try{Qi(d,function(B,G){let ce=B;f(B)&&(ce=Fl(B)),_.push(C+G+"="+encodeURIComponent(ce))})}catch(B){throw _.push(C+"type="+encodeURIComponent("_badmap")),B}}function fi(d){this.l=d.Ub||null,this.j=d.eb||!1}b(fi,Js),fi.prototype.g=function(){return new ao(this.l,this.j)},fi.prototype.i=function(d){return function(){return d}}({});function ao(d,_){pt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(ao,pt),n=ao.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,gr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||c).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,gr(this)),this.g&&(this.readyState=3,gr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;th(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function th(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?mr(this):gr(this),this.readyState==3&&th(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,mr(this))},n.Qa=function(d){this.g&&(this.response=d,mr(this))},n.ga=function(){this.g&&mr(this)};function mr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,gr(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=_.next();return d.join(`\r
`)};function gr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ao.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function pi(d){let _="";return Y(d,function(w,C){_+=C,_+=":",_+=w,_+=`\r
`}),_}function ns(d,_,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=pi(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):et(d,_,w))}function at(d){pt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(at,pt);var Cp=/^https?$/i,Ql=["POST","PUT"];n=at.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hr.g(),this.v=this.o?Zo(this.o):Zo(hr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(G){lo(this,G);return}if(d=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var B in C)w.set(B,C[B]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const G of C.keys())w.set(G,C.get(G));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(G=>G.toLowerCase()=="content-type"),B=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ql,_,void 0))||C||B||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ce]of w)this.g.setRequestHeader(G,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ha(this),this.u=!0,this.g.send(d),this.u=!1}catch(G){lo(this,G)}};function lo(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,ua(d),Pn(d)}function ua(d){d.A||(d.A=!0,mt(d,"complete"),mt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,mt(this,"complete"),mt(this,"abort"),Pn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pn(this,!0)),at.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Xl(this):this.bb())},n.bb=function(){Xl(this)};function Xl(d){if(d.h&&typeof l<"u"&&(!d.v[1]||mn(d)!=4||d.Z()!=2)){if(d.u&&mn(d)==4)Ll(d.Ea,0,d);else if(mt(d,"readystatechange"),mn(d)==4){d.h=!1;try{const ce=d.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var C;if(C=ce===0){var B=String(d.D).match(so)[1]||null;!B&&c.self&&c.self.location&&(B=c.self.location.protocol.slice(0,-1)),C=!Cp.test(B?B.toLowerCase():"")}w=C}if(w)mt(d,"complete"),mt(d,"success");else{d.m=6;try{var G=2<mn(d)?d.g.statusText:""}catch{G=""}d.l=G+" ["+d.Z()+"]",ua(d)}}finally{Pn(d)}}}}function Pn(d,_){if(d.g){ha(d);const w=d.g,C=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||mt(d,"ready");try{w.onreadystatechange=C}catch{}}}function ha(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function mn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),$l(_)}};function Jl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function da(d){const _={};d=(d.g&&2<=mn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<d.length;C++){if(V(d[C]))continue;var w=L(d[C]);const B=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const G=_[B]||[];_[B]=G,G.push(w)}R(_,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jr(d,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||_}function Zl(d){this.Aa=0,this.i=[],this.j=new eo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jr("baseRetryDelayMs",5e3,d),this.cb=jr("retryDelaySeedMs",1e4,d),this.Wa=jr("forwardChannelMaxRetries",2,d),this.wa=jr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new io(d&&d.concurrentRequestLimit),this.Da=new Ap,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Zl.prototype,n.la=8,n.G=1,n.connect=function(d,_,w,C){yt(0),this.W=d,this.H=_||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.I=sh(this,null,this.W),Ur(this)};function Bt(d){if(fa(d),d.G==3){var _=d.U++,w=Rn(d.I);if(et(w,"SID",d.K),et(w,"RID",_),et(w,"TYPE","terminate"),mi(d,w),_=new dr(d,d.j,_),_.L=2,_.v=Zi(Rn(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(_.v.toString(),"")}catch{}!w&&c.Image&&(new Image().src=_.v,w=!0),w||(_.g=oh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),tt(_)}ih(d)}function _r(d){d.g&&(ec(d),d.g.cancel(),d.g=null)}function fa(d){_r(d),d.u&&(c.clearTimeout(d.u),d.u=null),ga(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Ur(d){if(!kn(d.h)&&!d.s){d.s=!0;var _=d.Ga;ge||le(),re||(ge(),re=!0),ue.add(_,d),d.B=0}}function xp(d,_){return Ku(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=cr(E(d.Ga,d,_),rh(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const B=new dr(this,this.j,d);let G=this.o;if(this.S&&(G?(G=x(G),O(G,this.S)):G=this.S),this.m!==null||this.O||(B.H=G,G=null),this.P)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(_+=C,4096<_){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=rs(this,B,_),w=Rn(this.I),et(w,"RID",d),et(w,"CVER",22),this.D&&et(w,"X-HTTP-Session-Id",this.D),mi(this,w),G&&(this.O?_="headers="+encodeURIComponent(String(pi(G)))+"&"+_:this.m&&ns(w,this.m,G)),Gl(this.h,B),this.Ua&&et(w,"TYPE","init"),this.P?(et(w,"$req",_),et(w,"SID","null"),B.T=!0,oa(B,w,null)):oa(B,w,_),this.G=2}}else this.G==3&&(d?pa(this,d):this.i.length==0||kn(this.h)||pa(this))};function pa(d,_){var w;_?w=_.l:w=d.U++;const C=Rn(d.I);et(C,"SID",d.K),et(C,"RID",w),et(C,"AID",d.T),mi(d,C),d.m&&d.o&&ns(C,d.m,d.o),w=new dr(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),_&&(d.i=_.D.concat(d.i)),_=rs(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Gl(d.h,w),oa(w,C,_)}function mi(d,_){d.H&&Y(d.H,function(w,C){et(_,C,w)}),d.l&&Qi({},function(w,C){et(_,C,w)})}function rs(d,_,w){w=Math.min(d.i.length,w);var C=d.l?E(d.l.Na,d.l,d):null;e:{var B=d.i;let G=-1;for(;;){const ce=["count="+w];G==-1?0<w?(G=B[0].g,ce.push("ofs="+G)):G=0:ce.push("ofs="+G);let Qe=!0;for(let Ct=0;Ct<w;Ct++){let ze=B[Ct].g;const Mt=B[Ct].map;if(ze-=G,0>ze)G=Math.max(0,B[Ct].g-100),Qe=!1;else try{eh(Mt,ce,"req"+ze+"_")}catch{C&&C(Mt)}}if(Qe){C=ce.join("&");break e}}}return d=d.i.splice(0,w),_.D=d,C}function co(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;ge||le(),re||(ge(),re=!0),ue.add(_,d),d.v=0}}function ma(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=cr(E(d.Fa,d),rh(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,nh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=cr(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),_r(this),nh(this))};function ec(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function nh(d){d.g=new dr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Rn(d.qa);et(_,"RID","rpc"),et(_,"SID",d.K),et(_,"AID",d.T),et(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&et(_,"TO",d.ja),et(_,"TYPE","xmlhttp"),mi(d,_),d.m&&d.o&&ns(_,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=Zi(Rn(_)),w.m=null,w.P=!0,Kl(w,d)}n.Za=function(){this.C!=null&&(this.C=null,_r(this),ma(this),yt(19))};function ga(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function _a(d,_){var w=null;if(d.g==_){ga(d),ec(d),d.g=null;var C=2}else if(an(d.h,_))w=_.D,qu(d.h,_),C=1;else return;if(d.G!=0){if(_.o)if(C==1){w=_.m?_.m.length:0,_=Date.now()-_.F;var B=d.B;C=Zs(),mt(C,new na(C,w)),Ur(d)}else co(d);else if(B=_.s,B==3||B==0&&0<_.X||!(C==1&&xp(d,_)||C==2&&ma(d)))switch(w&&0<w.length&&(_=d.h,_.i=_.i.concat(w)),B){case 1:gi(d,5);break;case 4:gi(d,10);break;case 3:gi(d,6);break;default:gi(d,2)}}}function rh(d,_){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*_}function gi(d,_){if(d.j.info("Error code "+_),_==2){var w=E(d.fb,d),C=d.Xa;const B=!C;C=new di(C||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||oo(C,"https"),Zi(C),B?Ip(C.toString(),w):Zu(C.toString(),w)}else yt(2);d.G=0,d.l&&d.l.sa(_),ih(d),fa(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function ih(d){if(d.G=0,d.ka=[],d.l){const _=Gu(d.h);(_.length!=0||d.i.length!=0)&&(A(d.ka,_),A(d.ka,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.ra()}}function sh(d,_,w){var C=w instanceof di?Rn(w):new di(w);if(C.g!="")_&&(C.g=_+"."+C.g),Xi(C,C.s);else{var B=c.location;C=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;var G=new di(null);C&&oo(G,C),_&&(G.g=_),B&&Xi(G,B),w&&(G.l=w),C=G}return w=d.D,_=d.ya,w&&_&&et(C,w,_),et(C,"VER",d.la),mi(d,C),C}function oh(d,_,w){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new at(new fi({eb:w})):new at(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function tc(){}n=tc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ya(){}ya.prototype.g=function(d,_){return new ln(d,_)};function ln(d,_){pt.call(this),this.g=new Zl(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!V(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!V(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Br(this)}b(ln,pt),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Bt(this.g)},ln.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=Fl(d),d=w);_.i.push(new Wu(_.Ya++,d)),_.G==3&&Ur(_)},ln.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,ln.aa.N.call(this)};function ah(d){Mr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const w in _){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}b(ah,Mr);function lh(){ta.call(this),this.status=1}b(lh,ta);function Br(d){this.g=d}b(Br,tc),Br.prototype.ua=function(){mt(this.g,"a")},Br.prototype.ta=function(d){mt(this.g,new ah(d))},Br.prototype.sa=function(d){mt(this.g,new lh)},Br.prototype.ra=function(){mt(this.g,"b")},ya.prototype.createWebChannel=ya.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,zI=function(){return new ya},BI=function(){return Zs()},UI=Vr,Xg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ia.NO_ERROR=0,ia.TIMEOUT=8,ia.HTTP_ERROR=6,Vd=ia,Uu.COMPLETE="complete",jI=Uu,ea.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Vc=ea,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,$I=at}).apply(typeof id<"u"?id:typeof self<"u"?self:typeof window<"u"?window:{});const y0="@firebase/firestore",v0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new Ff("@firebase/firestore");function Ha(){return jo.logLevel}function pe(n,...e){if(jo.logLevel<=je.DEBUG){const t=e.map(Z_);jo.debug(`Firestore (${Cl}): ${n}`,...t)}}function ji(n,...e){if(jo.logLevel<=je.ERROR){const t=e.map(Z_);jo.error(`Firestore (${Cl}): ${n}`,...t)}}function sl(n,...e){if(jo.logLevel<=je.WARN){const t=e.map(Z_);jo.warn(`Firestore (${Cl}): ${n}`,...t)}}function Z_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,HI(n,r,t)}function HI(n,e,t){let r=`FIRESTORE (${Cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ji(r),new Error(r)}function Ye(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||HI(e,i,r)}function Me(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Rr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nn.UNAUTHENTICATED))}shutdown(){}}class aL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class lL{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let o=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ps,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},c=h=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ps)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new WI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class cL{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uL{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new cL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class E0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hL{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ye(this.o===void 0,3512);const r=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new E0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ye(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new E0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=dL(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function Fe(n,e){return n<e?-1:n>e?1:0}function Jg(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Fe(r,i);{const o=KI(),l=fL(o.encode(w0(n,t)),o.encode(w0(e,t)));return l!==0?l:Fe(r,i)}}t+=r>65535?2:1}return Fe(n.length,e.length)}function w0(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function fL(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Fe(n[t],e[t]);return Fe(n.length,e.length)}function ol(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=-62135596800,S0=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*S0);return new Ot(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<T0)throw new xe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/S0}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-T0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new Ot(0,0))}static max(){return new Le(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="__name__";class Qr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Oe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Oe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Qr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Qr.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Fe(e.length,t.length)}static compareSegments(e,t){const r=Qr.isNumericId(e),i=Qr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Qr.extractNumericId(e).compare(Qr.extractNumericId(t)):Jg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rs.fromString(e.substring(4,e.length-2))}}class _t extends Qr{construct(e,t,r){return new _t(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new _t(t)}static emptyPath(){return new _t([])}}const pL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Qr{construct(e,t,r){return new Kt(e,t,r)}static isValidIdentifier(e){return pL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b0}static keyField(){return new Kt([b0])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new xe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new xe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new xe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new xe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(_t.fromString(e))}static fromName(e){return new ke(_t.fromString(e).popFirst(5))}static empty(){return new ke(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return _t.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new _t(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=-1;function mL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Le.fromTimestamp(r===1e9?new Ot(t+1,0):new Ot(t,r));return new Ns(i,ke.empty(),e)}function gL(n){return new Ns(n.readTime,n.key,uu)}class Ns{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ns(Le.min(),ke.empty(),uu)}static max(){return new Ns(Le.max(),ke.empty(),uu)}}function _L(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ke.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==yL)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,r)=>{t(e)})}static reject(e){return new Z((t,r)=>{r(e)})}static waitFor(e){return new Z((t,r)=>{let i=0,o=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&t()},h=>r(h))}),l=!0,o===i&&t()})}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next(i=>i?Z.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new Z((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const f=h;t(e[f]).next(m=>{l[f]=m,++c,c===o&&r(l)},m=>i(m))}})}static doWhile(e,t){return new Z((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}function EL(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function kl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Hf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey=-1;function Wf(n){return n==null}function sf(n){return n===0&&1/n==-1/0}function wL(n){return typeof n=="number"&&Number.isInteger(n)&&!sf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="";function TL(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=I0(e)),e=SL(n.get(t),e);return I0(e)}function SL(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case GI:t+="";break;default:t+=o}}return t}function I0(n){return n+GI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ws(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function YI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||Wt.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sd(this.root,e,this.comparator,!1)}getReverseIterator(){return new sd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sd(this.root,e,this.comparator,!0)}}class sd{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Wt.RED,this.left=i??Wt.EMPTY,this.right=o??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Wt(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Wt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new C0(this.data.getIterator())}getIteratorFrom(e){return new C0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class C0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Vn([])}unionWith(e){let t=new Nt(Kt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Vn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ol(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new QI("Invalid base64 string: "+o):o}}(e);return new Gt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const bL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(n){if(Ye(!!n,39018),typeof n=="string"){let e=0;const t=bL.exec(n);if(Ye(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(n.seconds),nanos:Et(n.nanos)}}function Et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ls(n){return typeof n=="string"?Gt.fromBase64String(n):Gt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="server_timestamp",JI="__type__",ZI="__previous_value__",eA="__local_write_time__";function ty(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[JI])===null||t===void 0?void 0:t.stringValue)===XI}function Kf(n){const e=n.mapValue.fields[ZI];return ty(e)?Kf(e):e}function hu(n){const e=Ds(n.mapValue.fields[eA].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,t,r,i,o,l,c,h,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=m}}const of="(default)";class du{constructor(e,t){this.projectId=e,this.database=t||of}static empty(){return new du("","")}get isDefaultDatabase(){return this.database===of}isEqual(e){return e instanceof du&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="__type__",AL="__max__",od={mapValue:{}},nA="__vector__",af="value";function Ms(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ty(n)?4:xL(n)?9007199254740991:CL(n)?10:11:Oe(28295,{value:n})}function oi(n,e){if(n===e)return!0;const t=Ms(n);if(t!==Ms(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hu(n).isEqual(hu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Ds(i.timestampValue),c=Ds(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Ls(i.bytesValue).isEqual(Ls(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Et(i.geoPointValue.latitude)===Et(o.geoPointValue.latitude)&&Et(i.geoPointValue.longitude)===Et(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Et(i.integerValue)===Et(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Et(i.doubleValue),c=Et(o.doubleValue);return l===c?sf(l)===sf(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return ol(n.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(A0(l)!==A0(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!oi(l[h],c[h])))return!1;return!0}(n,e);default:return Oe(52216,{left:n})}}function fu(n,e){return(n.values||[]).find(t=>oi(t,e))!==void 0}function al(n,e){if(n===e)return 0;const t=Ms(n),r=Ms(e);if(t!==r)return Fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return function(o,l){const c=Et(o.integerValue||o.doubleValue),h=Et(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return x0(n.timestampValue,e.timestampValue);case 4:return x0(hu(n),hu(e));case 5:return Jg(n.stringValue,e.stringValue);case 6:return function(o,l){const c=Ls(o),h=Ls(l);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const m=Fe(c[f],h[f]);if(m!==0)return m}return Fe(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const c=Fe(Et(o.latitude),Et(l.latitude));return c!==0?c:Fe(Et(o.longitude),Et(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return k0(n.arrayValue,e.arrayValue);case 10:return function(o,l){var c,h,f,m;const v=o.fields||{},E=l.fields||{},T=(c=v[af])===null||c===void 0?void 0:c.arrayValue,b=(h=E[af])===null||h===void 0?void 0:h.arrayValue,I=Fe(((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0,((m=b==null?void 0:b.values)===null||m===void 0?void 0:m.length)||0);return I!==0?I:k0(T,b)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===od.mapValue&&l===od.mapValue)return 0;if(o===od.mapValue)return 1;if(l===od.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),f=l.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let v=0;v<h.length&&v<m.length;++v){const E=Jg(h[v],m[v]);if(E!==0)return E;const T=al(c[h[v]],f[m[v]]);if(T!==0)return T}return Fe(h.length,m.length)}(n.mapValue,e.mapValue);default:throw Oe(23264,{Pe:t})}}function x0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);const t=Ds(n),r=Ds(e),i=Fe(t.seconds,r.seconds);return i!==0?i:Fe(t.nanos,r.nanos)}function k0(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=al(t[i],r[i]);if(o)return o}return Fe(t.length,r.length)}function ll(n){return Zg(n)}function Zg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ds(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ls(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ke.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=Zg(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${Zg(t.fields[l])}`;return i+"}"}(n.mapValue):Oe(61005,{value:n})}function Fd(n){switch(Ms(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kf(n);return e?16+Fd(e):16;case 5:return 2*n.stringValue.length;case 6:return Ls(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Fd(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ws(r.fields,(o,l)=>{i+=o.length+Fd(l)}),i}(n.mapValue);default:throw Oe(13486,{value:n})}}function e_(n){return!!n&&"integerValue"in n}function ny(n){return!!n&&"arrayValue"in n}function R0(n){return!!n&&"nullValue"in n}function P0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $d(n){return!!n&&"mapValue"in n}function CL(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[tA])===null||t===void 0?void 0:t.stringValue)===nA}function Yc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ws(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Yc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function xL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===AL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!$d(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yc(t)}setAll(e){let t=Kt.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=Yc(l):i.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());$d(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];$d(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ws(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new bn(Yc(this.value))}}function rA(n){const e=[];return Ws(n.fields,(t,r)=>{const i=new Kt([t]);if($d(r)){const o=rA(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,t,r,i,o,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new rn(e,0,Le.min(),Le.min(),Le.min(),bn.empty(),0)}static newFoundDocument(e,t,r,i){return new rn(e,1,t,Le.min(),r,i,0)}static newNoDocument(e,t){return new rn(e,2,t,Le.min(),Le.min(),bn.empty(),0)}static newUnknownDocument(e,t){return new rn(e,3,t,Le.min(),Le.min(),bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t){this.position=e,this.inclusive=t}}function O0(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=ke.comparator(ke.fromName(l.referenceValue),t.key):r=al(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function N0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!oi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t="asc"){this.field=e,this.dir=t}}function kL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{}class Rt extends iA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new PL(e,t,r):t==="array-contains"?new DL(e,r):t==="in"?new LL(e,r):t==="not-in"?new ML(e,r):t==="array-contains-any"?new VL(e,r):new Rt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new OL(e,r):new NL(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(al(t,this.value)):t!==null&&Ms(this.value)===Ms(t)&&this.matchesComparison(al(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends iA{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ai(e,t)}matches(e){return sA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function sA(n){return n.op==="and"}function oA(n){return RL(n)&&sA(n)}function RL(n){for(const e of n.filters)if(e instanceof ai)return!1;return!0}function t_(n){if(n instanceof Rt)return n.field.canonicalString()+n.op.toString()+ll(n.value);if(oA(n))return n.filters.map(e=>t_(e)).join(",");{const e=n.filters.map(t=>t_(t)).join(",");return`${n.op}(${e})`}}function aA(n,e){return n instanceof Rt?function(r,i){return i instanceof Rt&&r.op===i.op&&r.field.isEqual(i.field)&&oi(r.value,i.value)}(n,e):n instanceof ai?function(r,i){return i instanceof ai&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,c)=>o&&aA(l,i.filters[c]),!0):!1}(n,e):void Oe(19439)}function lA(n){return n instanceof Rt?function(t){return`${t.field.canonicalString()} ${t.op} ${ll(t.value)}`}(n):n instanceof ai?function(t){return t.op.toString()+" {"+t.getFilters().map(lA).join(" ,")+"}"}(n):"Filter"}class PL extends Rt{constructor(e,t,r){super(e,t,r),this.key=ke.fromName(r.referenceValue)}matches(e){const t=ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class OL extends Rt{constructor(e,t){super(e,"in",t),this.keys=cA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class NL extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=cA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ke.fromName(r.referenceValue))}class DL extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ny(t)&&fu(t.arrayValue,this.value)}}class LL extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&fu(this.value.arrayValue,t)}}class ML extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!fu(this.value.arrayValue,t)}}class VL extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ny(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>fu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,t=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.Ie=null}}function D0(n,e=null,t=[],r=[],i=null,o=null,l=null){return new FL(n,e,t,r,i,o,l)}function ry(n){const e=Me(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>t_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Wf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ll(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ll(r)).join(",")),e.Ie=t}return e.Ie}function iy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!kL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!aA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!N0(n.startAt,e.startAt)&&N0(n.endAt,e.endAt)}function n_(n){return ke.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,t=null,r=[],i=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function $L(n,e,t,r,i,o,l,c){return new qf(n,e,t,r,i,o,l,c)}function sy(n){return new qf(n)}function L0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function jL(n){return n.collectionGroup!==null}function Qc(n){const e=Me(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Nt(Kt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new cf(o,r))}),t.has(Kt.keyField().canonicalString())||e.Ee.push(new cf(Kt.keyField(),r))}return e.Ee}function ei(n){const e=Me(n);return e.de||(e.de=UL(e,Qc(n))),e.de}function UL(n,e){if(n.limitType==="F")return D0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new cf(i.field,o)});const t=n.endAt?new lf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new lf(n.startAt.position,n.startAt.inclusive):null;return D0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function r_(n,e,t){return new qf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Gf(n,e){return iy(ei(n),ei(e))&&n.limitType===e.limitType}function uA(n){return`${ry(ei(n))}|lt:${n.limitType}`}function Wa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>lA(i)).join(", ")}]`),Wf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ll(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ll(i)).join(",")),`Target(${r})`}(ei(n))}; limitType=${n.limitType})`}function Yf(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ke.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Qc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,h){const f=O0(l,c,h);return l.inclusive?f<=0:f<0}(r.startAt,Qc(r),i)||r.endAt&&!function(l,c,h){const f=O0(l,c,h);return l.inclusive?f>=0:f>0}(r.endAt,Qc(r),i))}(n,e)}function BL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function hA(n){return(e,t)=>{let r=!1;for(const i of Qc(n)){const o=zL(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function zL(n,e,t){const r=n.field.isKeyField()?ke.comparator(e.key,t.key):function(o,l,c){const h=l.data.field(o),f=c.data.field(o);return h!==null&&f!==null?al(h,f):Oe(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Oe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return YI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=new dt(ke.comparator);function Ui(){return HL}const dA=new dt(ke.comparator);function Fc(...n){let e=dA;for(const t of n)e=e.insert(t.key,t);return e}function fA(n){let e=dA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ro(){return Xc()}function pA(){return Xc()}function Xc(){return new Yo(n=>n.toString(),(n,e)=>n.isEqual(e))}const WL=new dt(ke.comparator),KL=new Nt(ke.comparator);function Ue(...n){let e=KL;for(const t of n)e=e.add(t);return e}const qL=new Nt(Fe);function GL(){return qL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sf(e)?"-0":e}}function mA(n){return{integerValue:""+n}}function YL(n,e){return wL(e)?mA(e):oy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(){this._=void 0}}function QL(n,e,t){return n instanceof uf?function(i,o){const l={fields:{[JI]:{stringValue:XI},[eA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ty(o)&&(o=Kf(o)),o&&(l.fields[ZI]=o),{mapValue:l}}(t,e):n instanceof cl?_A(n,e):n instanceof pu?yA(n,e):function(i,o){const l=gA(i,o),c=M0(l)+M0(i.Re);return e_(l)&&e_(i.Re)?mA(c):oy(i.serializer,c)}(n,e)}function XL(n,e,t){return n instanceof cl?_A(n,e):n instanceof pu?yA(n,e):t}function gA(n,e){return n instanceof hf?function(r){return e_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class uf extends Qf{}class cl extends Qf{constructor(e){super(),this.elements=e}}function _A(n,e){const t=vA(e);for(const r of n.elements)t.some(i=>oi(i,r))||t.push(r);return{arrayValue:{values:t}}}class pu extends Qf{constructor(e){super(),this.elements=e}}function yA(n,e){let t=vA(e);for(const r of n.elements)t=t.filter(i=>!oi(i,r));return{arrayValue:{values:t}}}class hf extends Qf{constructor(e,t){super(),this.serializer=e,this.Re=t}}function M0(n){return Et(n.integerValue||n.doubleValue)}function vA(n){return ny(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,t){this.field=e,this.transform=t}}function ZL(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof cl&&i instanceof cl||r instanceof pu&&i instanceof pu?ol(r.elements,i.elements,oi):r instanceof hf&&i instanceof hf?oi(r.Re,i.Re):r instanceof uf&&i instanceof uf}(n.transform,e.transform)}class eM{constructor(e,t){this.version=e,this.transformResults=t}}class ti{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Xf{}function EA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new TA(n.key,ti.none()):new ku(n.key,n.data,ti.none());{const t=n.data,r=bn.empty();let i=new Nt(Kt.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new Ks(n.key,r,new Vn(i.toArray()),ti.none())}}function tM(n,e,t){n instanceof ku?function(i,o,l){const c=i.value.clone(),h=F0(i.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Ks?function(i,o,l){if(!jd(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=F0(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(wA(i)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Jc(n,e,t,r){return n instanceof ku?function(o,l,c,h){if(!jd(o.precondition,l))return c;const f=o.value.clone(),m=$0(o.fieldTransforms,h,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ks?function(o,l,c,h){if(!jd(o.precondition,l))return c;const f=$0(o.fieldTransforms,h,l),m=l.data;return m.setAll(wA(o)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(o,l,c){return jd(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function nM(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=gA(r.transform,i||null);o!=null&&(t===null&&(t=bn.empty()),t.set(r.field,o))}return t||null}function V0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ol(r,i,(o,l)=>ZL(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ku extends Xf{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ks extends Xf{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function wA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function F0(n,e,t){const r=new Map;Ye(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,XL(l,c,t[i]))}return r}function $0(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,QL(o,l,e))}return r}class TA extends Xf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rM extends Xf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&tM(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Jc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Jc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=pA();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(i.key)?null:c;const h=EA(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(Le.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&ol(this.mutations,e.mutations,(t,r)=>V0(t,r))&&ol(this.baseMutations,e.baseMutations,(t,r)=>V0(t,r))}}class ay{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ye(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return WL}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new ay(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,He;function aM(n){switch(n){case se.OK:return Oe(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Oe(15467,{code:n})}}function SA(n){if(n===void 0)return ji("GRPC error has no .code"),se.UNKNOWN;switch(n){case bt.OK:return se.OK;case bt.CANCELLED:return se.CANCELLED;case bt.UNKNOWN:return se.UNKNOWN;case bt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case bt.INTERNAL:return se.INTERNAL;case bt.UNAVAILABLE:return se.UNAVAILABLE;case bt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case bt.NOT_FOUND:return se.NOT_FOUND;case bt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case bt.ABORTED:return se.ABORTED;case bt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case bt.DATA_LOSS:return se.DATA_LOSS;default:return Oe(39323,{code:n})}}(He=bt||(bt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=new Rs([4294967295,4294967295],0);function j0(n){const e=KI().encode(n),t=new FI;return t.update(e),new Uint8Array(t.digest())}function U0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Rs([t,r],0),new Rs([i,o],0)]}class ly{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new $c(`Invalid padding: ${t}`);if(r<0)throw new $c(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $c(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new $c(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Rs.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Rs.fromNumber(r)));return i.compare(lM)===1&&(i=new Rs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=j0(e),[r,i]=U0(t);for(let o=0;o<this.hashCount;o++){const l=this.we(r,i,o);if(!this.be(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new ly(o,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.pe===0)return;const t=j0(e),[r,i]=U0(t);for(let o=0;o<this.hashCount;o++){const l=this.we(r,i,o);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class $c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Jf(Le.min(),i,new dt(Fe),Ui(),Ue())}}class Ru{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ru(r,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class bA{constructor(e,t){this.targetId=e,this.Ce=t}}class IA{constructor(e,t,r=Gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class B0{constructor(){this.Fe=0,this.Me=z0(),this.xe=Gt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ue(),t=Ue(),r=Ue();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Oe(38017,{changeType:o})}}),new Ru(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=z0()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ye(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class cM{constructor(e){this.ze=e,this.je=new Map,this.He=Ui(),this.Je=ad(),this.Ye=ad(),this.Ze=new dt(Fe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Oe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const o=i.target;if(n_(o))if(r===0){const l=new ke(o.path);this.tt(t,l,rn.newNoDocument(l,Le.min()))}else Ye(r===1,20013,{expectedCount:r});else{const l=this.ut(t);if(l!==r){const c=this.ct(e),h=c?this.lt(c,e,l):1;if(h!==0){this.st(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,f)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,c;try{l=Ls(r).toUint8Array()}catch(h){if(h instanceof QI)return sl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new ly(l,i,o)}catch(h){return sl(h instanceof $c?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.pe===0?null:c}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,o,null),i++)}),i}It(e){const t=new Map;this.je.forEach((o,l)=>{const c=this._t(l);if(c){if(o.current&&n_(c.target)){const h=new ke(c.target.path);this.Et(h).has(l)||this.dt(l,h)||this.tt(l,h,rn.newNoDocument(h,e))}o.Le&&(t.set(l,o.qe()),o.Qe())}});let r=Ue();this.Ye.forEach((o,l)=>{let c=!0;l.forEachWhile(h=>{const f=this._t(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.He.forEach((o,l)=>l.setReadTime(e));const i=new Jf(e,t,this.Ze,this.He,r);return this.He=Ui(),this.Je=ad(),this.Ye=ad(),this.Ze=new dt(Fe),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new B0,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Nt(Fe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Nt(Fe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new B0),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function ad(){return new dt(ke.comparator)}function z0(){return new dt(ke.comparator)}const uM={asc:"ASCENDING",desc:"DESCENDING"},hM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dM={and:"AND",or:"OR"};class fM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function i_(n,e){return n.useProto3Json||Wf(e)?e:{value:e}}function df(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function pM(n,e){return df(n,e.toTimestamp())}function ni(n){return Ye(!!n,49232),Le.fromTimestamp(function(t){const r=Ds(t);return new Ot(r.seconds,r.nanos)}(n))}function cy(n,e){return s_(n,e).canonicalString()}function s_(n,e){const t=function(i){return new _t(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function CA(n){const e=_t.fromString(n);return Ye(OA(e),10190,{key:e.toString()}),e}function o_(n,e){return cy(n.databaseId,e.path)}function hg(n,e){const t=CA(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ke(kA(t))}function xA(n,e){return cy(n.databaseId,e)}function mM(n){const e=CA(n);return e.length===4?_t.emptyPath():kA(e)}function a_(n){return new _t(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kA(n){return Ye(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function H0(n,e,t){return{name:o_(n,e),fields:t.value.mapValue.fields}}function gM(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Oe(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(Ye(m===void 0||typeof m=="string",58123),Gt.fromBase64String(m||"")):(Ye(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Gt.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const m=f.code===void 0?se.UNKNOWN:SA(f.code);return new xe(m,f.message||"")}(l);t=new IA(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=hg(n,r.document.name),o=ni(r.document.updateTime),l=r.document.createTime?ni(r.document.createTime):Le.min(),c=new bn({mapValue:{fields:r.document.fields}}),h=rn.newFoundDocument(i,o,l,c),f=r.targetIds||[],m=r.removedTargetIds||[];t=new Ud(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=hg(n,r.document),o=r.readTime?ni(r.readTime):Le.min(),l=rn.newNoDocument(i,o),c=r.removedTargetIds||[];t=new Ud([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=hg(n,r.document),o=r.removedTargetIds||[];t=new Ud([],o,i,null)}else{if(!("filter"in e))return Oe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new oM(i,o),c=r.targetId;t=new bA(c,l)}}return t}function _M(n,e){let t;if(e instanceof ku)t={update:H0(n,e.key,e.value)};else if(e instanceof TA)t={delete:o_(n,e.key)};else if(e instanceof Ks)t={update:H0(n,e.key,e.data),updateMask:AM(e.fieldMask)};else{if(!(e instanceof rM))return Oe(16599,{ft:e.type});t={verify:o_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof uf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof cl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof pu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof hf)return{fieldPath:l.field.canonicalString(),increment:c.Re};throw Oe(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:pM(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Oe(27497)}(n,e.precondition)),t}function yM(n,e){return n&&n.length>0?(Ye(e!==void 0,14353),n.map(t=>function(i,o){let l=i.updateTime?ni(i.updateTime):ni(o);return l.isEqual(Le.min())&&(l=ni(o)),new eM(l,i.transformResults||[])}(t,e))):[]}function vM(n,e){return{documents:[xA(n,e.path)]}}function EM(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=xA(n,i);const o=function(f){if(f.length!==0)return PA(ai.create(f,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(m=>function(E){return{field:Ka(E.field),direction:SM(E.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=i_(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:t,parent:i}}function wM(n){let e=mM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ye(r===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(v){const E=RA(v);return E instanceof ai&&oA(E)?E.getFilters():[E]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(E=>function(b){return new cf(qa(b.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(E))}(t.orderBy));let c=null;t.limit&&(c=function(v){let E;return E=typeof v=="object"?v.value:v,Wf(E)?null:E}(t.limit));let h=null;t.startAt&&(h=function(v){const E=!!v.before,T=v.values||[];return new lf(T,E)}(t.startAt));let f=null;return t.endAt&&(f=function(v){const E=!v.before,T=v.values||[];return new lf(T,E)}(t.endAt)),$L(e,i,l,o,c,"F",h,f)}function TM(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function RA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=qa(t.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=qa(t.unaryFilter.field);return Rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=qa(t.unaryFilter.field);return Rt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=qa(t.unaryFilter.field);return Rt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}}(n):n.fieldFilter!==void 0?function(t){return Rt.create(qa(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ai.create(t.compositeFilter.filters.map(r=>RA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}}(t.compositeFilter.op))}(n):Oe(30097,{filter:n})}function SM(n){return uM[n]}function bM(n){return hM[n]}function IM(n){return dM[n]}function Ka(n){return{fieldPath:n.canonicalString()}}function qa(n){return Kt.fromServerFormat(n.fieldPath)}function PA(n){return n instanceof Rt?function(t){if(t.op==="=="){if(P0(t.value))return{unaryFilter:{field:Ka(t.field),op:"IS_NAN"}};if(R0(t.value))return{unaryFilter:{field:Ka(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(P0(t.value))return{unaryFilter:{field:Ka(t.field),op:"IS_NOT_NAN"}};if(R0(t.value))return{unaryFilter:{field:Ka(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(t.field),op:bM(t.op),value:t.value}}}(n):n instanceof ai?function(t){const r=t.getFilters().map(i=>PA(i));return r.length===1?r[0]:{compositeFilter:{op:IM(t.op),filters:r}}}(n):Oe(54877,{filter:n})}function AM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function OA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,t,r,i,o=Le.min(),l=Le.min(),c=Gt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.wt=e}}function xM(n){const e=wM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?r_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.Cn=new RM}addToCollectionParentIndex(e,t){return this.Cn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(Ns.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class RM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Nt(_t.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nt(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NA=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(NA,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ul(0)}static lr(){return new ul(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="LruGarbageCollector",PM=1048576;function q0([n,e],[t,r]){const i=Fe(n,t);return i===0?Fe(e,r):i}class OM{constructor(e){this.Er=e,this.buffer=new Nt(q0),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();q0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class NM{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){pe(K0,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){kl(t)?pe(K0,"Ignoring IndexedDB error during garbage collection: ",t):await xl(t)}await this.mr(3e5)})}}class DM{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(Hf.le);const r=new OM(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(W0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W0):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,l,c,h,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,l=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(r=v,c=Date.now(),this.removeTargets(e,r,t))).next(v=>(o=v,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(f=Date.now(),Ha()<=je.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${v} documents in `+(f-h)+`ms
Total Duration: ${f-m}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:v})))}}function LM(n,e){return new DM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.changes=new Yo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Jc(r.mutation,i,Vn.empty(),Ot.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ue()){const i=Ro();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=Fc();return o.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Ro();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ue()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let o=Ui();const l=Xc(),c=function(){return Xc()}();return t.forEach((h,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof Ks)?o=o.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),Jc(m.mutation,f,m.mutation.getFieldMask(),Ot.now())):l.set(f.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((f,m)=>l.set(f,m)),t.forEach((f,m)=>{var v;return c.set(f,new VM(m,(v=l.get(f))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,t){const r=Xc();let i=new dt((l,c)=>l-c),o=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(h=>{const f=t.get(h);if(f===null)return;let m=r.get(h)||Vn.empty();m=c.applyToLocalView(f,m),r.set(h,m);const v=(i.get(c.batchId)||Ue()).add(h);i=i.insert(c.batchId,v)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,m=h.value,v=pA();m.forEach(E=>{if(!o.has(E)){const T=EA(t.get(E),r.get(E));T!==null&&v.set(E,T),o=o.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,v))}return Z.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return ke.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):jL(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):Z.resolve(Ro());let c=uu,h=o;return l.next(f=>Z.forEach(f,(m,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(m)?Z.resolve():this.remoteDocumentCache.getEntry(e,m).next(E=>{h=h.insert(m,E)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,h,f,Ue())).next(m=>({batchId:c,changes:fA(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ke(t)).next(r=>{let i=Fc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=Fc();return this.indexManager.getCollectionParents(e,o).next(c=>Z.forEach(c,h=>{const f=function(v,E){return new qf(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(m=>{m.forEach((v,E)=>{l=l.insert(v,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(l=>{o.forEach((h,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,rn.newInvalidDocument(m)))});let c=Fc();return l.forEach((h,f)=>{const m=o.get(h);m!==void 0&&Jc(m.mutation,f,Vn.empty(),Ot.now()),Yf(t,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return Z.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ni(i.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:xM(i.bundledQuery),readTime:ni(i.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(){this.overlays=new dt(ke.comparator),this.Qr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ro();return Z.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),Z.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const i=Ro(),o=t.length+1,l=new ke(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new dt((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let m=o.get(f.largestBatchId);m===null&&(m=Ro(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=Ro(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,m)=>c.set(f,m)),!(c.size()>=i)););return Z.resolve(c)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new sM(t,r));let o=this.Qr.get(t);o===void 0&&(o=Ue(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(){this.$r=new Nt(jt.Ur),this.Kr=new Nt(jt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new jt(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new jt(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new ke(new _t([])),r=new jt(t,e),i=new jt(t,e+1),o=[];return this.Kr.forEachInRange([r,i],l=>{this.zr(l),o.push(l.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ke(new _t([])),r=new jt(t,e),i=new jt(t,e+1);let o=Ue();return this.Kr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new jt(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ke.comparator(e.key,t.key)||Fe(e.Zr,t.Zr)}static Wr(e,t){return Fe(e.Zr,t.Zr)||ke.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Nt(jt.Ur)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new iM(o,t,r,i);this.mutationQueue.push(l);for(const c of i)this.Xr=this.Xr.add(new jt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Z.resolve(l)}lookupMutationBatch(e,t){return Z.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),o=i<0?0:i;return Z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?ey:this.nr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new jt(t,0),i=new jt(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],l=>{const c=this.ei(l.Zr);o.push(c)}),Z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nt(Fe);return t.forEach(i=>{const o=new jt(i,0),l=new jt(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,l],c=>{r=r.add(c.Zr)})}),Z.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;ke.isDocumentKey(o)||(o=o.child(""));const l=new jt(new ke(o),0);let c=new Nt(Fe);return this.Xr.forEachWhile(h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(h.Zr)),!0)},l),Z.resolve(this.ni(c))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ye(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return Z.forEach(t.mutations,i=>{const o=new jt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new jt(t,0),i=this.Xr.firstAfterOrEqual(r);return Z.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.ii=e,this.docs=function(){return new dt(ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(t))}getEntries(e,t){let r=Ui();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():rn.newInvalidDocument(i))}),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ui();const l=t.path,c=new ke(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||_L(gL(m),r)<=0||(i.has(m.key)||Yf(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return Z.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Oe(9500)}si(e,t){return Z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new HM(this)}getSize(e){return Z.resolve(this.size)}}class HM extends MM{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),Z.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.persistence=e,this.oi=new Yo(t=>ry(t),iy),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this._i=0,this.ai=new uy,this.targetCount=0,this.ui=ul.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),Z.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new ul(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Tr(t),Z.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.oi.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.oi.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),Z.waitFor(o).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),Z.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,t){this.ci={},this.overlays={},this.li=new Hf(0),this.hi=!1,this.hi=!0,this.Pi=new UM,this.referenceDelegate=e(this),this.Ti=new WM(this),this.indexManager=new kM,this.remoteDocumentCache=function(i){return new zM(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new CM(t),this.Ei=new $M(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new BM(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const i=new KM(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return Z.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class KM extends vL{constructor(e){super(),this.currentSequenceNumber=e}}class hy{constructor(e){this.persistence=e,this.Vi=new uy,this.mi=null}static fi(e){return new hy(e)}get gi(){if(this.mi)return this.mi;throw Oe(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.gi,r=>{const i=ke.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,Le.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return Z.or([()=>Z.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class ff{constructor(e,t){this.persistence=e,this.yi=new Yo(r=>TL(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=LM(this,t)}static fi(e,t){return new ff(e,t)}di(){}Ai(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return Z.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?Z.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,l=>this.Dr(e,l,t).next(c=>{c||(r++,o.removeEntry(l,Le.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),Z.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Fd(e.data.value)),t}Dr(e,t,r){return Z.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return Z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=Ue(),i=Ue();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new dy(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return iP()?8:EL(on())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.ws(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.bs(e,t,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new qM;return this.Ss(e,t,l).next(c=>{if(o.result=c,this.fs)return this.Ds(e,t,l,c.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Ha()<=je.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Wa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Z.resolve()):(Ha()<=je.DEBUG&&pe("QueryEngine","Query:",Wa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Ha()<=je.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Wa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(t))):Z.resolve())}ws(e,t){if(L0(t))return Z.resolve(null);let r=ei(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=r_(t,null,"F"),r=ei(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Ue(...o);return this.ys.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const f=this.vs(t,c);return this.Cs(t,f,l,h.readTime)?this.ws(e,r_(t,null,"F")):this.Fs(e,f,t,h)}))})))}bs(e,t,r,i){return L0(t)||i.isEqual(Le.min())?Z.resolve(null):this.ys.getDocuments(e,r).next(o=>{const l=this.vs(t,o);return this.Cs(t,l,r,i)?Z.resolve(null):(Ha()<=je.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wa(t)),this.Fs(e,l,t,mL(i,uu)).next(c=>c))})}vs(e,t){let r=new Nt(hA(e));return t.forEach((i,o)=>{Yf(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return Ha()<=je.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Wa(t)),this.ys.getDocumentsMatchingQuery(e,t,Ns.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="LocalStore",YM=3e8;class QM{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new dt(Fe),this.Os=new Yo(o=>ry(o),iy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FM(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function XM(n,e,t,r){return new QM(n,e,t,r)}async function LA(n,e){const t=Me(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],c=[];let h=Ue();for(const f of i){l.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of o){c.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return t.localDocuments.getDocuments(r,h).next(f=>({ks:f,removedBatchIds:l,addedBatchIds:c}))})})}function JM(n,e){const t=Me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(c,h,f,m){const v=f.batch,E=v.keys();let T=Z.resolve();return E.forEach(b=>{T=T.next(()=>m.getEntry(h,b)).next(I=>{const A=f.docVersions.get(b);Ye(A!==null,48541),I.version.compareTo(A)<0&&(v.applyToRemoteDocument(I,f),I.isValidDocument()&&(I.setReadTime(f.commitVersion),m.addEntry(I)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(h,v))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=Ue();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function MA(n){const e=Me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function ZM(n,e){const t=Me(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const c=[];e.targetChanges.forEach((m,v)=>{const E=i.get(v);if(!E)return;c.push(t.Ti.removeMatchingKeys(o,m.removedDocuments,v).next(()=>t.Ti.addMatchingKeys(o,m.addedDocuments,v)));let T=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?T=T.withResumeToken(Gt.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),i=i.insert(v,T),function(I,A,N){return I.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=YM?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(E,T,m)&&c.push(t.Ti.updateTargetData(o,T))});let h=Ui(),f=Ue();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(eV(o,l,e.documentUpdates).next(m=>{h=m.qs,f=m.Qs})),!r.isEqual(Le.min())){const m=t.Ti.getLastRemoteSnapshotVersion(o).next(v=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(m)}return Z.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(t.xs=i,o))}function eV(n,e,t){let r=Ue(),i=Ue();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=Ui();return t.forEach((c,h)=>{const f=o.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(Le.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):pe(fy,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),{qs:l,Qs:i}})}function tV(n,e){const t=Me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ey),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nV(n,e){const t=Me(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,Z.resolve(i)):t.Ti.allocateTargetId(r).next(l=>(i=new Is(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function l_(n,e,t){const r=Me(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!kl(l))throw l;pe(fy,`Failed to update sequence numbers for target ${e}: ${l}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function G0(n,e,t){const r=Me(n);let i=Le.min(),o=Ue();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,m){const v=Me(h),E=v.Os.get(m);return E!==void 0?Z.resolve(v.xs.get(E)):v.Ti.getTargetData(f,m)}(r,l,ei(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(l,c.targetId).next(h=>{o=h})}).next(()=>r.Ms.getDocumentsMatchingQuery(l,e,t?i:Le.min(),t?o:Ue())).next(c=>(rV(r,BL(e),c),{documents:c,$s:o})))}function rV(n,e,t){let r=n.Ns.get(e)||Le.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}class Y0{constructor(){this.activeTargetIds=GL()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iV{constructor(){this.xo=new Y0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Y0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="ConnectivityMonitor";class X0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){pe(Q0,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){pe(Q0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld=null;function c_(){return ld===null?ld=function(){return 268435456+Math.round(2147483648*Math.random())}():ld++,"0x"+ld.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="RestConnection",oV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aV{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===of?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){const l=c_(),c=this.jo(e,t.toUriEncodedString());pe(dg,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,i,o);const{host:f}=new URL(c),m=Su(f);return this.Jo(e,c,h,r,m).then(v=>(pe(dg,`Received RPC '${e}' ${l}: `,v),v),v=>{throw sl(dg,`RPC '${e}' ${l} failed with error: `,v,"url: ",c,"request:",r),v})}Yo(e,t,r,i,o,l){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){const r=oV[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class cV extends aV{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){const l=c_();return new Promise((c,h)=>{const f=new $I;f.setWithCredentials(!0),f.listenOnce(jI.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Vd.NO_ERROR:const v=f.getResponseJson();pe(tn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case Vd.TIMEOUT:pe(tn,`RPC '${e}' ${l} timed out`),h(new xe(se.DEADLINE_EXCEEDED,"Request time out"));break;case Vd.HTTP_ERROR:const E=f.getStatus();if(pe(tn,`RPC '${e}' ${l} failed with status:`,E,"response text:",f.getResponseText()),E>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const b=T==null?void 0:T.error;if(b&&b.status&&b.message){const I=function(N){const V=N.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(V)>=0?V:se.UNKNOWN}(b.status);h(new xe(I,b.message))}else h(new xe(se.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new xe(se.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{h_:e,streamId:l,P_:f.getLastErrorCode(),T_:f.getLastError()})}}finally{pe(tn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(i);pe(tn,`RPC '${e}' ${l} sending request:`,i),f.send(t,"POST",m,r,15)})}I_(e,t,r){const i=c_(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=zI(),c=BI(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const m=o.join("");pe(tn,`Creating RPC '${e}' stream ${i}: ${m}`,h);const v=l.createWebChannel(m,h);this.E_(v);let E=!1,T=!1;const b=new lV({Zo:A=>{T?pe(tn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(E||(pe(tn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),E=!0),pe(tn,`RPC '${e}' stream ${i} sending:`,A),v.send(A))},Xo:()=>v.close()}),I=(A,N,V)=>{A.listen(N,U=>{try{V(U)}catch(z){setTimeout(()=>{throw z},0)}})};return I(v,Vc.EventType.OPEN,()=>{T||(pe(tn,`RPC '${e}' stream ${i} transport opened.`),b.__())}),I(v,Vc.EventType.CLOSE,()=>{T||(T=!0,pe(tn,`RPC '${e}' stream ${i} transport closed`),b.u_(),this.d_(v))}),I(v,Vc.EventType.ERROR,A=>{T||(T=!0,sl(tn,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),b.u_(new xe(se.UNAVAILABLE,"The operation could not be completed")))}),I(v,Vc.EventType.MESSAGE,A=>{var N;if(!T){const V=A.data[0];Ye(!!V,16349);const U=V,z=(U==null?void 0:U.error)||((N=U[0])===null||N===void 0?void 0:N.error);if(z){pe(tn,`RPC '${e}' stream ${i} received error:`,z);const Q=z.status;let Y=function(k){const O=bt[k];if(O!==void 0)return SA(O)}(Q),R=z.message;Y===void 0&&(Y=se.INTERNAL,R="Unknown error status: "+Q+" with message "+z.message),T=!0,b.u_(new xe(Y,R)),v.close()}else pe(tn,`RPC '${e}' stream ${i} received:`,V),b.c_(V)}}),I(c,UI.STAT_EVENT,A=>{A.stat===Xg.PROXY?pe(tn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Xg.NOPROXY&&pe(tn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.a_()},0),b}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function fg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(n){return new fM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="PersistentStream";class FA{constructor(e,t,r,i,o,l,c,h){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new VA(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(ji(t.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{const i=new xe(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){const r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return pe(J0,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(pe(J0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uV extends FA{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=gM(this.serializer,e),r=function(o){if(!("targetChange"in o))return Le.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Le.min():l.readTime?ni(l.readTime):Le.min()}(e);return this.listener.Y_(t,r)}Z_(e){const t={};t.database=a_(this.serializer),t.addTarget=function(o,l){let c;const h=l.target;if(c=n_(h)?{documents:vM(o,h)}:{query:EM(o,h).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=AA(o,l.resumeToken);const f=i_(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Le.min())>0){c.readTime=df(o,l.snapshotVersion.toTimestamp());const f=i_(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const r=TM(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){const t={};t.database=a_(this.serializer),t.removeTarget=e,this.Q_(t)}}class hV extends FA{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=yM(e.writeResults,e.commitTime),r=ni(e.commitTime);return this.listener.ra(r,t)}ia(){const e={};e.database=a_(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>_M(this.serializer,r))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{}class fV extends dV{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new xe(se.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.zo(e,s_(t,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(se.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Yo(e,s_(t,r),i,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(se.UNKNOWN,l.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class pV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ji(t),this.ua=!1):pe("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="RemoteStore";class mV{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(l=>{r.enqueueAndForget(async()=>{Qo(this)&&(pe(Uo,"Restarting streams for network reachability change."),await async function(h){const f=Me(h);f.da.add(4),await Pu(f),f.Va.set("Unknown"),f.da.delete(4),await ep(f)}(this))})}),this.Va=new pV(r,i)}}async function ep(n){if(Qo(n))for(const e of n.Aa)await e(!0)}async function Pu(n){for(const e of n.Aa)await e(!1)}function $A(n,e){const t=Me(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),_y(t)?gy(t):Rl(t).N_()&&my(t,e))}function py(n,e){const t=Me(n),r=Rl(t);t.Ea.delete(e),r.N_()&&jA(t,e),t.Ea.size===0&&(r.N_()?r.k_():Qo(t)&&t.Va.set("Unknown"))}function my(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Rl(n).Z_(e)}function jA(n,e){n.ma.Ke(e),Rl(n).X_(e)}function gy(n){n.ma=new cM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Rl(n).start(),n.Va.ca()}function _y(n){return Qo(n)&&!Rl(n).O_()&&n.Ea.size>0}function Qo(n){return Me(n).da.size===0}function UA(n){n.ma=void 0}async function gV(n){n.Va.set("Online")}async function _V(n){n.Ea.forEach((e,t)=>{my(n,e)})}async function yV(n,e){UA(n),_y(n)?(n.Va.Pa(e),gy(n)):n.Va.set("Unknown")}async function vV(n,e,t){if(n.Va.set("Online"),e instanceof IA&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const c of o.targetIds)i.Ea.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ea.delete(c),i.ma.removeTarget(c))}(n,e)}catch(r){pe(Uo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pf(n,r)}else if(e instanceof Ud?n.ma.Xe(e):e instanceof bA?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Le.min()))try{const r=await MA(n.localStore);t.compareTo(r)>=0&&await function(o,l){const c=o.ma.It(l);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.Ea.get(f);m&&o.Ea.set(f,m.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,f)=>{const m=o.Ea.get(h);if(!m)return;o.Ea.set(h,m.withResumeToken(Gt.EMPTY_BYTE_STRING,m.snapshotVersion)),jA(o,h);const v=new Is(m.target,h,f,m.sequenceNumber);my(o,v)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){pe(Uo,"Failed to raise snapshot:",r),await pf(n,r)}}async function pf(n,e,t){if(!kl(e))throw e;n.da.add(1),await Pu(n),n.Va.set("Offline"),t||(t=()=>MA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(Uo,"Retrying IndexedDB access"),await t(),n.da.delete(1),await ep(n)})}function BA(n,e){return e().catch(t=>pf(n,t,e))}async function tp(n){const e=Me(n),t=Vs(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:ey;for(;EV(e);)try{const i=await tV(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,wV(e,i)}catch(i){await pf(e,i)}zA(e)&&HA(e)}function EV(n){return Qo(n)&&n.Ia.length<10}function wV(n,e){n.Ia.push(e);const t=Vs(n);t.N_()&&t.ea&&t.ta(e.mutations)}function zA(n){return Qo(n)&&!Vs(n).O_()&&n.Ia.length>0}function HA(n){Vs(n).start()}async function TV(n){Vs(n).ia()}async function SV(n){const e=Vs(n);for(const t of n.Ia)e.ta(t.mutations)}async function bV(n,e,t){const r=n.Ia.shift(),i=ay.from(r,e,t);await BA(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await tp(n)}async function IV(n,e){e&&Vs(n).ea&&await async function(r,i){if(function(l){return aM(l)&&l!==se.ABORTED}(i.code)){const o=r.Ia.shift();Vs(r).L_(),await BA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await tp(r)}}(n,e),zA(n)&&HA(n)}async function Z0(n,e){const t=Me(n);t.asyncQueue.verifyOperationInProgress(),pe(Uo,"RemoteStore received new credentials");const r=Qo(t);t.da.add(3),await Pu(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await ep(t)}async function AV(n,e){const t=Me(n);e?(t.da.delete(2),await ep(t)):e||(t.da.add(2),await Pu(t),t.Va.set("Unknown"))}function Rl(n){return n.fa||(n.fa=function(t,r,i){const o=Me(t);return o.oa(),new uV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:gV.bind(null,n),n_:_V.bind(null,n),i_:yV.bind(null,n),Y_:vV.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),_y(n)?gy(n):n.Va.set("Unknown")):(await n.fa.stop(),UA(n))})),n.fa}function Vs(n){return n.ga||(n.ga=function(t,r,i){const o=Me(t);return o.oa(),new hV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:TV.bind(null,n),i_:IV.bind(null,n),na:SV.bind(null,n),ra:bV.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await tp(n)):(await n.ga.stop(),n.Ia.length>0&&(pe(Uo,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,c=new yy(e,t,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vy(n,e){if(ji("AsyncQueue",`${e}: ${n}`),kl(n))return new xe(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{static emptySet(e){return new nl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ke.comparator(t.key,r.key):(t,r)=>ke.comparator(t.key,r.key),this.keyedMap=Fc(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(){this.pa=new dt(ke.comparator)}track(e){const t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Oe(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}}class hl{constructor(e,t,r,i,o,l,c,h,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new hl(e,t,nl.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class xV{constructor(){this.queries=tT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Me(t),o=i.queries;i.queries=tT(),o.forEach((l,c)=>{for(const h of c.Sa)h.onError(r)})})(this,new xe(se.ABORTED,"Firestore shutting down"))}}function tT(){return new Yo(n=>uA(n),Gf)}async function kV(n,e){const t=Me(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new CV,r=e.va()?0:1);try{switch(r){case 0:o.ba=await t.onListen(i,!0);break;case 1:o.ba=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=vy(l,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&Ey(t)}async function RV(n,e){const t=Me(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function PV(n,e){const t=Me(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const c of l.Sa)c.Ma(i)&&(r=!0);l.ba=i}}r&&Ey(t)}function OV(n,e,t){const r=Me(n),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(t);r.queries.delete(e)}function Ey(n){n.Ca.forEach(e=>{e.next()})}var u_,nT;(nT=u_||(u_={})).xa="default",nT.Cache="cache";class NV{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new hl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==u_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.key=e}}class KA{constructor(e){this.key=e}}class DV{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.Za=hA(e),this.Xa=new nl(this.Za)}get eu(){return this.Ha}tu(e,t){const r=t?t.nu:new eT,i=t?t.Xa:this.Xa;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,v)=>{const E=i.get(m),T=Yf(this.query,v)?v:null,b=!!E&&this.mutatedKeys.has(E.key),I=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let A=!1;E&&T?E.data.isEqual(T.data)?b!==I&&(r.track({type:3,doc:T}),A=!0):this.ru(E,T)||(r.track({type:2,doc:T}),A=!0,(h&&this.Za(T,h)>0||f&&this.Za(T,f)<0)&&(c=!0)):!E&&T?(r.track({type:0,doc:T}),A=!0):E&&!T&&(r.track({type:1,doc:E}),A=!0,(h||f)&&(c=!0)),A&&(T?(l=l.add(T),o=I?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{Xa:l,nu:r,Cs:c,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const l=e.nu.wa();l.sort((m,v)=>function(T,b){const I=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Vt:A})}};return I(T)-I(b)}(m.type,v.type)||this.Za(m.doc,v.doc)),this.iu(r),i=i!=null&&i;const c=t&&!i?this.su():[],h=this.Ya.size===0&&this.current&&!i?1:0,f=h!==this.Ja;return this.Ja=h,l.length!==0||f?{snapshot:new hl(this.query,e.Xa,o,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new eT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new KA(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new WA(r))}),t}au(e){this.Ha=e.$s,this.Ya=Ue();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return hl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const wy="SyncEngine";class LV{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class MV{constructor(e){this.key=e,this.cu=!1}}class VV{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new Yo(c=>uA(c),Gf),this.Pu=new Map,this.Tu=new Set,this.Iu=new dt(ke.comparator),this.Eu=new Map,this.du=new uy,this.Au={},this.Ru=new Map,this.Vu=ul.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function FV(n,e,t=!0){const r=JA(n);let i;const o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=await qA(r,e,t,!0),i}async function $V(n,e){const t=JA(n);await qA(t,e,!0,!1)}async function qA(n,e,t,r){const i=await nV(n.localStore,ei(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await jV(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&$A(n.remoteStore,i),c}async function jV(n,e,t,r,i){n.fu=(v,E,T)=>async function(I,A,N,V){let U=A.view.tu(N);U.Cs&&(U=await G0(I.localStore,A.query,!1).then(({documents:R})=>A.view.tu(R,U)));const z=V&&V.targetChanges.get(A.targetId),Q=V&&V.targetMismatches.get(A.targetId)!=null,Y=A.view.applyChanges(U,I.isPrimaryClient,z,Q);return iT(I,A.targetId,Y.ou),Y.snapshot}(n,v,E,T);const o=await G0(n.localStore,e,!0),l=new DV(e,o.$s),c=l.tu(o.documents),h=Ru.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=l.applyChanges(c,n.isPrimaryClient,h);iT(n,t,f.ou);const m=new LV(e,t,l);return n.hu.set(e,m),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),f.snapshot}async function UV(n,e,t){const r=Me(n),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(l=>!Gf(l,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await l_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&py(r.remoteStore,i.targetId),h_(r,i.targetId)}).catch(xl)):(h_(r,i.targetId),await l_(r.localStore,i.targetId,!0))}async function BV(n,e){const t=Me(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),py(t.remoteStore,r.targetId))}async function zV(n,e,t){const r=QV(n);try{const i=await function(l,c){const h=Me(l),f=Ot.now(),m=c.reduce((T,b)=>T.add(b.key),Ue());let v,E;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let b=Ui(),I=Ue();return h.Bs.getEntries(T,m).next(A=>{b=A,b.forEach((N,V)=>{V.isValidDocument()||(I=I.add(N))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,b)).next(A=>{v=A;const N=[];for(const V of c){const U=nM(V,v.get(V.key).overlayedDocument);U!=null&&N.push(new Ks(V.key,U,rA(U.value.mapValue),ti.exists(!0)))}return h.mutationQueue.addMutationBatch(T,f,N,c)}).next(A=>{E=A;const N=A.applyToLocalDocumentSet(v,I);return h.documentOverlayCache.saveOverlays(T,A.batchId,N)})}).then(()=>({batchId:E.batchId,changes:fA(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,h){let f=l.Au[l.currentUser.toKey()];f||(f=new dt(Fe)),f=f.insert(c,h),l.Au[l.currentUser.toKey()]=f}(r,i.batchId,t),await Ou(r,i.changes),await tp(r.remoteStore)}catch(i){const o=vy(i,"Failed to persist write");t.reject(o)}}async function GA(n,e){const t=Me(n);try{const r=await ZM(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.Eu.get(o);l&&(Ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.cu=!0:i.modifiedDocuments.size>0?Ye(l.cu,14607):i.removedDocuments.size>0&&(Ye(l.cu,42227),l.cu=!1))}),await Ou(t,r,e)}catch(r){await xl(r)}}function rT(n,e,t){const r=Me(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.hu.forEach((o,l)=>{const c=l.view.Fa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const h=Me(l);h.onlineState=c;let f=!1;h.queries.forEach((m,v)=>{for(const E of v.Sa)E.Fa(c)&&(f=!0)}),f&&Ey(h)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HV(n,e,t){const r=Me(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Eu.get(e),o=i&&i.key;if(o){let l=new dt(ke.comparator);l=l.insert(o,rn.newNoDocument(o,Le.min()));const c=Ue().add(o),h=new Jf(Le.min(),new Map,new dt(Fe),l,c);await GA(r,h),r.Iu=r.Iu.remove(o),r.Eu.delete(e),Ty(r)}else await l_(r.localStore,e,!1).then(()=>h_(r,e,t)).catch(xl)}async function WV(n,e){const t=Me(n),r=e.batch.batchId;try{const i=await JM(t.localStore,e);QA(t,r,null),YA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ou(t,i)}catch(i){await xl(i)}}async function KV(n,e,t){const r=Me(n);try{const i=await function(l,c){const h=Me(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return h.mutationQueue.lookupMutationBatch(f,c).next(v=>(Ye(v!==null,37113),m=v.keys(),h.mutationQueue.removeMutationBatch(f,v))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>h.localDocuments.getDocuments(f,m))})}(r.localStore,e);QA(r,e,t),YA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ou(r,i)}catch(i){await xl(i)}}function YA(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function QA(n,e,t){const r=Me(n);let i=r.Au[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function h_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||XA(n,r)})}function XA(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(py(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),Ty(n))}function iT(n,e,t){for(const r of t)r instanceof WA?(n.du.addReference(r.key,e),qV(n,r)):r instanceof KA?(pe(wy,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||XA(n,r.key)):Oe(19791,{pu:r})}function qV(n,e){const t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(pe(wy,"New document in limbo: "+t),n.Tu.add(r),Ty(n))}function Ty(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new ke(_t.fromString(e)),r=n.Vu.next();n.Eu.set(r,new MV(t)),n.Iu=n.Iu.insert(t,r),$A(n.remoteStore,new Is(ei(sy(t.path)),r,"TargetPurposeLimboResolution",Hf.le))}}async function Ou(n,e,t){const r=Me(n),i=[],o=[],l=[];r.hu.isEmpty()||(r.hu.forEach((c,h)=>{l.push(r.fu(h,e,t).then(f=>{var m;if((f||t)&&r.isPrimaryClient){const v=f?!f.fromCache:(m=t==null?void 0:t.targetChanges.get(h.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(f){i.push(f);const v=dy.Rs(h.targetId,f);o.push(v)}}))}),await Promise.all(l),r.lu.Y_(i),await async function(h,f){const m=Me(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>Z.forEach(f,E=>Z.forEach(E.ds,T=>m.persistence.referenceDelegate.addReference(v,E.targetId,T)).next(()=>Z.forEach(E.As,T=>m.persistence.referenceDelegate.removeReference(v,E.targetId,T)))))}catch(v){if(!kl(v))throw v;pe(fy,"Failed to update sequence numbers: "+v)}for(const v of f){const E=v.targetId;if(!v.fromCache){const T=m.xs.get(E),b=T.snapshotVersion,I=T.withLastLimboFreeSnapshotVersion(b);m.xs=m.xs.insert(E,I)}}}(r.localStore,o))}async function GV(n,e){const t=Me(n);if(!t.currentUser.isEqual(e)){pe(wy,"User change. New user:",e.toKey());const r=await LA(t.localStore,e);t.currentUser=e,function(o,l){o.Ru.forEach(c=>{c.forEach(h=>{h.reject(new xe(se.CANCELLED,l))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ou(t,r.ks)}}function YV(n,e){const t=Me(n),r=t.Eu.get(e);if(r&&r.cu)return Ue().add(r.key);{let i=Ue();const o=t.Pu.get(e);if(!o)return i;for(const l of o){const c=t.hu.get(l);i=i.unionWith(c.view.eu)}return i}}function JA(n){const e=Me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=GA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HV.bind(null,e),e.lu.Y_=PV.bind(null,e.eventManager),e.lu.gu=OV.bind(null,e.eventManager),e}function QV(n){const e=Me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KV.bind(null,e),e}class mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return XM(this.persistence,new GM,e.initialUser,this.serializer)}Su(e){return new DA(hy.fi,this.serializer)}bu(e){return new iV}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mf.provider={build:()=>new mf};class XV extends mf{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Ye(this.persistence.referenceDelegate instanceof ff,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new NM(r,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new DA(r=>ff.fi(r,t),this.serializer)}}class d_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GV.bind(null,this.syncEngine),await AV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xV}()}createDatastore(e){const t=Zf(e.databaseInfo.databaseId),r=function(o){return new cV(o)}(e.databaseInfo);return function(o,l,c,h){return new fV(o,l,c,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,l,c){return new mV(r,i,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>rT(this.syncEngine,t,0),function(){return X0.C()?new X0:new sV}())}createSyncEngine(e,t){return function(i,o,l,c,h,f,m){const v=new VV(i,o,l,c,h,f);return m&&(v.mu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Me(i);pe(Uo,"RemoteStore shutting down."),o.da.add(5),await Pu(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}d_.provider={build:()=>new d_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="FirestoreClient";class ZV{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=nn.UNAUTHENTICATED,this.clientId=qI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{pe(Fs,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(pe(Fs,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=vy(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function pg(n,e){n.asyncQueue.verifyOperationInProgress(),pe(Fs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await LA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function sT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await eF(n);pe(Fs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Z0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Z0(e.remoteStore,i)),n._onlineComponents=e}async function eF(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(Fs,"Using user provided OfflineComponentProvider");try{await pg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;sl("Error using user provided cache. Falling back to memory cache: "+t),await pg(n,new mf)}}else pe(Fs,"Using default OfflineComponentProvider"),await pg(n,new XV(void 0));return n._offlineComponents}async function ZA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(Fs,"Using user provided OnlineComponentProvider"),await sT(n,n._uninitializedComponentsProvider._online)):(pe(Fs,"Using default OnlineComponentProvider"),await sT(n,new d_))),n._onlineComponents}function tF(n){return ZA(n).then(e=>e.syncEngine)}async function nF(n){const e=await ZA(n),t=e.eventManager;return t.onListen=FV.bind(null,e.syncEngine),t.onUnlisten=UV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=$V.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=BV.bind(null,e.syncEngine),t}function rF(n,e,t={}){const r=new Ps;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,f){const m=new JV({next:E=>{m.xu(),l.enqueueAndForget(()=>RV(o,v));const T=E.docs.has(c);!T&&E.fromCache?f.reject(new xe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&E.fromCache&&h&&h.source==="server"?f.reject(new xe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(E)},error:E=>f.reject(E)}),v=new NV(sy(c.path),m,{includeMetadataChanges:!0,Qa:!0});return kV(o,v)}(await nF(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(n,e,t){if(!t)throw new xe(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function sF(n,e,t,r){if(e===!0&&r===!0)throw new xe(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function aT(n){if(!ke.isDocumentKey(n))throw new xe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Sy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Oe(12329,{type:typeof n})}function Bo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Sy(n);throw new xe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="firestore.googleapis.com",lT=!0;class cT{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tC,this.ssl=lT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:lT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PM)throw new xe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new xe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new xe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new xe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class by{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new oL;switch(r.type){case"firstParty":return new uL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=oT.get(t);r&&(pe("ComponentProvider","Removing Datastore"),oT.delete(t),r.terminate())}(this),Promise.resolve()}}function oF(n,e,t,r={}){var i;n=Bo(n,by);const o=Su(e),l=n._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;o&&(Sb(`https://${h}`),bb("Firestore",!0)),l.host!==tC&&l.host!==h&&sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:h,ssl:o,emulatorOptions:r});if(!Vi(f,c)&&(n._setSettings(f),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=nn.MOCK_USER;else{m=QR(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new xe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new nn(E)}n._authCredentials=new aL(new WI(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Iy(this.firestore,e,this._query)}}class $n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class mu extends Iy{constructor(e,t,r){super(e,t,sy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new ke(e))}withConverter(e){return new mu(this.firestore,e,this._path)}}function Ay(n,e,...t){if(n=Dt(n),arguments.length===1&&(e=qI.newId()),iF("doc","path",e),n instanceof by){const r=_t.fromString(e,...t);return aT(r),new $n(n,null,new ke(r))}{if(!(n instanceof $n||n instanceof mu))throw new xe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_t.fromString(e,...t));return aT(r),new $n(n.firestore,n instanceof mu?n.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="AsyncQueue";class hT{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new VA(this,"async_queue_retry"),this.rc=()=>{const r=fg();r&&pe(uT,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const t=fg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=fg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Ps;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!kl(e))throw e;pe(uT,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,ji("INTERNAL UNHANDLED ERROR: ",dT(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const i=yy.createAndSchedule(this,e,t,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&Oe(47125,{cc:dT(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function dT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class np extends by{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new hT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hT(e),this._firestoreClient=void 0,await e}}}function nC(n,e){const t=typeof n=="object"?n:F_(),r=typeof n=="string"?n:of,i=qo(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=GR("firestore");o&&oF(i,...o)}return i}function rC(n){if(n._terminated)throw new xe(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||aF(n),n._firestoreClient}function aF(n){var e,t,r;const i=n._freezeSettings(),o=function(c,h,f,m){return new IL(c,h,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,eC(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new ZV(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dl(Gt.fromBase64String(e))}catch(t){throw new xe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new dl(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=/^__.*__$/;class cF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,t,this.fieldTransforms):new ku(e,this.data,t,this.fieldTransforms)}}class iC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ks(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ic:n})}}class sp{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new sp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return gf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(sC(this.Ic)&&lF.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class uF{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Zf(e)}bc(e,t,r,i=!1){return new sp({Ic:e,methodName:t,wc:r,path:Kt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oC(n){const e=n._freezeSettings(),t=Zf(n._databaseId);return new uF(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hF(n,e,t,r,i,o={}){const l=n.bc(o.merge||o.mergeFields?2:0,e,t,i);Ry("Data must be an object, but it was:",l,r);const c=aC(r,l);let h,f;if(o.merge)h=new Vn(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const v of o.mergeFields){const E=f_(e,v,t);if(!l.contains(E))throw new xe(se.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);cC(m,E)||m.push(E)}h=new Vn(m),f=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,f=l.fieldTransforms;return new cF(new bn(c),h,f)}class op extends ip{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof op}}function dF(n,e,t){return new sp({Ic:3,wc:e.settings.wc,methodName:n._methodName,Rc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ky extends ip{constructor(e,t){super(e),this.Sc=t}_toFieldTransform(e){const t=dF(this,e,!0),r=this.Sc.map(o=>Nu(o,t)),i=new cl(r);return new JL(e.path,i)}isEqual(e){return e instanceof ky&&Vi(this.Sc,e.Sc)}}function fF(n,e,t,r){const i=n.bc(1,e,t);Ry("Data must be an object, but it was:",i,r);const o=[],l=bn.empty();Ws(r,(h,f)=>{const m=Py(e,h,t);f=Dt(f);const v=i.mc(m);if(f instanceof op)o.push(m);else{const E=Nu(f,v);E!=null&&(o.push(m),l.set(m,E))}});const c=new Vn(o);return new iC(l,c,i.fieldTransforms)}function pF(n,e,t,r,i,o){const l=n.bc(1,e,t),c=[f_(e,r,t)],h=[i];if(o.length%2!=0)throw new xe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)c.push(f_(e,o[E])),h.push(o[E+1]);const f=[],m=bn.empty();for(let E=c.length-1;E>=0;--E)if(!cC(f,c[E])){const T=c[E];let b=h[E];b=Dt(b);const I=l.mc(T);if(b instanceof op)f.push(T);else{const A=Nu(b,I);A!=null&&(f.push(T),m.set(T,A))}}const v=new Vn(f);return new iC(m,v,l.fieldTransforms)}function Nu(n,e){if(lC(n=Dt(n)))return Ry("Unsupported field value:",e,n),aC(n,e);if(n instanceof ip)return function(r,i){if(!sC(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const c of r){let h=Nu(c,i.fc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ot.fromDate(r);return{timestampValue:df(i.serializer,o)}}if(r instanceof Ot){const o=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:df(i.serializer,o)}}if(r instanceof Cy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof dl)return{bytesValue:AA(i.serializer,r._byteString)};if(r instanceof $n){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:cy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof xy)return function(l,c){return{mapValue:{fields:{[tA]:{stringValue:nA},[af]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.gc("VectorValues must only contain numeric values.");return oy(c.serializer,f)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${Sy(r)}`)}(n,e)}function aC(n,e){const t={};return YI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(n,(r,i)=>{const o=Nu(i,e.Ac(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function lC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ot||n instanceof Cy||n instanceof dl||n instanceof $n||n instanceof ip||n instanceof xy)}function Ry(n,e,t){if(!lC(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Sy(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function f_(n,e,t){if((e=Dt(e))instanceof rp)return e._internalPath;if(typeof e=="string")return Py(n,e);throw gf("Field path arguments must be of type string or ",n,!1,void 0,t)}const mF=new RegExp("[~\\*/\\[\\]]");function Py(n,e,t){if(e.search(mF)>=0)throw gf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new rp(...e.split("."))._internalPath}catch{throw gf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gf(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new xe(se.INVALID_ARGUMENT,c+n+h)}function cC(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hC("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class gF extends uC{data(){return super.data()}}function hC(n,e){return typeof e=="string"?Py(n,e):e instanceof rp?e._internalPath:e._delegate._internalPath}class _F{convertValue(e,t="none"){switch(Ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ws(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[af].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Et(l.doubleValue));return new xy(o)}convertGeoPoint(e){return new Cy(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Kf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const t=Ds(e);return new Ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=_t.fromString(e);Ye(OA(r),9688,{name:e});const i=new du(r.get(1),r.get(3)),o=new ke(r.popFirst(5));return i.isEqual(t)||ji(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dC extends uC{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new EF(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(hC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class EF extends dC{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(n){n=Bo(n,$n);const e=Bo(n.firestore,np);return rF(rC(e),n._key).then(t=>bF(e,n,t))}class wF extends _F{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}function TF(n,e,t){n=Bo(n,$n);const r=Bo(n.firestore,np),i=yF(n.converter,e);return pC(r,[hF(oC(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,ti.none())])}function SF(n,e,t,...r){n=Bo(n,$n);const i=Bo(n.firestore,np),o=oC(i);let l;return l=typeof(e=Dt(e))=="string"||e instanceof rp?pF(o,"updateDoc",n._key,e,t,r):fF(o,"updateDoc",n._key,e),pC(i,[l.toMutation(n._key,ti.exists(!0))])}function pC(n,e){return function(r,i){const o=new Ps;return r.asyncQueue.enqueueAndForget(async()=>zV(await tF(r),i,o)),o.promise}(rC(n),e)}function bF(n,e,t){const r=t.docs.get(e._key),i=new wF(n);return new dC(n,i,e._key,r,new vF(t.hasPendingWrites,t.fromCache),e.converter)}function IF(...n){return new ky("arrayUnion",n)}(function(e,t=!0){(function(i){Cl=i})(Il),si(new Ar("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new np(new lL(r.getProvider("auth-internal")),new hL(l,r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new xe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(f.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),rr(y0,v0,e),rr(y0,v0,"esm2017")})();const AF={apiKey:"AIzaSyAm40NnY5ft7ZJKSJEQQrQhGtXuuggn2j4",authDomain:"medtest-5eb10.firebaseapp.com",projectId:"medtest-5eb10",storageBucket:"medtest-5eb10.firebasestorage.app",messagingSenderId:"976951571415",appId:"1:976951571415:web:0d9a16e90af1073e755192",measurementId:"G-ZCDW1L7X89"},Oy=Pb(AF);nL(Oy);const fl=VD(Oy),mC=nC(Oy);var gC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fT=Pi.createContext&&Pi.createContext(gC),CF=["attr","size","title"];function xF(n,e){if(n==null)return{};var t=kF(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function kF(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function _f(){return _f=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_f.apply(this,arguments)}function pT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function yf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pT(Object(t),!0).forEach(function(r){RF(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pT(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function RF(n,e,t){return e=PF(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function PF(n){var e=OF(n,"string");return typeof e=="symbol"?e:e+""}function OF(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _C(n){return n&&n.map((e,t)=>Pi.createElement(e.tag,yf({key:t},e.attr),_C(e.child)))}function ap(n){return e=>Pi.createElement(NF,_f({attr:yf({},n.attr)},e),_C(n.child))}function NF(n){var e=t=>{var{attr:r,size:i,title:o}=n,l=xF(n,CF),c=i||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Pi.createElement("svg",_f({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:h,style:yf(yf({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&Pi.createElement("title",null,o),n.children)};return fT!==void 0?Pi.createElement(fT.Consumer,null,t=>e(t)):e(gC)}function DF(n){return ap({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(n)}function LF(n){return ap({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(n)}function MF(){const[n,e]=W.useState(""),[t,r]=W.useState(""),[i,o]=W.useState(""),[l,c]=W.useState(""),[h,f]=W.useState(""),m=Lf();W.useEffect(()=>{const T=iI(fl,b=>{b&&m("/test",{replace:!0})});return()=>T()},[m]);const v=()=>{let T=!0;c(""),f("");const b=/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/;return n.trim()?b.test(n)||(c("Neplatn formt emailu."),T=!1):(c("Email je povinn."),T=!1),t?t.length<6&&(f("Heslo mus ma aspo 6 znakov."),T=!1):(f("Heslo je povinn."),T=!1),T},E=async T=>{if(T.preventDefault(),o(""),!!v())try{const b=await TN(fl,n,t);o("Prihlsenie bolo spen."),m("/test",{replace:!0})}catch(b){b.code==="auth/wrong-password"||b.code==="auth/user-not-found"||b.code==="auth/invalid-credential"?o("Neplatn prihlasovacie daje!"):b.code==="auth/too-many-requests"?o("Prli vea pokusov. Skste to znova neskr."):o("Chyba pri prihlasovan: "+b.message)}};return X.jsxs("div",{className:"container-fluid d-flex justify-content-center align-items-center vh-100 pageBG",children:[X.jsx("div",{children:X.jsx("img",{src:"/medTest/logoMED.svg",alt:"logoMED",className:"logoIMG2",height:100})}),X.jsx("div",{className:"card shadow-sm w-100 formCard",style:{maxWidth:"400px"},children:X.jsxs("div",{className:"card-body text-light",children:[X.jsx("h3",{className:"card-title text-center fw-bold mb-4",children:"Prihlsenie"}),i&&X.jsx("div",{className:"alert alert-info",children:i}),X.jsxs("form",{onSubmit:E,noValidate:!0,children:[X.jsxs("div",{className:"mb-3",children:[X.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),X.jsx("input",{type:"email",className:`form-control ${l?"is-invalid":""}`,id:"email",value:n,onChange:T=>e(T.target.value),required:!0}),l&&X.jsx("div",{className:"invalid-feedback",children:l})]}),X.jsxs("div",{className:"mb-3",children:[X.jsx("label",{htmlFor:"password",className:"form-label",children:"Heslo"}),X.jsx("input",{type:"password",className:`form-control ${h?"is-invalid":""}`,id:"password",value:t,onChange:T=>r(T.target.value),required:!0}),h&&X.jsx("div",{className:"invalid-feedback",children:h})]}),X.jsxs("button",{type:"submit",className:"btn btn-secondary w-100",children:[X.jsx(DF,{})," Prihlsi sa"]})]}),X.jsxs("div",{className:"mt-3 text-center",children:[X.jsx("small",{className:"text-secondary p-2",children:" Chcem sa zaregistrova:"}),X.jsx(au,{to:"/register",className:"link-warning",children:"Zaregistruj sa!"})]})]})})]})}function VF(n){return ap({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"},child:[]}]})(n)}function FF(n){return ap({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function $F(){const[n,e]=W.useState(""),[t,r]=W.useState(""),[i,o]=W.useState(""),[l,c]=W.useState(""),[h,f]=W.useState(""),[m,v]=W.useState(!1),[E,T]=W.useState(""),[b,I]=W.useState(""),[A,N]=W.useState(""),[V,U]=W.useState(""),z=()=>{let Y=!0;T(""),I(""),N(""),U("");const R=/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/;return n.trim()?R.test(n)||(T("Neplatn formt emailu."),Y=!1):(T("Email je povinn."),Y=!1),t.trim()||(I("Meno je povinn."),Y=!1),i?i.length<6&&(N("Heslo mus ma aspo 6 znakov."),Y=!1):(N("Heslo je povinn."),Y=!1),l?i!==l&&(U("Hesl sa nezhoduj."),Y=!1):(U("Potvrte heslo."),Y=!1),Y},Q=async Y=>{if(Y.preventDefault(),f(""),!!z())try{const R=Ay(mC,"whitelistEmails",n);if(!(await fC(R)).exists()){f("Tento e-mail nie je povolen na registrciu.");return}const O=(await wN(fl,n,i)).user;await bN(O,{displayName:t}),f("Registrcia bola spen, me sa prihlsi !"),document.getElementById("regForm").style.display="none",v(!0),await sI(fl)}catch(R){R.code==="auth/email-already-in-use"?f("Zadan email u je registrovan !"):R.code==="auth/invalid-email"?f("Neplatn formt emailu."):R.code==="auth/weak-password"?f("Heslo je prli slab."):f("Chyba pri registrcii: "+R.message)}};return X.jsxs("div",{className:"container-fluid d-flex justify-content-center align-items-center vh-100 pageBG",children:[X.jsx("div",{children:X.jsx("img",{src:"/medTest/logoMED.svg",alt:"logoMED",className:"logoIMG2",height:100})}),X.jsx("div",{className:"card shadow-sm w-100 formCard text-light",style:{maxWidth:"400px"},children:X.jsxs("div",{className:"card-body",children:[X.jsx("h3",{className:"card-title text-center mb-4 fw-bold",children:"Registrcia"}),h&&X.jsx("div",{className:"alert alert-info",children:h}),X.jsxs("form",{onSubmit:Q,id:"regForm",noValidate:!0,children:[X.jsxs("div",{className:"mb-3",children:[X.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),X.jsx("input",{type:"email",className:`form-control ${E?"is-invalid":""}`,id:"email",value:n,onChange:Y=>e(Y.target.value),required:!0}),E&&X.jsx("div",{className:"invalid-feedback",children:E})]}),X.jsxs("div",{className:"mb-3",children:[X.jsx("label",{htmlFor:"userName",className:"form-label",children:"Meno"}),X.jsx("input",{type:"text",className:`form-control ${b?"is-invalid":""}`,id:"userName",value:t,onChange:Y=>r(Y.target.value),required:!0}),b&&X.jsx("div",{className:"invalid-feedback",children:b})]}),X.jsxs("div",{className:"mb-3",children:[X.jsx("label",{htmlFor:"password",className:"form-label",children:"Heslo"}),X.jsx("input",{type:"password",className:`form-control ${A?"is-invalid":""}`,id:"password",value:i,onChange:Y=>o(Y.target.value),required:!0}),A&&X.jsx("div",{className:"invalid-feedback",children:A})]}),X.jsxs("div",{className:"mb-3",children:[X.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Zopakuj heslo"}),X.jsx("input",{type:"password",className:`form-control ${V?"is-invalid":""}`,id:"confirmPassword",value:l,onChange:Y=>c(Y.target.value),required:!0}),V&&X.jsx("div",{className:"invalid-feedback",children:V})]}),X.jsxs("button",{type:"submit",className:"btn btn-secondary w-100",children:[X.jsx(FF,{})," Registrova sa"]})]}),X.jsx(au,{to:"/",className:`${m?"d-block":"d-none"}`,children:X.jsx("button",{className:"btn btn-secondary w-100",children:"Prejs na prihlsenie"})}),X.jsxs("div",{className:"mt-3 text-center",children:[X.jsx("small",{className:"p-2 text-secondary",children:"U mm et:"}),X.jsx(au,{to:"/",className:"link-warning",children:"Prihlsi sa!"})]})]})})]})}var hn="top",jn="bottom",Un="right",dn="left",lp="auto",Pl=[hn,jn,Un,dn],zo="start",pl="end",yC="clippingParents",Ny="viewport",Ga="popper",vC="reference",p_=Pl.reduce(function(n,e){return n.concat([e+"-"+zo,e+"-"+pl])},[]),Dy=[].concat(Pl,[lp]).reduce(function(n,e){return n.concat([e,e+"-"+zo,e+"-"+pl])},[]),EC="beforeRead",wC="read",TC="afterRead",SC="beforeMain",bC="main",IC="afterMain",AC="beforeWrite",CC="write",xC="afterWrite",kC=[EC,wC,TC,SC,bC,IC,AC,CC,xC];function li(n){return n?(n.nodeName||"").toLowerCase():null}function Bn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Ho(n){var e=Bn(n).Element;return n instanceof e||n instanceof Element}function ir(n){var e=Bn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Ly(n){if(typeof ShadowRoot>"u")return!1;var e=Bn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function jF(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},o=e.elements[t];!ir(o)||!li(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(l){var c=i[l];c===!1?o.removeAttribute(l):o.setAttribute(l,c===!0?"":c)}))})}function UF(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},l=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),c=l.reduce(function(h,f){return h[f]="",h},{});!ir(i)||!li(i)||(Object.assign(i.style,c),Object.keys(o).forEach(function(h){i.removeAttribute(h)}))})}}const My={name:"applyStyles",enabled:!0,phase:"write",fn:jF,effect:UF,requires:["computeStyles"]};function ri(n){return n.split("-")[0]}var Do=Math.max,vf=Math.min,ml=Math.round;function m_(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function RC(){return!/^((?!chrome|android).)*safari/i.test(m_())}function gl(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,o=1;e&&ir(n)&&(i=n.offsetWidth>0&&ml(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&ml(r.height)/n.offsetHeight||1);var l=Ho(n)?Bn(n):window,c=l.visualViewport,h=!RC()&&t,f=(r.left+(h&&c?c.offsetLeft:0))/i,m=(r.top+(h&&c?c.offsetTop:0))/o,v=r.width/i,E=r.height/o;return{width:v,height:E,top:m,right:f+v,bottom:m+E,left:f,x:f,y:m}}function Vy(n){var e=gl(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function PC(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Ly(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Bi(n){return Bn(n).getComputedStyle(n)}function BF(n){return["table","td","th"].indexOf(li(n))>=0}function qs(n){return((Ho(n)?n.ownerDocument:n.document)||window.document).documentElement}function cp(n){return li(n)==="html"?n:n.assignedSlot||n.parentNode||(Ly(n)?n.host:null)||qs(n)}function mT(n){return!ir(n)||Bi(n).position==="fixed"?null:n.offsetParent}function zF(n){var e=/firefox/i.test(m_()),t=/Trident/i.test(m_());if(t&&ir(n)){var r=Bi(n);if(r.position==="fixed")return null}var i=cp(n);for(Ly(i)&&(i=i.host);ir(i)&&["html","body"].indexOf(li(i))<0;){var o=Bi(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Du(n){for(var e=Bn(n),t=mT(n);t&&BF(t)&&Bi(t).position==="static";)t=mT(t);return t&&(li(t)==="html"||li(t)==="body"&&Bi(t).position==="static")?e:t||zF(n)||e}function Fy(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Zc(n,e,t){return Do(n,vf(e,t))}function HF(n,e,t){var r=Zc(n,e,t);return r>t?t:r}function OC(){return{top:0,right:0,bottom:0,left:0}}function NC(n){return Object.assign({},OC(),n)}function DC(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var WF=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,NC(typeof e!="number"?e:DC(e,Pl))};function KF(n){var e,t=n.state,r=n.name,i=n.options,o=t.elements.arrow,l=t.modifiersData.popperOffsets,c=ri(t.placement),h=Fy(c),f=[dn,Un].indexOf(c)>=0,m=f?"height":"width";if(!(!o||!l)){var v=WF(i.padding,t),E=Vy(o),T=h==="y"?hn:dn,b=h==="y"?jn:Un,I=t.rects.reference[m]+t.rects.reference[h]-l[h]-t.rects.popper[m],A=l[h]-t.rects.reference[h],N=Du(o),V=N?h==="y"?N.clientHeight||0:N.clientWidth||0:0,U=I/2-A/2,z=v[T],Q=V-E[m]-v[b],Y=V/2-E[m]/2+U,R=Zc(z,Y,Q),x=h;t.modifiersData[r]=(e={},e[x]=R,e.centerOffset=R-Y,e)}}function qF(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||PC(e.elements.popper,i)&&(e.elements.arrow=i))}const LC={name:"arrow",enabled:!0,phase:"main",fn:KF,effect:qF,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function _l(n){return n.split("-")[1]}var GF={top:"auto",right:"auto",bottom:"auto",left:"auto"};function YF(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:ml(t*i)/i||0,y:ml(r*i)/i||0}}function gT(n){var e,t=n.popper,r=n.popperRect,i=n.placement,o=n.variation,l=n.offsets,c=n.position,h=n.gpuAcceleration,f=n.adaptive,m=n.roundOffsets,v=n.isFixed,E=l.x,T=E===void 0?0:E,b=l.y,I=b===void 0?0:b,A=typeof m=="function"?m({x:T,y:I}):{x:T,y:I};T=A.x,I=A.y;var N=l.hasOwnProperty("x"),V=l.hasOwnProperty("y"),U=dn,z=hn,Q=window;if(f){var Y=Du(t),R="clientHeight",x="clientWidth";if(Y===Bn(t)&&(Y=qs(t),Bi(Y).position!=="static"&&c==="absolute"&&(R="scrollHeight",x="scrollWidth")),Y=Y,i===hn||(i===dn||i===Un)&&o===pl){z=jn;var k=v&&Y===Q&&Q.visualViewport?Q.visualViewport.height:Y[R];I-=k-r.height,I*=h?1:-1}if(i===dn||(i===hn||i===jn)&&o===pl){U=Un;var O=v&&Y===Q&&Q.visualViewport?Q.visualViewport.width:Y[x];T-=O-r.width,T*=h?1:-1}}var L=Object.assign({position:c},f&&GF),M=m===!0?YF({x:T,y:I},Bn(t)):{x:T,y:I};if(T=M.x,I=M.y,h){var P;return Object.assign({},L,(P={},P[z]=V?"0":"",P[U]=N?"0":"",P.transform=(Q.devicePixelRatio||1)<=1?"translate("+T+"px, "+I+"px)":"translate3d("+T+"px, "+I+"px, 0)",P))}return Object.assign({},L,(e={},e[z]=V?I+"px":"",e[U]=N?T+"px":"",e.transform="",e))}function QF(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,o=t.adaptive,l=o===void 0?!0:o,c=t.roundOffsets,h=c===void 0?!0:c,f={placement:ri(e.placement),variation:_l(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,gT(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:h})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,gT(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const $y={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:QF,data:{}};var cd={passive:!0};function XF(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,o=i===void 0?!0:i,l=r.resize,c=l===void 0?!0:l,h=Bn(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&f.forEach(function(m){m.addEventListener("scroll",t.update,cd)}),c&&h.addEventListener("resize",t.update,cd),function(){o&&f.forEach(function(m){m.removeEventListener("scroll",t.update,cd)}),c&&h.removeEventListener("resize",t.update,cd)}}const jy={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:XF,data:{}};var JF={left:"right",right:"left",bottom:"top",top:"bottom"};function Bd(n){return n.replace(/left|right|bottom|top/g,function(e){return JF[e]})}var ZF={start:"end",end:"start"};function _T(n){return n.replace(/start|end/g,function(e){return ZF[e]})}function Uy(n){var e=Bn(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function By(n){return gl(qs(n)).left+Uy(n).scrollLeft}function e4(n,e){var t=Bn(n),r=qs(n),i=t.visualViewport,o=r.clientWidth,l=r.clientHeight,c=0,h=0;if(i){o=i.width,l=i.height;var f=RC();(f||!f&&e==="fixed")&&(c=i.offsetLeft,h=i.offsetTop)}return{width:o,height:l,x:c+By(n),y:h}}function t4(n){var e,t=qs(n),r=Uy(n),i=(e=n.ownerDocument)==null?void 0:e.body,o=Do(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=Do(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+By(n),h=-r.scrollTop;return Bi(i||t).direction==="rtl"&&(c+=Do(t.clientWidth,i?i.clientWidth:0)-o),{width:o,height:l,x:c,y:h}}function zy(n){var e=Bi(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function MC(n){return["html","body","#document"].indexOf(li(n))>=0?n.ownerDocument.body:ir(n)&&zy(n)?n:MC(cp(n))}function eu(n,e){var t;e===void 0&&(e=[]);var r=MC(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),o=Bn(r),l=i?[o].concat(o.visualViewport||[],zy(r)?r:[]):r,c=e.concat(l);return i?c:c.concat(eu(cp(l)))}function g_(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function n4(n,e){var t=gl(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function yT(n,e,t){return e===Ny?g_(e4(n,t)):Ho(e)?n4(e,t):g_(t4(qs(n)))}function r4(n){var e=eu(cp(n)),t=["absolute","fixed"].indexOf(Bi(n).position)>=0,r=t&&ir(n)?Du(n):n;return Ho(r)?e.filter(function(i){return Ho(i)&&PC(i,r)&&li(i)!=="body"}):[]}function i4(n,e,t,r){var i=e==="clippingParents"?r4(n):[].concat(e),o=[].concat(i,[t]),l=o[0],c=o.reduce(function(h,f){var m=yT(n,f,r);return h.top=Do(m.top,h.top),h.right=vf(m.right,h.right),h.bottom=vf(m.bottom,h.bottom),h.left=Do(m.left,h.left),h},yT(n,l,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function VC(n){var e=n.reference,t=n.element,r=n.placement,i=r?ri(r):null,o=r?_l(r):null,l=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,h;switch(i){case hn:h={x:l,y:e.y-t.height};break;case jn:h={x:l,y:e.y+e.height};break;case Un:h={x:e.x+e.width,y:c};break;case dn:h={x:e.x-t.width,y:c};break;default:h={x:e.x,y:e.y}}var f=i?Fy(i):null;if(f!=null){var m=f==="y"?"height":"width";switch(o){case zo:h[f]=h[f]-(e[m]/2-t[m]/2);break;case pl:h[f]=h[f]+(e[m]/2-t[m]/2);break}}return h}function yl(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,o=t.strategy,l=o===void 0?n.strategy:o,c=t.boundary,h=c===void 0?yC:c,f=t.rootBoundary,m=f===void 0?Ny:f,v=t.elementContext,E=v===void 0?Ga:v,T=t.altBoundary,b=T===void 0?!1:T,I=t.padding,A=I===void 0?0:I,N=NC(typeof A!="number"?A:DC(A,Pl)),V=E===Ga?vC:Ga,U=n.rects.popper,z=n.elements[b?V:E],Q=i4(Ho(z)?z:z.contextElement||qs(n.elements.popper),h,m,l),Y=gl(n.elements.reference),R=VC({reference:Y,element:U,placement:i}),x=g_(Object.assign({},U,R)),k=E===Ga?x:Y,O={top:Q.top-k.top+N.top,bottom:k.bottom-Q.bottom+N.bottom,left:Q.left-k.left+N.left,right:k.right-Q.right+N.right},L=n.modifiersData.offset;if(E===Ga&&L){var M=L[i];Object.keys(O).forEach(function(P){var De=[Un,jn].indexOf(P)>=0?1:-1,be=[hn,jn].indexOf(P)>=0?"y":"x";O[P]+=M[be]*De})}return O}function s4(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,o=t.rootBoundary,l=t.padding,c=t.flipVariations,h=t.allowedAutoPlacements,f=h===void 0?Dy:h,m=_l(r),v=m?c?p_:p_.filter(function(b){return _l(b)===m}):Pl,E=v.filter(function(b){return f.indexOf(b)>=0});E.length===0&&(E=v);var T=E.reduce(function(b,I){return b[I]=yl(n,{placement:I,boundary:i,rootBoundary:o,padding:l})[ri(I)],b},{});return Object.keys(T).sort(function(b,I){return T[b]-T[I]})}function o4(n){if(ri(n)===lp)return[];var e=Bd(n);return[_T(n),e,_T(e)]}function a4(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,o=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!0:l,h=t.fallbackPlacements,f=t.padding,m=t.boundary,v=t.rootBoundary,E=t.altBoundary,T=t.flipVariations,b=T===void 0?!0:T,I=t.allowedAutoPlacements,A=e.options.placement,N=ri(A),V=N===A,U=h||(V||!b?[Bd(A)]:o4(A)),z=[A].concat(U).reduce(function(Te,Se){return Te.concat(ri(Se)===lp?s4(e,{placement:Se,boundary:m,rootBoundary:v,padding:f,flipVariations:b,allowedAutoPlacements:I}):Se)},[]),Q=e.rects.reference,Y=e.rects.popper,R=new Map,x=!0,k=z[0],O=0;O<z.length;O++){var L=z[O],M=ri(L),P=_l(L)===zo,De=[hn,jn].indexOf(M)>=0,be=De?"width":"height",we=yl(e,{placement:L,boundary:m,rootBoundary:v,altBoundary:E,padding:f}),ge=De?P?Un:dn:P?jn:hn;Q[be]>Y[be]&&(ge=Bd(ge));var re=Bd(ge),ue=[];if(o&&ue.push(we[M]<=0),c&&ue.push(we[ge]<=0,we[re]<=0),ue.every(function(Te){return Te})){k=L,x=!1;break}R.set(L,ue)}if(x)for(var le=b?3:1,j=function(Se){var ae=z.find(function(ve){var he=R.get(ve);if(he)return he.slice(0,Se).every(function(Re){return Re})});if(ae)return k=ae,"break"},J=le;J>0;J--){var fe=j(J);if(fe==="break")break}e.placement!==k&&(e.modifiersData[r]._skip=!0,e.placement=k,e.reset=!0)}}const FC={name:"flip",enabled:!0,phase:"main",fn:a4,requiresIfExists:["offset"],data:{_skip:!1}};function vT(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function ET(n){return[hn,Un,jn,dn].some(function(e){return n[e]>=0})}function l4(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,l=yl(e,{elementContext:"reference"}),c=yl(e,{altBoundary:!0}),h=vT(l,r),f=vT(c,i,o),m=ET(h),v=ET(f);e.modifiersData[t]={referenceClippingOffsets:h,popperEscapeOffsets:f,isReferenceHidden:m,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":v})}const $C={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:l4};function c4(n,e,t){var r=ri(n),i=[dn,hn].indexOf(r)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=o[0],c=o[1];return l=l||0,c=(c||0)*i,[dn,Un].indexOf(r)>=0?{x:c,y:l}:{x:l,y:c}}function u4(n){var e=n.state,t=n.options,r=n.name,i=t.offset,o=i===void 0?[0,0]:i,l=Dy.reduce(function(m,v){return m[v]=c4(v,e.rects,o),m},{}),c=l[e.placement],h=c.x,f=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=h,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=l}const jC={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:u4};function h4(n){var e=n.state,t=n.name;e.modifiersData[t]=VC({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Hy={name:"popperOffsets",enabled:!0,phase:"read",fn:h4,data:{}};function d4(n){return n==="x"?"y":"x"}function f4(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,o=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!1:l,h=t.boundary,f=t.rootBoundary,m=t.altBoundary,v=t.padding,E=t.tether,T=E===void 0?!0:E,b=t.tetherOffset,I=b===void 0?0:b,A=yl(e,{boundary:h,rootBoundary:f,padding:v,altBoundary:m}),N=ri(e.placement),V=_l(e.placement),U=!V,z=Fy(N),Q=d4(z),Y=e.modifiersData.popperOffsets,R=e.rects.reference,x=e.rects.popper,k=typeof I=="function"?I(Object.assign({},e.rects,{placement:e.placement})):I,O=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(Y){if(o){var P,De=z==="y"?hn:dn,be=z==="y"?jn:Un,we=z==="y"?"height":"width",ge=Y[z],re=ge+A[De],ue=ge-A[be],le=T?-x[we]/2:0,j=V===zo?R[we]:x[we],J=V===zo?-x[we]:-R[we],fe=e.elements.arrow,Te=T&&fe?Vy(fe):{width:0,height:0},Se=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:OC(),ae=Se[De],ve=Se[be],he=Zc(0,R[we],Te[we]),Re=U?R[we]/2-le-he-ae-O.mainAxis:j-he-ae-O.mainAxis,We=U?-R[we]/2+le+he+ve+O.mainAxis:J+he+ve+O.mainAxis,Ze=e.elements.arrow&&Du(e.elements.arrow),ft=Ze?z==="y"?Ze.clientTop||0:Ze.clientLeft||0:0,Yt=(P=L==null?void 0:L[z])!=null?P:0,Lt=ge+Re-Yt-ft,fn=ge+We-Yt,Or=Zc(T?vf(re,Lt):re,ge,T?Do(ue,fn):ue);Y[z]=Or,M[z]=Or-ge}if(c){var Nr,Ki=z==="x"?hn:dn,lr=z==="x"?jn:Un,At=Y[Q],Qt=Q==="y"?"height":"width",Dr=At+A[Ki],ui=At-A[lr],Lr=[hn,dn].indexOf(N)!==-1,qi=(Nr=L==null?void 0:L[Q])!=null?Nr:0,pt=Lr?Dr:At-R[Qt]-x[Qt]-qi+O.altAxis,mt=Lr?At+R[Qt]+x[Qt]-qi-O.altAxis:ui,zn=T&&Lr?HF(pt,At,mt):Zc(T?pt:Dr,At,T?mt:ui);Y[Q]=zn,M[Q]=zn-At}e.modifiersData[r]=M}}const UC={name:"preventOverflow",enabled:!0,phase:"main",fn:f4,requiresIfExists:["offset"]};function p4(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function m4(n){return n===Bn(n)||!ir(n)?Uy(n):p4(n)}function g4(n){var e=n.getBoundingClientRect(),t=ml(e.width)/n.offsetWidth||1,r=ml(e.height)/n.offsetHeight||1;return t!==1||r!==1}function _4(n,e,t){t===void 0&&(t=!1);var r=ir(e),i=ir(e)&&g4(e),o=qs(e),l=gl(n,i,t),c={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(r||!r&&!t)&&((li(e)!=="body"||zy(o))&&(c=m4(e)),ir(e)?(h=gl(e,!0),h.x+=e.clientLeft,h.y+=e.clientTop):o&&(h.x=By(o))),{x:l.left+c.scrollLeft-h.x,y:l.top+c.scrollTop-h.y,width:l.width,height:l.height}}function y4(n){var e=new Map,t=new Set,r=[];n.forEach(function(o){e.set(o.name,o)});function i(o){t.add(o.name);var l=[].concat(o.requires||[],o.requiresIfExists||[]);l.forEach(function(c){if(!t.has(c)){var h=e.get(c);h&&i(h)}}),r.push(o)}return n.forEach(function(o){t.has(o.name)||i(o)}),r}function v4(n){var e=y4(n);return kC.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function E4(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function w4(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var wT={placement:"bottom",modifiers:[],strategy:"absolute"};function TT(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function up(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,o=i===void 0?wT:i;return function(c,h,f){f===void 0&&(f=o);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},wT,o),modifiersData:{},elements:{reference:c,popper:h},attributes:{},styles:{}},v=[],E=!1,T={state:m,setOptions:function(N){var V=typeof N=="function"?N(m.options):N;I(),m.options=Object.assign({},o,m.options,V),m.scrollParents={reference:Ho(c)?eu(c):c.contextElement?eu(c.contextElement):[],popper:eu(h)};var U=v4(w4([].concat(r,m.options.modifiers)));return m.orderedModifiers=U.filter(function(z){return z.enabled}),b(),T.update()},forceUpdate:function(){if(!E){var N=m.elements,V=N.reference,U=N.popper;if(TT(V,U)){m.rects={reference:_4(V,Du(U),m.options.strategy==="fixed"),popper:Vy(U)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(O){return m.modifiersData[O.name]=Object.assign({},O.data)});for(var z=0;z<m.orderedModifiers.length;z++){if(m.reset===!0){m.reset=!1,z=-1;continue}var Q=m.orderedModifiers[z],Y=Q.fn,R=Q.options,x=R===void 0?{}:R,k=Q.name;typeof Y=="function"&&(m=Y({state:m,options:x,name:k,instance:T})||m)}}}},update:E4(function(){return new Promise(function(A){T.forceUpdate(),A(m)})}),destroy:function(){I(),E=!0}};if(!TT(c,h))return T;T.setOptions(f).then(function(A){!E&&f.onFirstUpdate&&f.onFirstUpdate(A)});function b(){m.orderedModifiers.forEach(function(A){var N=A.name,V=A.options,U=V===void 0?{}:V,z=A.effect;if(typeof z=="function"){var Q=z({state:m,name:N,instance:T,options:U}),Y=function(){};v.push(Q||Y)}})}function I(){v.forEach(function(A){return A()}),v=[]}return T}}var T4=up(),S4=[jy,Hy,$y,My],b4=up({defaultModifiers:S4}),I4=[jy,Hy,$y,My,jC,FC,UC,LC,$C],Wy=up({defaultModifiers:I4});const BC=Object.freeze(Object.defineProperty({__proto__:null,afterMain:IC,afterRead:TC,afterWrite:xC,applyStyles:My,arrow:LC,auto:lp,basePlacements:Pl,beforeMain:SC,beforeRead:EC,beforeWrite:AC,bottom:jn,clippingParents:yC,computeStyles:$y,createPopper:Wy,createPopperBase:T4,createPopperLite:b4,detectOverflow:yl,end:pl,eventListeners:jy,flip:FC,hide:$C,left:dn,main:bC,modifierPhases:kC,offset:jC,placements:Dy,popper:Ga,popperGenerator:up,popperOffsets:Hy,preventOverflow:UC,read:wC,reference:vC,right:Un,start:zo,top:hn,variationPlacements:p_,viewport:Ny,write:CC},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const vs=new Map,mg={set(n,e,t){vs.has(n)||vs.set(n,new Map);const r=vs.get(n);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,t)},get(n,e){return vs.has(n)&&vs.get(n).get(e)||null},remove(n,e){if(!vs.has(n))return;const t=vs.get(n);t.delete(e),t.size===0&&vs.delete(n)}},A4=1e6,C4=1e3,__="transitionend",zC=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),x4=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),k4=n=>{do n+=Math.floor(Math.random()*A4);while(document.getElementById(n));return n},R4=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const r=Number.parseFloat(e),i=Number.parseFloat(t);return!r&&!i?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*C4)},HC=n=>{n.dispatchEvent(new Event(__))},Di=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),$s=n=>Di(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(zC(n)):null,Ol=n=>{if(!Di(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const r=n.closest("summary");if(r&&r.parentNode!==t||r===null)return!1}return e},js=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",WC=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?WC(n.parentNode):null},Ef=()=>{},Lu=n=>{n.offsetHeight},KC=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,gg=[],P4=n=>{document.readyState==="loading"?(gg.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of gg)e()}),gg.push(n)):n()},sr=()=>document.documentElement.dir==="rtl",ar=n=>{P4(()=>{const e=KC();if(e){const t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},In=(n,e=[],t=n)=>typeof n=="function"?n(...e):t,qC=(n,e,t=!0)=>{if(!t){In(n);return}const i=R4(e)+5;let o=!1;const l=({target:c})=>{c===e&&(o=!0,e.removeEventListener(__,l),In(n))};e.addEventListener(__,l),setTimeout(()=>{o||HC(e)},i)},Ky=(n,e,t,r)=>{const i=n.length;let o=n.indexOf(e);return o===-1?!t&&r?n[i-1]:n[0]:(o+=t?1:-1,r&&(o=(o+i)%i),n[Math.max(0,Math.min(o,i-1))])},O4=/[^.]*(?=\..*)\.|.*/,N4=/\..*/,D4=/::\d+$/,_g={};let ST=1;const GC={mouseenter:"mouseover",mouseleave:"mouseout"},L4=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function YC(n,e){return e&&`${e}::${ST++}`||n.uidEvent||ST++}function QC(n){const e=YC(n);return n.uidEvent=e,_g[e]=_g[e]||{},_g[e]}function M4(n,e){return function t(r){return qy(r,{delegateTarget:n}),t.oneOff&&ne.off(n,r.type,e),e.apply(n,[r])}}function V4(n,e,t){return function r(i){const o=n.querySelectorAll(e);for(let{target:l}=i;l&&l!==this;l=l.parentNode)for(const c of o)if(c===l)return qy(i,{delegateTarget:l}),r.oneOff&&ne.off(n,i.type,e,t),t.apply(l,[i])}}function XC(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function JC(n,e,t){const r=typeof e=="string",i=r?t:e||t;let o=ZC(n);return L4.has(o)||(o=n),[r,i,o]}function bT(n,e,t,r,i){if(typeof e!="string"||!n)return;let[o,l,c]=JC(e,t,r);e in GC&&(l=(b=>function(I){if(!I.relatedTarget||I.relatedTarget!==I.delegateTarget&&!I.delegateTarget.contains(I.relatedTarget))return b.call(this,I)})(l));const h=QC(n),f=h[c]||(h[c]={}),m=XC(f,l,o?t:null);if(m){m.oneOff=m.oneOff&&i;return}const v=YC(l,e.replace(O4,"")),E=o?V4(n,t,l):M4(n,l);E.delegationSelector=o?t:null,E.callable=l,E.oneOff=i,E.uidEvent=v,f[v]=E,n.addEventListener(c,E,o)}function y_(n,e,t,r,i){const o=XC(e[t],r,i);o&&(n.removeEventListener(t,o,!!i),delete e[t][o.uidEvent])}function F4(n,e,t,r){const i=e[t]||{};for(const[o,l]of Object.entries(i))o.includes(r)&&y_(n,e,t,l.callable,l.delegationSelector)}function ZC(n){return n=n.replace(N4,""),GC[n]||n}const ne={on(n,e,t,r){bT(n,e,t,r,!1)},one(n,e,t,r){bT(n,e,t,r,!0)},off(n,e,t,r){if(typeof e!="string"||!n)return;const[i,o,l]=JC(e,t,r),c=l!==e,h=QC(n),f=h[l]||{},m=e.startsWith(".");if(typeof o<"u"){if(!Object.keys(f).length)return;y_(n,h,l,o,i?t:null);return}if(m)for(const v of Object.keys(h))F4(n,h,v,e.slice(1));for(const[v,E]of Object.entries(f)){const T=v.replace(D4,"");(!c||e.includes(T))&&y_(n,h,l,E.callable,E.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const r=KC(),i=ZC(e),o=e!==i;let l=null,c=!0,h=!0,f=!1;o&&r&&(l=r.Event(e,t),r(n).trigger(l),c=!l.isPropagationStopped(),h=!l.isImmediatePropagationStopped(),f=l.isDefaultPrevented());const m=qy(new Event(e,{bubbles:c,cancelable:!0}),t);return f&&m.preventDefault(),h&&n.dispatchEvent(m),m.defaultPrevented&&l&&l.preventDefault(),m}};function qy(n,e={}){for(const[t,r]of Object.entries(e))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get(){return r}})}return n}function IT(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function yg(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Li={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${yg(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${yg(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of t){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=IT(n.dataset[r])}return e},getDataAttribute(n,e){return IT(n.getAttribute(`data-bs-${yg(e)}`))}};let Mu=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const r=Di(t)?Li.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...Di(t)?Li.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[r,i]of Object.entries(t)){const o=e[r],l=Di(o)?"element":x4(o);if(!new RegExp(i).test(l))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${l}" but expected type "${i}".`)}}};const $4="5.3.3";class Pr extends Mu{constructor(e,t){super(),e=$s(e),e&&(this._element=e,this._config=this._getConfig(t),mg.set(this._element,this.constructor.DATA_KEY,this))}dispose(){mg.remove(this._element,this.constructor.DATA_KEY),ne.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){qC(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return mg.get($s(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return $4}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const vg=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>zC(t)).join(","):null},Ie={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!js(t)&&Ol(t))},getSelectorFromElement(n){const e=vg(n);return e&&Ie.findOne(e)?e:null},getElementFromSelector(n){const e=vg(n);return e?Ie.findOne(e):null},getMultipleElementsFromSelector(n){const e=vg(n);return e?Ie.find(e):[]}},hp=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;ne.on(document,t,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),js(this))return;const o=Ie.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(o)[e]()})},j4="alert",U4="bs.alert",e1=`.${U4}`,B4=`close${e1}`,z4=`closed${e1}`,H4="fade",W4="show";class dp extends Pr{static get NAME(){return j4}close(){if(ne.trigger(this._element,B4).defaultPrevented)return;this._element.classList.remove(W4);const t=this._element.classList.contains(H4);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),ne.trigger(this._element,z4),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=dp.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}hp(dp,"close");ar(dp);const K4="button",q4="bs.button",G4=`.${q4}`,Y4=".data-api",Q4="active",AT='[data-bs-toggle="button"]',X4=`click${G4}${Y4}`;class fp extends Pr{static get NAME(){return K4}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Q4))}static jQueryInterface(e){return this.each(function(){const t=fp.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}ne.on(document,X4,AT,n=>{n.preventDefault();const e=n.target.closest(AT);fp.getOrCreateInstance(e).toggle()});ar(fp);const J4="swipe",Nl=".bs.swipe",Z4=`touchstart${Nl}`,e3=`touchmove${Nl}`,t3=`touchend${Nl}`,n3=`pointerdown${Nl}`,r3=`pointerup${Nl}`,i3="touch",s3="pen",o3="pointer-event",a3=40,l3={endCallback:null,leftCallback:null,rightCallback:null},c3={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class wf extends Mu{constructor(e,t){super(),this._element=e,!(!e||!wf.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return l3}static get DefaultType(){return c3}static get NAME(){return J4}dispose(){ne.off(this._element,Nl)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),In(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=a3)return;const t=e/this._deltaX;this._deltaX=0,t&&In(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ne.on(this._element,n3,e=>this._start(e)),ne.on(this._element,r3,e=>this._end(e)),this._element.classList.add(o3)):(ne.on(this._element,Z4,e=>this._start(e)),ne.on(this._element,e3,e=>this._move(e)),ne.on(this._element,t3,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===s3||e.pointerType===i3)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const u3="carousel",h3="bs.carousel",Gs=`.${h3}`,t1=".data-api",d3="ArrowLeft",f3="ArrowRight",p3=500,xc="next",ja="prev",Ya="left",zd="right",m3=`slide${Gs}`,Eg=`slid${Gs}`,g3=`keydown${Gs}`,_3=`mouseenter${Gs}`,y3=`mouseleave${Gs}`,v3=`dragstart${Gs}`,E3=`load${Gs}${t1}`,w3=`click${Gs}${t1}`,n1="carousel",ud="active",T3="slide",S3="carousel-item-end",b3="carousel-item-start",I3="carousel-item-next",A3="carousel-item-prev",r1=".active",i1=".carousel-item",C3=r1+i1,x3=".carousel-item img",k3=".carousel-indicators",R3="[data-bs-slide], [data-bs-slide-to]",P3='[data-bs-ride="carousel"]',O3={[d3]:zd,[f3]:Ya},N3={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},D3={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Vu extends Pr{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ie.findOne(k3,this._element),this._addEventListeners(),this._config.ride===n1&&this.cycle()}static get Default(){return N3}static get DefaultType(){return D3}static get NAME(){return u3}next(){this._slide(xc)}nextWhenVisible(){!document.hidden&&Ol(this._element)&&this.next()}prev(){this._slide(ja)}pause(){this._isSliding&&HC(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){ne.one(this._element,Eg,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){ne.one(this._element,Eg,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const i=e>r?xc:ja;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&ne.on(this._element,g3,e=>this._keydown(e)),this._config.pause==="hover"&&(ne.on(this._element,_3,()=>this.pause()),ne.on(this._element,y3,()=>this._maybeEnableCycle())),this._config.touch&&wf.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of Ie.find(x3,this._element))ne.on(r,v3,i=>i.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(Ya)),rightCallback:()=>this._slide(this._directionToOrder(zd)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),p3+this._config.interval))}};this._swipeHelper=new wf(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=O3[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=Ie.findOne(r1,this._indicatorsElement);t.classList.remove(ud),t.removeAttribute("aria-current");const r=Ie.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(ud),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const r=this._getActive(),i=e===xc,o=t||Ky(this._getItems(),r,i,this._config.wrap);if(o===r)return;const l=this._getItemIndex(o),c=T=>ne.trigger(this._element,T,{relatedTarget:o,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:l});if(c(m3).defaultPrevented||!r||!o)return;const f=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(l),this._activeElement=o;const m=i?b3:S3,v=i?I3:A3;o.classList.add(v),Lu(o),r.classList.add(m),o.classList.add(m);const E=()=>{o.classList.remove(m,v),o.classList.add(ud),r.classList.remove(ud,v,m),this._isSliding=!1,c(Eg)};this._queueCallback(E,r,this._isAnimated()),f&&this.cycle()}_isAnimated(){return this._element.classList.contains(T3)}_getActive(){return Ie.findOne(C3,this._element)}_getItems(){return Ie.find(i1,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return sr()?e===Ya?ja:xc:e===Ya?xc:ja}_orderToDirection(e){return sr()?e===ja?Ya:zd:e===ja?zd:Ya}static jQueryInterface(e){return this.each(function(){const t=Vu.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ne.on(document,w3,R3,function(n){const e=Ie.getElementFromSelector(this);if(!e||!e.classList.contains(n1))return;n.preventDefault();const t=Vu.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){t.to(r),t._maybeEnableCycle();return}if(Li.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});ne.on(window,E3,()=>{const n=Ie.find(P3);for(const e of n)Vu.getOrCreateInstance(e)});ar(Vu);const L3="collapse",M3="bs.collapse",Fu=`.${M3}`,V3=".data-api",F3=`show${Fu}`,$3=`shown${Fu}`,j3=`hide${Fu}`,U3=`hidden${Fu}`,B3=`click${Fu}${V3}`,wg="show",Ja="collapse",hd="collapsing",z3="collapsed",H3=`:scope .${Ja} .${Ja}`,W3="collapse-horizontal",K3="width",q3="height",G3=".collapse.show, .collapse.collapsing",v_='[data-bs-toggle="collapse"]',Y3={parent:null,toggle:!0},Q3={parent:"(null|element)",toggle:"boolean"};class gu extends Pr{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const r=Ie.find(v_);for(const i of r){const o=Ie.getSelectorFromElement(i),l=Ie.find(o).filter(c=>c===this._element);o!==null&&l.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Y3}static get DefaultType(){return Q3}static get NAME(){return L3}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(G3).filter(c=>c!==this._element).map(c=>gu.getOrCreateInstance(c,{toggle:!1}))),e.length&&e[0]._isTransitioning||ne.trigger(this._element,F3).defaultPrevented)return;for(const c of e)c.hide();const r=this._getDimension();this._element.classList.remove(Ja),this._element.classList.add(hd),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(hd),this._element.classList.add(Ja,wg),this._element.style[r]="",ne.trigger(this._element,$3)},l=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()||ne.trigger(this._element,j3).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Lu(this._element),this._element.classList.add(hd),this._element.classList.remove(Ja,wg);for(const i of this._triggerArray){const o=Ie.getElementFromSelector(i);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(hd),this._element.classList.add(Ja),ne.trigger(this._element,U3)};this._element.style[t]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(wg)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=$s(e.parent),e}_getDimension(){return this._element.classList.contains(W3)?K3:q3}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(v_);for(const t of e){const r=Ie.getElementFromSelector(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){const t=Ie.find(H3,this._config.parent);return Ie.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const r of e)r.classList.toggle(z3,!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const r=gu.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}ne.on(document,B3,v_,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const e of Ie.getMultipleElementsFromSelector(this))gu.getOrCreateInstance(e,{toggle:!1}).toggle()});ar(gu);const CT="dropdown",X3="bs.dropdown",Xo=`.${X3}`,Gy=".data-api",J3="Escape",xT="Tab",Z3="ArrowUp",kT="ArrowDown",e6=2,t6=`hide${Xo}`,n6=`hidden${Xo}`,r6=`show${Xo}`,i6=`shown${Xo}`,s1=`click${Xo}${Gy}`,o1=`keydown${Xo}${Gy}`,s6=`keyup${Xo}${Gy}`,Qa="show",o6="dropup",a6="dropend",l6="dropstart",c6="dropup-center",u6="dropdown-center",Po='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',h6=`${Po}.${Qa}`,Hd=".dropdown-menu",d6=".navbar",f6=".navbar-nav",p6=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",m6=sr()?"top-end":"top-start",g6=sr()?"top-start":"top-end",_6=sr()?"bottom-end":"bottom-start",y6=sr()?"bottom-start":"bottom-end",v6=sr()?"left-start":"right-start",E6=sr()?"right-start":"left-start",w6="top",T6="bottom",S6={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},b6={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ii extends Pr{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=Ie.next(this._element,Hd)[0]||Ie.prev(this._element,Hd)[0]||Ie.findOne(Hd,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return S6}static get DefaultType(){return b6}static get NAME(){return CT}toggle(){return this._isShown()?this.hide():this.show()}show(){if(js(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!ne.trigger(this._element,r6,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(f6))for(const r of[].concat(...document.body.children))ne.on(r,"mouseover",Ef);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Qa),this._element.classList.add(Qa),ne.trigger(this._element,i6,e)}}hide(){if(js(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!ne.trigger(this._element,t6,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))ne.off(r,"mouseover",Ef);this._popper&&this._popper.destroy(),this._menu.classList.remove(Qa),this._element.classList.remove(Qa),this._element.setAttribute("aria-expanded","false"),Li.removeDataAttribute(this._menu,"popper"),ne.trigger(this._element,n6,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Di(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${CT.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof BC>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Di(this._config.reference)?e=$s(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Wy(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Qa)}_getPlacement(){const e=this._parent;if(e.classList.contains(a6))return v6;if(e.classList.contains(l6))return E6;if(e.classList.contains(c6))return w6;if(e.classList.contains(u6))return T6;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(o6)?t?g6:m6:t?y6:_6}_detectNavbar(){return this._element.closest(d6)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Li.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...In(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const r=Ie.find(p6,this._menu).filter(i=>Ol(i));r.length&&Ky(r,t,e===kT,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=ii.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===e6||e.type==="keyup"&&e.key!==xT)return;const t=Ie.find(h6);for(const r of t){const i=ii.getInstance(r);if(!i||i._config.autoClose===!1)continue;const o=e.composedPath(),l=o.includes(i._menu);if(o.includes(i._element)||i._config.autoClose==="inside"&&!l||i._config.autoClose==="outside"&&l||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===xT||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const c={relatedTarget:i._element};e.type==="click"&&(c.clickEvent=e),i._completeHide(c)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),r=e.key===J3,i=[Z3,kT].includes(e.key);if(!i&&!r||t&&!r)return;e.preventDefault();const o=this.matches(Po)?this:Ie.prev(this,Po)[0]||Ie.next(this,Po)[0]||Ie.findOne(Po,e.delegateTarget.parentNode),l=ii.getOrCreateInstance(o);if(i){e.stopPropagation(),l.show(),l._selectMenuItem(e);return}l._isShown()&&(e.stopPropagation(),l.hide(),o.focus())}}ne.on(document,o1,Po,ii.dataApiKeydownHandler);ne.on(document,o1,Hd,ii.dataApiKeydownHandler);ne.on(document,s1,ii.clearMenus);ne.on(document,s6,ii.clearMenus);ne.on(document,s1,Po,function(n){n.preventDefault(),ii.getOrCreateInstance(this).toggle()});ar(ii);const a1="backdrop",I6="fade",RT="show",PT=`mousedown.bs.${a1}`,A6={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},C6={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class l1 extends Mu{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return A6}static get DefaultType(){return C6}static get NAME(){return a1}show(e){if(!this._config.isVisible){In(e);return}this._append();const t=this._getElement();this._config.isAnimated&&Lu(t),t.classList.add(RT),this._emulateAnimation(()=>{In(e)})}hide(e){if(!this._config.isVisible){In(e);return}this._getElement().classList.remove(RT),this._emulateAnimation(()=>{this.dispose(),In(e)})}dispose(){this._isAppended&&(ne.off(this._element,PT),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(I6),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=$s(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),ne.on(e,PT,()=>{In(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){qC(e,this._getElement(),this._config.isAnimated)}}const x6="focustrap",k6="bs.focustrap",Tf=`.${k6}`,R6=`focusin${Tf}`,P6=`keydown.tab${Tf}`,O6="Tab",N6="forward",OT="backward",D6={autofocus:!0,trapElement:null},L6={autofocus:"boolean",trapElement:"element"};class c1 extends Mu{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return D6}static get DefaultType(){return L6}static get NAME(){return x6}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ne.off(document,Tf),ne.on(document,R6,e=>this._handleFocusin(e)),ne.on(document,P6,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ne.off(document,Tf))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const r=Ie.focusableChildren(t);r.length===0?t.focus():this._lastTabNavDirection===OT?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===O6&&(this._lastTabNavDirection=e.shiftKey?OT:N6)}}const NT=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",DT=".sticky-top",dd="padding-right",LT="margin-right";class E_{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,dd,t=>t+e),this._setElementAttributes(NT,dd,t=>t+e),this._setElementAttributes(DT,LT,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,dd),this._resetElementAttributes(NT,dd),this._resetElementAttributes(DT,LT)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){const i=this.getWidth(),o=l=>{if(l!==this._element&&window.innerWidth>l.clientWidth+i)return;this._saveInitialAttribute(l,t);const c=window.getComputedStyle(l).getPropertyValue(t);l.style.setProperty(t,`${r(Number.parseFloat(c))}px`)};this._applyManipulationCallback(e,o)}_saveInitialAttribute(e,t){const r=e.style.getPropertyValue(t);r&&Li.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){const r=i=>{const o=Li.getDataAttribute(i,t);if(o===null){i.style.removeProperty(t);return}Li.removeDataAttribute(i,t),i.style.setProperty(t,o)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,t){if(Di(e)){t(e);return}for(const r of Ie.find(e,this._element))t(r)}}const M6="modal",V6="bs.modal",or=`.${V6}`,F6=".data-api",$6="Escape",j6=`hide${or}`,U6=`hidePrevented${or}`,u1=`hidden${or}`,h1=`show${or}`,B6=`shown${or}`,z6=`resize${or}`,H6=`click.dismiss${or}`,W6=`mousedown.dismiss${or}`,K6=`keydown.dismiss${or}`,q6=`click${or}${F6}`,MT="modal-open",G6="fade",VT="show",Tg="modal-static",Y6=".modal.show",Q6=".modal-dialog",X6=".modal-body",J6='[data-bs-toggle="modal"]',Z6={backdrop:!0,focus:!0,keyboard:!0},e$={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class vl extends Pr{constructor(e,t){super(e,t),this._dialog=Ie.findOne(Q6,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new E_,this._addEventListeners()}static get Default(){return Z6}static get DefaultType(){return e$}static get NAME(){return M6}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||ne.trigger(this._element,h1,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(MT),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||ne.trigger(this._element,j6).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(VT),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){ne.off(window,or),ne.off(this._dialog,or),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new l1({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new c1({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=Ie.findOne(X6,this._dialog);t&&(t.scrollTop=0),Lu(this._element),this._element.classList.add(VT);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ne.trigger(this._element,B6,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){ne.on(this._element,K6,e=>{if(e.key===$6){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),ne.on(window,z6,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ne.on(this._element,W6,e=>{ne.one(this._element,H6,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(MT),this._resetAdjustments(),this._scrollBar.reset(),ne.trigger(this._element,u1)})}_isAnimated(){return this._element.classList.contains(G6)}_triggerBackdropTransition(){if(ne.trigger(this._element,U6).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(Tg)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Tg),this._queueCallback(()=>{this._element.classList.remove(Tg),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){const i=sr()?"paddingLeft":"paddingRight";this._element.style[i]=`${t}px`}if(!r&&e){const i=sr()?"paddingRight":"paddingLeft";this._element.style[i]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const r=vl.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}}ne.on(document,q6,J6,function(n){const e=Ie.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),ne.one(e,h1,i=>{i.defaultPrevented||ne.one(e,u1,()=>{Ol(this)&&this.focus()})});const t=Ie.findOne(Y6);t&&vl.getInstance(t).hide(),vl.getOrCreateInstance(e).toggle(this)});hp(vl);ar(vl);const t$="offcanvas",n$="bs.offcanvas",Wi=`.${n$}`,d1=".data-api",r$=`load${Wi}${d1}`,i$="Escape",FT="show",$T="showing",jT="hiding",s$="offcanvas-backdrop",f1=".offcanvas.show",o$=`show${Wi}`,a$=`shown${Wi}`,l$=`hide${Wi}`,UT=`hidePrevented${Wi}`,p1=`hidden${Wi}`,c$=`resize${Wi}`,u$=`click${Wi}${d1}`,h$=`keydown.dismiss${Wi}`,d$='[data-bs-toggle="offcanvas"]',f$={backdrop:!0,keyboard:!0,scroll:!1},p$={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Us extends Pr{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return f$}static get DefaultType(){return p$}static get NAME(){return t$}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||ne.trigger(this._element,o$,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new E_().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add($T);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(FT),this._element.classList.remove($T),ne.trigger(this._element,a$,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||ne.trigger(this._element,l$).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(jT),this._backdrop.hide();const t=()=>{this._element.classList.remove(FT,jT),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new E_().reset(),ne.trigger(this._element,p1)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){ne.trigger(this._element,UT);return}this.hide()},t=!!this._config.backdrop;return new l1({className:s$,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new c1({trapElement:this._element})}_addEventListeners(){ne.on(this._element,h$,e=>{if(e.key===i$){if(this._config.keyboard){this.hide();return}ne.trigger(this._element,UT)}})}static jQueryInterface(e){return this.each(function(){const t=Us.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}ne.on(document,u$,d$,function(n){const e=Ie.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),js(this))return;ne.one(e,p1,()=>{Ol(this)&&this.focus()});const t=Ie.findOne(f1);t&&t!==e&&Us.getInstance(t).hide(),Us.getOrCreateInstance(e).toggle(this)});ne.on(window,r$,()=>{for(const n of Ie.find(f1))Us.getOrCreateInstance(n).show()});ne.on(window,c$,()=>{for(const n of Ie.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&Us.getOrCreateInstance(n).hide()});hp(Us);ar(Us);const m$=/^aria-[\w-]*$/i,m1={"*":["class","dir","id","lang","role",m$],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},g$=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),_$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,y$=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?g$.has(t)?!!_$.test(n.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(t))};function v$(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const i=new window.DOMParser().parseFromString(n,"text/html"),o=[].concat(...i.body.querySelectorAll("*"));for(const l of o){const c=l.nodeName.toLowerCase();if(!Object.keys(e).includes(c)){l.remove();continue}const h=[].concat(...l.attributes),f=[].concat(e["*"]||[],e[c]||[]);for(const m of h)y$(m,f)||l.removeAttribute(m.nodeName)}return i.body.innerHTML}const E$="TemplateFactory",w$={allowList:m1,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},T$={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},S$={entry:"(string|element|function|null)",selector:"(string|element)"};class b$ extends Mu{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return w$}static get DefaultType(){return T$}static get NAME(){return E$}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,o]of Object.entries(this._config.content))this._setContent(e,o,i);const t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},S$)}_setContent(e,t,r){const i=Ie.findOne(r,e);if(i){if(t=this._resolvePossibleFunction(t),!t){i.remove();return}if(Di(t)){this._putElementInTemplate($s(t),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(t);return}i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?v$(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return In(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const I$="tooltip",A$=new Set(["sanitize","allowList","sanitizeFn"]),Sg="fade",C$="modal",fd="show",x$=".tooltip-inner",BT=`.${C$}`,zT="hide.bs.modal",kc="hover",bg="focus",k$="click",R$="manual",P$="hide",O$="hidden",N$="show",D$="shown",L$="inserted",M$="click",V$="focusin",F$="focusout",$$="mouseenter",j$="mouseleave",U$={AUTO:"auto",TOP:"top",RIGHT:sr()?"left":"right",BOTTOM:"bottom",LEFT:sr()?"right":"left"},B$={allowList:m1,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},z$={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let pp=class g1 extends Pr{constructor(e,t){if(typeof BC>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return B$}static get DefaultType(){return z$}static get NAME(){return I$}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),ne.off(this._element.closest(BT),zT,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=ne.trigger(this._element,this.constructor.eventName(N$)),r=(WC(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(i),ne.trigger(this._element,this.constructor.eventName(L$))),this._popper=this._createPopper(i),i.classList.add(fd),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))ne.on(c,"mouseover",Ef);const l=()=>{ne.trigger(this._element,this.constructor.eventName(D$)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(l,this.tip,this._isAnimated())}hide(){if(!this._isShown()||ne.trigger(this._element,this.constructor.eventName(P$)).defaultPrevented)return;if(this._getTipElement().classList.remove(fd),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))ne.off(i,"mouseover",Ef);this._activeTrigger[k$]=!1,this._activeTrigger[bg]=!1,this._activeTrigger[kc]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ne.trigger(this._element,this.constructor.eventName(O$)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Sg,fd),t.classList.add(`bs-${this.constructor.NAME}-auto`);const r=k4(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(Sg),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new b$({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[x$]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Sg)}_isShown(){return this.tip&&this.tip.classList.contains(fd)}_createPopper(e){const t=In(this._config.placement,[this,e,this._element]),r=U$[t.toUpperCase()];return Wy(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return In(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...t,...In(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")ne.on(this._element,this.constructor.eventName(M$),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(t!==R$){const r=t===kc?this.constructor.eventName($$):this.constructor.eventName(V$),i=t===kc?this.constructor.eventName(j$):this.constructor.eventName(F$);ne.on(this._element,r,this._config.selector,o=>{const l=this._initializeOnDelegatedTarget(o);l._activeTrigger[o.type==="focusin"?bg:kc]=!0,l._enter()}),ne.on(this._element,i,this._config.selector,o=>{const l=this._initializeOnDelegatedTarget(o);l._activeTrigger[o.type==="focusout"?bg:kc]=l._element.contains(o.relatedTarget),l._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ne.on(this._element.closest(BT),zT,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=Li.getDataAttributes(this._element);for(const r of Object.keys(t))A$.has(r)&&delete t[r];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:$s(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=g1.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};ar(pp);const H$="popover",W$=".popover-header",K$=".popover-body",q$={...pp.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},G$={...pp.DefaultType,content:"(null|string|element|function)"};class Yy extends pp{static get Default(){return q$}static get DefaultType(){return G$}static get NAME(){return H$}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[W$]:this._getTitle(),[K$]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=Yy.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ar(Yy);const Y$="scrollspy",Q$="bs.scrollspy",Qy=`.${Q$}`,X$=".data-api",J$=`activate${Qy}`,HT=`click${Qy}`,Z$=`load${Qy}${X$}`,e5="dropdown-item",Ua="active",t5='[data-bs-spy="scroll"]',Ig="[href]",n5=".nav, .list-group",WT=".nav-link",r5=".nav-item",i5=".list-group-item",s5=`${WT}, ${r5} > ${WT}, ${i5}`,o5=".dropdown",a5=".dropdown-toggle",l5={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},c5={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class mp extends Pr{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return l5}static get DefaultType(){return c5}static get NAME(){return Y$}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=$s(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ne.off(this._config.target,HT),ne.on(this._config.target,HT,Ig,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const r=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=l=>this._targetLinks.get(`#${l.target.id}`),r=l=>{this._previousScrollData.visibleEntryTop=l.target.offsetTop,this._process(t(l))},i=(this._rootElement||document.documentElement).scrollTop,o=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const l of e){if(!l.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(l));continue}const c=l.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&c){if(r(l),!i)return;continue}!o&&!c&&r(l)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Ie.find(Ig,this._config.target);for(const t of e){if(!t.hash||js(t))continue;const r=Ie.findOne(decodeURI(t.hash),this._element);Ol(r)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Ua),this._activateParents(e),ne.trigger(this._element,J$,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(e5)){Ie.findOne(a5,e.closest(o5)).classList.add(Ua);return}for(const t of Ie.parents(e,n5))for(const r of Ie.prev(t,s5))r.classList.add(Ua)}_clearActiveClass(e){e.classList.remove(Ua);const t=Ie.find(`${Ig}.${Ua}`,e);for(const r of t)r.classList.remove(Ua)}static jQueryInterface(e){return this.each(function(){const t=mp.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ne.on(window,Z$,()=>{for(const n of Ie.find(t5))mp.getOrCreateInstance(n)});ar(mp);const u5="tab",h5="bs.tab",Jo=`.${h5}`,d5=`hide${Jo}`,f5=`hidden${Jo}`,p5=`show${Jo}`,m5=`shown${Jo}`,g5=`click${Jo}`,_5=`keydown${Jo}`,y5=`load${Jo}`,v5="ArrowLeft",KT="ArrowRight",E5="ArrowUp",qT="ArrowDown",Ag="Home",GT="End",Oo="active",YT="fade",Cg="show",w5="dropdown",_1=".dropdown-toggle",T5=".dropdown-menu",xg=`:not(${_1})`,S5='.list-group, .nav, [role="tablist"]',b5=".nav-item, .list-group-item",I5=`.nav-link${xg}, .list-group-item${xg}, [role="tab"]${xg}`,y1='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',kg=`${I5}, ${y1}`,A5=`.${Oo}[data-bs-toggle="tab"], .${Oo}[data-bs-toggle="pill"], .${Oo}[data-bs-toggle="list"]`;class El extends Pr{constructor(e){super(e),this._parent=this._element.closest(S5),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ne.on(this._element,_5,t=>this._keydown(t)))}static get NAME(){return u5}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),r=t?ne.trigger(t,d5,{relatedTarget:e}):null;ne.trigger(e,p5,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(Oo),this._activate(Ie.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Cg);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),ne.trigger(e,m5,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(YT))}_deactivate(e,t){if(!e)return;e.classList.remove(Oo),e.blur(),this._deactivate(Ie.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Cg);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),ne.trigger(e,f5,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(YT))}_keydown(e){if(![v5,KT,E5,qT,Ag,GT].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(i=>!js(i));let r;if([Ag,GT].includes(e.key))r=t[e.key===Ag?0:t.length-1];else{const i=[KT,qT].includes(e.key);r=Ky(t,e.target,i,!0)}r&&(r.focus({preventScroll:!0}),El.getOrCreateInstance(r).show())}_getChildren(){return Ie.find(kg,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=Ie.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const r=this._getOuterElement(e);if(!r.classList.contains(w5))return;const i=(o,l)=>{const c=Ie.findOne(o,r);c&&c.classList.toggle(l,t)};i(_1,Oo),i(T5,Cg),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(Oo)}_getInnerElement(e){return e.matches(kg)?e:Ie.findOne(kg,e)}_getOuterElement(e){return e.closest(b5)||e}static jQueryInterface(e){return this.each(function(){const t=El.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ne.on(document,g5,y1,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!js(this)&&El.getOrCreateInstance(this).show()});ne.on(window,y5,()=>{for(const n of Ie.find(A5))El.getOrCreateInstance(n)});ar(El);const C5="toast",x5="bs.toast",Ys=`.${x5}`,k5=`mouseover${Ys}`,R5=`mouseout${Ys}`,P5=`focusin${Ys}`,O5=`focusout${Ys}`,N5=`hide${Ys}`,D5=`hidden${Ys}`,L5=`show${Ys}`,M5=`shown${Ys}`,V5="fade",QT="hide",pd="show",md="showing",F5={animation:"boolean",autohide:"boolean",delay:"number"},$5={animation:!0,autohide:!0,delay:5e3};class gp extends Pr{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return $5}static get DefaultType(){return F5}static get NAME(){return C5}show(){if(ne.trigger(this._element,L5).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(V5);const t=()=>{this._element.classList.remove(md),ne.trigger(this._element,M5),this._maybeScheduleHide()};this._element.classList.remove(QT),Lu(this._element),this._element.classList.add(pd,md),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||ne.trigger(this._element,N5).defaultPrevented)return;const t=()=>{this._element.classList.add(QT),this._element.classList.remove(md,pd),ne.trigger(this._element,D5)};this._element.classList.add(md),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(pd),super.dispose()}isShown(){return this._element.classList.contains(pd)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){ne.on(this._element,k5,e=>this._onInteraction(e,!0)),ne.on(this._element,R5,e=>this._onInteraction(e,!1)),ne.on(this._element,P5,e=>this._onInteraction(e,!0)),ne.on(this._element,O5,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=gp.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}hp(gp);ar(gp);const j5=nC();function U5({mode:n,setMode:e,user:t}){var Se;const[r,i]=W.useState(0),[o,l]=W.useState({}),[c,h]=W.useState([]),[f,m]=W.useState([]),[v,E]=W.useState([]),[T,b]=W.useState({}),[I,A]=W.useState({}),[N,V]=W.useState({min:1,max:1e3}),[U,z]=W.useState(!0),[Q,Y]=W.useState(!0),[R,x]=W.useState(0),[k,O]=W.useState(0),[L,M]=W.useState(!0),P=["A","B","C","D","E","F","G","H"],De=(ae,ve,he)=>{fetch(`/medTest/assets/${ve}`).then(Re=>Re.text()).then(Re=>{const We=Re.split(`
`).reduce((Ze,ft)=>{if(ft.trim()==="")return Ze;const[Yt,Lt]=ft.trim().split(" ");return Ze[parseInt(Yt)]=Lt,Ze},{});he?l(We):E(We)}),fetch(`/medTest/assets/${ae}`).then(Re=>Re.text()).then(Re=>{var ft,Yt;const We=Re.split(`
`).filter(Lt=>Lt.trim()!==""),Ze=[];for(let Lt=0;Lt<We.length;Lt+=9){const fn=We.slice(Lt,Lt+9);if(fn.length!==9){console.log("Skipping block due to incorrect line count:",fn);continue}const Or=fn[0].replace(/^\d+\.\s*/,""),Nr=((Yt=(ft=fn[0].match(/^\d+\./))==null?void 0:ft[0])==null?void 0:Yt.slice(0,-1))||"",Ki=fn.slice(1).reduce((lr,At,Qt)=>{const Dr=String.fromCharCode(97+Qt);return lr[Dr]=At.trim(),lr},{});Ze.push({number:Nr,q:Or,...Ki})}he?h(Ze):m(Ze)})};W.useEffect(()=>{De("B_otazky.txt","B_odpovede.txt",!0),De("C_otazky.txt","C_odpovede.txt",!1),e(!0),document.body.style.background="#212529"},[]);const be=()=>{e(ae=>!ae),n?document.body.style.background="#F8F9FA":document.body.style.background="#212529"},we=()=>{const ae=N.min===""?1:N.min,ve=N.max===""?1e3:N.max;if(U){let he;do he=Math.floor(Math.random()*(ve-ae+1))+ae;while(he-1===r);i(he-1)}else r>=ae-1&&r<=ve-1?r+1==ve?i(ae-1):i(r+1):i(ae-1);setTimeout(()=>{window.innerWidth>=1450?window.scrollTo({top:0,behavior:"smooth"}):window.innerWidth<=364?window.scrollTo({top:358,behavior:"smooth"}):window.scrollTo({top:308,behavior:"smooth"});const he=document.querySelector("h3"),Re=window.getComputedStyle(he),We=parseFloat(Re.marginTop);he.getBoundingClientRect().top+window.scrollY-We<=3?he.style.marginTop="1rem":he.style.marginTop="0"},20),b({}),A({}),M(!0)},ge=ae=>{b(ve=>({...ve,[ae]:!ve[ae]}))},re=()=>{const ae=(Q?o:v)[r+1]||"",ve={};let he=!0;P.forEach((Re,We)=>{const Ze=ae[We]==="S",ft=!!T[Re];Ze?(ve[Re]=ft?"correct":"missed",ft||(he=!1)):(ve[Re]=ft?"wrong":"neutral",ft&&(he=!1))}),Te(t.email,Q?"bio":"che",r+1,he),A(ve),fe()},ue=ae=>{const{name:ve,value:he}=ae.target;V(Re=>({...Re,[ve]:he===""?"":parseInt(he,10)}))},le=ae=>{let{name:ve,value:he}=ae.target;ve==="min"&&(he<1||he>=1e3)&&(he=1),ve==="max"&&(he<1||he>1e3)&&(he=1e3),N.min===N.max?(V({min:N.min,max:1e3}),ve==="max"&&(he=1e3)):N.min>N.max&&(V({min:N.min,max:1e3}),ve==="max"&&(he=1e3)),V(Re=>({...Re,[ve]:he===""?"":parseInt(he,10)}))},j=ae=>{ae.target.id=="btnradio1"?z(!0):z(!1)},J=ae=>{ae.target.id=="btnradio3"?Y(!0):Y(!1),b({}),A({}),i(0),M(!0)},fe=()=>{L&&(Q?x(R+1):O(k+1)),M(!1)};async function Te(ae,ve,he,Re){const We=Ay(j5,"users",ae,"tests",ve),Ze={cisloOtazky:he,spravna:Re,timestamp:Date.now()};try{await SF(We,{odpovede:IF(Ze)}),console.log("Odpove uloen.")}catch(ft){ft.code==="not-found"?(await TF(We,{odpovede:[Ze]}),console.log("Dokument vytvoren a odpove uloen.")):console.error("Chyba pri ukladan odpovede:",ft)}}return X.jsxs("div",{className:"d-flex flex-column mainContainer",children:[X.jsxs("div",{className:"input-group mb-3 rangeHolder ms-auto fixed-top mb-5 d-flex justify-content-center",children:[X.jsxs("div",{className:"d-flex mb-3 doubleMenu justify-content-center align-items-center m-0",children:[X.jsx("div",{className:"form-check form-switch modeWrapper",children:X.jsx("input",{className:"form-check-input toggler",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault",onChange:be,checked:!!n})}),X.jsxs("div",{className:"btn-group",role:"group","aria-label":"Basic radio toggle button group",children:[X.jsx("input",{type:"radio",className:"btn-check",name:"btnradio",id:"btnradio3",defaultChecked:!0,onChange:J}),X.jsx("label",{className:"btn btn-outline-secondary",htmlFor:"btnradio3",children:"BIOLGIA"}),X.jsx("input",{type:"radio",className:"btn-check",name:"btnradio",id:"btnradio4",onChange:J}),X.jsx("label",{className:"btn btn-outline-secondary",htmlFor:"btnradio4",children:"CHMIA"})]})]}),X.jsxs("div",{className:"btn-group mb-3",role:"group","aria-label":"Basic radio toggle button group",children:[X.jsx("input",{type:"radio",className:"btn-check",name:"btnradio1",id:"btnradio1",defaultChecked:!0,onChange:j}),X.jsx("label",{className:"btn btn-outline-warning",htmlFor:"btnradio1",children:"Nhodn vber"}),X.jsx("input",{type:"radio",className:"btn-check",name:"btnradio1",id:"btnradio2",onChange:j}),X.jsx("label",{className:"btn btn-outline-warning",htmlFor:"btnradio2",children:"Poda poradia"})]}),X.jsxs("div",{className:"d-flex rangeSizer mb-3",children:[X.jsx("span",{className:"input-group-text rozsahText",children:"Rozsah:"}),X.jsx("input",{type:"number",name:"min",value:N.min,onChange:ue,onBlur:le,className:"form-control borderForm",placeholder:"Od","aria-label":"Od"}),X.jsx("span",{className:"input-group-text",children:"-"}),X.jsx("input",{type:"number",name:"max",value:N.max,onChange:ue,onBlur:le,className:"form-control maxNmb",placeholder:"Do","aria-label":"Do"})]}),X.jsxs("div",{className:`d-flex rangeSizer p-2 border rounded align-items-center fs-6  ${n?"text-light border-secondary":" bg-transparent"}`,children:[X.jsxs("p",{className:"w-50 m-0",children:["BIO - ",R]}),X.jsxs("p",{className:"m-0",children:["CHE - ",k]})]})]}),X.jsx("div",{className:n?"text-light":"text-dark",children:c.length>0?X.jsxs(X.Fragment,{children:[X.jsx("h3",{dangerouslySetInnerHTML:{__html:`${r+1}. ${((Se=(Q?c:f)[r])==null?void 0:Se.q)||"Natavam otzky..."}`}}),X.jsx("div",{className:"d-flex mt-4 flex-column",children:Object.entries((Q?c:f)[r]||{}).filter(([ae])=>ae!=="q"&&ae!=="number").map(([ae,ve])=>X.jsxs("div",{className:"form-check d-flex align-items-center p-1",children:[X.jsx("input",{className:`form-check-input me-2 hvrOption ${n?"border-0":"border-secondary"}`,type:"checkbox",id:`checkbox-${ae}`,checked:!!T[ae.toUpperCase()],onChange:()=>ge(ae.toUpperCase())}),X.jsx("label",{className:"form-check-label hvrOpt",htmlFor:`checkbox-${ae}`,style:{wordBreak:"break-word",backgroundColor:I[ae.toUpperCase()]==="correct"?"#5e9f58":I[ae.toUpperCase()]==="wrong"||I[ae.toUpperCase()]==="missed"?"#a84d4d":"transparent",color:I[ae.toUpperCase()]==="correct"||I[ae.toUpperCase()]==="wrong"||I[ae.toUpperCase()]==="missed"?"#fff":"",borderRadius:"5px",padding:"5px"},dangerouslySetInnerHTML:{__html:ve}})]},ae))})]}):X.jsx("h3",{children:"Natavam otzky..."})}),X.jsx("button",{onClick:re,type:"button",className:"btn btn-secondary mt-5",children:"Vyhodnoti"}),X.jsx("button",{onClick:we,type:"button",className:"btn mt-4 btn-warning",id:"resolve",children:"alia otzka"})]})}function B5(){return X.jsxs("div",{className:"ftr",children:[X.jsx("img",{src:"/medTest/logoMED.svg",alt:"logoMED",className:"logoIMG",height:100}),X.jsx("p",{className:"credentials",children:"MB 2024/25."})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function $u(n){return n+.5|0}const As=(n,e,t)=>Math.max(Math.min(n,t),e);function jc(n){return As($u(n*2.55),0,255)}function Os(n){return As($u(n*255),0,255)}function xi(n){return As($u(n/2.55)/100,0,1)}function XT(n){return As($u(n*100),0,100)}const er={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},w_=[..."0123456789ABCDEF"],z5=n=>w_[n&15],H5=n=>w_[(n&240)>>4]+w_[n&15],gd=n=>(n&240)>>4===(n&15),W5=n=>gd(n.r)&&gd(n.g)&&gd(n.b)&&gd(n.a);function K5(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&er[n[1]]*17,g:255&er[n[2]]*17,b:255&er[n[3]]*17,a:e===5?er[n[4]]*17:255}:(e===7||e===9)&&(t={r:er[n[1]]<<4|er[n[2]],g:er[n[3]]<<4|er[n[4]],b:er[n[5]]<<4|er[n[6]],a:e===9?er[n[7]]<<4|er[n[8]]:255})),t}const q5=(n,e)=>n<255?e(n):"";function G5(n){var e=W5(n)?z5:H5;return n?"#"+e(n.r)+e(n.g)+e(n.b)+q5(n.a,e):void 0}const Y5=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function v1(n,e,t){const r=e*Math.min(t,1-t),i=(o,l=(o+n/30)%12)=>t-r*Math.max(Math.min(l-3,9-l,1),-1);return[i(0),i(8),i(4)]}function Q5(n,e,t){const r=(i,o=(i+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function X5(n,e,t){const r=v1(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function J5(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function Xy(n){const t=n.r/255,r=n.g/255,i=n.b/255,o=Math.max(t,r,i),l=Math.min(t,r,i),c=(o+l)/2;let h,f,m;return o!==l&&(m=o-l,f=c>.5?m/(2-o-l):m/(o+l),h=J5(t,r,i,m,o),h=h*60+.5),[h|0,f||0,c]}function Jy(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Os)}function Zy(n,e,t){return Jy(v1,n,e,t)}function Z5(n,e,t){return Jy(X5,n,e,t)}function ej(n,e,t){return Jy(Q5,n,e,t)}function E1(n){return(n%360+360)%360}function tj(n){const e=Y5.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?jc(+e[5]):Os(+e[5]));const i=E1(+e[2]),o=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=Z5(i,o,l):e[1]==="hsv"?r=ej(i,o,l):r=Zy(i,o,l),{r:r[0],g:r[1],b:r[2],a:t}}function nj(n,e){var t=Xy(n);t[0]=E1(t[0]+e),t=Zy(t),n.r=t[0],n.g=t[1],n.b=t[2]}function rj(n){if(!n)return;const e=Xy(n),t=e[0],r=XT(e[1]),i=XT(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${xi(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const JT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ZT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ij(){const n={},e=Object.keys(ZT),t=Object.keys(JT);let r,i,o,l,c;for(r=0;r<e.length;r++){for(l=c=e[r],i=0;i<t.length;i++)o=t[i],c=c.replace(o,JT[o]);o=parseInt(ZT[l],16),n[c]=[o>>16&255,o>>8&255,o&255]}return n}let _d;function sj(n){_d||(_d=ij(),_d.transparent=[0,0,0,0]);const e=_d[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const oj=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function aj(n){const e=oj.exec(n);let t=255,r,i,o;if(e){if(e[7]!==r){const l=+e[7];t=e[8]?jc(l):As(l*255,0,255)}return r=+e[1],i=+e[3],o=+e[5],r=255&(e[2]?jc(r):As(r,0,255)),i=255&(e[4]?jc(i):As(i,0,255)),o=255&(e[6]?jc(o):As(o,0,255)),{r,g:i,b:o,a:t}}}function lj(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${xi(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Rg=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Ba=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function cj(n,e,t){const r=Ba(xi(n.r)),i=Ba(xi(n.g)),o=Ba(xi(n.b));return{r:Os(Rg(r+t*(Ba(xi(e.r))-r))),g:Os(Rg(i+t*(Ba(xi(e.g))-i))),b:Os(Rg(o+t*(Ba(xi(e.b))-o))),a:n.a+t*(e.a-n.a)}}function yd(n,e,t){if(n){let r=Xy(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=Zy(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function w1(n,e){return n&&Object.assign(e||{},n)}function eS(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Os(n[3]))):(e=w1(n,{r:0,g:0,b:0,a:1}),e.a=Os(e.a)),e}function uj(n){return n.charAt(0)==="r"?aj(n):tj(n)}class _u{constructor(e){if(e instanceof _u)return e;const t=typeof e;let r;t==="object"?r=eS(e):t==="string"&&(r=K5(e)||sj(e)||uj(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=w1(this._rgb);return e&&(e.a=xi(e.a)),e}set rgb(e){this._rgb=eS(e)}rgbString(){return this._valid?lj(this._rgb):void 0}hexString(){return this._valid?G5(this._rgb):void 0}hslString(){return this._valid?rj(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let o;const l=t===o?.5:t,c=2*l-1,h=r.a-i.a,f=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;o=1-f,r.r=255&f*r.r+o*i.r+.5,r.g=255&f*r.g+o*i.g+.5,r.b=255&f*r.b+o*i.b+.5,r.a=l*r.a+(1-l)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=cj(this._rgb,e._rgb,t)),this}clone(){return new _u(this.rgb)}alpha(e){return this._rgb.a=Os(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=$u(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return yd(this._rgb,2,e),this}darken(e){return yd(this._rgb,2,-e),this}saturate(e){return yd(this._rgb,1,e),this}desaturate(e){return yd(this._rgb,1,-e),this}rotate(e){return nj(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ii(){}const hj=(()=>{let n=0;return()=>n++})();function sn(n){return n==null}function qt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ge(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function zi(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function qr(n,e){return zi(n)?n:e}function Je(n,e){return typeof n>"u"?e:n}const dj=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,T1=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function st(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Xe(n,e,t,r){let i,o,l;if(qt(n))for(o=n.length,i=0;i<o;i++)e.call(t,n[i],i);else if(Ge(n))for(l=Object.keys(n),o=l.length,i=0;i<o;i++)e.call(t,n[l[i]],l[i])}function Sf(n,e){let t,r,i,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],o=e[t],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function bf(n){if(qt(n))return n.map(bf);if(Ge(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=bf(n[t[i]]);return e}return n}function S1(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function fj(n,e,t,r){if(!S1(n))return;const i=e[n],o=t[n];Ge(i)&&Ge(o)?yu(i,o,r):e[n]=bf(o)}function yu(n,e,t){const r=qt(e)?e:[e],i=r.length;if(!Ge(n))return n;t=t||{};const o=t.merger||fj;let l;for(let c=0;c<i;++c){if(l=r[c],!Ge(l))continue;const h=Object.keys(l);for(let f=0,m=h.length;f<m;++f)o(h[f],n,l,t)}return n}function tu(n,e){return yu(n,e,{merger:pj})}function pj(n,e,t){if(!S1(n))return;const r=e[n],i=t[n];Ge(r)&&Ge(i)?tu(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=bf(i))}const tS={"":n=>n,x:n=>n.x,y:n=>n.y};function mj(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function gj(n){const e=mj(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function vu(n,e){return(tS[e]||(tS[e]=gj(e)))(n)}function ev(n){return n.charAt(0).toUpperCase()+n.slice(1)}const If=n=>typeof n<"u",Bs=n=>typeof n=="function",nS=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function _j(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ot=Math.PI,It=2*ot,Af=Number.POSITIVE_INFINITY,yj=ot/180,Pt=ot/2,bo=ot/4,rS=ot*2/3,iS=Math.sign;function vj(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,o)=>i-o).pop(),e}function Ej(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Cf(n){return!Ej(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function No(n){return n*(ot/180)}function wj(n){return n*(180/ot)}function b1(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let o=Math.atan2(r,t);return o<-.5*ot&&(o+=It),{angle:o,distance:i}}function Tj(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Xr(n){return(n%It+It)%It}function xf(n,e,t,r){const i=Xr(n),o=Xr(e),l=Xr(t),c=Xr(o-i),h=Xr(l-i),f=Xr(i-o),m=Xr(i-l);return i===o||i===l||r&&o===l||c>h&&f<m}function nr(n,e,t){return Math.max(e,Math.min(t,n))}function Sj(n){return nr(n,-32768,32767)}function Uc(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function tv(n,e,t){t=t||(l=>n[l]<e);let r=n.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,t(o)?i=o:r=o;return{lo:i,hi:r}}const T_=(n,e,t,r)=>tv(n,t,r?i=>{const o=n[i][e];return o<t||o===t&&n[i+1][e]===t}:i=>n[i][e]<t),bj=(n,e,t)=>tv(n,t,r=>n[r][e]>=t);function Ij(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const I1=["push","pop","shift","splice","unshift"];function Aj(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),I1.forEach(t=>{const r="_onData"+ev(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){const l=i.apply(this,o);return n._chartjs.listeners.forEach(c=>{typeof c[r]=="function"&&c[r](...o)}),l}})})}function sS(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(I1.forEach(o=>{delete n[o]}),delete n._chartjs)}function Cj(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const A1=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function C1(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,A1.call(window,()=>{r=!1,n.apply(e,t)}))}}function xj(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const x1=n=>n==="start"?"left":n==="end"?"right":"center",Mn=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,kj=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e,vd=n=>n===0||n===1,oS=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*It/t)),aS=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*It/t)+1,nu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Pt)+1,easeOutSine:n=>Math.sin(n*Pt),easeInOutSine:n=>-.5*(Math.cos(ot*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>vd(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>vd(n)?n:oS(n,.075,.3),easeOutElastic:n=>vd(n)?n:aS(n,.075,.3),easeInOutElastic(n){return vd(n)?n:n<.5?.5*oS(n*2,.1125,.45):.5+.5*aS(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-nu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?nu.easeInBounce(n*2)*.5:nu.easeOutBounce(n*2-1)*.5+.5};function k1(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function lS(n){return k1(n)?n:new _u(n)}function Pg(n){return k1(n)?n:new _u(n).saturate(.5).darken(.1).hexString()}const Rj=["x","y","borderWidth","radius","tension"],Pj=["color","borderColor","backgroundColor"];function Oj(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:Pj},numbers:{type:"number",properties:Rj}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Nj(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const cS=new Map;function Dj(n,e){e=e||{};const t=n+JSON.stringify(e);let r=cS.get(t);return r||(r=new Intl.NumberFormat(n,e),cS.set(t,r)),r}function Lj(n,e,t){return Dj(e,t).format(n)}const Mj={values(n){return qt(n)?n:""+n}};var Vj={formatters:Mj};function Fj(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Vj.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Wo=Object.create(null),S_=Object.create(null);function ru(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const o=t[r];n=n[o]||(n[o]=Object.create(null))}return n}function Og(n,e,t){return typeof e=="string"?yu(ru(n,e),t):yu(ru(n,""),e)}class $j{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Pg(i.backgroundColor),this.hoverBorderColor=(r,i)=>Pg(i.borderColor),this.hoverColor=(r,i)=>Pg(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Og(this,e,t)}get(e){return ru(this,e)}describe(e,t){return Og(S_,e,t)}override(e,t){return Og(Wo,e,t)}route(e,t,r,i){const o=ru(this,e),l=ru(this,r),c="_"+t;Object.defineProperties(o,{[c]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[c],f=l[i];return Ge(h)?Object.assign({},f,h):Je(h,f)},set(h){this[c]=h}}})}apply(e){e.forEach(t=>t(this))}}var wt=new $j({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Oj,Nj,Fj]);function jj(n){return!n||sn(n.size)||sn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function uS(n,e,t,r,i){let o=e[i];return o||(o=e[i]=n.measureText(i).width,t.push(i)),o>r&&(r=o),r}function Io(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function hS(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function dS(n,e,t,r){R1(n,e,t,r,null)}function R1(n,e,t,r,i){let o,l,c,h,f,m,v,E;const T=e.pointStyle,b=e.rotation,I=e.radius;let A=(b||0)*yj;if(T&&typeof T=="object"&&(o=T.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(A),n.drawImage(T,-T.width/2,-T.height/2,T.width,T.height),n.restore();return}if(!(isNaN(I)||I<=0)){switch(n.beginPath(),T){default:i?n.ellipse(t,r,i/2,I,0,0,It):n.arc(t,r,I,0,It),n.closePath();break;case"triangle":m=i?i/2:I,n.moveTo(t+Math.sin(A)*m,r-Math.cos(A)*I),A+=rS,n.lineTo(t+Math.sin(A)*m,r-Math.cos(A)*I),A+=rS,n.lineTo(t+Math.sin(A)*m,r-Math.cos(A)*I),n.closePath();break;case"rectRounded":f=I*.516,h=I-f,l=Math.cos(A+bo)*h,v=Math.cos(A+bo)*(i?i/2-f:h),c=Math.sin(A+bo)*h,E=Math.sin(A+bo)*(i?i/2-f:h),n.arc(t-v,r-c,f,A-ot,A-Pt),n.arc(t+E,r-l,f,A-Pt,A),n.arc(t+v,r+c,f,A,A+Pt),n.arc(t-E,r+l,f,A+Pt,A+ot),n.closePath();break;case"rect":if(!b){h=Math.SQRT1_2*I,m=i?i/2:h,n.rect(t-m,r-h,2*m,2*h);break}A+=bo;case"rectRot":v=Math.cos(A)*(i?i/2:I),l=Math.cos(A)*I,c=Math.sin(A)*I,E=Math.sin(A)*(i?i/2:I),n.moveTo(t-v,r-c),n.lineTo(t+E,r-l),n.lineTo(t+v,r+c),n.lineTo(t-E,r+l),n.closePath();break;case"crossRot":A+=bo;case"cross":v=Math.cos(A)*(i?i/2:I),l=Math.cos(A)*I,c=Math.sin(A)*I,E=Math.sin(A)*(i?i/2:I),n.moveTo(t-v,r-c),n.lineTo(t+v,r+c),n.moveTo(t+E,r-l),n.lineTo(t-E,r+l);break;case"star":v=Math.cos(A)*(i?i/2:I),l=Math.cos(A)*I,c=Math.sin(A)*I,E=Math.sin(A)*(i?i/2:I),n.moveTo(t-v,r-c),n.lineTo(t+v,r+c),n.moveTo(t+E,r-l),n.lineTo(t-E,r+l),A+=bo,v=Math.cos(A)*(i?i/2:I),l=Math.cos(A)*I,c=Math.sin(A)*I,E=Math.sin(A)*(i?i/2:I),n.moveTo(t-v,r-c),n.lineTo(t+v,r+c),n.moveTo(t+E,r-l),n.lineTo(t-E,r+l);break;case"line":l=i?i/2:Math.cos(A)*I,c=Math.sin(A)*I,n.moveTo(t-l,r-c),n.lineTo(t+l,r+c);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(A)*(i?i/2:I),r+Math.sin(A)*I);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function P1(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function nv(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function rv(n){n.restore()}function Uj(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),sn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function Bj(n,e,t,r,i){if(i.strikethrough||i.underline){const o=n.measureText(r),l=e-o.actualBoundingBoxLeft,c=e+o.actualBoundingBoxRight,h=t-o.actualBoundingBoxAscent,f=t+o.actualBoundingBoxDescent,m=i.strikethrough?(h+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(l,m),n.lineTo(c,m),n.stroke()}}function zj(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function kf(n,e,t,r,i,o={}){const l=qt(e)?e:[e],c=o.strokeWidth>0&&o.strokeColor!=="";let h,f;for(n.save(),n.font=i.string,Uj(n,o),h=0;h<l.length;++h)f=l[h],o.backdrop&&zj(n,o.backdrop),c&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),sn(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(f,t,r,o.maxWidth)),n.fillText(f,t,r,o.maxWidth),Bj(n,t,r,f,o),r+=Number(i.lineHeight);n.restore()}function b_(n,e){const{x:t,y:r,w:i,h:o,radius:l}=e;n.arc(t+l.topLeft,r+l.topLeft,l.topLeft,1.5*ot,ot,!0),n.lineTo(t,r+o-l.bottomLeft),n.arc(t+l.bottomLeft,r+o-l.bottomLeft,l.bottomLeft,ot,Pt,!0),n.lineTo(t+i-l.bottomRight,r+o),n.arc(t+i-l.bottomRight,r+o-l.bottomRight,l.bottomRight,Pt,0,!0),n.lineTo(t+i,r+l.topRight),n.arc(t+i-l.topRight,r+l.topRight,l.topRight,0,-Pt,!0),n.lineTo(t+l.topLeft,r)}const Hj=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Wj=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Kj(n,e){const t=(""+n).match(Hj);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const qj=n=>+n||0;function iv(n,e){const t={},r=Ge(e),i=r?Object.keys(e):e,o=Ge(n)?r?l=>Je(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of i)t[l]=qj(o(l));return t}function Gj(n){return iv(n,{top:"y",right:"x",bottom:"y",left:"x"})}function iu(n){return iv(n,["topLeft","topRight","bottomLeft","bottomRight"])}function xr(n){const e=Gj(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Cn(n,e){n=n||{},e=e||wt.font;let t=Je(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=Je(n.style,e.style);r&&!(""+r).match(Wj)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Je(n.family,e.family),lineHeight:Kj(Je(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Je(n.weight,e.weight),string:""};return i.string=jj(i),i}function Ed(n,e,t,r){let i,o,l;for(i=0,o=n.length;i<o;++i)if(l=n[i],l!==void 0&&l!==void 0)return l}function Yj(n,e,t){const{min:r,max:i}=n,o=T1(e,(i-r)/2),l=(c,h)=>t&&c===0?0:c+h;return{min:l(r,-Math.abs(o)),max:l(i,o)}}function Dl(n,e){return Object.assign(Object.create(n),e)}function sv(n,e=[""],t,r,i=()=>n[0]){const o=t||n;typeof r>"u"&&(r=L1("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:r,_getTarget:i,override:c=>sv([c,...n],e,o,r)};return new Proxy(l,{deleteProperty(c,h){return delete c[h],delete c._keys,delete n[0][h],!0},get(c,h){return N1(c,h,()=>rU(h,e,n,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,h){return pS(c).includes(h)},ownKeys(c){return pS(c)},set(c,h,f){const m=c._storage||(c._storage=i());return c[h]=m[h]=f,delete c._keys,!0}})}function wl(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:O1(n,r),setContext:o=>wl(n,o,t,r),override:o=>wl(n.override(o),e,t,r)};return new Proxy(i,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,c){return N1(o,l,()=>Xj(o,l,c))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,c){return n[l]=c,delete o[l],!0}})}function O1(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:Bs(t)?t:()=>t,isIndexable:Bs(r)?r:()=>r}}const Qj=(n,e)=>n?n+ev(e):e,ov=(n,e)=>Ge(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function N1(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function Xj(n,e,t){const{_proxy:r,_context:i,_subProxy:o,_descriptors:l}=n;let c=r[e];return Bs(c)&&l.isScriptable(e)&&(c=Jj(e,c,n,t)),qt(c)&&c.length&&(c=Zj(e,c,n,l.isIndexable)),ov(e,c)&&(c=wl(c,i,o&&o[e],l)),c}function Jj(n,e,t,r){const{_proxy:i,_context:o,_subProxy:l,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let h=e(o,l||r);return c.delete(n),ov(n,h)&&(h=av(i._scopes,i,n,h)),h}function Zj(n,e,t,r){const{_proxy:i,_context:o,_subProxy:l,_descriptors:c}=t;if(typeof o.index<"u"&&r(n))return e[o.index%e.length];if(Ge(e[0])){const h=e,f=i._scopes.filter(m=>m!==h);e=[];for(const m of h){const v=av(f,i,n,m);e.push(wl(v,o,l&&l[n],c))}}return e}function D1(n,e,t){return Bs(n)?n(e,t):n}const eU=(n,e)=>n===!0?e:typeof n=="string"?vu(e,n):void 0;function tU(n,e,t,r,i){for(const o of e){const l=eU(t,o);if(l){n.add(l);const c=D1(l._fallback,t,i);if(typeof c<"u"&&c!==t&&c!==r)return c}else if(l===!1&&typeof r<"u"&&t!==r)return null}return!1}function av(n,e,t,r){const i=e._rootScopes,o=D1(e._fallback,t,r),l=[...n,...i],c=new Set;c.add(r);let h=fS(c,l,t,o||t,r);return h===null||typeof o<"u"&&o!==t&&(h=fS(c,l,o,h,r),h===null)?!1:sv(Array.from(c),[""],i,o,()=>nU(e,t,r))}function fS(n,e,t,r,i){for(;t;)t=tU(n,e,t,r,i);return t}function nU(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return qt(i)&&Ge(t)?t:i||{}}function rU(n,e,t,r){let i;for(const o of e)if(i=L1(Qj(o,n),t),typeof i<"u")return ov(n,i)?av(t,r,n,i):i}function L1(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function pS(n){let e=n._keys;return e||(e=n._keys=iU(n._scopes)),e}function iU(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function lv(){return typeof window<"u"&&typeof document<"u"}function cv(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Rf(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const _p=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function sU(n,e){return _p(n).getPropertyValue(e)}const oU=["top","right","bottom","left"];function Lo(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const o=oU[i];r[o]=parseFloat(n[e+"-"+o+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const aU=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function lU(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:o}=r;let l=!1,c,h;if(aU(i,o,n.target))c=i,h=o;else{const f=e.getBoundingClientRect();c=r.clientX-f.left,h=r.clientY-f.top,l=!0}return{x:c,y:h,box:l}}function xo(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=_p(t),o=i.boxSizing==="border-box",l=Lo(i,"padding"),c=Lo(i,"border","width"),{x:h,y:f,box:m}=lU(n,t),v=l.left+(m&&c.left),E=l.top+(m&&c.top);let{width:T,height:b}=e;return o&&(T-=l.width+c.width,b-=l.height+c.height),{x:Math.round((h-v)/T*t.width/r),y:Math.round((f-E)/b*t.height/r)}}function cU(n,e,t){let r,i;if(e===void 0||t===void 0){const o=n&&cv(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{const l=o.getBoundingClientRect(),c=_p(o),h=Lo(c,"border","width"),f=Lo(c,"padding");e=l.width-f.width-h.width,t=l.height-f.height-h.height,r=Rf(c.maxWidth,o,"clientWidth"),i=Rf(c.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:r||Af,maxHeight:i||Af}}const wd=n=>Math.round(n*10)/10;function uU(n,e,t,r){const i=_p(n),o=Lo(i,"margin"),l=Rf(i.maxWidth,n,"clientWidth")||Af,c=Rf(i.maxHeight,n,"clientHeight")||Af,h=cU(n,e,t);let{width:f,height:m}=h;if(i.boxSizing==="content-box"){const E=Lo(i,"border","width"),T=Lo(i,"padding");f-=T.width+E.width,m-=T.height+E.height}return f=Math.max(0,f-o.width),m=Math.max(0,r?f/r:m-o.height),f=wd(Math.min(f,l,h.maxWidth)),m=wd(Math.min(m,c,h.maxHeight)),f&&!m&&(m=wd(f/2)),(e!==void 0||t!==void 0)&&r&&h.height&&m>h.height&&(m=h.height,f=wd(Math.floor(m*r))),{width:f,height:m}}function mS(n,e,t){const r=e||1,i=Math.floor(n.height*r),o=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||l.height!==i||l.width!==o?(n.currentDevicePixelRatio=r,l.height=i,l.width=o,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const hU=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};lv()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function gS(n,e){const t=sU(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const dU=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},fU=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function rl(n,e,t){return n?dU(e,t):fU()}function M1(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function V1(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Td(n,e,t){return n.options.clip?n[t]:e[t]}function pU(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:Td(t,e,"left"),right:Td(t,e,"right"),top:Td(r,e,"top"),bottom:Td(r,e,"bottom")}:e}function mU(n,e){const t=e._clip;if(t.disabled)return!1;const r=pU(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class gU{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const o=t.listeners[i],l=t.duration;o.forEach(c=>c({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(r-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=A1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const o=r.items;let l=o.length-1,c=!1,h;for(;l>=0;--l)h=o[l],h._active?(h._total>r.duration&&(r.duration=h._total),h.tick(e),c=!0):(o[l]=o[o.length-1],o.pop());c&&(i.draw(),this._notify(i,r,e,"progress")),o.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ai=new gU;const _S="transparent",_U={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=lS(n||_S),i=r.valid&&lS(e||_S);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class yU{constructor(e,t,r,i){const o=t[r];i=Ed([e.to,i,o,e.from]);const l=Ed([e.from,o,i]);this._active=!0,this._fn=e.fn||_U[e.type||typeof l],this._easing=nu[e.easing]||nu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=l,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],o=r-this._start,l=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Ed([e.to,t,i,e.from]),this._from=Ed([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,o=this._from,l=this._loop,c=this._to;let h;if(this._active=o!==c&&(l||t<r),!this._active){this._target[i]=c,this._notify(!0);return}if(t<0){this._target[i]=o;return}h=t/r%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[i]=this._fn(o,c,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class F1{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Ge(e))return;const t=Object.keys(wt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const o=e[i];if(!Ge(o))return;const l={};for(const c of t)l[c]=o[c];(qt(o.properties)&&o.properties||[i]).forEach(c=>{(c===i||!r.has(c))&&r.set(c,l)})})}_animateOptions(e,t){const r=t.options,i=EU(e,r);if(!i)return[];const o=this._createAnimations(i,r);return r.$shared&&vU(e.options.$animations,r).then(()=>{e.options=r},()=>{}),o}_createAnimations(e,t){const r=this._properties,i=[],o=e.$animations||(e.$animations={}),l=Object.keys(t),c=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){i.push(...this._animateOptions(e,t));continue}const m=t[f];let v=o[f];const E=r.get(f);if(v)if(E&&v.active()){v.update(E,m,c);continue}else v.cancel();if(!E||!E.duration){e[f]=m;continue}o[f]=v=new yU(E,e,f,m),i.push(v)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return Ai.add(this._chart,r),!0}}function vU(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const o=n[r[i]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function EU(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function yS(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:r?o:i,end:r?i:o}}function wU(n,e,t){if(t===!1)return!1;const r=yS(n,t),i=yS(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function TU(n){let e,t,r,i;return Ge(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function $1(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,o;for(i=0,o=r.length;i<o;++i)t.push(r[i].index);return t}function vS(n,e,t,r={}){const i=n.keys,o=r.mode==="single";let l,c,h,f;if(e===null)return;let m=!1;for(l=0,c=i.length;l<c;++l){if(h=+i[l],h===t){if(m=!0,r.all)continue;break}f=n.values[h],zi(f)&&(o||e===0||iS(e)===iS(f))&&(e+=f)}return!m&&!r.all?0:e}function SU(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",o=r.axis==="x"?"x":"y",l=Object.keys(n),c=new Array(l.length);let h,f,m;for(h=0,f=l.length;h<f;++h)m=l[h],c[h]={[i]:m,[o]:n[m]};return c}function Ng(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function bU(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function IU(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function AU(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function ES(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const o=n[i.index];if(t&&o>0||!t&&o<0)return i.index}return null}function wS(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:o,vScale:l,index:c}=r,h=o.axis,f=l.axis,m=bU(o,l,r),v=e.length;let E;for(let T=0;T<v;++T){const b=e[T],{[h]:I,[f]:A}=b,N=b._stacks||(b._stacks={});E=N[f]=AU(i,m,I),E[c]=A,E._top=ES(E,l,!0,r.type),E._bottom=ES(E,l,!1,r.type);const V=E._visualValues||(E._visualValues={});V[c]=A}}function Dg(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function CU(n,e){return Dl(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function xU(n,e,t){return Dl(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Rc(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const o=i._stacks;if(!o||o[r]===void 0||o[r][t]===void 0)return;delete o[r][t],o[r]._visualValues!==void 0&&o[r]._visualValues[t]!==void 0&&delete o[r]._visualValues[t]}}}const Lg=n=>n==="reset"||n==="none",TS=(n,e)=>e?n:Object.assign({},n),kU=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:$1(t,!0),values:null};class su{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ng(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Rc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(v,E,T,b)=>v==="x"?E:v==="r"?b:T,o=t.xAxisID=Je(r.xAxisID,Dg(e,"x")),l=t.yAxisID=Je(r.yAxisID,Dg(e,"y")),c=t.rAxisID=Je(r.rAxisID,Dg(e,"r")),h=t.indexAxis,f=t.iAxisID=i(h,o,l,c),m=t.vAxisID=i(h,l,o,c);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&sS(this._data,this),e._stacked&&Rc(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(Ge(t)){const i=this._cachedMeta;this._data=SU(t,i)}else if(r!==t){if(r){sS(r,this);const i=this._cachedMeta;Rc(i),i._parsed=[]}t&&Object.isExtensible(t)&&Aj(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const o=t._stacked;t._stacked=Ng(t.vScale,t),t.stack!==r.stack&&(i=!0,Rc(t),t.stack=r.stack),this._resyncElements(e),(i||o!==t._stacked)&&(wS(this,t._parsed),t._stacked=Ng(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:o,_stacked:l}=r,c=o.axis;let h=e===0&&t===i.length?!0:r._sorted,f=e>0&&r._parsed[e-1],m,v,E;if(this._parsing===!1)r._parsed=i,r._sorted=!0,E=i;else{qt(i[e])?E=this.parseArrayData(r,i,e,t):Ge(i[e])?E=this.parseObjectData(r,i,e,t):E=this.parsePrimitiveData(r,i,e,t);const T=()=>v[c]===null||f&&v[c]<f[c];for(m=0;m<t;++m)r._parsed[m+e]=v=E[m],h&&(T()&&(h=!1),f=v);r._sorted=h}l&&wS(this,E)}parsePrimitiveData(e,t,r,i){const{iScale:o,vScale:l}=e,c=o.axis,h=l.axis,f=o.getLabels(),m=o===l,v=new Array(i);let E,T,b;for(E=0,T=i;E<T;++E)b=E+r,v[E]={[c]:m||o.parse(f[b],b),[h]:l.parse(t[b],b)};return v}parseArrayData(e,t,r,i){const{xScale:o,yScale:l}=e,c=new Array(i);let h,f,m,v;for(h=0,f=i;h<f;++h)m=h+r,v=t[m],c[h]={x:o.parse(v[0],m),y:l.parse(v[1],m)};return c}parseObjectData(e,t,r,i){const{xScale:o,yScale:l}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,f=new Array(i);let m,v,E,T;for(m=0,v=i;m<v;++m)E=m+r,T=t[E],f[m]={x:o.parse(vu(T,c),E),y:l.parse(vu(T,h),E)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,o=this._cachedMeta,l=t[e.axis],c={keys:$1(i,!0),values:t._stacks[e.axis]._visualValues};return vS(c,l,o.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const o=r[t.axis];let l=o===null?NaN:o;const c=i&&r._stacks[t.axis];i&&c&&(i.values=c,l=vS(i,o,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,o=r._sorted&&e===r.iScale,l=i.length,c=this._getOtherScale(e),h=kU(t,r,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:v}=IU(c);let E,T;function b(){T=i[E];const I=T[c.axis];return!zi(T[e.axis])||m>I||v<I}for(E=0;E<l&&!(!b()&&(this.updateRangeFromParsed(f,e,T,h),o));++E);if(o){for(E=l-1;E>=0;--E)if(!b()){this.updateRangeFromParsed(f,e,T,h);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,o,l;for(i=0,o=t.length;i<o;++i)l=t[i][e.axis],zi(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,o=this.getParsed(e);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=TU(Je(this.options.clip,wU(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],o=t.chartArea,l=[],c=this._drawStart||0,h=this._drawCount||i.length-c,f=this.options.drawActiveElementsOnTop;let m;for(r.dataset&&r.dataset.draw(e,o,c,h),m=c;m<c+h;++m){const v=i[m];v.hidden||(v.active&&f?l.push(v):v.draw(e,o))}for(m=0;m<l.length;++m)l[m].draw(e,o)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];o=l.$context||(l.$context=xU(this.getContext(),e,l)),o.parsed=this.getParsed(e),o.raw=i.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=CU(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=r,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",o=this._cachedDataOpts,l=e+"-"+t,c=o[l],h=this.enableOptionSharing&&If(r);if(c)return TS(c,h);const f=this.chart.config,m=f.datasetElementScopeKeys(this._type,e),v=i?[`${e}Hover`,"hover",e,""]:[e,""],E=f.getOptionScopes(this.getDataset(),m),T=Object.keys(wt.elements[e]),b=()=>this.getContext(r,i,t),I=f.resolveNamedOptions(E,T,b,v);return I.$shared&&(I.$shared=h,o[l]=Object.freeze(TS(I,h))),I}_resolveAnimations(e,t,r){const i=this.chart,o=this._cachedDataOpts,l=`animation-${t}`,c=o[l];if(c)return c;let h;if(i.options.animation!==!1){const m=this.chart.config,v=m.datasetAnimationScopeKeys(this._type,t),E=m.getOptionScopes(this.getDataset(),v);h=m.createResolver(E,this.getContext(e,r,t))}const f=new F1(i,h&&h.animations);return h&&h._cacheable&&(o[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Lg(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,o=this.getSharedOptions(r),l=this.includeOptions(t,o)||o!==i;return this.updateSharedOptions(o,t,r),{sharedOptions:o,includeOptions:l}}updateElement(e,t,r,i){Lg(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!Lg(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const o=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[c,h,f]of this._syncList)this[c](h,f);this._syncList=[];const i=r.length,o=t.length,l=Math.min(o,i);l&&this.parse(0,l),o>i?this._insertElements(i,o-i,e):o<i&&this._removeElements(o,i-o)}_insertElements(e,t,r=!0){const i=this._cachedMeta,o=i.data,l=e+t;let c;const h=f=>{for(f.length+=t,c=f.length-1;c>=l;c--)f[c]=f[c-t]};for(h(o),c=e;c<l;++c)o[c]=new this.dataElementType;this._parsing&&h(i._parsed),this.parse(e,t),r&&this.updateElements(o,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&Rc(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ve(su,"defaults",{}),Ve(su,"datasetElementType",null),Ve(su,"dataElementType",null);function RU(n,e,t){let r=1,i=1,o=0,l=0;if(e<It){const c=n,h=c+e,f=Math.cos(c),m=Math.sin(c),v=Math.cos(h),E=Math.sin(h),T=(U,z,Q)=>xf(U,c,h,!0)?1:Math.max(z,z*t,Q,Q*t),b=(U,z,Q)=>xf(U,c,h,!0)?-1:Math.min(z,z*t,Q,Q*t),I=T(0,f,v),A=T(Pt,m,E),N=b(ot,f,v),V=b(ot+Pt,m,E);r=(I-N)/2,i=(A-V)/2,o=-(I+N)/2,l=-(A+V)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:l}}class Bc extends su{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let o=h=>+r[h];if(Ge(r[e])){const{key:h="value"}=this._parsing;o=f=>+vu(r[f],h)}let l,c;for(l=e,c=e+t;l<c;++l)i._parsed[l]=o(l)}}_getRotation(){return No(this.options.rotation-90)}_getCircumference(){return No(this.options.circumference)}_getRotationExtents(){let e=It,t=-It;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,o=i._getRotation(),l=i._getCircumference();e=Math.min(e,o),t=Math.max(t,o+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,o=i.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-l)/2,0),h=Math.min(dj(this.options.cutout,c),1),f=this._getRingWeight(this.index),{circumference:m,rotation:v}=this._getRotationExtents(),{ratioX:E,ratioY:T,offsetX:b,offsetY:I}=RU(v,m,h),A=(r.width-l)/E,N=(r.height-l)/T,V=Math.max(Math.min(A,N)/2,0),U=T1(this.options.radius,V),z=Math.max(U*h,0),Q=(U-z)/this._getVisibleDatasetWeightTotal();this.offsetX=b*U,this.offsetY=I*U,i.total=this.calculateTotal(),this.outerRadius=U-Q*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Q*f,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,o=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*o/It)}updateElements(e,t,r,i){const o=i==="reset",l=this.chart,c=l.chartArea,f=l.options.animation,m=(c.left+c.right)/2,v=(c.top+c.bottom)/2,E=o&&f.animateScale,T=E?0:this.innerRadius,b=E?0:this.outerRadius,{sharedOptions:I,includeOptions:A}=this._getSharedOptions(t,i);let N=this._getRotation(),V;for(V=0;V<t;++V)N+=this._circumference(V,o);for(V=t;V<t+r;++V){const U=this._circumference(V,o),z=e[V],Q={x:m+this.offsetX,y:v+this.offsetY,startAngle:N,endAngle:N+U,circumference:U,outerRadius:b,innerRadius:T};A&&(Q.options=I||this.resolveDataElementOptions(V,z.active?"active":i)),N+=U,this.updateElement(z,V,Q,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,i;for(i=0;i<t.length;i++){const o=e._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?It*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],o=Lj(t._parsed[e],r.options.locale);return{label:i[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,o,l,c,h;if(!e){for(i=0,o=r.data.datasets.length;i<o;++i)if(r.isDatasetVisible(i)){l=r.getDatasetMeta(i),e=l.data,c=l.controller;break}}if(!e)return 0;for(i=0,o=e.length;i<o;++i)h=c.resolveDataElementOptions(i),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const o=this.resolveDataElementOptions(r);t=Math.max(t,o.offset||0,o.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Je(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ve(Bc,"id","doughnut"),Ve(Bc,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ve(Bc,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Ve(Bc,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((o,l)=>{const h=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:i,lineWidth:h.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class I_ extends Bc{}Ve(I_,"id","pie"),Ve(I_,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Ao(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class uv{constructor(e){Ve(this,"options");this.options=e||{}}static override(e){Object.assign(uv.prototype,e)}init(){}formats(){return Ao()}parse(){return Ao()}format(){return Ao()}add(){return Ao()}diff(){return Ao()}startOf(){return Ao()}endOf(){return Ao()}}var PU={_date:uv};function OU(n,e,t,r){const{controller:i,data:o,_sorted:l}=n,c=i._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&l&&o.length){const f=c._reversePixels?bj:T_;if(r){if(i._sharedOptions){const m=o[0],v=typeof m.getRange=="function"&&m.getRange(e);if(v){const E=f(o,e,t-v),T=f(o,e,t+v);return{lo:E.lo,hi:T.hi}}}}else{const m=f(o,e,t);if(h){const{vScale:v}=i._cachedMeta,{_parsed:E}=n,T=E.slice(0,m.lo+1).reverse().findIndex(I=>!sn(I[v.axis]));m.lo-=Math.max(0,T);const b=E.slice(m.hi).findIndex(I=>!sn(I[v.axis]));m.hi+=Math.max(0,b)}return m}}return{lo:0,hi:o.length-1}}function yp(n,e,t,r,i){const o=n.getSortedVisibleDatasetMetas(),l=t[e];for(let c=0,h=o.length;c<h;++c){const{index:f,data:m}=o[c],{lo:v,hi:E}=OU(o[c],e,l,i);for(let T=v;T<=E;++T){const b=m[T];b.skip||r(b,f,T)}}}function NU(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const o=e?Math.abs(r.x-i.x):0,l=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Mg(n,e,t,r,i){const o=[];return!i&&!n.isPointInArea(e)||yp(n,t,e,function(c,h,f){!i&&!P1(c,n.chartArea,0)||c.inRange(e.x,e.y,r)&&o.push({element:c,datasetIndex:h,index:f})},!0),o}function DU(n,e,t,r){let i=[];function o(l,c,h){const{startAngle:f,endAngle:m}=l.getProps(["startAngle","endAngle"],r),{angle:v}=b1(l,{x:e.x,y:e.y});xf(v,f,m)&&i.push({element:l,datasetIndex:c,index:h})}return yp(n,t,e,o),i}function LU(n,e,t,r,i,o){let l=[];const c=NU(t);let h=Number.POSITIVE_INFINITY;function f(m,v,E){const T=m.inRange(e.x,e.y,i);if(r&&!T)return;const b=m.getCenterPoint(i);if(!(!!o||n.isPointInArea(b))&&!T)return;const A=c(e,b);A<h?(l=[{element:m,datasetIndex:v,index:E}],h=A):A===h&&l.push({element:m,datasetIndex:v,index:E})}return yp(n,t,e,f),l}function Vg(n,e,t,r,i,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!r?DU(n,e,t,i):LU(n,e,t,r,i,o)}function SS(n,e,t,r,i){const o=[],l=t==="x"?"inXRange":"inYRange";let c=!1;return yp(n,t,e,(h,f,m)=>{h[l]&&h[l](e[t],i)&&(o.push({element:h,datasetIndex:f,index:m}),c=c||h.inRange(e.x,e.y,i))}),r&&!c?[]:o}var MU={modes:{index(n,e,t,r){const i=xo(e,n),o=t.axis||"x",l=t.includeInvisible||!1,c=t.intersect?Mg(n,i,o,r,l):Vg(n,i,o,!1,r,l),h=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const m=c[0].index,v=f.data[m];v&&!v.skip&&h.push({element:v,datasetIndex:f.index,index:m})}),h):[]},dataset(n,e,t,r){const i=xo(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;let c=t.intersect?Mg(n,i,o,r,l):Vg(n,i,o,!1,r,l);if(c.length>0){const h=c[0].datasetIndex,f=n.getDatasetMeta(h).data;c=[];for(let m=0;m<f.length;++m)c.push({element:f[m],datasetIndex:h,index:m})}return c},point(n,e,t,r){const i=xo(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;return Mg(n,i,o,r,l)},nearest(n,e,t,r){const i=xo(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;return Vg(n,i,o,t.intersect,r,l)},x(n,e,t,r){const i=xo(e,n);return SS(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=xo(e,n);return SS(n,i,"y",t.intersect,r)}}};const j1=["left","top","right","bottom"];function Pc(n,e){return n.filter(t=>t.pos===e)}function bS(n,e){return n.filter(t=>j1.indexOf(t.pos)===-1&&t.box.axis===e)}function Oc(n,e){return n.sort((t,r)=>{const i=e?r:t,o=e?t:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function VU(n){const e=[];let t,r,i,o,l,c;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:o,options:{stack:l,stackWeight:c=1}}=i,e.push({index:t,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:l&&o+l,stackWeight:c});return e}function FU(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:o}=t;if(!r||!j1.includes(i))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return e}function $U(n,e){const t=FU(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let o,l,c;for(o=0,l=n.length;o<l;++o){c=n[o];const{fullSize:h}=c.box,f=t[c.stack],m=f&&c.stackWeight/f.weight;c.horizontal?(c.width=m?m*r:h&&e.availableWidth,c.height=i):(c.width=r,c.height=m?m*i:h&&e.availableHeight)}return t}function jU(n){const e=VU(n),t=Oc(e.filter(f=>f.box.fullSize),!0),r=Oc(Pc(e,"left"),!0),i=Oc(Pc(e,"right")),o=Oc(Pc(e,"top"),!0),l=Oc(Pc(e,"bottom")),c=bS(e,"x"),h=bS(e,"y");return{fullSize:t,leftAndTop:r.concat(o),rightAndBottom:i.concat(h).concat(l).concat(c),chartArea:Pc(e,"chartArea"),vertical:r.concat(i).concat(h),horizontal:o.concat(l).concat(c)}}function IS(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function U1(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function UU(n,e,t,r){const{pos:i,box:o}=t,l=n.maxPadding;if(!Ge(i)){t.size&&(n[i]-=t.size);const v=r[t.stack]||{size:0,count:1};v.size=Math.max(v.size,t.horizontal?o.height:o.width),t.size=v.size/v.count,n[i]+=t.size}o.getPadding&&U1(l,o.getPadding());const c=Math.max(0,e.outerWidth-IS(l,n,"left","right")),h=Math.max(0,e.outerHeight-IS(l,n,"top","bottom")),f=c!==n.w,m=h!==n.h;return n.w=c,n.h=h,t.horizontal?{same:f,other:m}:{same:m,other:f}}function BU(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function zU(n,e){const t=e.maxPadding;function r(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(l=>{o[l]=Math.max(e[l],t[l])}),o}return r(n?["left","right"]:["top","bottom"])}function zc(n,e,t,r){const i=[];let o,l,c,h,f,m;for(o=0,l=n.length,f=0;o<l;++o){c=n[o],h=c.box,h.update(c.width||e.w,c.height||e.h,zU(c.horizontal,e));const{same:v,other:E}=UU(e,t,c,r);f|=v&&i.length,m=m||E,h.fullSize||i.push(c)}return f&&zc(i,e,t,r)||m}function Sd(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function AS(n,e,t,r){const i=t.padding;let{x:o,y:l}=e;for(const c of n){const h=c.box,f=r[c.stack]||{placed:0,weight:1},m=c.stackWeight/f.weight||1;if(c.horizontal){const v=e.w*m,E=f.size||h.height;If(f.start)&&(l=f.start),h.fullSize?Sd(h,i.left,l,t.outerWidth-i.right-i.left,E):Sd(h,e.left+f.placed,l,v,E),f.start=l,f.placed+=v,l=h.bottom}else{const v=e.h*m,E=f.size||h.width;If(f.start)&&(o=f.start),h.fullSize?Sd(h,o,i.top,E,t.outerHeight-i.bottom-i.top):Sd(h,o,e.top+f.placed,E,v),f.start=o,f.placed+=v,o=h.right}}e.x=o,e.y=l}var Cs={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=xr(n.options.layout.padding),o=Math.max(e-i.width,0),l=Math.max(t-i.height,0),c=jU(n.boxes),h=c.vertical,f=c.horizontal;Xe(n.boxes,I=>{typeof I.beforeLayout=="function"&&I.beforeLayout()});const m=h.reduce((I,A)=>A.box.options&&A.box.options.display===!1?I:I+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/m,hBoxMaxHeight:l/2}),E=Object.assign({},i);U1(E,xr(r));const T=Object.assign({maxPadding:E,w:o,h:l,x:i.left,y:i.top},i),b=$U(h.concat(f),v);zc(c.fullSize,T,v,b),zc(h,T,v,b),zc(f,T,v,b)&&zc(h,T,v,b),BU(T),AS(c.leftAndTop,T,v,b),T.x+=T.w,T.y+=T.h,AS(c.rightAndBottom,T,v,b),n.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},Xe(c.chartArea,I=>{const A=I.box;Object.assign(A,n.chartArea),A.update(T.w,T.h,{left:0,top:0,right:0,bottom:0})})}};class B1{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class HU extends B1{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Wd="$chartjs",WU={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},CS=n=>n===null||n==="";function KU(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[Wd]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",CS(i)){const o=gS(n,"width");o!==void 0&&(n.width=o)}if(CS(r))if(n.style.height==="")n.height=n.width/(e||2);else{const o=gS(n,"height");o!==void 0&&(n.height=o)}return n}const z1=hU?{passive:!0}:!1;function qU(n,e,t){n&&n.addEventListener(e,t,z1)}function GU(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,z1)}function YU(n,e){const t=WU[n.type]||n.type,{x:r,y:i}=xo(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Pf(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function QU(n,e,t){const r=n.canvas,i=new MutationObserver(o=>{let l=!1;for(const c of o)l=l||Pf(c.addedNodes,r),l=l&&!Pf(c.removedNodes,r);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function XU(n,e,t){const r=n.canvas,i=new MutationObserver(o=>{let l=!1;for(const c of o)l=l||Pf(c.removedNodes,r),l=l&&!Pf(c.addedNodes,r);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const Eu=new Map;let xS=0;function H1(){const n=window.devicePixelRatio;n!==xS&&(xS=n,Eu.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function JU(n,e){Eu.size||window.addEventListener("resize",H1),Eu.set(n,e)}function ZU(n){Eu.delete(n),Eu.size||window.removeEventListener("resize",H1)}function eB(n,e,t){const r=n.canvas,i=r&&cv(r);if(!i)return;const o=C1((c,h)=>{const f=i.clientWidth;t(c,h),f<i.clientWidth&&t()},window),l=new ResizeObserver(c=>{const h=c[0],f=h.contentRect.width,m=h.contentRect.height;f===0&&m===0||o(f,m)});return l.observe(i),JU(n,o),l}function Fg(n,e,t){t&&t.disconnect(),e==="resize"&&ZU(n)}function tB(n,e,t){const r=n.canvas,i=C1(o=>{n.ctx!==null&&t(YU(o,n))},n);return qU(r,e,i),i}class nB extends B1{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(KU(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[Wd])return!1;const r=t[Wd].initial;["height","width"].forEach(o=>{const l=r[o];sn(l)?t.removeAttribute(o):t.setAttribute(o,l)});const i=r.style||{};return Object.keys(i).forEach(o=>{t.style[o]=i[o]}),t.width=t.width,delete t[Wd],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),l={attach:QU,detach:XU,resize:eB}[t]||tB;i[t]=l(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:Fg,detach:Fg,resize:Fg}[t]||GU)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return uU(e,t,r,i)}isAttached(e){const t=e&&cv(e);return!!(t&&t.isConnected)}}function rB(n){return!lv()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?HU:nB}var kd;let ju=(kd=class{constructor(){Ve(this,"x");Ve(this,"y");Ve(this,"active",!1);Ve(this,"options");Ve(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return Cf(this.x)&&Cf(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}},Ve(kd,"defaults",{}),Ve(kd,"defaultRoutes"),kd);function iB(n,e){const t=n.options.ticks,r=sB(n),i=Math.min(t.maxTicksLimit||r,r),o=t.major.enabled?aB(e):[],l=o.length,c=o[0],h=o[l-1],f=[];if(l>i)return lB(e,f,o,l/i),f;const m=oB(o,e,i);if(l>0){let v,E;const T=l>1?Math.round((h-c)/(l-1)):null;for(bd(e,f,m,sn(T)?0:c-T,c),v=0,E=l-1;v<E;v++)bd(e,f,m,o[v],o[v+1]);return bd(e,f,m,h,sn(T)?e.length:h+T),f}return bd(e,f,m),f}function sB(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function oB(n,e,t){const r=cB(n),i=e.length/t;if(!r)return Math.max(i,1);const o=vj(r);for(let l=0,c=o.length-1;l<c;l++){const h=o[l];if(h>i)return h}return Math.max(i,1)}function aB(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function lB(n,e,t,r){let i=0,o=t[0],l;for(r=Math.ceil(r),l=0;l<n.length;l++)l===o&&(e.push(n[l]),i++,o=t[i*r])}function bd(n,e,t,r,i){const o=Je(r,0),l=Math.min(Je(i,n.length),n.length);let c=0,h,f,m;for(t=Math.ceil(t),i&&(h=i-r,t=h/Math.floor(h/t)),m=o;m<0;)c++,m=Math.round(o+c*t);for(f=Math.max(o,0);f<l;f++)f===m&&(e.push(n[f]),c++,m=Math.round(o+c*t))}function cB(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const uB=n=>n==="left"?"right":n==="right"?"left":n,kS=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,RS=(n,e)=>Math.min(e||n,n);function PS(n,e){const t=[],r=n.length/e,i=n.length;let o=0;for(;o<i;o+=r)t.push(n[Math.floor(o)]);return t}function hB(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),o=n._startPixel,l=n._endPixel,c=1e-6;let h=n.getPixelForTick(i),f;if(!(t&&(r===1?f=Math.max(h-o,l-h):e===0?f=(n.getPixelForTick(1)-h)/2:f=(h-n.getPixelForTick(i-1))/2,h+=i<e?f:-f,h<o-c||h>l+c)))return h}function dB(n,e){Xe(n,t=>{const r=t.gc,i=r.length/2;let o;if(i>e){for(o=0;o<i;++o)delete t.data[r[o]];r.splice(0,i)}})}function Nc(n){return n.drawTicks?n.tickLength:0}function OS(n,e){if(!n.display)return 0;const t=Cn(n.font,e),r=xr(n.padding);return(qt(n.text)?n.text.length:1)*t.lineHeight+r.height}function fB(n,e){return Dl(n,{scale:e,type:"scale"})}function pB(n,e,t){return Dl(n,{tick:t,index:e,type:"tick"})}function mB(n,e,t){let r=x1(n);return(t&&e!=="right"||!t&&e==="right")&&(r=uB(r)),r}function gB(n,e,t,r){const{top:i,left:o,bottom:l,right:c,chart:h}=n,{chartArea:f,scales:m}=h;let v=0,E,T,b;const I=l-i,A=c-o;if(n.isHorizontal()){if(T=Mn(r,o,c),Ge(t)){const N=Object.keys(t)[0],V=t[N];b=m[N].getPixelForValue(V)+I-e}else t==="center"?b=(f.bottom+f.top)/2+I-e:b=kS(n,t,e);E=c-o}else{if(Ge(t)){const N=Object.keys(t)[0],V=t[N];T=m[N].getPixelForValue(V)-A+e}else t==="center"?T=(f.left+f.right)/2-A+e:T=kS(n,t,e);b=Mn(r,l,i),v=t==="left"?-Pt:Pt}return{titleX:T,titleY:b,maxWidth:E,rotation:v}}class vp extends ju{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=qr(e,Number.POSITIVE_INFINITY),t=qr(t,Number.NEGATIVE_INFINITY),r=qr(r,Number.POSITIVE_INFINITY),i=qr(i,Number.NEGATIVE_INFINITY),{min:qr(e,r),max:qr(t,i),minDefined:zi(e),maxDefined:zi(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:o}=this.getUserBounds(),l;if(i&&o)return{min:t,max:r};const c=this.getMatchingVisibleMetas();for(let h=0,f=c.length;h<f;++h)l=c[h].controller.getMinMax(this,e),i||(t=Math.min(t,l.min)),o||(r=Math.max(r,l.max));return t=o&&t>r?r:t,r=i&&t>r?t:r,{min:qr(t,qr(r,t)),max:qr(r,qr(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){st(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:o,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Yj(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?PS(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=iB(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){st(this.options.afterUpdate,[this])}beforeSetDimensions(){st(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){st(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),st(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){st(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r],o.label=st(t.callback,[o.value,r,e],this)}afterTickToLabelConversion(){st(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){st(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=RS(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,o=t.maxRotation;let l=i,c,h,f;if(!this._isVisible()||!t.display||i>=o||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const m=this._getLabelSizes(),v=m.widest.width,E=m.highest.height,T=nr(this.chart.width-v,0,this.maxWidth);c=e.offset?this.maxWidth/r:T/(r-1),v+6>c&&(c=T/(r-(e.offset?.5:1)),h=this.maxHeight-Nc(e.grid)-t.padding-OS(e.title,this.chart.options.font),f=Math.sqrt(v*v+E*E),l=wj(Math.min(Math.asin(nr((m.highest.height+6)/c,-1,1)),Math.asin(nr(h/f,-1,1))-Math.asin(nr(E/f,-1,1)))),l=Math.max(i,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){st(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){st(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:o}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const h=OS(i,t.options.font);if(c?(e.width=this.maxWidth,e.height=Nc(o)+h):(e.height=this.maxHeight,e.width=Nc(o)+h),r.display&&this.ticks.length){const{first:f,last:m,widest:v,highest:E}=this._getLabelSizes(),T=r.padding*2,b=No(this.labelRotation),I=Math.cos(b),A=Math.sin(b);if(c){const N=r.mirror?0:A*v.width+I*E.height;e.height=Math.min(this.maxHeight,e.height+N+T)}else{const N=r.mirror?0:I*v.width+A*E.height;e.width=Math.min(this.maxWidth,e.width+N+T)}this._calculatePadding(f,m,A,I)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:o,padding:l},position:c}=this.options,h=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let E=0,T=0;h?f?(E=i*e.width,T=r*t.height):(E=r*e.height,T=i*t.width):o==="start"?T=t.width:o==="end"?E=e.width:o!=="inner"&&(E=e.width/2,T=t.width/2),this.paddingLeft=Math.max((E-m+l)*this.width/(this.width-m),0),this.paddingRight=Math.max((T-v+l)*this.width/(this.width-v),0)}else{let m=t.height/2,v=e.height/2;o==="start"?(m=0,v=e.height):o==="end"&&(m=t.height,v=0),this.paddingTop=m+l,this.paddingBottom=v+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){st(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)sn(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=PS(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:o}=this,l=[],c=[],h=Math.floor(t/RS(t,r));let f=0,m=0,v,E,T,b,I,A,N,V,U,z,Q;for(v=0;v<t;v+=h){if(b=e[v].label,I=this._resolveTickFontOptions(v),i.font=A=I.string,N=o[A]=o[A]||{data:{},gc:[]},V=I.lineHeight,U=z=0,!sn(b)&&!qt(b))U=uS(i,N.data,N.gc,U,b),z=V;else if(qt(b))for(E=0,T=b.length;E<T;++E)Q=b[E],!sn(Q)&&!qt(Q)&&(U=uS(i,N.data,N.gc,U,Q),z+=V);l.push(U),c.push(z),f=Math.max(U,f),m=Math.max(z,m)}dB(o,t);const Y=l.indexOf(f),R=c.indexOf(m),x=k=>({width:l[k]||0,height:c[k]||0});return{first:x(0),last:x(t-1),widest:x(Y),highest:x(R),widths:l,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Sj(this._alignToPixels?Io(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=pB(this.getContext(),e,r))}return this.$context||(this.$context=fB(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=No(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),o=this._getLabelSizes(),l=e.autoSkipPadding||0,c=o?o.widest.width+l:0,h=o?o.highest.height+l:0;return this.isHorizontal()?h*r>c*i?c/r:h/i:h*i<c*r?h/r:c/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:o,position:l,border:c}=i,h=o.offset,f=this.isHorizontal(),v=this.ticks.length+(h?1:0),E=Nc(o),T=[],b=c.setContext(this.getContext()),I=b.display?b.width:0,A=I/2,N=function(we){return Io(r,we,I)};let V,U,z,Q,Y,R,x,k,O,L,M,P;if(l==="top")V=N(this.bottom),R=this.bottom-E,k=V-A,L=N(e.top)+A,P=e.bottom;else if(l==="bottom")V=N(this.top),L=e.top,P=N(e.bottom)-A,R=V+A,k=this.top+E;else if(l==="left")V=N(this.right),Y=this.right-E,x=V-A,O=N(e.left)+A,M=e.right;else if(l==="right")V=N(this.left),O=e.left,M=N(e.right)-A,Y=V+A,x=this.left+E;else if(t==="x"){if(l==="center")V=N((e.top+e.bottom)/2+.5);else if(Ge(l)){const we=Object.keys(l)[0],ge=l[we];V=N(this.chart.scales[we].getPixelForValue(ge))}L=e.top,P=e.bottom,R=V+A,k=R+E}else if(t==="y"){if(l==="center")V=N((e.left+e.right)/2);else if(Ge(l)){const we=Object.keys(l)[0],ge=l[we];V=N(this.chart.scales[we].getPixelForValue(ge))}Y=V-A,x=Y-E,O=e.left,M=e.right}const De=Je(i.ticks.maxTicksLimit,v),be=Math.max(1,Math.ceil(v/De));for(U=0;U<v;U+=be){const we=this.getContext(U),ge=o.setContext(we),re=c.setContext(we),ue=ge.lineWidth,le=ge.color,j=re.dash||[],J=re.dashOffset,fe=ge.tickWidth,Te=ge.tickColor,Se=ge.tickBorderDash||[],ae=ge.tickBorderDashOffset;z=hB(this,U,h),z!==void 0&&(Q=Io(r,z,ue),f?Y=x=O=M=Q:R=k=L=P=Q,T.push({tx1:Y,ty1:R,tx2:x,ty2:k,x1:O,y1:L,x2:M,y2:P,width:ue,color:le,borderDash:j,borderDashOffset:J,tickWidth:fe,tickColor:Te,tickBorderDash:Se,tickBorderDashOffset:ae}))}return this._ticksLength=v,this._borderValue=V,T}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:o}=r,l=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:f,padding:m,mirror:v}=o,E=Nc(r.grid),T=E+m,b=v?-m:T,I=-No(this.labelRotation),A=[];let N,V,U,z,Q,Y,R,x,k,O,L,M,P="middle";if(i==="top")Y=this.bottom-b,R=this._getXAxisLabelAlignment();else if(i==="bottom")Y=this.top+b,R=this._getXAxisLabelAlignment();else if(i==="left"){const be=this._getYAxisLabelAlignment(E);R=be.textAlign,Q=be.x}else if(i==="right"){const be=this._getYAxisLabelAlignment(E);R=be.textAlign,Q=be.x}else if(t==="x"){if(i==="center")Y=(e.top+e.bottom)/2+T;else if(Ge(i)){const be=Object.keys(i)[0],we=i[be];Y=this.chart.scales[be].getPixelForValue(we)+T}R=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")Q=(e.left+e.right)/2-T;else if(Ge(i)){const be=Object.keys(i)[0],we=i[be];Q=this.chart.scales[be].getPixelForValue(we)}R=this._getYAxisLabelAlignment(E).textAlign}t==="y"&&(h==="start"?P="top":h==="end"&&(P="bottom"));const De=this._getLabelSizes();for(N=0,V=c.length;N<V;++N){U=c[N],z=U.label;const be=o.setContext(this.getContext(N));x=this.getPixelForTick(N)+o.labelOffset,k=this._resolveTickFontOptions(N),O=k.lineHeight,L=qt(z)?z.length:1;const we=L/2,ge=be.color,re=be.textStrokeColor,ue=be.textStrokeWidth;let le=R;l?(Q=x,R==="inner"&&(N===V-1?le=this.options.reverse?"left":"right":N===0?le=this.options.reverse?"right":"left":le="center"),i==="top"?f==="near"||I!==0?M=-L*O+O/2:f==="center"?M=-De.highest.height/2-we*O+O:M=-De.highest.height+O/2:f==="near"||I!==0?M=O/2:f==="center"?M=De.highest.height/2-we*O:M=De.highest.height-L*O,v&&(M*=-1),I!==0&&!be.showLabelBackdrop&&(Q+=O/2*Math.sin(I))):(Y=x,M=(1-L)*O/2);let j;if(be.showLabelBackdrop){const J=xr(be.backdropPadding),fe=De.heights[N],Te=De.widths[N];let Se=M-J.top,ae=0-J.left;switch(P){case"middle":Se-=fe/2;break;case"bottom":Se-=fe;break}switch(R){case"center":ae-=Te/2;break;case"right":ae-=Te;break;case"inner":N===V-1?ae-=Te:N>0&&(ae-=Te/2);break}j={left:ae,top:Se,width:Te+J.width,height:fe+J.height,color:be.backdropColor}}A.push({label:z,font:k,textOffset:M,options:{rotation:I,color:ge,strokeColor:re,strokeWidth:ue,textAlign:le,textBaseline:P,translation:[Q,Y],backdrop:j}})}return A}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-No(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,l=this._getLabelSizes(),c=e+o,h=l.widest.width;let f,m;return t==="left"?i?(m=this.right+o,r==="near"?f="left":r==="center"?(f="center",m+=h/2):(f="right",m+=h)):(m=this.right-c,r==="near"?f="right":r==="center"?(f="center",m-=h/2):(f="left",m=this.left)):t==="right"?i?(m=this.left+o,r==="near"?f="right":r==="center"?(f="center",m-=h/2):(f="left",m-=h)):(m=this.left+c,r==="near"?f="left":r==="center"?(f="center",m+=h/2):(f="right",m=this.right)):f="right",{textAlign:f,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:o,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,o,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(o=>o.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,l;const c=(h,f,m)=>{!m.width||!m.color||(r.save(),r.lineWidth=m.width,r.strokeStyle=m.color,r.setLineDash(m.borderDash||[]),r.lineDashOffset=m.borderDashOffset,r.beginPath(),r.moveTo(h.x,h.y),r.lineTo(f.x,f.y),r.stroke(),r.restore())};if(t.display)for(o=0,l=i.length;o<l;++o){const h=i[o];t.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,o=r.setContext(this.getContext()),l=r.display?o.width:0;if(!l)return;const c=i.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,m,v,E;this.isHorizontal()?(f=Io(e,this.left,l)-l/2,m=Io(e,this.right,c)+c/2,v=E=h):(v=Io(e,this.top,l)-l/2,E=Io(e,this.bottom,c)+c/2,f=m=h),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(f,v),t.lineTo(m,E),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&nv(r,i);const o=this.getLabelItems(e);for(const l of o){const c=l.options,h=l.font,f=l.label,m=l.textOffset;kf(r,f,0,m,h,c)}i&&rv(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const o=Cn(r.font),l=xr(r.padding),c=r.align;let h=o.lineHeight/2;t==="bottom"||t==="center"||Ge(t)?(h+=l.bottom,qt(r.text)&&(h+=o.lineHeight*(r.text.length-1))):h+=l.top;const{titleX:f,titleY:m,maxWidth:v,rotation:E}=gB(this,h,t,c);kf(e,r.text,0,0,o,{color:r.color,maxWidth:v,rotation:E,textAlign:mB(c,t,i),textBaseline:"middle",translation:[f,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Je(e.grid&&e.grid.z,-1),i=Je(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==vp.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let o,l;for(o=0,l=t.length;o<l;++o){const c=t[o];c[r]===this.id&&(!e||c.type===e)&&i.push(c)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Cn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Id{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;vB(t)&&(r=this.register(t));const i=this.items,o=e.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,_B(e,l,r),this.override&&wt.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in wt[i]&&(delete wt[i][r],this.override&&delete Wo[r])}}function _B(n,e,t){const r=yu(Object.create(null),[t?wt.get(t):{},wt.get(e),n.defaults]);wt.set(e,r),n.defaultRoutes&&yB(e,n.defaultRoutes),n.descriptors&&wt.describe(e,n.descriptors)}function yB(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),o=[n].concat(r).join("."),l=e[t].split("."),c=l.pop(),h=l.join(".");wt.route(o,i,h,c)})}function vB(n){return"id"in n&&"defaults"in n}class EB{constructor(){this.controllers=new Id(su,"datasets",!0),this.elements=new Id(ju,"elements"),this.plugins=new Id(Object,"plugins"),this.scales=new Id(vp,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(e,o,i):Xe(i,l=>{const c=r||this._getRegistryForType(l);this._exec(e,c,l)})})}_exec(e,t,r){const i=ev(e);st(r["before"+i],[],r),t[e](r),st(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Yr=new EB;class wB{constructor(){this._init=[]}notify(e,t,r,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=i?this._descriptors(e).filter(i):this._descriptors(e),l=this._notify(o,e,t,r);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,r,i){i=i||{};for(const o of e){const l=o.plugin,c=l[r],h=[t,i,o.options];if(st(c,h,l)===!1&&i.cancelable)return!1}return!0}invalidate(){sn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=Je(r.options&&r.options.plugins,{}),o=TB(r);return i===!1&&!t?[]:bB(e,o,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(o,l)=>o.filter(c=>!l.some(h=>c.plugin.id===h.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function TB(n){const e={},t=[],r=Object.keys(Yr.plugins.items);for(let o=0;o<r.length;o++)t.push(Yr.getPlugin(r[o]));const i=n.plugins||[];for(let o=0;o<i.length;o++){const l=i[o];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function SB(n,e){return!e&&n===!1?null:n===!0?{}:n}function bB(n,{plugins:e,localIds:t},r,i){const o=[],l=n.getContext();for(const c of e){const h=c.id,f=SB(r[h],i);f!==null&&o.push({plugin:c,options:IB(n.config,{plugin:c,local:t[h]},f,l)})}return o}function IB(n,{plugin:e,local:t},r,i){const o=n.pluginScopeKeys(e),l=n.getOptionScopes(r,o);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function A_(n,e){const t=wt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function AB(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function CB(n,e){return n===e?"_index_":"_value_"}function NS(n){if(n==="x"||n==="y"||n==="r")return n}function xB(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function C_(n,...e){if(NS(n))return n;for(const t of e){const r=t.axis||xB(t.position)||n.length>1&&NS(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function DS(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function kB(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return DS(n,"x",t[0])||DS(n,"y",t[0])}return{}}function RB(n,e){const t=Wo[n.type]||{scales:{}},r=e.scales||{},i=A_(n.type,e),o=Object.create(null);return Object.keys(r).forEach(l=>{const c=r[l];if(!Ge(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=C_(l,c,kB(l,n),wt.scales[c.type]),f=CB(h,i),m=t.scales||{};o[l]=tu(Object.create(null),[{axis:h},c,m[h],m[f]])}),n.data.datasets.forEach(l=>{const c=l.type||n.type,h=l.indexAxis||A_(c,e),m=(Wo[c]||{}).scales||{};Object.keys(m).forEach(v=>{const E=AB(v,h),T=l[E+"AxisID"]||E;o[T]=o[T]||Object.create(null),tu(o[T],[{axis:E},r[T],m[v]])})}),Object.keys(o).forEach(l=>{const c=o[l];tu(c,[wt.scales[c.type],wt.scale])}),o}function W1(n){const e=n.options||(n.options={});e.plugins=Je(e.plugins,{}),e.scales=RB(n,e)}function K1(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function PB(n){return n=n||{},n.data=K1(n.data),W1(n),n}const LS=new Map,q1=new Set;function Ad(n,e){let t=LS.get(n);return t||(t=e(),LS.set(n,t),q1.add(t)),t}const Dc=(n,e,t)=>{const r=vu(e,t);r!==void 0&&n.add(r)};class OB{constructor(e){this._config=PB(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=K1(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),W1(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ad(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Ad(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Ad(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return Ad(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:o}=this,l=this._cachedScopes(e,r),c=l.get(t);if(c)return c;const h=new Set;t.forEach(m=>{e&&(h.add(e),m.forEach(v=>Dc(h,e,v))),m.forEach(v=>Dc(h,i,v)),m.forEach(v=>Dc(h,Wo[o]||{},v)),m.forEach(v=>Dc(h,wt,v)),m.forEach(v=>Dc(h,S_,v))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),q1.has(t)&&l.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,Wo[t]||{},wt.datasets[t]||{},{type:t},wt,S_]}resolveNamedOptions(e,t,r,i=[""]){const o={$shared:!0},{resolver:l,subPrefixes:c}=MS(this._resolverCache,e,i);let h=l;if(DB(l,t)){o.$shared=!1,r=Bs(r)?r():r;const f=this.createResolver(e,r,c);h=wl(l,r,f)}for(const f of t)o[f]=h[f];return o}createResolver(e,t,r=[""],i){const{resolver:o}=MS(this._resolverCache,e,r);return Ge(t)?wl(o,t,void 0,i):o}}function MS(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let o=r.get(i);return o||(o={resolver:sv(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},r.set(i,o)),o}const NB=n=>Ge(n)&&Object.getOwnPropertyNames(n).some(e=>Bs(n[e]));function DB(n,e){const{isScriptable:t,isIndexable:r}=O1(n);for(const i of e){const o=t(i),l=r(i),c=(l||o)&&n[i];if(o&&(Bs(c)||NB(c))||l&&qt(c))return!0}return!1}var LB="4.5.0";const MB=["top","bottom","left","right","chartArea"];function VS(n,e){return n==="top"||n==="bottom"||MB.indexOf(n)===-1&&e==="x"}function FS(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function $S(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),st(t&&t.onComplete,[n],e)}function VB(n){const e=n.chart,t=e.options.animation;st(t&&t.onProgress,[n],e)}function G1(n){return lv()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Kd={},jS=n=>{const e=G1(n);return Object.values(Kd).filter(t=>t.canvas===e).pop()};function FB(n,e,t){const r=Object.keys(n);for(const i of r){const o=+i;if(o>=e){const l=n[i];delete n[i],(t>0||o>e)&&(n[o+t]=l)}}}function $B(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}var Es;let Ep=(Es=class{static register(...e){Yr.add(...e),US()}static unregister(...e){Yr.remove(...e),US()}constructor(e,t){const r=this.config=new OB(t),i=G1(e),o=jS(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||rB(i)),this.platform.updateConfig(r);const c=this.platform.acquireContext(i,l.aspectRatio),h=c&&c.canvas,f=h&&h.height,m=h&&h.width;if(this.id=hj(),this.ctx=c,this.canvas=h,this.width=m,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new wB,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=xj(v=>this.update(v),l.resizeDelay||0),this._dataChanges=[],Kd[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Ai.listen(this,"complete",$S),Ai.listen(this,"progress",VB),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:o}=this;return sn(e)?t&&o?o:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Yr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():mS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return hS(this.canvas,this.ctx),this}stop(){return Ai.stop(this),this}resize(e,t){Ai.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(i,e,t,o),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,mS(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),st(r.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Xe(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((l,c)=>(l[c]=!1,l),{});let o=[];t&&(o=o.concat(Object.keys(t).map(l=>{const c=t[l],h=C_(l,c),f=h==="r",m=h==="x";return{options:c,dposition:f?"chartArea":m?"bottom":"left",dtype:f?"radialLinear":m?"category":"linear"}}))),Xe(o,l=>{const c=l.options,h=c.id,f=C_(h,c),m=Je(c.type,l.dtype);(c.position===void 0||VS(c.position,f)!==VS(l.dposition))&&(c.position=l.dposition),i[h]=!0;let v=null;if(h in r&&r[h].type===m)v=r[h];else{const E=Yr.getScale(m);v=new E({id:h,type:m,ctx:this.ctx,chart:this}),r[v.id]=v}v.init(c,e)}),Xe(i,(l,c)=>{l||delete r[c]}),Xe(r,l=>{Cs.configure(this,l,l.options),Cs.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,o)=>i.index-o.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(FS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const o=t[r];let l=this.getDatasetMeta(r);const c=o.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=c,l.indexAxis=o.indexAxis||A_(c,this.options),l.order=o.order||0,l.index=r,l.label=""+o.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const h=Yr.getController(c),{datasetElementType:f,dataElementType:m}=wt.datasets[c];Object.assign(h,{dataElementType:Yr.getElement(m),datasetElementType:f&&Yr.getElement(f)}),l.controller=new h(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Xe(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,m=this.data.datasets.length;f<m;f++){const{controller:v}=this.getDatasetMeta(f),E=!i&&o.indexOf(v)===-1;v.buildOrUpdateElements(E),l=Math.max(+v.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),i||Xe(o,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(FS("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Xe(this.scales,e=>{Cs.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!nS(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:o}of t){const l=r==="_removeElements"?-o:o;FB(e,i,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=o=>new Set(e.filter(l=>l[0]===o).map((l,c)=>c+","+l.splice(1).join(","))),i=r(0);for(let o=1;o<t;o++)if(!nS(i,r(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Cs.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Xe(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Bs(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ai.has(this)?this.attached&&!Ai.running(this)&&Ai.start(this):(this.draw(),$S({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,o;for(i=0,o=t.length;i<o;++i){const l=t[i];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=mU(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&nv(t,i),e.controller.draw(),i&&rv(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return P1(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const o=MU.modes[t];return typeof o=="function"?o(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(o=>o&&o._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Dl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",o=this.getDatasetMeta(e),l=o.controller._resolveAnimations(void 0,i);If(t)?(o.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(o,{visible:r}),this.update(c=>c.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Ai.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),hS(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Kd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(o,l)=>{t.addEventListener(this,o,l),e[o]=l},i=(o,l,c)=>{o.offsetX=l,o.offsetY=c,this._eventHandler(o)};Xe(this.options.events,o=>r(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(h,f)=>{t.addEventListener(this,h,f),e[h]=f},i=(h,f)=>{e[h]&&(t.removeEventListener(this,h,f),delete e[h])},o=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const c=()=>{i("attach",c),this.attached=!0,this.resize(),r("resize",o),r("detach",l)};l=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),r("attach",c)},t.isAttached(this.canvas)?c():l()}unbindEvents(){Xe(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Xe(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let o,l,c,h;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),c=0,h=e.length;c<h;++c){l=e[c];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[i+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:o,index:l})=>{const c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[l],index:l}});!Sf(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,o=(h,f)=>h.filter(m=>!f.some(v=>m.datasetIndex===v.datasetIndex&&m.index===v.index)),l=o(t,e),c=r?e:o(e,t);l.length&&this.updateHoverStyle(l,i.mode,!1),c.length&&i.mode&&this.updateHoverStyle(c,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const o=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(o||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:o}=this,l=t,c=this._getActiveElements(e,i,r,l),h=_j(e),f=$B(e,this._lastEvent,r,h);r&&(this._lastEvent=null,st(o.onHover,[e,c,this],this),h&&st(o.onClick,[e,c,this],this));const m=!Sf(c,i);return(m||t)&&(this._active=c,this._updateHoverStyles(c,i,t)),this._lastEvent=f,m}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,i)}},Ve(Es,"defaults",wt),Ve(Es,"instances",Kd),Ve(Es,"overrides",Wo),Ve(Es,"registry",Yr),Ve(Es,"version",LB),Ve(Es,"getChart",jS),Es);function US(){return Xe(Ep.instances,n=>n._plugins.invalidate())}function jB(n,e,t){const{startAngle:r,x:i,y:o,outerRadius:l,innerRadius:c,options:h}=e,{borderWidth:f,borderJoinStyle:m}=h,v=Math.min(f/l,Xr(r-t));if(n.beginPath(),n.arc(i,o,l-f/2,r+v/2,t-v/2),c>0){const E=Math.min(f/c,Xr(r-t));n.arc(i,o,c+f/2,t-E/2,r+E/2,!0)}else{const E=Math.min(f/2,l*Xr(r-t));if(m==="round")n.arc(i,o,E,t-ot/2,r+ot/2,!0);else if(m==="bevel"){const T=2*E*E,b=-T*Math.cos(t+ot/2)+i,I=-T*Math.sin(t+ot/2)+o,A=T*Math.cos(r+ot/2)+i,N=T*Math.sin(r+ot/2)+o;n.lineTo(b,I),n.lineTo(A,N)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function UB(n,e,t){const{startAngle:r,pixelMargin:i,x:o,y:l,outerRadius:c,innerRadius:h}=e;let f=i/c;n.beginPath(),n.arc(o,l,c,r-f,t+f),h>i?(f=i/h,n.arc(o,l,h,t+f,r-f,!0)):n.arc(o,l,i,t+Pt,r-Pt),n.closePath(),n.clip()}function BB(n){return iv(n,["outerStart","outerEnd","innerStart","innerEnd"])}function zB(n,e,t,r){const i=BB(n.options.borderRadius),o=(t-e)/2,l=Math.min(o,r*e/2),c=h=>{const f=(t-Math.min(o,h))*r/2;return nr(h,0,Math.min(o,f))};return{outerStart:c(i.outerStart),outerEnd:c(i.outerEnd),innerStart:nr(i.innerStart,0,l),innerEnd:nr(i.innerEnd,0,l)}}function za(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function Of(n,e,t,r,i,o){const{x:l,y:c,startAngle:h,pixelMargin:f,innerRadius:m}=e,v=Math.max(e.outerRadius+r+t-f,0),E=m>0?m+r+t+f:0;let T=0;const b=i-h;if(r){const be=m>0?m-r:0,we=v>0?v-r:0,ge=(be+we)/2,re=ge!==0?b*ge/(ge+r):b;T=(b-re)/2}const I=Math.max(.001,b*v-t/ot)/v,A=(b-I)/2,N=h+A+T,V=i-A-T,{outerStart:U,outerEnd:z,innerStart:Q,innerEnd:Y}=zB(e,E,v,V-N),R=v-U,x=v-z,k=N+U/R,O=V-z/x,L=E+Q,M=E+Y,P=N+Q/L,De=V-Y/M;if(n.beginPath(),o){const be=(k+O)/2;if(n.arc(l,c,v,k,be),n.arc(l,c,v,be,O),z>0){const ue=za(x,O,l,c);n.arc(ue.x,ue.y,z,O,V+Pt)}const we=za(M,V,l,c);if(n.lineTo(we.x,we.y),Y>0){const ue=za(M,De,l,c);n.arc(ue.x,ue.y,Y,V+Pt,De+Math.PI)}const ge=(V-Y/E+(N+Q/E))/2;if(n.arc(l,c,E,V-Y/E,ge,!0),n.arc(l,c,E,ge,N+Q/E,!0),Q>0){const ue=za(L,P,l,c);n.arc(ue.x,ue.y,Q,P+Math.PI,N-Pt)}const re=za(R,N,l,c);if(n.lineTo(re.x,re.y),U>0){const ue=za(R,k,l,c);n.arc(ue.x,ue.y,U,N-Pt,k)}}else{n.moveTo(l,c);const be=Math.cos(k)*v+l,we=Math.sin(k)*v+c;n.lineTo(be,we);const ge=Math.cos(O)*v+l,re=Math.sin(O)*v+c;n.lineTo(ge,re)}n.closePath()}function HB(n,e,t,r,i){const{fullCircles:o,startAngle:l,circumference:c}=e;let h=e.endAngle;if(o){Of(n,e,t,r,h,i);for(let f=0;f<o;++f)n.fill();isNaN(c)||(h=l+(c%It||It))}return Of(n,e,t,r,h,i),n.fill(),h}function WB(n,e,t,r,i){const{fullCircles:o,startAngle:l,circumference:c,options:h}=e,{borderWidth:f,borderJoinStyle:m,borderDash:v,borderDashOffset:E,borderRadius:T}=h,b=h.borderAlign==="inner";if(!f)return;n.setLineDash(v||[]),n.lineDashOffset=E,b?(n.lineWidth=f*2,n.lineJoin=m||"round"):(n.lineWidth=f,n.lineJoin=m||"bevel");let I=e.endAngle;if(o){Of(n,e,t,r,I,i);for(let A=0;A<o;++A)n.stroke();isNaN(c)||(I=l+(c%It||It))}b&&UB(n,e,I),h.selfJoin&&I-l>=ot&&T===0&&m!=="miter"&&jB(n,e,I),o||(Of(n,e,t,r,I,i),n.stroke())}class Hc extends ju{constructor(t){super();Ve(this,"circumference");Ve(this,"endAngle");Ve(this,"fullCircles");Ve(this,"innerRadius");Ve(this,"outerRadius");Ve(this,"pixelMargin");Ve(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,i){const o=this.getProps(["x","y"],i),{angle:l,distance:c}=b1(o,{x:t,y:r}),{startAngle:h,endAngle:f,innerRadius:m,outerRadius:v,circumference:E}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),T=(this.options.spacing+this.options.borderWidth)/2,b=Je(E,f-h),I=xf(l,h,f)&&h!==f,A=b>=It||I,N=Uc(c,m+T,v+T);return A&&N}getCenterPoint(t){const{x:r,y:i,startAngle:o,endAngle:l,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:m}=this.options,v=(o+l)/2,E=(c+h+m+f)/2;return{x:r+Math.cos(v)*E,y:i+Math.sin(v)*E}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:i}=this,o=(r.offset||0)/4,l=(r.spacing||0)/2,c=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>It?Math.floor(i/It):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*o,Math.sin(h)*o);const f=1-Math.sin(Math.min(ot,i||0)),m=o*f;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,HB(t,this,m,l,c),WB(t,this,m,l,c),t.restore()}}Ve(Hc,"id","arc"),Ve(Hc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Ve(Hc,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ve(Hc,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});const BS=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},KB=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class zS extends ju{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=st(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Cn(r.font),o=i.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=BS(r,o);let f,m;t.font=i.string,this.isHorizontal()?(f=this.maxWidth,m=this._fitRows(l,o,c,h)+10):(m=this.maxHeight,f=this._fitCols(l,i,c,h)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:o,maxWidth:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],m=i+c;let v=e;o.textAlign="left",o.textBaseline="middle";let E=-1,T=-m;return this.legendItems.forEach((b,I)=>{const A=r+t/2+o.measureText(b.text).width;(I===0||f[f.length-1]+A+2*c>l)&&(v+=m,f[f.length-(I>0?0:1)]=0,T+=m,E++),h[I]={left:0,top:T,row:E,width:A,height:i},f[f.length-1]+=A+c}),v}_fitCols(e,t,r,i){const{ctx:o,maxHeight:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],m=l-e;let v=c,E=0,T=0,b=0,I=0;return this.legendItems.forEach((A,N)=>{const{itemWidth:V,itemHeight:U}=qB(r,t,o,A,i);N>0&&T+U+2*c>m&&(v+=E+c,f.push({width:E,height:T}),b+=E+c,I++,E=T=0),h[N]={left:b,top:T,col:I,width:V,height:U},E=Math.max(E,V),T+=U+c}),v+=E,f.push({width:E,height:T}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:o}}=this,l=rl(o,this.left,this.width);if(this.isHorizontal()){let c=0,h=Mn(r,this.left+i,this.right-this.lineWidths[c]);for(const f of t)c!==f.row&&(c=f.row,h=Mn(r,this.left+i,this.right-this.lineWidths[c])),f.top+=this.top+e+i,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+i}else{let c=0,h=Mn(r,this.top+e+i,this.bottom-this.columnSizes[c].height);for(const f of t)f.col!==c&&(c=f.col,h=Mn(r,this.top+e+i,this.bottom-this.columnSizes[c].height)),f.top=h,f.left+=this.left+i,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;nv(e,this),this._draw(),rv(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:o,labels:l}=e,c=wt.color,h=rl(e.rtl,this.left,this.width),f=Cn(l.font),{padding:m}=l,v=f.size,E=v/2;let T;this.drawTitle(),i.textAlign=h.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=f.string;const{boxWidth:b,boxHeight:I,itemHeight:A}=BS(l,v),N=function(Y,R,x){if(isNaN(b)||b<=0||isNaN(I)||I<0)return;i.save();const k=Je(x.lineWidth,1);if(i.fillStyle=Je(x.fillStyle,c),i.lineCap=Je(x.lineCap,"butt"),i.lineDashOffset=Je(x.lineDashOffset,0),i.lineJoin=Je(x.lineJoin,"miter"),i.lineWidth=k,i.strokeStyle=Je(x.strokeStyle,c),i.setLineDash(Je(x.lineDash,[])),l.usePointStyle){const O={radius:I*Math.SQRT2/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:k},L=h.xPlus(Y,b/2),M=R+E;R1(i,O,L,M,l.pointStyleWidth&&b)}else{const O=R+Math.max((v-I)/2,0),L=h.leftForLtr(Y,b),M=iu(x.borderRadius);i.beginPath(),Object.values(M).some(P=>P!==0)?b_(i,{x:L,y:O,w:b,h:I,radius:M}):i.rect(L,O,b,I),i.fill(),k!==0&&i.stroke()}i.restore()},V=function(Y,R,x){kf(i,x.text,Y,R+A/2,f,{strikethrough:x.hidden,textAlign:h.textAlign(x.textAlign)})},U=this.isHorizontal(),z=this._computeTitleHeight();U?T={x:Mn(o,this.left+m,this.right-r[0]),y:this.top+m+z,line:0}:T={x:this.left+m,y:Mn(o,this.top+z+m,this.bottom-t[0].height),line:0},M1(this.ctx,e.textDirection);const Q=A+m;this.legendItems.forEach((Y,R)=>{i.strokeStyle=Y.fontColor,i.fillStyle=Y.fontColor;const x=i.measureText(Y.text).width,k=h.textAlign(Y.textAlign||(Y.textAlign=l.textAlign)),O=b+E+x;let L=T.x,M=T.y;h.setWidth(this.width),U?R>0&&L+O+m>this.right&&(M=T.y+=Q,T.line++,L=T.x=Mn(o,this.left+m,this.right-r[T.line])):R>0&&M+Q>this.bottom&&(L=T.x=L+t[T.line].width+m,T.line++,M=T.y=Mn(o,this.top+z+m,this.bottom-t[T.line].height));const P=h.x(L);if(N(P,M,Y),L=kj(k,L+b+E,U?L+O:this.right,e.rtl),V(h.x(L),M,Y),U)T.x+=O+m;else if(typeof Y.text!="string"){const De=f.lineHeight;T.y+=Y1(Y,De)+m}else T.y+=Q}),V1(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=Cn(t.font),i=xr(t.padding);if(!t.display)return;const o=rl(e.rtl,this.left,this.width),l=this.ctx,c=t.position,h=r.size/2,f=i.top+h;let m,v=this.left,E=this.width;if(this.isHorizontal())E=Math.max(...this.lineWidths),m=this.top+f,v=Mn(e.align,v,this.right-E);else{const b=this.columnSizes.reduce((I,A)=>Math.max(I,A.height),0);m=f+Mn(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const T=Mn(c,v,v+E);l.textAlign=o.textAlign(x1(c)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=r.string,kf(l,t.text,T,m,r)}_computeTitleHeight(){const e=this.options.title,t=Cn(e.font),r=xr(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,o;if(Uc(e,this.left,this.right)&&Uc(t,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],Uc(e,i.left,i.left+i.width)&&Uc(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!QB(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,o=KB(i,r);i&&!o&&st(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!o&&st(t.onHover,[e,r,this],this)}else r&&st(t.onClick,[e,r,this],this)}}function qB(n,e,t,r,i){const o=GB(r,n,e,t),l=YB(i,r,e.lineHeight);return{itemWidth:o,itemHeight:l}}function GB(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((o,l)=>o.length>l.length?o:l)),e+t.size/2+r.measureText(i).width}function YB(n,e,t){let r=n;return typeof e.text!="string"&&(r=Y1(e,t)),r}function Y1(n,e){const t=n.text?n.text.length:0;return e*t}function QB(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var XB={id:"legend",_element:zS,start(n,e,t){const r=n.legend=new zS({ctx:n.ctx,options:t,chart:n});Cs.configure(n,r,t),Cs.addBox(n,r)},stop(n){Cs.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;Cs.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:o,useBorderRadius:l,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(t?0:void 0),m=xr(f.borderWidth);return{text:e[h.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:f.borderColor,pointStyle:r||f.pointStyle,rotation:f.rotation,textAlign:i||f.textAlign,borderRadius:l&&(c||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const Wc={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,o=0;for(e=0,t=n.length;e<t;++e){const c=n[e].element;if(c&&c.hasValue()){const h=c.tooltipPosition();r.add(h.x),i+=h.y,++o}}return o===0||r.size===0?!1:{x:[...r].reduce((c,h)=>c+h)/r.size,y:i/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,o,l,c;for(o=0,l=n.length;o<l;++o){const h=n[o].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),m=Tj(e,f);m<i&&(i=m,c=h)}}if(c){const h=c.tooltipPosition();t=h.x,r=h.y}return{x:t,y:r}}};function Gr(n,e){return e&&(qt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Ci(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function JB(n,e){const{element:t,datasetIndex:r,index:i}=e,o=n.getDatasetMeta(r).controller,{label:l,value:c}=o.getLabelAndValue(i);return{chart:n,label:l,parsed:o.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:c,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function HS(n,e){const t=n.chart.ctx,{body:r,footer:i,title:o}=n,{boxWidth:l,boxHeight:c}=e,h=Cn(e.bodyFont),f=Cn(e.titleFont),m=Cn(e.footerFont),v=o.length,E=i.length,T=r.length,b=xr(e.padding);let I=b.height,A=0,N=r.reduce((z,Q)=>z+Q.before.length+Q.lines.length+Q.after.length,0);if(N+=n.beforeBody.length+n.afterBody.length,v&&(I+=v*f.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),N){const z=e.displayColors?Math.max(c,h.lineHeight):h.lineHeight;I+=T*z+(N-T)*h.lineHeight+(N-1)*e.bodySpacing}E&&(I+=e.footerMarginTop+E*m.lineHeight+(E-1)*e.footerSpacing);let V=0;const U=function(z){A=Math.max(A,t.measureText(z).width+V)};return t.save(),t.font=f.string,Xe(n.title,U),t.font=h.string,Xe(n.beforeBody.concat(n.afterBody),U),V=e.displayColors?l+2+e.boxPadding:0,Xe(r,z=>{Xe(z.before,U),Xe(z.lines,U),Xe(z.after,U)}),V=0,t.font=m.string,Xe(n.footer,U),t.restore(),A+=b.width,{width:A,height:I}}function ZB(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function e9(n,e,t,r){const{x:i,width:o}=r,l=t.caretSize+t.caretPadding;if(n==="left"&&i+o+l>e.width||n==="right"&&i-o-l<0)return!0}function t9(n,e,t,r){const{x:i,width:o}=t,{width:l,chartArea:{left:c,right:h}}=n;let f="center";return r==="center"?f=i<=(c+h)/2?"left":"right":i<=o/2?f="left":i>=l-o/2&&(f="right"),e9(f,n,e,t)&&(f="center"),f}function WS(n,e,t){const r=t.yAlign||e.yAlign||ZB(n,t);return{xAlign:t.xAlign||e.xAlign||t9(n,e,t,r),yAlign:r}}function n9(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function r9(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function KS(n,e,t,r){const{caretSize:i,caretPadding:o,cornerRadius:l}=n,{xAlign:c,yAlign:h}=t,f=i+o,{topLeft:m,topRight:v,bottomLeft:E,bottomRight:T}=iu(l);let b=n9(e,c);const I=r9(e,h,f);return h==="center"?c==="left"?b+=f:c==="right"&&(b-=f):c==="left"?b-=Math.max(m,E)+i:c==="right"&&(b+=Math.max(v,T)+i),{x:nr(b,0,r.width-e.width),y:nr(I,0,r.height-e.height)}}function Cd(n,e,t){const r=xr(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function qS(n){return Gr([],Ci(n))}function i9(n,e,t){return Dl(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function GS(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const Q1={beforeTitle:Ii,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:Ii,beforeBody:Ii,beforeLabel:Ii,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return sn(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ii,afterBody:Ii,beforeFooter:Ii,footer:Ii,afterFooter:Ii};function Tn(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?Q1[e].call(t,r):i}class x_ extends ju{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,o=new F1(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=i9(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=Tn(r,"beforeTitle",this,e),o=Tn(r,"title",this,e),l=Tn(r,"afterTitle",this,e);let c=[];return c=Gr(c,Ci(i)),c=Gr(c,Ci(o)),c=Gr(c,Ci(l)),c}getBeforeBody(e,t){return qS(Tn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return Xe(e,o=>{const l={before:[],lines:[],after:[]},c=GS(r,o);Gr(l.before,Ci(Tn(c,"beforeLabel",this,o))),Gr(l.lines,Tn(c,"label",this,o)),Gr(l.after,Ci(Tn(c,"afterLabel",this,o))),i.push(l)}),i}getAfterBody(e,t){return qS(Tn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=Tn(r,"beforeFooter",this,e),o=Tn(r,"footer",this,e),l=Tn(r,"afterFooter",this,e);let c=[];return c=Gr(c,Ci(i)),c=Gr(c,Ci(o)),c=Gr(c,Ci(l)),c}_createItems(e){const t=this._active,r=this.chart.data,i=[],o=[],l=[];let c=[],h,f;for(h=0,f=t.length;h<f;++h)c.push(JB(this.chart,t[h]));return e.filter&&(c=c.filter((m,v,E)=>e.filter(m,v,E,r))),e.itemSort&&(c=c.sort((m,v)=>e.itemSort(m,v,r))),Xe(c,m=>{const v=GS(e.callbacks,m);i.push(Tn(v,"labelColor",this,m)),o.push(Tn(v,"labelPointStyle",this,m)),l.push(Tn(v,"labelTextColor",this,m))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=c,c}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let o,l=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const c=Wc[r.position].call(this,i,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const h=this._size=HS(this,r),f=Object.assign({},c,h),m=WS(this.chart,r,f),v=KS(r,f,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,o={opacity:1,x:v.x,y:v.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const o=this.getCaretPosition(e,r,i);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:o}=this,{caretSize:l,cornerRadius:c}=r,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:v}=iu(c),{x:E,y:T}=e,{width:b,height:I}=t;let A,N,V,U,z,Q;return o==="center"?(z=T+I/2,i==="left"?(A=E,N=A-l,U=z+l,Q=z-l):(A=E+b,N=A+l,U=z-l,Q=z+l),V=A):(i==="left"?N=E+Math.max(h,m)+l:i==="right"?N=E+b-Math.max(f,v)-l:N=this.caretX,o==="top"?(U=T,z=U-l,A=N-l,V=N+l):(U=T+I,z=U+l,A=N+l,V=N-l),Q=U),{x1:A,x2:N,x3:V,y1:U,y2:z,y3:Q}}drawTitle(e,t,r){const i=this.title,o=i.length;let l,c,h;if(o){const f=rl(r.rtl,this.x,this.width);for(e.x=Cd(this,r.titleAlign,r),t.textAlign=f.textAlign(r.titleAlign),t.textBaseline="middle",l=Cn(r.titleFont),c=r.titleSpacing,t.fillStyle=r.titleColor,t.font=l.string,h=0;h<o;++h)t.fillText(i[h],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+c,h+1===o&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,t,r,i,o){const l=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:h,boxWidth:f}=o,m=Cn(o.bodyFont),v=Cd(this,"left",o),E=i.x(v),T=h<m.lineHeight?(m.lineHeight-h)/2:0,b=t.y+T;if(o.usePointStyle){const I={radius:Math.min(f,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},A=i.leftForLtr(E,f)+f/2,N=b+h/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,dS(e,I,A,N),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,dS(e,I,A,N)}else{e.lineWidth=Ge(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const I=i.leftForLtr(E,f),A=i.leftForLtr(i.xPlus(E,1),f-2),N=iu(l.borderRadius);Object.values(N).some(V=>V!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,b_(e,{x:I,y:b,w:f,h,radius:N}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),b_(e,{x:A,y:b+1,w:f-2,h:h-2,radius:N}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(I,b,f,h),e.strokeRect(I,b,f,h),e.fillStyle=l.backgroundColor,e.fillRect(A,b+1,f-2,h-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:o,bodyAlign:l,displayColors:c,boxHeight:h,boxWidth:f,boxPadding:m}=r,v=Cn(r.bodyFont);let E=v.lineHeight,T=0;const b=rl(r.rtl,this.x,this.width),I=function(x){t.fillText(x,b.x(e.x+T),e.y+E/2),e.y+=E+o},A=b.textAlign(l);let N,V,U,z,Q,Y,R;for(t.textAlign=l,t.textBaseline="middle",t.font=v.string,e.x=Cd(this,A,r),t.fillStyle=r.bodyColor,Xe(this.beforeBody,I),T=c&&A!=="right"?l==="center"?f/2+m:f+2+m:0,z=0,Y=i.length;z<Y;++z){for(N=i[z],V=this.labelTextColors[z],t.fillStyle=V,Xe(N.before,I),U=N.lines,c&&U.length&&(this._drawColorBox(t,e,z,b,r),E=Math.max(v.lineHeight,h)),Q=0,R=U.length;Q<R;++Q)I(U[Q]),E=v.lineHeight;Xe(N.after,I)}T=0,E=v.lineHeight,Xe(this.afterBody,I),e.y-=o}drawFooter(e,t,r){const i=this.footer,o=i.length;let l,c;if(o){const h=rl(r.rtl,this.x,this.width);for(e.x=Cd(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=h.textAlign(r.footerAlign),t.textBaseline="middle",l=Cn(r.footerFont),t.fillStyle=r.footerColor,t.font=l.string,c=0;c<o;++c)t.fillText(i[c],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:o,yAlign:l}=this,{x:c,y:h}=e,{width:f,height:m}=r,{topLeft:v,topRight:E,bottomLeft:T,bottomRight:b}=iu(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(c+v,h),l==="top"&&this.drawCaret(e,t,r,i),t.lineTo(c+f-E,h),t.quadraticCurveTo(c+f,h,c+f,h+E),l==="center"&&o==="right"&&this.drawCaret(e,t,r,i),t.lineTo(c+f,h+m-b),t.quadraticCurveTo(c+f,h+m,c+f-b,h+m),l==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(c+T,h+m),t.quadraticCurveTo(c,h+m,c,h+m-T),l==="center"&&o==="left"&&this.drawCaret(e,t,r,i),t.lineTo(c,h+v),t.quadraticCurveTo(c,h,c+v,h),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,o=r&&r.y;if(i||o){const l=Wc[e.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=HS(this,e),h=Object.assign({},l,this._size),f=WS(t,e,h),m=KS(e,h,f,t);(i._to!==m.x||o._to!==m.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=xr(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=r,this.drawBackground(o,e,i,t),M1(e,t.textDirection),o.y+=l.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),V1(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:c,index:h})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[h],index:h}}),o=!Sf(r,i),l=this._positionChanged(i,t);(o||l)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],l=this._getActiveElements(e,o,t,r),c=this._positionChanged(l,e),h=t||!Sf(l,o)||c;return h&&(this._active=l,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,r,i){const o=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,o.mode,o,r);return o.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:r,caretY:i,options:o}=this,l=Wc[o.position].call(this,e,t);return l!==!1&&(r!==l.x||i!==l.y)}}Ve(x_,"positioners",Wc);var s9={id:"tooltip",_element:x_,positioners:Wc,afterInit(n,e,t){t&&(n.tooltip=new x_({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Q1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const wp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},An=Object.keys(wp);function YS(n,e){return n-e}function QS(n,e){if(sn(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:o}=n._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),zi(l)||(l=typeof r=="string"?t.parse(l,r):t.parse(l)),l===null?null:(i&&(l=i==="week"&&(Cf(o)||o===!0)?t.startOf(l,"isoWeek",o):t.startOf(l,i)),+l)}function XS(n,e,t,r){const i=An.length;for(let o=An.indexOf(n);o<i-1;++o){const l=wp[An[o]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(c*l.size))<=r)return An[o]}return An[i-1]}function o9(n,e,t,r,i){for(let o=An.length-1;o>=An.indexOf(t);o--){const l=An[o];if(wp[l].common&&n._adapter.diff(i,r,l)>=e-1)return l}return An[t?An.indexOf(t):0]}function a9(n){for(let e=An.indexOf(n)+1,t=An.length;e<t;++e)if(wp[An[e]].common)return An[e]}function JS(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=tv(t,e),o=t[r]>=e?t[r]:t[i];n[o]=!0}}function l9(n,e,t,r){const i=n._adapter,o=+i.startOf(e[0].value,r),l=e[e.length-1].value;let c,h;for(c=o;c<=l;c=+i.add(c,1,r))h=t[c],h>=0&&(e[h].major=!0);return e}function ZS(n,e,t){const r=[],i={},o=e.length;let l,c;for(l=0;l<o;++l)c=e[l],i[c]=l,r.push({value:c,major:!1});return o===0||!t?r:l9(n,r,i,t)}class Nf extends vp{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new PU._date(e.adapters.date);i.init(t),tu(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:QS(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:o,minDefined:l,maxDefined:c}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(i=Math.min(i,f.min)),!c&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!l||!c)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),i=zi(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),o=zi(o)&&!isNaN(o)?o:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,l=this.max,c=Ij(i,o,l);return this._unit=t.unit||(r.autoSkip?XS(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):o9(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:a9(this._unit),this.initOffsets(i),e.reverse&&c.reverse(),ZS(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,o;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?r=o:r=(o-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=nr(t,0,l),r=nr(r,0,l),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,o=i.time,l=o.unit||XS(o.minUnit,t,r,this._getLabelCapacity(t)),c=Je(i.ticks.stepSize,1),h=l==="week"?o.isoWeekday:!1,f=Cf(h)||h===!0,m={};let v=t,E,T;if(f&&(v=+e.startOf(v,"isoWeek",h)),v=+e.startOf(v,f?"day":l),e.diff(r,t,l)>1e5*c)throw new Error(t+" and "+r+" are too far apart with stepSize of "+c+" "+l);const b=i.ticks.source==="data"&&this.getDataTimestamps();for(E=v,T=0;E<r;E=+e.add(E,c,l),T++)JS(m,E,b);return(E===r||i.bounds==="ticks"||T===1)&&JS(m,E,b),Object.keys(m).sort(YS).map(I=>+I)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,o=this._unit,l=t||i[o];return this._adapter.format(e,l)}_tickFormatFunction(e,t,r,i){const o=this.options,l=o.ticks.callback;if(l)return st(l,[e,t,r],this);const c=o.time.displayFormats,h=this._unit,f=this._majorUnit,m=h&&c[h],v=f&&c[f],E=r[t],T=f&&v&&E&&E.major;return this._adapter.format(e,i||(T?v:m))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=No(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(i),l=Math.sin(i),c=this._resolveTickFontOptions(0).size;return{w:r*o+c*l,h:r*l+c*o}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,o=this._tickFormatFunction(e,0,ZS(this,[e],this._majorUnit),i),l=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(QS(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Cj(e.sort(YS))}}Ve(Nf,"id","time"),Ve(Nf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function xd(n,e,t){let r=0,i=n.length-1,o,l,c,h;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=T_(n,"pos",e)),{pos:o,time:c}=n[r],{pos:l,time:h}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=T_(n,"time",e)),{time:o,pos:c}=n[r],{time:l,pos:h}=n[i]);const f=l-o;return f?c+(h-c)*(e-o)/f:c}class eb extends Nf{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=xd(t,this.min),this._tableRange=xd(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],o=[];let l,c,h,f,m;for(l=0,c=e.length;l<c;++l)f=e[l],f>=t&&f<=r&&i.push(f);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(l=0,c=i.length;l<c;++l)m=i[l+1],h=i[l-1],f=i[l],Math.round((m+h)/2)!==f&&o.push({time:f,pos:l/(c-1)});return o}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,o)=>i-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(xd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return xd(this._table,r*this._tableRange+this._minPos,!0)}}Ve(eb,"id","timeseries"),Ve(eb,"defaults",Nf.defaults);const X1="label";function tb(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function c9(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function J1(n,e){n.labels=e}function Z1(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:X1;const r=[];n.datasets=e.map(i=>{const o=n.datasets.find(l=>l[t]===i[t]);return!o||!i.data||r.includes(o)?{...i}:(r.push(o),Object.assign(o,i),o)})}function u9(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:X1;const t={labels:[],datasets:[]};return J1(t,n.labels),Z1(t,n.datasets,e),t}function h9(n,e){const{height:t=150,width:r=300,redraw:i=!1,datasetIdKey:o,type:l,data:c,options:h,plugins:f=[],fallbackContent:m,updateMode:v,...E}=n,T=W.useRef(null),b=W.useRef(null),I=()=>{T.current&&(b.current=new Ep(T.current,{type:l,data:u9(c,o),options:h&&{...h},plugins:f}),tb(e,b.current))},A=()=>{tb(e,null),b.current&&(b.current.destroy(),b.current=null)};return W.useEffect(()=>{!i&&b.current&&h&&c9(b.current,h)},[i,h]),W.useEffect(()=>{!i&&b.current&&J1(b.current.config.data,c.labels)},[i,c.labels]),W.useEffect(()=>{!i&&b.current&&c.datasets&&Z1(b.current.config.data,c.datasets,o)},[i,c.datasets]),W.useEffect(()=>{b.current&&(i?(A(),setTimeout(I)):b.current.update(v))},[i,h,c.labels,c.datasets,v]),W.useEffect(()=>{b.current&&(A(),setTimeout(I))},[l]),W.useEffect(()=>(I(),()=>A()),[]),Pi.createElement("canvas",{ref:T,role:"img",height:t,width:r,...E},m)}const d9=W.forwardRef(h9);function f9(n,e){return Ep.register(e),W.forwardRef((t,r)=>Pi.createElement(d9,{...t,ref:r,type:n}))}const nb=f9("pie",I_);Ep.register(Hc,s9,XB);function p9({email:n}){const[e,t]=W.useState({bio:{spravne:0,nespravne:0},che:{spravne:0,nespravne:0}});W.useEffect(()=>{async function o(){const l=["bio","che"],c={};for(const h of l){const f=Ay(mC,"users",n,"tests",h),m=await fC(f);if(m.exists()){const v=m.data(),E=(v==null?void 0:v.odpovede)??[];let T=0,b=0;E.forEach(I=>{(I==null?void 0:I.spravna)===!0?T++:b++}),c[h]={spravne:T,nespravne:b}}else c[h]={spravne:0,nespravne:0}}t(c)}n&&o()},[n]);const r={labels:["Sprvne","Nesprvne"],datasets:[{label:"Bio odpovede",data:[e.bio.spravne,e.bio.nespravne],backgroundColor:["#4CAF50","#F44336"],hoverOffset:20}]},i={labels:["Sprvne","Nesprvne"],datasets:[{label:"Che odpovede",data:[e.che.spravne,e.che.nespravne],backgroundColor:["#2196F3","#FF9800"],hoverOffset:20}]};return X.jsx("div",{className:"modal fade",id:"scrollableModal",tabIndex:"-1","aria-labelledby":"scrollableModalLabel","aria-hidden":"true",children:X.jsx("div",{className:"modal-dialog modal-dialog-scrollable",children:X.jsxs("div",{className:"modal-content bg-dark text-light",children:[X.jsxs("div",{className:"modal-header border-secondary",children:[X.jsx("h5",{className:"modal-title",id:"scrollableModalLabel",children:"tatistika"}),X.jsx("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Zavrie"})]}),X.jsxs("div",{className:"modal-body",children:[X.jsx("h6",{children:"Bio"}),X.jsx("div",{style:{width:350,height:350,margin:"auto"},children:X.jsx(nb,{data:r,options:{responsive:!0,maintainAspectRatio:!1,radius:"80%"}})}),X.jsx("hr",{}),X.jsx("h6",{children:"Che"}),X.jsx("div",{style:{width:350,height:350,margin:"auto"},children:X.jsx(nb,{data:i,options:{responsive:!0,maintainAspectRatio:!1,radius:"80%"}})})]}),X.jsx("div",{className:"modal-footer border-secondary",children:X.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Zavrie"})})]})})})}function m9({user:n}){const e=Lf(),[t,r]=W.useState(!1),i=async()=>{try{await sI(fl),e("/",{replace:!0})}catch(o){console.error("Chyba pri odhlaseni:",o)}};return X.jsxs("div",{children:[X.jsxs("div",{className:"loginMenu",children:[X.jsxs("h5",{className:"welcomeMsg pt-1 m-0",children:["Vitaj ",n.displayName]}),X.jsxs("button",{type:"button",className:`btn ${t?"btn-dark":"btn-light"} d-flex  align-items-center gap-1 ms-2`,onClick:i,children:[X.jsx(LF,{size:20}),"Odhlsi sa"]}),X.jsx("button",{"data-bs-toggle":"modal","data-bs-target":"#scrollableModal",className:`btn ${t?"btn-dark":"btn-light"} d-flex  align-items-center gap-1 ms-2`,children:X.jsx(VF,{size:25})})]}),X.jsx(p9,{email:n.email}),X.jsx(U5,{mode:t,user:n,setMode:r}),X.jsx(B5,{})]})}function g9(){const[n,e]=W.useState(null),[t,r]=W.useState(!0);return W.useEffect(()=>iI(fl,o=>{e(o),r(!1)}),[]),t?X.jsx("div",{children:"Natavam..."}):X.jsxs(oR,{children:[X.jsx(Rd,{path:"/",element:X.jsx(MF,{})}),X.jsx(Rd,{path:"/register",element:X.jsx($F,{})}),X.jsx(Rd,{path:"/test",element:n?X.jsx(m9,{user:n}):X.jsx(iR,{to:"/",replace:!0})})]})}pk.createRoot(document.getElementById("root")).render(X.jsx(W.StrictMode,{children:X.jsx(RR,{basename:"/medTest",children:X.jsx(g9,{})})}));
