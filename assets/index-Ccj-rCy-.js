var xR=Object.defineProperty;var CR=(n,e,t)=>e in n?xR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ae=(n,e,t)=>CR(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function uA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ag={exports:{}},jc={},Ig={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function kR(){if(s0)return $e;s0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,I={};function A(B,Z,ge){this.props=B,this.context=Z,this.refs=I,this.updater=ge||w}A.prototype.isReactComponent={},A.prototype.setState=function(B,Z){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Z,"setState")},A.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function O(){}O.prototype=A.prototype;function L(B,Z,ge){this.props=B,this.context=Z,this.refs=I,this.updater=ge||w}var $=L.prototype=new O;$.constructor=L,T($,A.prototype),$.isPureReactComponent=!0;var z=Array.isArray,H=Object.prototype.hasOwnProperty,j={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C(B,Z,ge){var ae,pe={},fe=null,Se=null;if(Z!=null)for(ae in Z.ref!==void 0&&(Se=Z.ref),Z.key!==void 0&&(fe=""+Z.key),Z)H.call(Z,ae)&&!k.hasOwnProperty(ae)&&(pe[ae]=Z[ae]);var xe=arguments.length-2;if(xe===1)pe.children=ge;else if(1<xe){for(var Le=Array(xe),Be=0;Be<xe;Be++)Le[Be]=arguments[Be+2];pe.children=Le}if(B&&B.defaultProps)for(ae in xe=B.defaultProps,xe)pe[ae]===void 0&&(pe[ae]=xe[ae]);return{$$typeof:n,type:B,key:fe,ref:Se,props:pe,_owner:j.current}}function R(B,Z){return{$$typeof:n,type:B.type,key:Z,ref:B.ref,props:B.props,_owner:B._owner}}function x(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function N(B){var Z={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ge){return Z[ge]})}var M=/\/+/g;function D(B,Z){return typeof B=="object"&&B!==null&&B.key!=null?N(""+B.key):Z.toString(36)}function ye(B,Z,ge,ae,pe){var fe=typeof B;(fe==="undefined"||fe==="boolean")&&(B=null);var Se=!1;if(B===null)Se=!0;else switch(fe){case"string":case"number":Se=!0;break;case"object":switch(B.$$typeof){case n:case e:Se=!0}}if(Se)return Se=B,pe=pe(Se),B=ae===""?"."+D(Se,0):ae,z(pe)?(ge="",B!=null&&(ge=B.replace(M,"$&/")+"/"),ye(pe,Z,ge,"",function(Be){return Be})):pe!=null&&(x(pe)&&(pe=R(pe,ge+(!pe.key||Se&&Se.key===pe.key?"":(""+pe.key).replace(M,"$&/")+"/")+B)),Z.push(pe)),1;if(Se=0,ae=ae===""?".":ae+":",z(B))for(var xe=0;xe<B.length;xe++){fe=B[xe];var Le=ae+D(fe,xe);Se+=ye(fe,Z,ge,Le,pe)}else if(Le=y(B),typeof Le=="function")for(B=Le.call(B),xe=0;!(fe=B.next()).done;)fe=fe.value,Le=ae+D(fe,xe++),Se+=ye(fe,Z,ge,Le,pe);else if(fe==="object")throw Z=String(B),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Se}function me(B,Z,ge){if(B==null)return B;var ae=[],pe=0;return ye(B,ae,"","",function(fe){return Z.call(ge,fe,pe++)}),ae}function he(B){if(B._status===-1){var Z=B._result;Z=Z(),Z.then(function(ge){(B._status===0||B._status===-1)&&(B._status=1,B._result=ge)},function(ge){(B._status===0||B._status===-1)&&(B._status=2,B._result=ge)}),B._status===-1&&(B._status=0,B._result=Z)}if(B._status===1)return B._result.default;throw B._result}var de={current:null},J={transition:null},ie={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:J,ReactCurrentOwner:j};function ce(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:me,forEach:function(B,Z,ge){me(B,function(){Z.apply(this,arguments)},ge)},count:function(B){var Z=0;return me(B,function(){Z++}),Z},toArray:function(B){return me(B,function(Z){return Z})||[]},only:function(B){if(!x(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},$e.Component=A,$e.Fragment=t,$e.Profiler=i,$e.PureComponent=L,$e.StrictMode=r,$e.Suspense=u,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,$e.act=ce,$e.cloneElement=function(B,Z,ge){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ae=T({},B.props),pe=B.key,fe=B.ref,Se=B._owner;if(Z!=null){if(Z.ref!==void 0&&(fe=Z.ref,Se=j.current),Z.key!==void 0&&(pe=""+Z.key),B.type&&B.type.defaultProps)var xe=B.type.defaultProps;for(Le in Z)H.call(Z,Le)&&!k.hasOwnProperty(Le)&&(ae[Le]=Z[Le]===void 0&&xe!==void 0?xe[Le]:Z[Le])}var Le=arguments.length-2;if(Le===1)ae.children=ge;else if(1<Le){xe=Array(Le);for(var Be=0;Be<Le;Be++)xe[Be]=arguments[Be+2];ae.children=xe}return{$$typeof:n,type:B.type,key:pe,ref:fe,props:ae,_owner:Se}},$e.createContext=function(B){return B={$$typeof:a,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:s,_context:B},B.Consumer=B},$e.createElement=C,$e.createFactory=function(B){var Z=C.bind(null,B);return Z.type=B,Z},$e.createRef=function(){return{current:null}},$e.forwardRef=function(B){return{$$typeof:c,render:B}},$e.isValidElement=x,$e.lazy=function(B){return{$$typeof:m,_payload:{_status:-1,_result:B},_init:he}},$e.memo=function(B,Z){return{$$typeof:d,type:B,compare:Z===void 0?null:Z}},$e.startTransition=function(B){var Z=J.transition;J.transition={};try{B()}finally{J.transition=Z}},$e.unstable_act=ce,$e.useCallback=function(B,Z){return de.current.useCallback(B,Z)},$e.useContext=function(B){return de.current.useContext(B)},$e.useDebugValue=function(){},$e.useDeferredValue=function(B){return de.current.useDeferredValue(B)},$e.useEffect=function(B,Z){return de.current.useEffect(B,Z)},$e.useId=function(){return de.current.useId()},$e.useImperativeHandle=function(B,Z,ge){return de.current.useImperativeHandle(B,Z,ge)},$e.useInsertionEffect=function(B,Z){return de.current.useInsertionEffect(B,Z)},$e.useLayoutEffect=function(B,Z){return de.current.useLayoutEffect(B,Z)},$e.useMemo=function(B,Z){return de.current.useMemo(B,Z)},$e.useReducer=function(B,Z,ge){return de.current.useReducer(B,Z,ge)},$e.useRef=function(B){return de.current.useRef(B)},$e.useState=function(B){return de.current.useState(B)},$e.useSyncExternalStore=function(B,Z,ge){return de.current.useSyncExternalStore(B,Z,ge)},$e.useTransition=function(){return de.current.useTransition()},$e.version="18.3.1",$e}var o0;function py(){return o0||(o0=1,Ig.exports=kR()),Ig.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function RR(){if(a0)return jc;a0=1;var n=py(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(c,u,d){var m,_={},y=null,w=null;d!==void 0&&(y=""+d),u.key!==void 0&&(y=""+u.key),u.ref!==void 0&&(w=u.ref);for(m in u)r.call(u,m)&&!s.hasOwnProperty(m)&&(_[m]=u[m]);if(c&&c.defaultProps)for(m in u=c.defaultProps,u)_[m]===void 0&&(_[m]=u[m]);return{$$typeof:e,type:c,key:y,ref:w,props:_,_owner:i.current}}return jc.Fragment=t,jc.jsx=a,jc.jsxs=a,jc}var l0;function PR(){return l0||(l0=1,Ag.exports=RR()),Ag.exports}var Y=PR(),q=py();const Li=uA(q);var _d={},xg={exports:{}},wn={},Cg={exports:{}},kg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function OR(){return c0||(c0=1,function(n){function e(J,ie){var ce=J.length;J.push(ie);e:for(;0<ce;){var B=ce-1>>>1,Z=J[B];if(0<i(Z,ie))J[B]=ie,J[ce]=Z,ce=B;else break e}}function t(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ie=J[0],ce=J.pop();if(ce!==ie){J[0]=ce;e:for(var B=0,Z=J.length,ge=Z>>>1;B<ge;){var ae=2*(B+1)-1,pe=J[ae],fe=ae+1,Se=J[fe];if(0>i(pe,ce))fe<Z&&0>i(Se,pe)?(J[B]=Se,J[fe]=ce,B=fe):(J[B]=pe,J[ae]=ce,B=ae);else if(fe<Z&&0>i(Se,ce))J[B]=Se,J[fe]=ce,B=fe;else break e}}return ie}function i(J,ie){var ce=J.sortIndex-ie.sortIndex;return ce!==0?ce:J.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();n.unstable_now=function(){return a.now()-c}}var u=[],d=[],m=1,_=null,y=3,w=!1,T=!1,I=!1,A=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(J){for(var ie=t(d);ie!==null;){if(ie.callback===null)r(d);else if(ie.startTime<=J)r(d),ie.sortIndex=ie.expirationTime,e(u,ie);else break;ie=t(d)}}function z(J){if(I=!1,$(J),!T)if(t(u)!==null)T=!0,he(H);else{var ie=t(d);ie!==null&&de(z,ie.startTime-J)}}function H(J,ie){T=!1,I&&(I=!1,O(C),C=-1),w=!0;var ce=y;try{for($(ie),_=t(u);_!==null&&(!(_.expirationTime>ie)||J&&!N());){var B=_.callback;if(typeof B=="function"){_.callback=null,y=_.priorityLevel;var Z=B(_.expirationTime<=ie);ie=n.unstable_now(),typeof Z=="function"?_.callback=Z:_===t(u)&&r(u),$(ie)}else r(u);_=t(u)}if(_!==null)var ge=!0;else{var ae=t(d);ae!==null&&de(z,ae.startTime-ie),ge=!1}return ge}finally{_=null,y=ce,w=!1}}var j=!1,k=null,C=-1,R=5,x=-1;function N(){return!(n.unstable_now()-x<R)}function M(){if(k!==null){var J=n.unstable_now();x=J;var ie=!0;try{ie=k(!0,J)}finally{ie?D():(j=!1,k=null)}}else j=!1}var D;if(typeof L=="function")D=function(){L(M)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,me=ye.port2;ye.port1.onmessage=M,D=function(){me.postMessage(null)}}else D=function(){A(M,0)};function he(J){k=J,j||(j=!0,D())}function de(J,ie){C=A(function(){J(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_continueExecution=function(){T||w||(T=!0,he(H))},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(J){switch(y){case 1:case 2:case 3:var ie=3;break;default:ie=y}var ce=y;y=ie;try{return J()}finally{y=ce}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(J,ie){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ce=y;y=J;try{return ie()}finally{y=ce}},n.unstable_scheduleCallback=function(J,ie,ce){var B=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?B+ce:B):ce=B,J){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ce+Z,J={id:m++,callback:ie,priorityLevel:J,startTime:ce,expirationTime:Z,sortIndex:-1},ce>B?(J.sortIndex=ce,e(d,J),t(u)===null&&J===t(d)&&(I?(O(C),C=-1):I=!0,de(z,ce-B))):(J.sortIndex=Z,e(u,J),T||w||(T=!0,he(H))),J},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(J){var ie=y;return function(){var ce=y;y=ie;try{return J.apply(this,arguments)}finally{y=ce}}}}(kg)),kg}var u0;function NR(){return u0||(u0=1,Cg.exports=OR()),Cg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function DR(){if(h0)return wn;h0=1;var n=py(),e=NR();function t(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(i[o]=l,o=0;o<l.length;o++)r.add(l[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},_={};function y(o){return u.call(_,o)?!0:u.call(m,o)?!1:d.test(o)?_[o]=!0:(m[o]=!0,!1)}function w(o,l,h,p){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return p?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function T(o,l,h,p){if(l===null||typeof l>"u"||w(o,l,h,p))return!0;if(p)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function I(o,l,h,p,g,E,S){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=h,this.propertyName=o,this.type=l,this.sanitizeURL=E,this.removeEmptyString=S}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){A[o]=new I(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];A[l]=new I(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){A[o]=new I(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){A[o]=new I(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){A[o]=new I(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){A[o]=new I(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){A[o]=new I(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){A[o]=new I(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){A[o]=new I(o,5,!1,o.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function L(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(O,L);A[l]=new I(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(O,L);A[l]=new I(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(O,L);A[l]=new I(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){A[o]=new I(o,1,!1,o.toLowerCase(),null,!1,!1)}),A.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){A[o]=new I(o,1,!1,o.toLowerCase(),null,!0,!0)});function $(o,l,h,p){var g=A.hasOwnProperty(l)?A[l]:null;(g!==null?g.type!==0:p||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(T(l,h,g,p)&&(h=null),p||g===null?y(l)&&(h===null?o.removeAttribute(l):o.setAttribute(l,""+h)):g.mustUseProperty?o[g.propertyName]=h===null?g.type===3?!1:"":h:(l=g.attributeName,p=g.attributeNamespace,h===null?o.removeAttribute(l):(g=g.type,h=g===3||g===4&&h===!0?"":""+h,p?o.setAttributeNS(p,l,h):o.setAttribute(l,h))))}var z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),j=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),N=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),J=Symbol.iterator;function ie(o){return o===null||typeof o!="object"?null:(o=J&&o[J]||o["@@iterator"],typeof o=="function"?o:null)}var ce=Object.assign,B;function Z(o){if(B===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);B=l&&l[1]||""}return`
`+B+o}var ge=!1;function ae(o,l){if(!o||ge)return"";ge=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Q){var p=Q}Reflect.construct(o,[],l)}else{try{l.call()}catch(Q){p=Q}o.call(l.prototype)}else{try{throw Error()}catch(Q){p=Q}o()}}catch(Q){if(Q&&p&&typeof Q.stack=="string"){for(var g=Q.stack.split(`
`),E=p.stack.split(`
`),S=g.length-1,V=E.length-1;1<=S&&0<=V&&g[S]!==E[V];)V--;for(;1<=S&&0<=V;S--,V--)if(g[S]!==E[V]){if(S!==1||V!==1)do if(S--,V--,0>V||g[S]!==E[V]){var F=`
`+g[S].replace(" at new "," at ");return o.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",o.displayName)),F}while(1<=S&&0<=V);break}}}finally{ge=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?Z(o):""}function pe(o){switch(o.tag){case 5:return Z(o.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return o=ae(o.type,!1),o;case 11:return o=ae(o.type.render,!1),o;case 1:return o=ae(o.type,!0),o;default:return""}}function fe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case k:return"Fragment";case j:return"Portal";case R:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case ye:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case N:return(o.displayName||"Context")+".Consumer";case x:return(o._context.displayName||"Context")+".Provider";case M:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case me:return l=o.displayName||null,l!==null?l:fe(o.type)||"Memo";case he:l=o._payload,o=o._init;try{return fe(o(l))}catch{}}return null}function Se(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(l);case 8:return l===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function xe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Le(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Be(o){var l=Le(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),p=""+o[l];if(!o.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,E=h.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return g.call(this)},set:function(S){p=""+S,E.call(this,S)}}),Object.defineProperty(o,l,{enumerable:h.enumerable}),{getValue:function(){return p},setValue:function(S){p=""+S},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Lt(o){o._valueTracker||(o._valueTracker=Be(o))}function zt(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var h=l.getValue(),p="";return o&&(p=Le(o)?o.checked?"true":"false":o.value),o=p,o!==h?(l.setValue(o),!0):!1}function Bt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function ur(o,l){var h=l.checked;return ce({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function Dr(o,l){var h=l.defaultValue==null?"":l.defaultValue,p=l.checked!=null?l.checked:l.defaultChecked;h=xe(l.value!=null?l.value:h),o._wrapperState={initialChecked:p,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Mr(o,l){l=l.checked,l!=null&&$(o,"checked",l,!1)}function hr(o,l){Mr(o,l);var h=xe(l.value),p=l.type;if(h!=null)p==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(p==="submit"||p==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Lr(o,l.type,h):l.hasOwnProperty("defaultValue")&&Lr(o,l.type,xe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function Qi(o,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var p=l.type;if(!(p!=="submit"&&p!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,h||l===o.value||(o.value=l),o.defaultValue=l}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function Lr(o,l,h){(l!=="number"||Bt(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var It=Array.isArray;function fn(o,l,h,p){if(o=o.options,l){l={};for(var g=0;g<h.length;g++)l["$"+h[g]]=!0;for(h=0;h<o.length;h++)g=l.hasOwnProperty("$"+o[h].value),o[h].selected!==g&&(o[h].selected=g),g&&p&&(o[h].defaultSelected=!0)}else{for(h=""+xe(h),l=null,g=0;g<o.length;g++){if(o[g].value===h){o[g].selected=!0,p&&(o[g].defaultSelected=!0);return}l!==null||o[g].disabled||(l=o[g])}l!==null&&(l.selected=!0)}}function Xi(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return ce({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function fi(o,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(t(92));if(It(h)){if(1<h.length)throw Error(t(93));h=h[0]}l=h}l==null&&(l=""),h=l}o._wrapperState={initialValue:xe(h)}}function Vr(o,l){var h=xe(l.value),p=xe(l.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),l.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),p!=null&&(o.defaultValue=""+p)}function Ji(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function pt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?pt(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Hn,Ql=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,p,g){MSApp.execUnsafeLocalFunction(function(){return o(l,h,p,g)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Hn=Hn||document.createElement("div"),Hn.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Hn.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Zi(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=l;return}}o.textContent=l}var ro={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},io=["Webkit","ms","Moz","O"];Object.keys(ro).forEach(function(o){io.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),ro[l]=ro[o]})});function Xl(o,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||ro.hasOwnProperty(o)&&ro[o]?(""+l).trim():l+"px"}function Jl(o,l){o=o.style;for(var h in l)if(l.hasOwnProperty(h)){var p=h.indexOf("--")===0,g=Xl(h,l[h],p);h==="float"&&(h="cssFloat"),p?o.setProperty(h,g):o[h]=g}}var Zl=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ec(o,l){if(l){if(Zl[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function tc(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var so=null;function la(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ca=null,Wn=null,Fr=null;function ua(o){if(o=Ac(o)){if(typeof ca!="function")throw Error(t(280));var l=o.stateNode;l&&(l=Oh(l),ca(o.stateNode,o.type,l))}}function $r(o){Wn?Fr?Fr.push(o):Fr=[o]:Wn=o}function nc(){if(Wn){var o=Wn,l=Fr;if(Fr=Wn=null,ua(o),l)for(o=0;o<l.length;o++)ua(l[o])}}function oo(o,l){return o(l)}function rc(){}var pi=!1;function ic(o,l,h){if(pi)return o(l,h);pi=!0;try{return oo(o,l,h)}finally{pi=!1,(Wn!==null||Fr!==null)&&(rc(),nc())}}function vt(o,l){var h=o.stateNode;if(h===null)return null;var p=Oh(h);if(p===null)return null;h=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(t(231,l,typeof h));return h}var ha=!1;if(c)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){ha=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{ha=!1}function ao(o,l,h,p,g,E,S,V,F){var Q=Array.prototype.slice.call(arguments,3);try{l.apply(h,Q)}catch(ne){this.onError(ne)}}var lo=!1,da=null,fr=!1,sc=null,Zp={onError:function(o){lo=!0,da=o}};function fa(o,l,h,p,g,E,S,V,F){lo=!1,da=null,ao.apply(Zp,arguments)}function rh(o,l,h,p,g,E,S,V,F){if(fa.apply(this,arguments),lo){if(lo){var Q=da;lo=!1,da=null}else throw Error(t(198));fr||(fr=!0,sc=Q)}}function pr(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(h=l.return),o=l.return;while(o)}return l.tag===3?h:null}function co(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function mr(o){if(pr(o)!==o)throw Error(t(188))}function ih(o){var l=o.alternate;if(!l){if(l=pr(o),l===null)throw Error(t(188));return l!==o?null:o}for(var h=o,p=l;;){var g=h.return;if(g===null)break;var E=g.alternate;if(E===null){if(p=g.return,p!==null){h=p;continue}break}if(g.child===E.child){for(E=g.child;E;){if(E===h)return mr(g),o;if(E===p)return mr(g),l;E=E.sibling}throw Error(t(188))}if(h.return!==p.return)h=g,p=E;else{for(var S=!1,V=g.child;V;){if(V===h){S=!0,h=g,p=E;break}if(V===p){S=!0,p=g,h=E;break}V=V.sibling}if(!S){for(V=E.child;V;){if(V===h){S=!0,h=E,p=g;break}if(V===p){S=!0,p=E,h=g;break}V=V.sibling}if(!S)throw Error(t(189))}}if(h.alternate!==p)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?o:l}function oc(o){return o=ih(o),o!==null?pa(o):null}function pa(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=pa(o);if(l!==null)return l;o=o.sibling}return null}var ma=e.unstable_scheduleCallback,ac=e.unstable_cancelCallback,sh=e.unstable_shouldYield,em=e.unstable_requestPaint,nt=e.unstable_now,oh=e.unstable_getCurrentPriorityLevel,uo=e.unstable_ImmediatePriority,es=e.unstable_UserBlockingPriority,Kn=e.unstable_NormalPriority,lc=e.unstable_LowPriority,ah=e.unstable_IdlePriority,ho=null,Rn=null;function lh(o){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(ho,o,void 0,(o.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:uh,cc=Math.log,ch=Math.LN2;function uh(o){return o>>>=0,o===0?32:31-(cc(o)/ch|0)|0}var ga=64,_a=4194304;function ts(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function fo(o,l){var h=o.pendingLanes;if(h===0)return 0;var p=0,g=o.suspendedLanes,E=o.pingedLanes,S=h&268435455;if(S!==0){var V=S&~g;V!==0?p=ts(V):(E&=S,E!==0&&(p=ts(E)))}else S=h&~g,S!==0?p=ts(S):E!==0&&(p=ts(E));if(p===0)return 0;if(l!==0&&l!==p&&(l&g)===0&&(g=p&-p,E=l&-l,g>=E||g===16&&(E&4194240)!==0))return l;if((p&4)!==0&&(p|=h&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=p;0<l;)h=31-on(l),g=1<<h,p|=o[h],l&=~g;return p}function tm(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mi(o,l){for(var h=o.suspendedLanes,p=o.pingedLanes,g=o.expirationTimes,E=o.pendingLanes;0<E;){var S=31-on(E),V=1<<S,F=g[S];F===-1?((V&h)===0||(V&p)!==0)&&(g[S]=tm(V,l)):F<=l&&(o.expiredLanes|=V),E&=~V}}function Pn(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function po(){var o=ga;return ga<<=1,(ga&4194240)===0&&(ga=64),o}function ns(o){for(var l=[],h=0;31>h;h++)l.push(o);return l}function rs(o,l,h){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-on(l),o[l]=h}function et(o,l){var h=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var p=o.eventTimes;for(o=o.expirationTimes;0<h;){var g=31-on(h),E=1<<g;l[g]=0,p[g]=-1,o[g]=-1,h&=~E}}function is(o,l){var h=o.entangledLanes|=l;for(o=o.entanglements;h;){var p=31-on(h),g=1<<p;g&l|o[p]&l&&(o[p]|=l),h&=~g}}var ze=0;function ss(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var hh,ya,dh,fh,ph,uc=!1,jr=[],Ht=null,gr=null,_r=null,os=new Map,qn=new Map,Ur=[],nm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mh(o,l){switch(o){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":os.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":qn.delete(l.pointerId)}}function pn(o,l,h,p,g,E){return o===null||o.nativeEvent!==E?(o={blockedOn:l,domEventName:h,eventSystemFlags:p,nativeEvent:E,targetContainers:[g]},l!==null&&(l=Ac(l),l!==null&&ya(l)),o):(o.eventSystemFlags|=p,l=o.targetContainers,g!==null&&l.indexOf(g)===-1&&l.push(g),o)}function rm(o,l,h,p,g){switch(l){case"focusin":return Ht=pn(Ht,o,l,h,p,g),!0;case"dragenter":return gr=pn(gr,o,l,h,p,g),!0;case"mouseover":return _r=pn(_r,o,l,h,p,g),!0;case"pointerover":var E=g.pointerId;return os.set(E,pn(os.get(E)||null,o,l,h,p,g)),!0;case"gotpointercapture":return E=g.pointerId,qn.set(E,pn(qn.get(E)||null,o,l,h,p,g)),!0}return!1}function gh(o){var l=vo(o.target);if(l!==null){var h=pr(l);if(h!==null){if(l=h.tag,l===13){if(l=co(h),l!==null){o.blockedOn=l,ph(o.priority,function(){dh(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function gi(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var h=va(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var p=new h.constructor(h.type,h);so=p,h.target.dispatchEvent(p),so=null}else return l=Ac(h),l!==null&&ya(l),o.blockedOn=h,!1;l.shift()}return!0}function mo(o,l,h){gi(o)&&h.delete(l)}function _h(){uc=!1,Ht!==null&&gi(Ht)&&(Ht=null),gr!==null&&gi(gr)&&(gr=null),_r!==null&&gi(_r)&&(_r=null),os.forEach(mo),qn.forEach(mo)}function yr(o,l){o.blockedOn===l&&(o.blockedOn=null,uc||(uc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_h)))}function vr(o){function l(g){return yr(g,o)}if(0<jr.length){yr(jr[0],o);for(var h=1;h<jr.length;h++){var p=jr[h];p.blockedOn===o&&(p.blockedOn=null)}}for(Ht!==null&&yr(Ht,o),gr!==null&&yr(gr,o),_r!==null&&yr(_r,o),os.forEach(l),qn.forEach(l),h=0;h<Ur.length;h++)p=Ur[h],p.blockedOn===o&&(p.blockedOn=null);for(;0<Ur.length&&(h=Ur[0],h.blockedOn===null);)gh(h),h.blockedOn===null&&Ur.shift()}var _i=z.ReactCurrentBatchConfig,as=!0;function at(o,l,h,p){var g=ze,E=_i.transition;_i.transition=null;try{ze=1,hc(o,l,h,p)}finally{ze=g,_i.transition=E}}function im(o,l,h,p){var g=ze,E=_i.transition;_i.transition=null;try{ze=4,hc(o,l,h,p)}finally{ze=g,_i.transition=E}}function hc(o,l,h,p){if(as){var g=va(o,l,h,p);if(g===null)mm(o,l,p,go,h),mh(o,p);else if(rm(g,o,l,h,p))p.stopPropagation();else if(mh(o,p),l&4&&-1<nm.indexOf(o)){for(;g!==null;){var E=Ac(g);if(E!==null&&hh(E),E=va(o,l,h,p),E===null&&mm(o,l,p,go,h),E===g)break;g=E}g!==null&&p.stopPropagation()}else mm(o,l,p,null,h)}}var go=null;function va(o,l,h,p){if(go=null,o=la(p),o=vo(o),o!==null)if(l=pr(o),l===null)o=null;else if(h=l.tag,h===13){if(o=co(l),o!==null)return o;o=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return go=o,null}function dc(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oh()){case uo:return 1;case es:return 4;case Kn:case lc:return 16;case ah:return 536870912;default:return 16}default:return 16}}var On=null,Ea=null,mn=null;function fc(){if(mn)return mn;var o,l=Ea,h=l.length,p,g="value"in On?On.value:On.textContent,E=g.length;for(o=0;o<h&&l[o]===g[o];o++);var S=h-o;for(p=1;p<=S&&l[h-p]===g[E-p];p++);return mn=g.slice(o,1<p?1-p:void 0)}function wa(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function zr(){return!0}function pc(){return!1}function Wt(o){function l(h,p,g,E,S){this._reactName=h,this._targetInst=g,this.type=p,this.nativeEvent=E,this.target=S,this.currentTarget=null;for(var V in o)o.hasOwnProperty(V)&&(h=o[V],this[V]=h?h(E):E[V]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?zr:pc,this.isPropagationStopped=pc,this}return ce(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),l}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=Wt(Er),Br=ce({},Er,{view:0,detail:0}),sm=Wt(Br),Ta,yi,ls,_o=ce({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ls&&(ls&&o.type==="mousemove"?(Ta=o.screenX-ls.screenX,yi=o.screenY-ls.screenY):yi=Ta=0,ls=o),Ta)},movementY:function(o){return"movementY"in o?o.movementY:yi}}),Sa=Wt(_o),mc=ce({},_o,{dataTransfer:0}),yh=Wt(mc),Aa=ce({},Br,{relatedTarget:0}),Ia=Wt(Aa),vh=ce({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),vi=Wt(vh),Eh=ce({},Er,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),wh=Wt(Eh),bh=ce({},Er,{data:0}),gc=Wt(bh),xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},an={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Th={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sh(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Th[o])?!!l[o]:!1}function Hr(){return Sh}var f=ce({},Br,{key:function(o){if(o.key){var l=xa[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=wa(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?an[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(o){return o.type==="keypress"?wa(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?wa(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),v=Wt(f),b=ce({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P=Wt(b),W=ce({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),X=Wt(W),ue=ce({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ze=Wt(ue),xt=ce({},_o,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),He=Wt(xt),Vt=[9,13,27,32],bt=c&&"CompositionEvent"in window,Gn=null;c&&"documentMode"in document&&(Gn=document.documentMode);var Nn=c&&"TextEvent"in window&&!Gn,yo=c&&(!bt||Gn&&8<Gn&&11>=Gn),Ca=" ",Zv=!1;function eE(o,l){switch(o){case"keyup":return Vt.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tE(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ka=!1;function Sk(o,l){switch(o){case"compositionend":return tE(l);case"keypress":return l.which!==32?null:(Zv=!0,Ca);case"textInput":return o=l.data,o===Ca&&Zv?null:o;default:return null}}function Ak(o,l){if(ka)return o==="compositionend"||!bt&&eE(o,l)?(o=fc(),mn=Ea=On=null,ka=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return yo&&l.locale!=="ko"?null:l.data;default:return null}}var Ik={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nE(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Ik[o.type]:l==="textarea"}function rE(o,l,h,p){$r(p),l=kh(l,"onChange"),0<l.length&&(h=new ba("onChange","change",null,h,p),o.push({event:h,listeners:l}))}var _c=null,yc=null;function xk(o){wE(o,0)}function Ah(o){var l=Da(o);if(zt(l))return o}function Ck(o,l){if(o==="change")return l}var iE=!1;if(c){var om;if(c){var am="oninput"in document;if(!am){var sE=document.createElement("div");sE.setAttribute("oninput","return;"),am=typeof sE.oninput=="function"}om=am}else om=!1;iE=om&&(!document.documentMode||9<document.documentMode)}function oE(){_c&&(_c.detachEvent("onpropertychange",aE),yc=_c=null)}function aE(o){if(o.propertyName==="value"&&Ah(yc)){var l=[];rE(l,yc,o,la(o)),ic(xk,l)}}function kk(o,l,h){o==="focusin"?(oE(),_c=l,yc=h,_c.attachEvent("onpropertychange",aE)):o==="focusout"&&oE()}function Rk(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ah(yc)}function Pk(o,l){if(o==="click")return Ah(l)}function Ok(o,l){if(o==="input"||o==="change")return Ah(l)}function Nk(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var wr=typeof Object.is=="function"?Object.is:Nk;function vc(o,l){if(wr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),p=Object.keys(l);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var g=h[p];if(!u.call(l,g)||!wr(o[g],l[g]))return!1}return!0}function lE(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function cE(o,l){var h=lE(o);o=0;for(var p;h;){if(h.nodeType===3){if(p=o+h.textContent.length,o<=l&&p>=l)return{node:h,offset:l-o};o=p}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=lE(h)}}function uE(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?uE(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function hE(){for(var o=window,l=Bt();l instanceof o.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)o=l.contentWindow;else break;l=Bt(o.document)}return l}function lm(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function Dk(o){var l=hE(),h=o.focusedElem,p=o.selectionRange;if(l!==h&&h&&h.ownerDocument&&uE(h.ownerDocument.documentElement,h)){if(p!==null&&lm(h)){if(l=p.start,o=p.end,o===void 0&&(o=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(o,h.value.length);else if(o=(l=h.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var g=h.textContent.length,E=Math.min(p.start,g);p=p.end===void 0?E:Math.min(p.end,g),!o.extend&&E>p&&(g=p,p=E,E=g),g=cE(h,E);var S=cE(h,p);g&&S&&(o.rangeCount!==1||o.anchorNode!==g.node||o.anchorOffset!==g.offset||o.focusNode!==S.node||o.focusOffset!==S.offset)&&(l=l.createRange(),l.setStart(g.node,g.offset),o.removeAllRanges(),E>p?(o.addRange(l),o.extend(S.node,S.offset)):(l.setEnd(S.node,S.offset),o.addRange(l)))}}for(l=[],o=h;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)o=l[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Mk=c&&"documentMode"in document&&11>=document.documentMode,Ra=null,cm=null,Ec=null,um=!1;function dE(o,l,h){var p=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;um||Ra==null||Ra!==Bt(p)||(p=Ra,"selectionStart"in p&&lm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ec&&vc(Ec,p)||(Ec=p,p=kh(cm,"onSelect"),0<p.length&&(l=new ba("onSelect","select",null,l,h),o.push({event:l,listeners:p}),l.target=Ra)))}function Ih(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var Pa={animationend:Ih("Animation","AnimationEnd"),animationiteration:Ih("Animation","AnimationIteration"),animationstart:Ih("Animation","AnimationStart"),transitionend:Ih("Transition","TransitionEnd")},hm={},fE={};c&&(fE=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function xh(o){if(hm[o])return hm[o];if(!Pa[o])return o;var l=Pa[o],h;for(h in l)if(l.hasOwnProperty(h)&&h in fE)return hm[o]=l[h];return o}var pE=xh("animationend"),mE=xh("animationiteration"),gE=xh("animationstart"),_E=xh("transitionend"),yE=new Map,vE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cs(o,l){yE.set(o,l),s(l,[o])}for(var dm=0;dm<vE.length;dm++){var fm=vE[dm],Lk=fm.toLowerCase(),Vk=fm[0].toUpperCase()+fm.slice(1);cs(Lk,"on"+Vk)}cs(pE,"onAnimationEnd"),cs(mE,"onAnimationIteration"),cs(gE,"onAnimationStart"),cs("dblclick","onDoubleClick"),cs("focusin","onFocus"),cs("focusout","onBlur"),cs(_E,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fk=new Set("cancel close invalid load scroll toggle".split(" ").concat(wc));function EE(o,l,h){var p=o.type||"unknown-event";o.currentTarget=h,rh(p,l,void 0,o),o.currentTarget=null}function wE(o,l){l=(l&4)!==0;for(var h=0;h<o.length;h++){var p=o[h],g=p.event;p=p.listeners;e:{var E=void 0;if(l)for(var S=p.length-1;0<=S;S--){var V=p[S],F=V.instance,Q=V.currentTarget;if(V=V.listener,F!==E&&g.isPropagationStopped())break e;EE(g,V,Q),E=F}else for(S=0;S<p.length;S++){if(V=p[S],F=V.instance,Q=V.currentTarget,V=V.listener,F!==E&&g.isPropagationStopped())break e;EE(g,V,Q),E=F}}}if(fr)throw o=sc,fr=!1,sc=null,o}function it(o,l){var h=l[wm];h===void 0&&(h=l[wm]=new Set);var p=o+"__bubble";h.has(p)||(bE(l,o,2,!1),h.add(p))}function pm(o,l,h){var p=0;l&&(p|=4),bE(h,o,p,l)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function bc(o){if(!o[Ch]){o[Ch]=!0,r.forEach(function(h){h!=="selectionchange"&&(Fk.has(h)||pm(h,!1,o),pm(h,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Ch]||(l[Ch]=!0,pm("selectionchange",!1,l))}}function bE(o,l,h,p){switch(dc(l)){case 1:var g=at;break;case 4:g=im;break;default:g=hc}h=g.bind(null,l,h,o),g=void 0,!ha||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(g=!0),p?g!==void 0?o.addEventListener(l,h,{capture:!0,passive:g}):o.addEventListener(l,h,!0):g!==void 0?o.addEventListener(l,h,{passive:g}):o.addEventListener(l,h,!1)}function mm(o,l,h,p,g){var E=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var S=p.tag;if(S===3||S===4){var V=p.stateNode.containerInfo;if(V===g||V.nodeType===8&&V.parentNode===g)break;if(S===4)for(S=p.return;S!==null;){var F=S.tag;if((F===3||F===4)&&(F=S.stateNode.containerInfo,F===g||F.nodeType===8&&F.parentNode===g))return;S=S.return}for(;V!==null;){if(S=vo(V),S===null)return;if(F=S.tag,F===5||F===6){p=E=S;continue e}V=V.parentNode}}p=p.return}ic(function(){var Q=E,ne=la(h),se=[];e:{var te=yE.get(o);if(te!==void 0){var _e=ba,we=o;switch(o){case"keypress":if(wa(h)===0)break e;case"keydown":case"keyup":_e=v;break;case"focusin":we="focus",_e=Ia;break;case"focusout":we="blur",_e=Ia;break;case"beforeblur":case"afterblur":_e=Ia;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Sa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=yh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=X;break;case pE:case mE:case gE:_e=vi;break;case _E:_e=Ze;break;case"scroll":_e=sm;break;case"wheel":_e=He;break;case"copy":case"cut":case"paste":_e=wh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=P}var be=(l&4)!==0,Et=!be&&o==="scroll",K=be?te!==null?te+"Capture":null:te;be=[];for(var U=Q,G;U!==null;){G=U;var le=G.stateNode;if(G.tag===5&&le!==null&&(G=le,K!==null&&(le=vt(U,K),le!=null&&be.push(Tc(U,le,G)))),Et)break;U=U.return}0<be.length&&(te=new _e(te,we,null,h,ne),se.push({event:te,listeners:be}))}}if((l&7)===0){e:{if(te=o==="mouseover"||o==="pointerover",_e=o==="mouseout"||o==="pointerout",te&&h!==so&&(we=h.relatedTarget||h.fromElement)&&(vo(we)||we[Ei]))break e;if((_e||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,_e?(we=h.relatedTarget||h.toElement,_e=Q,we=we?vo(we):null,we!==null&&(Et=pr(we),we!==Et||we.tag!==5&&we.tag!==6)&&(we=null)):(_e=null,we=Q),_e!==we)){if(be=Sa,le="onMouseLeave",K="onMouseEnter",U="mouse",(o==="pointerout"||o==="pointerover")&&(be=P,le="onPointerLeave",K="onPointerEnter",U="pointer"),Et=_e==null?te:Da(_e),G=we==null?te:Da(we),te=new be(le,U+"leave",_e,h,ne),te.target=Et,te.relatedTarget=G,le=null,vo(ne)===Q&&(be=new be(K,U+"enter",we,h,ne),be.target=G,be.relatedTarget=Et,le=be),Et=le,_e&&we)t:{for(be=_e,K=we,U=0,G=be;G;G=Oa(G))U++;for(G=0,le=K;le;le=Oa(le))G++;for(;0<U-G;)be=Oa(be),U--;for(;0<G-U;)K=Oa(K),G--;for(;U--;){if(be===K||K!==null&&be===K.alternate)break t;be=Oa(be),K=Oa(K)}be=null}else be=null;_e!==null&&TE(se,te,_e,be,!1),we!==null&&Et!==null&&TE(se,Et,we,be,!0)}}e:{if(te=Q?Da(Q):window,_e=te.nodeName&&te.nodeName.toLowerCase(),_e==="select"||_e==="input"&&te.type==="file")var Te=Ck;else if(nE(te))if(iE)Te=Ok;else{Te=Rk;var Ce=kk}else(_e=te.nodeName)&&_e.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(Te=Pk);if(Te&&(Te=Te(o,Q))){rE(se,Te,h,ne);break e}Ce&&Ce(o,te,Q),o==="focusout"&&(Ce=te._wrapperState)&&Ce.controlled&&te.type==="number"&&Lr(te,"number",te.value)}switch(Ce=Q?Da(Q):window,o){case"focusin":(nE(Ce)||Ce.contentEditable==="true")&&(Ra=Ce,cm=Q,Ec=null);break;case"focusout":Ec=cm=Ra=null;break;case"mousedown":um=!0;break;case"contextmenu":case"mouseup":case"dragend":um=!1,dE(se,h,ne);break;case"selectionchange":if(Mk)break;case"keydown":case"keyup":dE(se,h,ne)}var ke;if(bt)e:{switch(o){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else ka?eE(o,h)&&(De="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(De="onCompositionStart");De&&(yo&&h.locale!=="ko"&&(ka||De!=="onCompositionStart"?De==="onCompositionEnd"&&ka&&(ke=fc()):(On=ne,Ea="value"in On?On.value:On.textContent,ka=!0)),Ce=kh(Q,De),0<Ce.length&&(De=new gc(De,o,null,h,ne),se.push({event:De,listeners:Ce}),ke?De.data=ke:(ke=tE(h),ke!==null&&(De.data=ke)))),(ke=Nn?Sk(o,h):Ak(o,h))&&(Q=kh(Q,"onBeforeInput"),0<Q.length&&(ne=new gc("onBeforeInput","beforeinput",null,h,ne),se.push({event:ne,listeners:Q}),ne.data=ke))}wE(se,l)})}function Tc(o,l,h){return{instance:o,listener:l,currentTarget:h}}function kh(o,l){for(var h=l+"Capture",p=[];o!==null;){var g=o,E=g.stateNode;g.tag===5&&E!==null&&(g=E,E=vt(o,h),E!=null&&p.unshift(Tc(o,E,g)),E=vt(o,l),E!=null&&p.push(Tc(o,E,g))),o=o.return}return p}function Oa(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function TE(o,l,h,p,g){for(var E=l._reactName,S=[];h!==null&&h!==p;){var V=h,F=V.alternate,Q=V.stateNode;if(F!==null&&F===p)break;V.tag===5&&Q!==null&&(V=Q,g?(F=vt(h,E),F!=null&&S.unshift(Tc(h,F,V))):g||(F=vt(h,E),F!=null&&S.push(Tc(h,F,V)))),h=h.return}S.length!==0&&o.push({event:l,listeners:S})}var $k=/\r\n?/g,jk=/\u0000|\uFFFD/g;function SE(o){return(typeof o=="string"?o:""+o).replace($k,`
`).replace(jk,"")}function Rh(o,l,h){if(l=SE(l),SE(o)!==l&&h)throw Error(t(425))}function Ph(){}var gm=null,_m=null;function ym(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var vm=typeof setTimeout=="function"?setTimeout:void 0,Uk=typeof clearTimeout=="function"?clearTimeout:void 0,AE=typeof Promise=="function"?Promise:void 0,zk=typeof queueMicrotask=="function"?queueMicrotask:typeof AE<"u"?function(o){return AE.resolve(null).then(o).catch(Bk)}:vm;function Bk(o){setTimeout(function(){throw o})}function Em(o,l){var h=l,p=0;do{var g=h.nextSibling;if(o.removeChild(h),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(p===0){o.removeChild(g),vr(l);return}p--}else h!=="$"&&h!=="$?"&&h!=="$!"||p++;h=g}while(h);vr(l)}function us(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function IE(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return o;l--}else h==="/$"&&l++}o=o.previousSibling}return null}var Na=Math.random().toString(36).slice(2),Wr="__reactFiber$"+Na,Sc="__reactProps$"+Na,Ei="__reactContainer$"+Na,wm="__reactEvents$"+Na,Hk="__reactListeners$"+Na,Wk="__reactHandles$"+Na;function vo(o){var l=o[Wr];if(l)return l;for(var h=o.parentNode;h;){if(l=h[Ei]||h[Wr]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(o=IE(o);o!==null;){if(h=o[Wr])return h;o=IE(o)}return l}o=h,h=o.parentNode}return null}function Ac(o){return o=o[Wr]||o[Ei],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Da(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function Oh(o){return o[Sc]||null}var bm=[],Ma=-1;function hs(o){return{current:o}}function st(o){0>Ma||(o.current=bm[Ma],bm[Ma]=null,Ma--)}function rt(o,l){Ma++,bm[Ma]=o.current,o.current=l}var ds={},Xt=hs(ds),gn=hs(!1),Eo=ds;function La(o,l){var h=o.type.contextTypes;if(!h)return ds;var p=o.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===l)return p.__reactInternalMemoizedMaskedChildContext;var g={},E;for(E in h)g[E]=l[E];return p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=g),g}function _n(o){return o=o.childContextTypes,o!=null}function Nh(){st(gn),st(Xt)}function xE(o,l,h){if(Xt.current!==ds)throw Error(t(168));rt(Xt,l),rt(gn,h)}function CE(o,l,h){var p=o.stateNode;if(l=l.childContextTypes,typeof p.getChildContext!="function")return h;p=p.getChildContext();for(var g in p)if(!(g in l))throw Error(t(108,Se(o)||"Unknown",g));return ce({},h,p)}function Dh(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ds,Eo=Xt.current,rt(Xt,o),rt(gn,gn.current),!0}function kE(o,l,h){var p=o.stateNode;if(!p)throw Error(t(169));h?(o=CE(o,l,Eo),p.__reactInternalMemoizedMergedChildContext=o,st(gn),st(Xt),rt(Xt,o)):st(gn),rt(gn,h)}var wi=null,Mh=!1,Tm=!1;function RE(o){wi===null?wi=[o]:wi.push(o)}function Kk(o){Mh=!0,RE(o)}function fs(){if(!Tm&&wi!==null){Tm=!0;var o=0,l=ze;try{var h=wi;for(ze=1;o<h.length;o++){var p=h[o];do p=p(!0);while(p!==null)}wi=null,Mh=!1}catch(g){throw wi!==null&&(wi=wi.slice(o+1)),ma(uo,fs),g}finally{ze=l,Tm=!1}}return null}var Va=[],Fa=0,Lh=null,Vh=0,Yn=[],Qn=0,wo=null,bi=1,Ti="";function bo(o,l){Va[Fa++]=Vh,Va[Fa++]=Lh,Lh=o,Vh=l}function PE(o,l,h){Yn[Qn++]=bi,Yn[Qn++]=Ti,Yn[Qn++]=wo,wo=o;var p=bi;o=Ti;var g=32-on(p)-1;p&=~(1<<g),h+=1;var E=32-on(l)+g;if(30<E){var S=g-g%5;E=(p&(1<<S)-1).toString(32),p>>=S,g-=S,bi=1<<32-on(l)+g|h<<g|p,Ti=E+o}else bi=1<<E|h<<g|p,Ti=o}function Sm(o){o.return!==null&&(bo(o,1),PE(o,1,0))}function Am(o){for(;o===Lh;)Lh=Va[--Fa],Va[Fa]=null,Vh=Va[--Fa],Va[Fa]=null;for(;o===wo;)wo=Yn[--Qn],Yn[Qn]=null,Ti=Yn[--Qn],Yn[Qn]=null,bi=Yn[--Qn],Yn[Qn]=null}var Dn=null,Mn=null,lt=!1,br=null;function OE(o,l){var h=er(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=o,l=o.deletions,l===null?(o.deletions=[h],o.flags|=16):l.push(h)}function NE(o,l){switch(o.tag){case 5:var h=o.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Dn=o,Mn=us(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Dn=o,Mn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=wo!==null?{id:bi,overflow:Ti}:null,o.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=er(18,null,null,0),h.stateNode=l,h.return=o,o.child=h,Dn=o,Mn=null,!0):!1;default:return!1}}function Im(o){return(o.mode&1)!==0&&(o.flags&128)===0}function xm(o){if(lt){var l=Mn;if(l){var h=l;if(!NE(o,l)){if(Im(o))throw Error(t(418));l=us(h.nextSibling);var p=Dn;l&&NE(o,l)?OE(p,h):(o.flags=o.flags&-4097|2,lt=!1,Dn=o)}}else{if(Im(o))throw Error(t(418));o.flags=o.flags&-4097|2,lt=!1,Dn=o}}}function DE(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Dn=o}function Fh(o){if(o!==Dn)return!1;if(!lt)return DE(o),lt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!ym(o.type,o.memoizedProps)),l&&(l=Mn)){if(Im(o))throw ME(),Error(t(418));for(;l;)OE(o,l),l=us(l.nextSibling)}if(DE(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(l===0){Mn=us(o.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}o=o.nextSibling}Mn=null}}else Mn=Dn?us(o.stateNode.nextSibling):null;return!0}function ME(){for(var o=Mn;o;)o=us(o.nextSibling)}function $a(){Mn=Dn=null,lt=!1}function Cm(o){br===null?br=[o]:br.push(o)}var qk=z.ReactCurrentBatchConfig;function Ic(o,l,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var p=h.stateNode}if(!p)throw Error(t(147,o));var g=p,E=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===E?l.ref:(l=function(S){var V=g.refs;S===null?delete V[E]:V[E]=S},l._stringRef=E,l)}if(typeof o!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,o))}return o}function $h(o,l){throw o=Object.prototype.toString.call(l),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function LE(o){var l=o._init;return l(o._payload)}function VE(o){function l(K,U){if(o){var G=K.deletions;G===null?(K.deletions=[U],K.flags|=16):G.push(U)}}function h(K,U){if(!o)return null;for(;U!==null;)l(K,U),U=U.sibling;return null}function p(K,U){for(K=new Map;U!==null;)U.key!==null?K.set(U.key,U):K.set(U.index,U),U=U.sibling;return K}function g(K,U){return K=ws(K,U),K.index=0,K.sibling=null,K}function E(K,U,G){return K.index=G,o?(G=K.alternate,G!==null?(G=G.index,G<U?(K.flags|=2,U):G):(K.flags|=2,U)):(K.flags|=1048576,U)}function S(K){return o&&K.alternate===null&&(K.flags|=2),K}function V(K,U,G,le){return U===null||U.tag!==6?(U=vg(G,K.mode,le),U.return=K,U):(U=g(U,G),U.return=K,U)}function F(K,U,G,le){var Te=G.type;return Te===k?ne(K,U,G.props.children,le,G.key):U!==null&&(U.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===he&&LE(Te)===U.type)?(le=g(U,G.props),le.ref=Ic(K,U,G),le.return=K,le):(le=cd(G.type,G.key,G.props,null,K.mode,le),le.ref=Ic(K,U,G),le.return=K,le)}function Q(K,U,G,le){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Eg(G,K.mode,le),U.return=K,U):(U=g(U,G.children||[]),U.return=K,U)}function ne(K,U,G,le,Te){return U===null||U.tag!==7?(U=Ro(G,K.mode,le,Te),U.return=K,U):(U=g(U,G),U.return=K,U)}function se(K,U,G){if(typeof U=="string"&&U!==""||typeof U=="number")return U=vg(""+U,K.mode,G),U.return=K,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case H:return G=cd(U.type,U.key,U.props,null,K.mode,G),G.ref=Ic(K,null,U),G.return=K,G;case j:return U=Eg(U,K.mode,G),U.return=K,U;case he:var le=U._init;return se(K,le(U._payload),G)}if(It(U)||ie(U))return U=Ro(U,K.mode,G,null),U.return=K,U;$h(K,U)}return null}function te(K,U,G,le){var Te=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return Te!==null?null:V(K,U,""+G,le);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case H:return G.key===Te?F(K,U,G,le):null;case j:return G.key===Te?Q(K,U,G,le):null;case he:return Te=G._init,te(K,U,Te(G._payload),le)}if(It(G)||ie(G))return Te!==null?null:ne(K,U,G,le,null);$h(K,G)}return null}function _e(K,U,G,le,Te){if(typeof le=="string"&&le!==""||typeof le=="number")return K=K.get(G)||null,V(U,K,""+le,Te);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case H:return K=K.get(le.key===null?G:le.key)||null,F(U,K,le,Te);case j:return K=K.get(le.key===null?G:le.key)||null,Q(U,K,le,Te);case he:var Ce=le._init;return _e(K,U,G,Ce(le._payload),Te)}if(It(le)||ie(le))return K=K.get(G)||null,ne(U,K,le,Te,null);$h(U,le)}return null}function we(K,U,G,le){for(var Te=null,Ce=null,ke=U,De=U=0,jt=null;ke!==null&&De<G.length;De++){ke.index>De?(jt=ke,ke=null):jt=ke.sibling;var Ye=te(K,ke,G[De],le);if(Ye===null){ke===null&&(ke=jt);break}o&&ke&&Ye.alternate===null&&l(K,ke),U=E(Ye,U,De),Ce===null?Te=Ye:Ce.sibling=Ye,Ce=Ye,ke=jt}if(De===G.length)return h(K,ke),lt&&bo(K,De),Te;if(ke===null){for(;De<G.length;De++)ke=se(K,G[De],le),ke!==null&&(U=E(ke,U,De),Ce===null?Te=ke:Ce.sibling=ke,Ce=ke);return lt&&bo(K,De),Te}for(ke=p(K,ke);De<G.length;De++)jt=_e(ke,K,De,G[De],le),jt!==null&&(o&&jt.alternate!==null&&ke.delete(jt.key===null?De:jt.key),U=E(jt,U,De),Ce===null?Te=jt:Ce.sibling=jt,Ce=jt);return o&&ke.forEach(function(bs){return l(K,bs)}),lt&&bo(K,De),Te}function be(K,U,G,le){var Te=ie(G);if(typeof Te!="function")throw Error(t(150));if(G=Te.call(G),G==null)throw Error(t(151));for(var Ce=Te=null,ke=U,De=U=0,jt=null,Ye=G.next();ke!==null&&!Ye.done;De++,Ye=G.next()){ke.index>De?(jt=ke,ke=null):jt=ke.sibling;var bs=te(K,ke,Ye.value,le);if(bs===null){ke===null&&(ke=jt);break}o&&ke&&bs.alternate===null&&l(K,ke),U=E(bs,U,De),Ce===null?Te=bs:Ce.sibling=bs,Ce=bs,ke=jt}if(Ye.done)return h(K,ke),lt&&bo(K,De),Te;if(ke===null){for(;!Ye.done;De++,Ye=G.next())Ye=se(K,Ye.value,le),Ye!==null&&(U=E(Ye,U,De),Ce===null?Te=Ye:Ce.sibling=Ye,Ce=Ye);return lt&&bo(K,De),Te}for(ke=p(K,ke);!Ye.done;De++,Ye=G.next())Ye=_e(ke,K,De,Ye.value,le),Ye!==null&&(o&&Ye.alternate!==null&&ke.delete(Ye.key===null?De:Ye.key),U=E(Ye,U,De),Ce===null?Te=Ye:Ce.sibling=Ye,Ce=Ye);return o&&ke.forEach(function(IR){return l(K,IR)}),lt&&bo(K,De),Te}function Et(K,U,G,le){if(typeof G=="object"&&G!==null&&G.type===k&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case H:e:{for(var Te=G.key,Ce=U;Ce!==null;){if(Ce.key===Te){if(Te=G.type,Te===k){if(Ce.tag===7){h(K,Ce.sibling),U=g(Ce,G.props.children),U.return=K,K=U;break e}}else if(Ce.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===he&&LE(Te)===Ce.type){h(K,Ce.sibling),U=g(Ce,G.props),U.ref=Ic(K,Ce,G),U.return=K,K=U;break e}h(K,Ce);break}else l(K,Ce);Ce=Ce.sibling}G.type===k?(U=Ro(G.props.children,K.mode,le,G.key),U.return=K,K=U):(le=cd(G.type,G.key,G.props,null,K.mode,le),le.ref=Ic(K,U,G),le.return=K,K=le)}return S(K);case j:e:{for(Ce=G.key;U!==null;){if(U.key===Ce)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){h(K,U.sibling),U=g(U,G.children||[]),U.return=K,K=U;break e}else{h(K,U);break}else l(K,U);U=U.sibling}U=Eg(G,K.mode,le),U.return=K,K=U}return S(K);case he:return Ce=G._init,Et(K,U,Ce(G._payload),le)}if(It(G))return we(K,U,G,le);if(ie(G))return be(K,U,G,le);$h(K,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,U!==null&&U.tag===6?(h(K,U.sibling),U=g(U,G),U.return=K,K=U):(h(K,U),U=vg(G,K.mode,le),U.return=K,K=U),S(K)):h(K,U)}return Et}var ja=VE(!0),FE=VE(!1),jh=hs(null),Uh=null,Ua=null,km=null;function Rm(){km=Ua=Uh=null}function Pm(o){var l=jh.current;st(jh),o._currentValue=l}function Om(o,l,h){for(;o!==null;){var p=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),o===h)break;o=o.return}}function za(o,l){Uh=o,km=Ua=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(yn=!0),o.firstContext=null)}function Xn(o){var l=o._currentValue;if(km!==o)if(o={context:o,memoizedValue:l,next:null},Ua===null){if(Uh===null)throw Error(t(308));Ua=o,Uh.dependencies={lanes:0,firstContext:o}}else Ua=Ua.next=o;return l}var To=null;function Nm(o){To===null?To=[o]:To.push(o)}function $E(o,l,h,p){var g=l.interleaved;return g===null?(h.next=h,Nm(l)):(h.next=g.next,g.next=h),l.interleaved=h,Si(o,p)}function Si(o,l){o.lanes|=l;var h=o.alternate;for(h!==null&&(h.lanes|=l),h=o,o=o.return;o!==null;)o.childLanes|=l,h=o.alternate,h!==null&&(h.childLanes|=l),h=o,o=o.return;return h.tag===3?h.stateNode:null}var ps=!1;function Dm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jE(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ai(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function ms(o,l,h){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(Ge&2)!==0){var g=p.pending;return g===null?l.next=l:(l.next=g.next,g.next=l),p.pending=l,Si(o,h)}return g=p.interleaved,g===null?(l.next=l,Nm(p)):(l.next=g.next,g.next=l),p.interleaved=l,Si(o,h)}function zh(o,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var p=l.lanes;p&=o.pendingLanes,h|=p,l.lanes=h,is(o,h)}}function UE(o,l){var h=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var g=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var S={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};E===null?g=E=S:E=E.next=S,h=h.next}while(h!==null);E===null?g=E=l:E=E.next=l}else g=E=l;h={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:E,shared:p.shared,effects:p.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=l}function Bh(o,l,h,p){var g=o.updateQueue;ps=!1;var E=g.firstBaseUpdate,S=g.lastBaseUpdate,V=g.shared.pending;if(V!==null){g.shared.pending=null;var F=V,Q=F.next;F.next=null,S===null?E=Q:S.next=Q,S=F;var ne=o.alternate;ne!==null&&(ne=ne.updateQueue,V=ne.lastBaseUpdate,V!==S&&(V===null?ne.firstBaseUpdate=Q:V.next=Q,ne.lastBaseUpdate=F))}if(E!==null){var se=g.baseState;S=0,ne=Q=F=null,V=E;do{var te=V.lane,_e=V.eventTime;if((p&te)===te){ne!==null&&(ne=ne.next={eventTime:_e,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var we=o,be=V;switch(te=l,_e=h,be.tag){case 1:if(we=be.payload,typeof we=="function"){se=we.call(_e,se,te);break e}se=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=be.payload,te=typeof we=="function"?we.call(_e,se,te):we,te==null)break e;se=ce({},se,te);break e;case 2:ps=!0}}V.callback!==null&&V.lane!==0&&(o.flags|=64,te=g.effects,te===null?g.effects=[V]:te.push(V))}else _e={eventTime:_e,lane:te,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ne===null?(Q=ne=_e,F=se):ne=ne.next=_e,S|=te;if(V=V.next,V===null){if(V=g.shared.pending,V===null)break;te=V,V=te.next,te.next=null,g.lastBaseUpdate=te,g.shared.pending=null}}while(!0);if(ne===null&&(F=se),g.baseState=F,g.firstBaseUpdate=Q,g.lastBaseUpdate=ne,l=g.shared.interleaved,l!==null){g=l;do S|=g.lane,g=g.next;while(g!==l)}else E===null&&(g.shared.lanes=0);Io|=S,o.lanes=S,o.memoizedState=se}}function zE(o,l,h){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var p=o[l],g=p.callback;if(g!==null){if(p.callback=null,p=h,typeof g!="function")throw Error(t(191,g));g.call(p)}}}var xc={},Kr=hs(xc),Cc=hs(xc),kc=hs(xc);function So(o){if(o===xc)throw Error(t(174));return o}function Mm(o,l){switch(rt(kc,l),rt(Cc,o),rt(Kr,xc),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:mt(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=mt(l,o)}st(Kr),rt(Kr,l)}function Ba(){st(Kr),st(Cc),st(kc)}function BE(o){So(kc.current);var l=So(Kr.current),h=mt(l,o.type);l!==h&&(rt(Cc,o),rt(Kr,h))}function Lm(o){Cc.current===o&&(st(Kr),st(Cc))}var ht=hs(0);function Hh(o){for(var l=o;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Vm=[];function Fm(){for(var o=0;o<Vm.length;o++)Vm[o]._workInProgressVersionPrimary=null;Vm.length=0}var Wh=z.ReactCurrentDispatcher,$m=z.ReactCurrentBatchConfig,Ao=0,dt=null,Ct=null,Ft=null,Kh=!1,Rc=!1,Pc=0,Gk=0;function Jt(){throw Error(t(321))}function jm(o,l){if(l===null)return!1;for(var h=0;h<l.length&&h<o.length;h++)if(!wr(o[h],l[h]))return!1;return!0}function Um(o,l,h,p,g,E){if(Ao=E,dt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Wh.current=o===null||o.memoizedState===null?Jk:Zk,o=h(p,g),Rc){E=0;do{if(Rc=!1,Pc=0,25<=E)throw Error(t(301));E+=1,Ft=Ct=null,l.updateQueue=null,Wh.current=eR,o=h(p,g)}while(Rc)}if(Wh.current=Yh,l=Ct!==null&&Ct.next!==null,Ao=0,Ft=Ct=dt=null,Kh=!1,l)throw Error(t(300));return o}function zm(){var o=Pc!==0;return Pc=0,o}function qr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?dt.memoizedState=Ft=o:Ft=Ft.next=o,Ft}function Jn(){if(Ct===null){var o=dt.alternate;o=o!==null?o.memoizedState:null}else o=Ct.next;var l=Ft===null?dt.memoizedState:Ft.next;if(l!==null)Ft=l,Ct=o;else{if(o===null)throw Error(t(310));Ct=o,o={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Ft===null?dt.memoizedState=Ft=o:Ft=Ft.next=o}return Ft}function Oc(o,l){return typeof l=="function"?l(o):l}function Bm(o){var l=Jn(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=o;var p=Ct,g=p.baseQueue,E=h.pending;if(E!==null){if(g!==null){var S=g.next;g.next=E.next,E.next=S}p.baseQueue=g=E,h.pending=null}if(g!==null){E=g.next,p=p.baseState;var V=S=null,F=null,Q=E;do{var ne=Q.lane;if((Ao&ne)===ne)F!==null&&(F=F.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),p=Q.hasEagerState?Q.eagerState:o(p,Q.action);else{var se={lane:ne,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};F===null?(V=F=se,S=p):F=F.next=se,dt.lanes|=ne,Io|=ne}Q=Q.next}while(Q!==null&&Q!==E);F===null?S=p:F.next=V,wr(p,l.memoizedState)||(yn=!0),l.memoizedState=p,l.baseState=S,l.baseQueue=F,h.lastRenderedState=p}if(o=h.interleaved,o!==null){g=o;do E=g.lane,dt.lanes|=E,Io|=E,g=g.next;while(g!==o)}else g===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function Hm(o){var l=Jn(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=o;var p=h.dispatch,g=h.pending,E=l.memoizedState;if(g!==null){h.pending=null;var S=g=g.next;do E=o(E,S.action),S=S.next;while(S!==g);wr(E,l.memoizedState)||(yn=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),h.lastRenderedState=E}return[E,p]}function HE(){}function WE(o,l){var h=dt,p=Jn(),g=l(),E=!wr(p.memoizedState,g);if(E&&(p.memoizedState=g,yn=!0),p=p.queue,Wm(GE.bind(null,h,p,o),[o]),p.getSnapshot!==l||E||Ft!==null&&Ft.memoizedState.tag&1){if(h.flags|=2048,Nc(9,qE.bind(null,h,p,g,l),void 0,null),$t===null)throw Error(t(349));(Ao&30)!==0||KE(h,l,g)}return g}function KE(o,l,h){o.flags|=16384,o={getSnapshot:l,value:h},l=dt.updateQueue,l===null?(l={lastEffect:null,stores:null},dt.updateQueue=l,l.stores=[o]):(h=l.stores,h===null?l.stores=[o]:h.push(o))}function qE(o,l,h,p){l.value=h,l.getSnapshot=p,YE(l)&&QE(o)}function GE(o,l,h){return h(function(){YE(l)&&QE(o)})}function YE(o){var l=o.getSnapshot;o=o.value;try{var h=l();return!wr(o,h)}catch{return!0}}function QE(o){var l=Si(o,1);l!==null&&Ir(l,o,1,-1)}function XE(o){var l=qr();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oc,lastRenderedState:o},l.queue=o,o=o.dispatch=Xk.bind(null,dt,o),[l.memoizedState,o]}function Nc(o,l,h,p){return o={tag:o,create:l,destroy:h,deps:p,next:null},l=dt.updateQueue,l===null?(l={lastEffect:null,stores:null},dt.updateQueue=l,l.lastEffect=o.next=o):(h=l.lastEffect,h===null?l.lastEffect=o.next=o:(p=h.next,h.next=o,o.next=p,l.lastEffect=o)),o}function JE(){return Jn().memoizedState}function qh(o,l,h,p){var g=qr();dt.flags|=o,g.memoizedState=Nc(1|l,h,void 0,p===void 0?null:p)}function Gh(o,l,h,p){var g=Jn();p=p===void 0?null:p;var E=void 0;if(Ct!==null){var S=Ct.memoizedState;if(E=S.destroy,p!==null&&jm(p,S.deps)){g.memoizedState=Nc(l,h,E,p);return}}dt.flags|=o,g.memoizedState=Nc(1|l,h,E,p)}function ZE(o,l){return qh(8390656,8,o,l)}function Wm(o,l){return Gh(2048,8,o,l)}function ew(o,l){return Gh(4,2,o,l)}function tw(o,l){return Gh(4,4,o,l)}function nw(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function rw(o,l,h){return h=h!=null?h.concat([o]):null,Gh(4,4,nw.bind(null,l,o),h)}function Km(){}function iw(o,l){var h=Jn();l=l===void 0?null:l;var p=h.memoizedState;return p!==null&&l!==null&&jm(l,p[1])?p[0]:(h.memoizedState=[o,l],o)}function sw(o,l){var h=Jn();l=l===void 0?null:l;var p=h.memoizedState;return p!==null&&l!==null&&jm(l,p[1])?p[0]:(o=o(),h.memoizedState=[o,l],o)}function ow(o,l,h){return(Ao&21)===0?(o.baseState&&(o.baseState=!1,yn=!0),o.memoizedState=h):(wr(h,l)||(h=po(),dt.lanes|=h,Io|=h,o.baseState=!0),l)}function Yk(o,l){var h=ze;ze=h!==0&&4>h?h:4,o(!0);var p=$m.transition;$m.transition={};try{o(!1),l()}finally{ze=h,$m.transition=p}}function aw(){return Jn().memoizedState}function Qk(o,l,h){var p=vs(o);if(h={lane:p,action:h,hasEagerState:!1,eagerState:null,next:null},lw(o))cw(l,h);else if(h=$E(o,l,h,p),h!==null){var g=cn();Ir(h,o,p,g),uw(h,l,p)}}function Xk(o,l,h){var p=vs(o),g={lane:p,action:h,hasEagerState:!1,eagerState:null,next:null};if(lw(o))cw(l,g);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var S=l.lastRenderedState,V=E(S,h);if(g.hasEagerState=!0,g.eagerState=V,wr(V,S)){var F=l.interleaved;F===null?(g.next=g,Nm(l)):(g.next=F.next,F.next=g),l.interleaved=g;return}}catch{}finally{}h=$E(o,l,g,p),h!==null&&(g=cn(),Ir(h,o,p,g),uw(h,l,p))}}function lw(o){var l=o.alternate;return o===dt||l!==null&&l===dt}function cw(o,l){Rc=Kh=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function uw(o,l,h){if((h&4194240)!==0){var p=l.lanes;p&=o.pendingLanes,h|=p,l.lanes=h,is(o,h)}}var Yh={readContext:Xn,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},Jk={readContext:Xn,useCallback:function(o,l){return qr().memoizedState=[o,l===void 0?null:l],o},useContext:Xn,useEffect:ZE,useImperativeHandle:function(o,l,h){return h=h!=null?h.concat([o]):null,qh(4194308,4,nw.bind(null,l,o),h)},useLayoutEffect:function(o,l){return qh(4194308,4,o,l)},useInsertionEffect:function(o,l){return qh(4,2,o,l)},useMemo:function(o,l){var h=qr();return l=l===void 0?null:l,o=o(),h.memoizedState=[o,l],o},useReducer:function(o,l,h){var p=qr();return l=h!==void 0?h(l):l,p.memoizedState=p.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},p.queue=o,o=o.dispatch=Qk.bind(null,dt,o),[p.memoizedState,o]},useRef:function(o){var l=qr();return o={current:o},l.memoizedState=o},useState:XE,useDebugValue:Km,useDeferredValue:function(o){return qr().memoizedState=o},useTransition:function(){var o=XE(!1),l=o[0];return o=Yk.bind(null,o[1]),qr().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,h){var p=dt,g=qr();if(lt){if(h===void 0)throw Error(t(407));h=h()}else{if(h=l(),$t===null)throw Error(t(349));(Ao&30)!==0||KE(p,l,h)}g.memoizedState=h;var E={value:h,getSnapshot:l};return g.queue=E,ZE(GE.bind(null,p,E,o),[o]),p.flags|=2048,Nc(9,qE.bind(null,p,E,h,l),void 0,null),h},useId:function(){var o=qr(),l=$t.identifierPrefix;if(lt){var h=Ti,p=bi;h=(p&~(1<<32-on(p)-1)).toString(32)+h,l=":"+l+"R"+h,h=Pc++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=Gk++,l=":"+l+"r"+h.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},Zk={readContext:Xn,useCallback:iw,useContext:Xn,useEffect:Wm,useImperativeHandle:rw,useInsertionEffect:ew,useLayoutEffect:tw,useMemo:sw,useReducer:Bm,useRef:JE,useState:function(){return Bm(Oc)},useDebugValue:Km,useDeferredValue:function(o){var l=Jn();return ow(l,Ct.memoizedState,o)},useTransition:function(){var o=Bm(Oc)[0],l=Jn().memoizedState;return[o,l]},useMutableSource:HE,useSyncExternalStore:WE,useId:aw,unstable_isNewReconciler:!1},eR={readContext:Xn,useCallback:iw,useContext:Xn,useEffect:Wm,useImperativeHandle:rw,useInsertionEffect:ew,useLayoutEffect:tw,useMemo:sw,useReducer:Hm,useRef:JE,useState:function(){return Hm(Oc)},useDebugValue:Km,useDeferredValue:function(o){var l=Jn();return Ct===null?l.memoizedState=o:ow(l,Ct.memoizedState,o)},useTransition:function(){var o=Hm(Oc)[0],l=Jn().memoizedState;return[o,l]},useMutableSource:HE,useSyncExternalStore:WE,useId:aw,unstable_isNewReconciler:!1};function Tr(o,l){if(o&&o.defaultProps){l=ce({},l),o=o.defaultProps;for(var h in o)l[h]===void 0&&(l[h]=o[h]);return l}return l}function qm(o,l,h,p){l=o.memoizedState,h=h(p,l),h=h==null?l:ce({},l,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var Qh={isMounted:function(o){return(o=o._reactInternals)?pr(o)===o:!1},enqueueSetState:function(o,l,h){o=o._reactInternals;var p=cn(),g=vs(o),E=Ai(p,g);E.payload=l,h!=null&&(E.callback=h),l=ms(o,E,g),l!==null&&(Ir(l,o,g,p),zh(l,o,g))},enqueueReplaceState:function(o,l,h){o=o._reactInternals;var p=cn(),g=vs(o),E=Ai(p,g);E.tag=1,E.payload=l,h!=null&&(E.callback=h),l=ms(o,E,g),l!==null&&(Ir(l,o,g,p),zh(l,o,g))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var h=cn(),p=vs(o),g=Ai(h,p);g.tag=2,l!=null&&(g.callback=l),l=ms(o,g,p),l!==null&&(Ir(l,o,p,h),zh(l,o,p))}};function hw(o,l,h,p,g,E,S){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,E,S):l.prototype&&l.prototype.isPureReactComponent?!vc(h,p)||!vc(g,E):!0}function dw(o,l,h){var p=!1,g=ds,E=l.contextType;return typeof E=="object"&&E!==null?E=Xn(E):(g=_n(l)?Eo:Xt.current,p=l.contextTypes,E=(p=p!=null)?La(o,g):ds),l=new l(h,E),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Qh,o.stateNode=l,l._reactInternals=o,p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=g,o.__reactInternalMemoizedMaskedChildContext=E),l}function fw(o,l,h,p){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,p),l.state!==o&&Qh.enqueueReplaceState(l,l.state,null)}function Gm(o,l,h,p){var g=o.stateNode;g.props=h,g.state=o.memoizedState,g.refs={},Dm(o);var E=l.contextType;typeof E=="object"&&E!==null?g.context=Xn(E):(E=_n(l)?Eo:Xt.current,g.context=La(o,E)),g.state=o.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(qm(o,l,E,h),g.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(l=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),l!==g.state&&Qh.enqueueReplaceState(g,g.state,null),Bh(o,h,g,p),g.state=o.memoizedState),typeof g.componentDidMount=="function"&&(o.flags|=4194308)}function Ha(o,l){try{var h="",p=l;do h+=pe(p),p=p.return;while(p);var g=h}catch(E){g=`
Error generating stack: `+E.message+`
`+E.stack}return{value:o,source:l,stack:g,digest:null}}function Ym(o,l,h){return{value:o,source:null,stack:h??null,digest:l??null}}function Qm(o,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var tR=typeof WeakMap=="function"?WeakMap:Map;function pw(o,l,h){h=Ai(-1,h),h.tag=3,h.payload={element:null};var p=l.value;return h.callback=function(){rd||(rd=!0,hg=p),Qm(o,l)},h}function mw(o,l,h){h=Ai(-1,h),h.tag=3;var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=l.value;h.payload=function(){return p(g)},h.callback=function(){Qm(o,l)}}var E=o.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(h.callback=function(){Qm(o,l),typeof p!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})}),h}function gw(o,l,h){var p=o.pingCache;if(p===null){p=o.pingCache=new tR;var g=new Set;p.set(l,g)}else g=p.get(l),g===void 0&&(g=new Set,p.set(l,g));g.has(h)||(g.add(h),o=mR.bind(null,o,l,h),l.then(o,o))}function _w(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function yw(o,l,h,p,g){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=Ai(-1,1),l.tag=2,ms(h,l,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=g,o)}var nR=z.ReactCurrentOwner,yn=!1;function ln(o,l,h,p){l.child=o===null?FE(l,null,h,p):ja(l,o.child,h,p)}function vw(o,l,h,p,g){h=h.render;var E=l.ref;return za(l,g),p=Um(o,l,h,p,E,g),h=zm(),o!==null&&!yn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~g,Ii(o,l,g)):(lt&&h&&Sm(l),l.flags|=1,ln(o,l,p,g),l.child)}function Ew(o,l,h,p,g){if(o===null){var E=h.type;return typeof E=="function"&&!yg(E)&&E.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=E,ww(o,l,E,p,g)):(o=cd(h.type,null,p,l,l.mode,g),o.ref=l.ref,o.return=l,l.child=o)}if(E=o.child,(o.lanes&g)===0){var S=E.memoizedProps;if(h=h.compare,h=h!==null?h:vc,h(S,p)&&o.ref===l.ref)return Ii(o,l,g)}return l.flags|=1,o=ws(E,p),o.ref=l.ref,o.return=l,l.child=o}function ww(o,l,h,p,g){if(o!==null){var E=o.memoizedProps;if(vc(E,p)&&o.ref===l.ref)if(yn=!1,l.pendingProps=p=E,(o.lanes&g)!==0)(o.flags&131072)!==0&&(yn=!0);else return l.lanes=o.lanes,Ii(o,l,g)}return Xm(o,l,h,p,g)}function bw(o,l,h){var p=l.pendingProps,g=p.children,E=o!==null?o.memoizedState:null;if(p.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Ka,Ln),Ln|=h;else{if((h&1073741824)===0)return o=E!==null?E.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,rt(Ka,Ln),Ln|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=E!==null?E.baseLanes:h,rt(Ka,Ln),Ln|=p}else E!==null?(p=E.baseLanes|h,l.memoizedState=null):p=h,rt(Ka,Ln),Ln|=p;return ln(o,l,g,h),l.child}function Tw(o,l){var h=l.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function Xm(o,l,h,p,g){var E=_n(h)?Eo:Xt.current;return E=La(l,E),za(l,g),h=Um(o,l,h,p,E,g),p=zm(),o!==null&&!yn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~g,Ii(o,l,g)):(lt&&p&&Sm(l),l.flags|=1,ln(o,l,h,g),l.child)}function Sw(o,l,h,p,g){if(_n(h)){var E=!0;Dh(l)}else E=!1;if(za(l,g),l.stateNode===null)Jh(o,l),dw(l,h,p),Gm(l,h,p,g),p=!0;else if(o===null){var S=l.stateNode,V=l.memoizedProps;S.props=V;var F=S.context,Q=h.contextType;typeof Q=="object"&&Q!==null?Q=Xn(Q):(Q=_n(h)?Eo:Xt.current,Q=La(l,Q));var ne=h.getDerivedStateFromProps,se=typeof ne=="function"||typeof S.getSnapshotBeforeUpdate=="function";se||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V!==p||F!==Q)&&fw(l,S,p,Q),ps=!1;var te=l.memoizedState;S.state=te,Bh(l,p,S,g),F=l.memoizedState,V!==p||te!==F||gn.current||ps?(typeof ne=="function"&&(qm(l,h,ne,p),F=l.memoizedState),(V=ps||hw(l,h,V,p,te,F,Q))?(se||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=F),S.props=p,S.state=F,S.context=Q,p=V):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{S=l.stateNode,jE(o,l),V=l.memoizedProps,Q=l.type===l.elementType?V:Tr(l.type,V),S.props=Q,se=l.pendingProps,te=S.context,F=h.contextType,typeof F=="object"&&F!==null?F=Xn(F):(F=_n(h)?Eo:Xt.current,F=La(l,F));var _e=h.getDerivedStateFromProps;(ne=typeof _e=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V!==se||te!==F)&&fw(l,S,p,F),ps=!1,te=l.memoizedState,S.state=te,Bh(l,p,S,g);var we=l.memoizedState;V!==se||te!==we||gn.current||ps?(typeof _e=="function"&&(qm(l,h,_e,p),we=l.memoizedState),(Q=ps||hw(l,h,Q,p,te,we,F)||!1)?(ne||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,we,F),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,we,F)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||V===o.memoizedProps&&te===o.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&te===o.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=we),S.props=p,S.state=we,S.context=F,p=Q):(typeof S.componentDidUpdate!="function"||V===o.memoizedProps&&te===o.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&te===o.memoizedState||(l.flags|=1024),p=!1)}return Jm(o,l,h,p,E,g)}function Jm(o,l,h,p,g,E){Tw(o,l);var S=(l.flags&128)!==0;if(!p&&!S)return g&&kE(l,h,!1),Ii(o,l,E);p=l.stateNode,nR.current=l;var V=S&&typeof h.getDerivedStateFromError!="function"?null:p.render();return l.flags|=1,o!==null&&S?(l.child=ja(l,o.child,null,E),l.child=ja(l,null,V,E)):ln(o,l,V,E),l.memoizedState=p.state,g&&kE(l,h,!0),l.child}function Aw(o){var l=o.stateNode;l.pendingContext?xE(o,l.pendingContext,l.pendingContext!==l.context):l.context&&xE(o,l.context,!1),Mm(o,l.containerInfo)}function Iw(o,l,h,p,g){return $a(),Cm(g),l.flags|=256,ln(o,l,h,p),l.child}var Zm={dehydrated:null,treeContext:null,retryLane:0};function eg(o){return{baseLanes:o,cachePool:null,transitions:null}}function xw(o,l,h){var p=l.pendingProps,g=ht.current,E=!1,S=(l.flags&128)!==0,V;if((V=S)||(V=o!==null&&o.memoizedState===null?!1:(g&2)!==0),V?(E=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(g|=1),rt(ht,g&1),o===null)return xm(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(S=p.children,o=p.fallback,E?(p=l.mode,E=l.child,S={mode:"hidden",children:S},(p&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=S):E=ud(S,p,0,null),o=Ro(o,p,h,null),E.return=l,o.return=l,E.sibling=o,l.child=E,l.child.memoizedState=eg(h),l.memoizedState=Zm,o):tg(l,S));if(g=o.memoizedState,g!==null&&(V=g.dehydrated,V!==null))return rR(o,l,S,p,V,g,h);if(E){E=p.fallback,S=l.mode,g=o.child,V=g.sibling;var F={mode:"hidden",children:p.children};return(S&1)===0&&l.child!==g?(p=l.child,p.childLanes=0,p.pendingProps=F,l.deletions=null):(p=ws(g,F),p.subtreeFlags=g.subtreeFlags&14680064),V!==null?E=ws(V,E):(E=Ro(E,S,h,null),E.flags|=2),E.return=l,p.return=l,p.sibling=E,l.child=p,p=E,E=l.child,S=o.child.memoizedState,S=S===null?eg(h):{baseLanes:S.baseLanes|h,cachePool:null,transitions:S.transitions},E.memoizedState=S,E.childLanes=o.childLanes&~h,l.memoizedState=Zm,p}return E=o.child,o=E.sibling,p=ws(E,{mode:"visible",children:p.children}),(l.mode&1)===0&&(p.lanes=h),p.return=l,p.sibling=null,o!==null&&(h=l.deletions,h===null?(l.deletions=[o],l.flags|=16):h.push(o)),l.child=p,l.memoizedState=null,p}function tg(o,l){return l=ud({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Xh(o,l,h,p){return p!==null&&Cm(p),ja(l,o.child,null,h),o=tg(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function rR(o,l,h,p,g,E,S){if(h)return l.flags&256?(l.flags&=-257,p=Ym(Error(t(422))),Xh(o,l,S,p)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(E=p.fallback,g=l.mode,p=ud({mode:"visible",children:p.children},g,0,null),E=Ro(E,g,S,null),E.flags|=2,p.return=l,E.return=l,p.sibling=E,l.child=p,(l.mode&1)!==0&&ja(l,o.child,null,S),l.child.memoizedState=eg(S),l.memoizedState=Zm,E);if((l.mode&1)===0)return Xh(o,l,S,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var V=p.dgst;return p=V,E=Error(t(419)),p=Ym(E,p,void 0),Xh(o,l,S,p)}if(V=(S&o.childLanes)!==0,yn||V){if(p=$t,p!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(p.suspendedLanes|S))!==0?0:g,g!==0&&g!==E.retryLane&&(E.retryLane=g,Si(o,g),Ir(p,o,g,-1))}return _g(),p=Ym(Error(t(421))),Xh(o,l,S,p)}return g.data==="$?"?(l.flags|=128,l.child=o.child,l=gR.bind(null,o),g._reactRetry=l,null):(o=E.treeContext,Mn=us(g.nextSibling),Dn=l,lt=!0,br=null,o!==null&&(Yn[Qn++]=bi,Yn[Qn++]=Ti,Yn[Qn++]=wo,bi=o.id,Ti=o.overflow,wo=l),l=tg(l,p.children),l.flags|=4096,l)}function Cw(o,l,h){o.lanes|=l;var p=o.alternate;p!==null&&(p.lanes|=l),Om(o.return,l,h)}function ng(o,l,h,p,g){var E=o.memoizedState;E===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:g}:(E.isBackwards=l,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=h,E.tailMode=g)}function kw(o,l,h){var p=l.pendingProps,g=p.revealOrder,E=p.tail;if(ln(o,l,p.children,h),p=ht.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Cw(o,h,l);else if(o.tag===19)Cw(o,h,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}if(rt(ht,p),(l.mode&1)===0)l.memoizedState=null;else switch(g){case"forwards":for(h=l.child,g=null;h!==null;)o=h.alternate,o!==null&&Hh(o)===null&&(g=h),h=h.sibling;h=g,h===null?(g=l.child,l.child=null):(g=h.sibling,h.sibling=null),ng(l,!1,g,h,E);break;case"backwards":for(h=null,g=l.child,l.child=null;g!==null;){if(o=g.alternate,o!==null&&Hh(o)===null){l.child=g;break}o=g.sibling,g.sibling=h,h=g,g=o}ng(l,!0,h,null,E);break;case"together":ng(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Jh(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Ii(o,l,h){if(o!==null&&(l.dependencies=o.dependencies),Io|=l.lanes,(h&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(t(153));if(l.child!==null){for(o=l.child,h=ws(o,o.pendingProps),l.child=h,h.return=l;o.sibling!==null;)o=o.sibling,h=h.sibling=ws(o,o.pendingProps),h.return=l;h.sibling=null}return l.child}function iR(o,l,h){switch(l.tag){case 3:Aw(l),$a();break;case 5:BE(l);break;case 1:_n(l.type)&&Dh(l);break;case 4:Mm(l,l.stateNode.containerInfo);break;case 10:var p=l.type._context,g=l.memoizedProps.value;rt(jh,p._currentValue),p._currentValue=g;break;case 13:if(p=l.memoizedState,p!==null)return p.dehydrated!==null?(rt(ht,ht.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?xw(o,l,h):(rt(ht,ht.current&1),o=Ii(o,l,h),o!==null?o.sibling:null);rt(ht,ht.current&1);break;case 19:if(p=(h&l.childLanes)!==0,(o.flags&128)!==0){if(p)return kw(o,l,h);l.flags|=128}if(g=l.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),rt(ht,ht.current),p)break;return null;case 22:case 23:return l.lanes=0,bw(o,l,h)}return Ii(o,l,h)}var Rw,rg,Pw,Ow;Rw=function(o,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},rg=function(){},Pw=function(o,l,h,p){var g=o.memoizedProps;if(g!==p){o=l.stateNode,So(Kr.current);var E=null;switch(h){case"input":g=ur(o,g),p=ur(o,p),E=[];break;case"select":g=ce({},g,{value:void 0}),p=ce({},p,{value:void 0}),E=[];break;case"textarea":g=Xi(o,g),p=Xi(o,p),E=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(o.onclick=Ph)}ec(h,p);var S;h=null;for(Q in g)if(!p.hasOwnProperty(Q)&&g.hasOwnProperty(Q)&&g[Q]!=null)if(Q==="style"){var V=g[Q];for(S in V)V.hasOwnProperty(S)&&(h||(h={}),h[S]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(i.hasOwnProperty(Q)?E||(E=[]):(E=E||[]).push(Q,null));for(Q in p){var F=p[Q];if(V=g!=null?g[Q]:void 0,p.hasOwnProperty(Q)&&F!==V&&(F!=null||V!=null))if(Q==="style")if(V){for(S in V)!V.hasOwnProperty(S)||F&&F.hasOwnProperty(S)||(h||(h={}),h[S]="");for(S in F)F.hasOwnProperty(S)&&V[S]!==F[S]&&(h||(h={}),h[S]=F[S])}else h||(E||(E=[]),E.push(Q,h)),h=F;else Q==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,V=V?V.__html:void 0,F!=null&&V!==F&&(E=E||[]).push(Q,F)):Q==="children"?typeof F!="string"&&typeof F!="number"||(E=E||[]).push(Q,""+F):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(i.hasOwnProperty(Q)?(F!=null&&Q==="onScroll"&&it("scroll",o),E||V===F||(E=[])):(E=E||[]).push(Q,F))}h&&(E=E||[]).push("style",h);var Q=E;(l.updateQueue=Q)&&(l.flags|=4)}},Ow=function(o,l,h,p){h!==p&&(l.flags|=4)};function Dc(o,l){if(!lt)switch(o.tailMode){case"hidden":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function Zt(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=0,p=0;if(l)for(var g=o.child;g!==null;)h|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=o,g=g.sibling;else for(g=o.child;g!==null;)h|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=o,g=g.sibling;return o.subtreeFlags|=p,o.childLanes=h,l}function sR(o,l,h){var p=l.pendingProps;switch(Am(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(l),null;case 1:return _n(l.type)&&Nh(),Zt(l),null;case 3:return p=l.stateNode,Ba(),st(gn),st(Xt),Fm(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(Fh(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,br!==null&&(pg(br),br=null))),rg(o,l),Zt(l),null;case 5:Lm(l);var g=So(kc.current);if(h=l.type,o!==null&&l.stateNode!=null)Pw(o,l,h,p,g),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!p){if(l.stateNode===null)throw Error(t(166));return Zt(l),null}if(o=So(Kr.current),Fh(l)){p=l.stateNode,h=l.type;var E=l.memoizedProps;switch(p[Wr]=l,p[Sc]=E,o=(l.mode&1)!==0,h){case"dialog":it("cancel",p),it("close",p);break;case"iframe":case"object":case"embed":it("load",p);break;case"video":case"audio":for(g=0;g<wc.length;g++)it(wc[g],p);break;case"source":it("error",p);break;case"img":case"image":case"link":it("error",p),it("load",p);break;case"details":it("toggle",p);break;case"input":Dr(p,E),it("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!E.multiple},it("invalid",p);break;case"textarea":fi(p,E),it("invalid",p)}ec(h,E),g=null;for(var S in E)if(E.hasOwnProperty(S)){var V=E[S];S==="children"?typeof V=="string"?p.textContent!==V&&(E.suppressHydrationWarning!==!0&&Rh(p.textContent,V,o),g=["children",V]):typeof V=="number"&&p.textContent!==""+V&&(E.suppressHydrationWarning!==!0&&Rh(p.textContent,V,o),g=["children",""+V]):i.hasOwnProperty(S)&&V!=null&&S==="onScroll"&&it("scroll",p)}switch(h){case"input":Lt(p),Qi(p,E,!0);break;case"textarea":Lt(p),Ji(p);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(p.onclick=Ph)}p=g,l.updateQueue=p,p!==null&&(l.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=pt(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=S.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof p.is=="string"?o=S.createElement(h,{is:p.is}):(o=S.createElement(h),h==="select"&&(S=o,p.multiple?S.multiple=!0:p.size&&(S.size=p.size))):o=S.createElementNS(o,h),o[Wr]=l,o[Sc]=p,Rw(o,l,!1,!1),l.stateNode=o;e:{switch(S=tc(h,p),h){case"dialog":it("cancel",o),it("close",o),g=p;break;case"iframe":case"object":case"embed":it("load",o),g=p;break;case"video":case"audio":for(g=0;g<wc.length;g++)it(wc[g],o);g=p;break;case"source":it("error",o),g=p;break;case"img":case"image":case"link":it("error",o),it("load",o),g=p;break;case"details":it("toggle",o),g=p;break;case"input":Dr(o,p),g=ur(o,p),it("invalid",o);break;case"option":g=p;break;case"select":o._wrapperState={wasMultiple:!!p.multiple},g=ce({},p,{value:void 0}),it("invalid",o);break;case"textarea":fi(o,p),g=Xi(o,p),it("invalid",o);break;default:g=p}ec(h,g),V=g;for(E in V)if(V.hasOwnProperty(E)){var F=V[E];E==="style"?Jl(o,F):E==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&Ql(o,F)):E==="children"?typeof F=="string"?(h!=="textarea"||F!=="")&&Zi(o,F):typeof F=="number"&&Zi(o,""+F):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?F!=null&&E==="onScroll"&&it("scroll",o):F!=null&&$(o,E,F,S))}switch(h){case"input":Lt(o),Qi(o,p,!1);break;case"textarea":Lt(o),Ji(o);break;case"option":p.value!=null&&o.setAttribute("value",""+xe(p.value));break;case"select":o.multiple=!!p.multiple,E=p.value,E!=null?fn(o,!!p.multiple,E,!1):p.defaultValue!=null&&fn(o,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(o.onclick=Ph)}switch(h){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Zt(l),null;case 6:if(o&&l.stateNode!=null)Ow(o,l,o.memoizedProps,p);else{if(typeof p!="string"&&l.stateNode===null)throw Error(t(166));if(h=So(kc.current),So(Kr.current),Fh(l)){if(p=l.stateNode,h=l.memoizedProps,p[Wr]=l,(E=p.nodeValue!==h)&&(o=Dn,o!==null))switch(o.tag){case 3:Rh(p.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Rh(p.nodeValue,h,(o.mode&1)!==0)}E&&(l.flags|=4)}else p=(h.nodeType===9?h:h.ownerDocument).createTextNode(p),p[Wr]=l,l.stateNode=p}return Zt(l),null;case 13:if(st(ht),p=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(lt&&Mn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)ME(),$a(),l.flags|=98560,E=!1;else if(E=Fh(l),p!==null&&p.dehydrated!==null){if(o===null){if(!E)throw Error(t(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[Wr]=l}else $a(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Zt(l),E=!1}else br!==null&&(pg(br),br=null),E=!0;if(!E)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(p=p!==null,p!==(o!==null&&o.memoizedState!==null)&&p&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(ht.current&1)!==0?kt===0&&(kt=3):_g())),l.updateQueue!==null&&(l.flags|=4),Zt(l),null);case 4:return Ba(),rg(o,l),o===null&&bc(l.stateNode.containerInfo),Zt(l),null;case 10:return Pm(l.type._context),Zt(l),null;case 17:return _n(l.type)&&Nh(),Zt(l),null;case 19:if(st(ht),E=l.memoizedState,E===null)return Zt(l),null;if(p=(l.flags&128)!==0,S=E.rendering,S===null)if(p)Dc(E,!1);else{if(kt!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(S=Hh(o),S!==null){for(l.flags|=128,Dc(E,!1),p=S.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),l.subtreeFlags=0,p=h,h=l.child;h!==null;)E=h,o=p,E.flags&=14680066,S=E.alternate,S===null?(E.childLanes=0,E.lanes=o,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=S.childLanes,E.lanes=S.lanes,E.child=S.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=S.memoizedProps,E.memoizedState=S.memoizedState,E.updateQueue=S.updateQueue,E.type=S.type,o=S.dependencies,E.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return rt(ht,ht.current&1|2),l.child}o=o.sibling}E.tail!==null&&nt()>qa&&(l.flags|=128,p=!0,Dc(E,!1),l.lanes=4194304)}else{if(!p)if(o=Hh(S),o!==null){if(l.flags|=128,p=!0,h=o.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),Dc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!S.alternate&&!lt)return Zt(l),null}else 2*nt()-E.renderingStartTime>qa&&h!==1073741824&&(l.flags|=128,p=!0,Dc(E,!1),l.lanes=4194304);E.isBackwards?(S.sibling=l.child,l.child=S):(h=E.last,h!==null?h.sibling=S:l.child=S,E.last=S)}return E.tail!==null?(l=E.tail,E.rendering=l,E.tail=l.sibling,E.renderingStartTime=nt(),l.sibling=null,h=ht.current,rt(ht,p?h&1|2:h&1),l):(Zt(l),null);case 22:case 23:return gg(),p=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==p&&(l.flags|=8192),p&&(l.mode&1)!==0?(Ln&1073741824)!==0&&(Zt(l),l.subtreeFlags&6&&(l.flags|=8192)):Zt(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function oR(o,l){switch(Am(l),l.tag){case 1:return _n(l.type)&&Nh(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Ba(),st(gn),st(Xt),Fm(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Lm(l),null;case 13:if(st(ht),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(t(340));$a()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return st(ht),null;case 4:return Ba(),null;case 10:return Pm(l.type._context),null;case 22:case 23:return gg(),null;case 24:return null;default:return null}}var Zh=!1,en=!1,aR=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Wa(o,l){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(p){gt(o,l,p)}else h.current=null}function ig(o,l,h){try{h()}catch(p){gt(o,l,p)}}var Nw=!1;function lR(o,l){if(gm=as,o=hE(),lm(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var p=h.getSelection&&h.getSelection();if(p&&p.rangeCount!==0){h=p.anchorNode;var g=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var S=0,V=-1,F=-1,Q=0,ne=0,se=o,te=null;t:for(;;){for(var _e;se!==h||g!==0&&se.nodeType!==3||(V=S+g),se!==E||p!==0&&se.nodeType!==3||(F=S+p),se.nodeType===3&&(S+=se.nodeValue.length),(_e=se.firstChild)!==null;)te=se,se=_e;for(;;){if(se===o)break t;if(te===h&&++Q===g&&(V=S),te===E&&++ne===p&&(F=S),(_e=se.nextSibling)!==null)break;se=te,te=se.parentNode}se=_e}h=V===-1||F===-1?null:{start:V,end:F}}else h=null}h=h||{start:0,end:0}}else h=null;for(_m={focusedElem:o,selectionRange:h},as=!1,Ee=l;Ee!==null;)if(l=Ee,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Ee=o;else for(;Ee!==null;){l=Ee;try{var we=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var be=we.memoizedProps,Et=we.memoizedState,K=l.stateNode,U=K.getSnapshotBeforeUpdate(l.elementType===l.type?be:Tr(l.type,be),Et);K.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var G=l.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(le){gt(l,l.return,le)}if(o=l.sibling,o!==null){o.return=l.return,Ee=o;break}Ee=l.return}return we=Nw,Nw=!1,we}function Mc(o,l,h){var p=l.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&o)===o){var E=g.destroy;g.destroy=void 0,E!==void 0&&ig(l,h,E)}g=g.next}while(g!==p)}}function ed(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&o)===o){var p=h.create;h.destroy=p()}h=h.next}while(h!==l)}}function sg(o){var l=o.ref;if(l!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof l=="function"?l(o):l.current=o}}function Dw(o){var l=o.alternate;l!==null&&(o.alternate=null,Dw(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Wr],delete l[Sc],delete l[wm],delete l[Hk],delete l[Wk])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Mw(o){return o.tag===5||o.tag===3||o.tag===4}function Lw(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Mw(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function og(o,l,h){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(o,l):h.insertBefore(o,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(o,h)):(l=h,l.appendChild(o)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Ph));else if(p!==4&&(o=o.child,o!==null))for(og(o,l,h),o=o.sibling;o!==null;)og(o,l,h),o=o.sibling}function ag(o,l,h){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?h.insertBefore(o,l):h.appendChild(o);else if(p!==4&&(o=o.child,o!==null))for(ag(o,l,h),o=o.sibling;o!==null;)ag(o,l,h),o=o.sibling}var Kt=null,Sr=!1;function gs(o,l,h){for(h=h.child;h!==null;)Vw(o,l,h),h=h.sibling}function Vw(o,l,h){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(ho,h)}catch{}switch(h.tag){case 5:en||Wa(h,l);case 6:var p=Kt,g=Sr;Kt=null,gs(o,l,h),Kt=p,Sr=g,Kt!==null&&(Sr?(o=Kt,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):Kt.removeChild(h.stateNode));break;case 18:Kt!==null&&(Sr?(o=Kt,h=h.stateNode,o.nodeType===8?Em(o.parentNode,h):o.nodeType===1&&Em(o,h),vr(o)):Em(Kt,h.stateNode));break;case 4:p=Kt,g=Sr,Kt=h.stateNode.containerInfo,Sr=!0,gs(o,l,h),Kt=p,Sr=g;break;case 0:case 11:case 14:case 15:if(!en&&(p=h.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var E=g,S=E.destroy;E=E.tag,S!==void 0&&((E&2)!==0||(E&4)!==0)&&ig(h,l,S),g=g.next}while(g!==p)}gs(o,l,h);break;case 1:if(!en&&(Wa(h,l),p=h.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=h.memoizedProps,p.state=h.memoizedState,p.componentWillUnmount()}catch(V){gt(h,l,V)}gs(o,l,h);break;case 21:gs(o,l,h);break;case 22:h.mode&1?(en=(p=en)||h.memoizedState!==null,gs(o,l,h),en=p):gs(o,l,h);break;default:gs(o,l,h)}}function Fw(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new aR),l.forEach(function(p){var g=_R.bind(null,o,p);h.has(p)||(h.add(p),p.then(g,g))})}}function Ar(o,l){var h=l.deletions;if(h!==null)for(var p=0;p<h.length;p++){var g=h[p];try{var E=o,S=l,V=S;e:for(;V!==null;){switch(V.tag){case 5:Kt=V.stateNode,Sr=!1;break e;case 3:Kt=V.stateNode.containerInfo,Sr=!0;break e;case 4:Kt=V.stateNode.containerInfo,Sr=!0;break e}V=V.return}if(Kt===null)throw Error(t(160));Vw(E,S,g),Kt=null,Sr=!1;var F=g.alternate;F!==null&&(F.return=null),g.return=null}catch(Q){gt(g,l,Q)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)$w(l,o),l=l.sibling}function $w(o,l){var h=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Ar(l,o),Gr(o),p&4){try{Mc(3,o,o.return),ed(3,o)}catch(be){gt(o,o.return,be)}try{Mc(5,o,o.return)}catch(be){gt(o,o.return,be)}}break;case 1:Ar(l,o),Gr(o),p&512&&h!==null&&Wa(h,h.return);break;case 5:if(Ar(l,o),Gr(o),p&512&&h!==null&&Wa(h,h.return),o.flags&32){var g=o.stateNode;try{Zi(g,"")}catch(be){gt(o,o.return,be)}}if(p&4&&(g=o.stateNode,g!=null)){var E=o.memoizedProps,S=h!==null?h.memoizedProps:E,V=o.type,F=o.updateQueue;if(o.updateQueue=null,F!==null)try{V==="input"&&E.type==="radio"&&E.name!=null&&Mr(g,E),tc(V,S);var Q=tc(V,E);for(S=0;S<F.length;S+=2){var ne=F[S],se=F[S+1];ne==="style"?Jl(g,se):ne==="dangerouslySetInnerHTML"?Ql(g,se):ne==="children"?Zi(g,se):$(g,ne,se,Q)}switch(V){case"input":hr(g,E);break;case"textarea":Vr(g,E);break;case"select":var te=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!E.multiple;var _e=E.value;_e!=null?fn(g,!!E.multiple,_e,!1):te!==!!E.multiple&&(E.defaultValue!=null?fn(g,!!E.multiple,E.defaultValue,!0):fn(g,!!E.multiple,E.multiple?[]:"",!1))}g[Sc]=E}catch(be){gt(o,o.return,be)}}break;case 6:if(Ar(l,o),Gr(o),p&4){if(o.stateNode===null)throw Error(t(162));g=o.stateNode,E=o.memoizedProps;try{g.nodeValue=E}catch(be){gt(o,o.return,be)}}break;case 3:if(Ar(l,o),Gr(o),p&4&&h!==null&&h.memoizedState.isDehydrated)try{vr(l.containerInfo)}catch(be){gt(o,o.return,be)}break;case 4:Ar(l,o),Gr(o);break;case 13:Ar(l,o),Gr(o),g=o.child,g.flags&8192&&(E=g.memoizedState!==null,g.stateNode.isHidden=E,!E||g.alternate!==null&&g.alternate.memoizedState!==null||(ug=nt())),p&4&&Fw(o);break;case 22:if(ne=h!==null&&h.memoizedState!==null,o.mode&1?(en=(Q=en)||ne,Ar(l,o),en=Q):Ar(l,o),Gr(o),p&8192){if(Q=o.memoizedState!==null,(o.stateNode.isHidden=Q)&&!ne&&(o.mode&1)!==0)for(Ee=o,ne=o.child;ne!==null;){for(se=Ee=ne;Ee!==null;){switch(te=Ee,_e=te.child,te.tag){case 0:case 11:case 14:case 15:Mc(4,te,te.return);break;case 1:Wa(te,te.return);var we=te.stateNode;if(typeof we.componentWillUnmount=="function"){p=te,h=te.return;try{l=p,we.props=l.memoizedProps,we.state=l.memoizedState,we.componentWillUnmount()}catch(be){gt(p,h,be)}}break;case 5:Wa(te,te.return);break;case 22:if(te.memoizedState!==null){zw(se);continue}}_e!==null?(_e.return=te,Ee=_e):zw(se)}ne=ne.sibling}e:for(ne=null,se=o;;){if(se.tag===5){if(ne===null){ne=se;try{g=se.stateNode,Q?(E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(V=se.stateNode,F=se.memoizedProps.style,S=F!=null&&F.hasOwnProperty("display")?F.display:null,V.style.display=Xl("display",S))}catch(be){gt(o,o.return,be)}}}else if(se.tag===6){if(ne===null)try{se.stateNode.nodeValue=Q?"":se.memoizedProps}catch(be){gt(o,o.return,be)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===o)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===o)break e;for(;se.sibling===null;){if(se.return===null||se.return===o)break e;ne===se&&(ne=null),se=se.return}ne===se&&(ne=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:Ar(l,o),Gr(o),p&4&&Fw(o);break;case 21:break;default:Ar(l,o),Gr(o)}}function Gr(o){var l=o.flags;if(l&2){try{e:{for(var h=o.return;h!==null;){if(Mw(h)){var p=h;break e}h=h.return}throw Error(t(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(Zi(g,""),p.flags&=-33);var E=Lw(o);ag(o,E,g);break;case 3:case 4:var S=p.stateNode.containerInfo,V=Lw(o);og(o,V,S);break;default:throw Error(t(161))}}catch(F){gt(o,o.return,F)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function cR(o,l,h){Ee=o,jw(o)}function jw(o,l,h){for(var p=(o.mode&1)!==0;Ee!==null;){var g=Ee,E=g.child;if(g.tag===22&&p){var S=g.memoizedState!==null||Zh;if(!S){var V=g.alternate,F=V!==null&&V.memoizedState!==null||en;V=Zh;var Q=en;if(Zh=S,(en=F)&&!Q)for(Ee=g;Ee!==null;)S=Ee,F=S.child,S.tag===22&&S.memoizedState!==null?Bw(g):F!==null?(F.return=S,Ee=F):Bw(g);for(;E!==null;)Ee=E,jw(E),E=E.sibling;Ee=g,Zh=V,en=Q}Uw(o)}else(g.subtreeFlags&8772)!==0&&E!==null?(E.return=g,Ee=E):Uw(o)}}function Uw(o){for(;Ee!==null;){var l=Ee;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:en||ed(5,l);break;case 1:var p=l.stateNode;if(l.flags&4&&!en)if(h===null)p.componentDidMount();else{var g=l.elementType===l.type?h.memoizedProps:Tr(l.type,h.memoizedProps);p.componentDidUpdate(g,h.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var E=l.updateQueue;E!==null&&zE(l,E,p);break;case 3:var S=l.updateQueue;if(S!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}zE(l,S,h)}break;case 5:var V=l.stateNode;if(h===null&&l.flags&4){h=V;var F=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&h.focus();break;case"img":F.src&&(h.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Q=l.alternate;if(Q!==null){var ne=Q.memoizedState;if(ne!==null){var se=ne.dehydrated;se!==null&&vr(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}en||l.flags&512&&sg(l)}catch(te){gt(l,l.return,te)}}if(l===o){Ee=null;break}if(h=l.sibling,h!==null){h.return=l.return,Ee=h;break}Ee=l.return}}function zw(o){for(;Ee!==null;){var l=Ee;if(l===o){Ee=null;break}var h=l.sibling;if(h!==null){h.return=l.return,Ee=h;break}Ee=l.return}}function Bw(o){for(;Ee!==null;){var l=Ee;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{ed(4,l)}catch(F){gt(l,h,F)}break;case 1:var p=l.stateNode;if(typeof p.componentDidMount=="function"){var g=l.return;try{p.componentDidMount()}catch(F){gt(l,g,F)}}var E=l.return;try{sg(l)}catch(F){gt(l,E,F)}break;case 5:var S=l.return;try{sg(l)}catch(F){gt(l,S,F)}}}catch(F){gt(l,l.return,F)}if(l===o){Ee=null;break}var V=l.sibling;if(V!==null){V.return=l.return,Ee=V;break}Ee=l.return}}var uR=Math.ceil,td=z.ReactCurrentDispatcher,lg=z.ReactCurrentOwner,Zn=z.ReactCurrentBatchConfig,Ge=0,$t=null,Tt=null,qt=0,Ln=0,Ka=hs(0),kt=0,Lc=null,Io=0,nd=0,cg=0,Vc=null,vn=null,ug=0,qa=1/0,xi=null,rd=!1,hg=null,_s=null,id=!1,ys=null,sd=0,Fc=0,dg=null,od=-1,ad=0;function cn(){return(Ge&6)!==0?nt():od!==-1?od:od=nt()}function vs(o){return(o.mode&1)===0?1:(Ge&2)!==0&&qt!==0?qt&-qt:qk.transition!==null?(ad===0&&(ad=po()),ad):(o=ze,o!==0||(o=window.event,o=o===void 0?16:dc(o.type)),o)}function Ir(o,l,h,p){if(50<Fc)throw Fc=0,dg=null,Error(t(185));rs(o,h,p),((Ge&2)===0||o!==$t)&&(o===$t&&((Ge&2)===0&&(nd|=h),kt===4&&Es(o,qt)),En(o,p),h===1&&Ge===0&&(l.mode&1)===0&&(qa=nt()+500,Mh&&fs()))}function En(o,l){var h=o.callbackNode;mi(o,l);var p=fo(o,o===$t?qt:0);if(p===0)h!==null&&ac(h),o.callbackNode=null,o.callbackPriority=0;else if(l=p&-p,o.callbackPriority!==l){if(h!=null&&ac(h),l===1)o.tag===0?Kk(Ww.bind(null,o)):RE(Ww.bind(null,o)),zk(function(){(Ge&6)===0&&fs()}),h=null;else{switch(ss(p)){case 1:h=uo;break;case 4:h=es;break;case 16:h=Kn;break;case 536870912:h=ah;break;default:h=Kn}h=Zw(h,Hw.bind(null,o))}o.callbackPriority=l,o.callbackNode=h}}function Hw(o,l){if(od=-1,ad=0,(Ge&6)!==0)throw Error(t(327));var h=o.callbackNode;if(Ga()&&o.callbackNode!==h)return null;var p=fo(o,o===$t?qt:0);if(p===0)return null;if((p&30)!==0||(p&o.expiredLanes)!==0||l)l=ld(o,p);else{l=p;var g=Ge;Ge|=2;var E=qw();($t!==o||qt!==l)&&(xi=null,qa=nt()+500,Co(o,l));do try{fR();break}catch(V){Kw(o,V)}while(!0);Rm(),td.current=E,Ge=g,Tt!==null?l=0:($t=null,qt=0,l=kt)}if(l!==0){if(l===2&&(g=Pn(o),g!==0&&(p=g,l=fg(o,g))),l===1)throw h=Lc,Co(o,0),Es(o,p),En(o,nt()),h;if(l===6)Es(o,p);else{if(g=o.current.alternate,(p&30)===0&&!hR(g)&&(l=ld(o,p),l===2&&(E=Pn(o),E!==0&&(p=E,l=fg(o,E))),l===1))throw h=Lc,Co(o,0),Es(o,p),En(o,nt()),h;switch(o.finishedWork=g,o.finishedLanes=p,l){case 0:case 1:throw Error(t(345));case 2:ko(o,vn,xi);break;case 3:if(Es(o,p),(p&130023424)===p&&(l=ug+500-nt(),10<l)){if(fo(o,0)!==0)break;if(g=o.suspendedLanes,(g&p)!==p){cn(),o.pingedLanes|=o.suspendedLanes&g;break}o.timeoutHandle=vm(ko.bind(null,o,vn,xi),l);break}ko(o,vn,xi);break;case 4:if(Es(o,p),(p&4194240)===p)break;for(l=o.eventTimes,g=-1;0<p;){var S=31-on(p);E=1<<S,S=l[S],S>g&&(g=S),p&=~E}if(p=g,p=nt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*uR(p/1960))-p,10<p){o.timeoutHandle=vm(ko.bind(null,o,vn,xi),p);break}ko(o,vn,xi);break;case 5:ko(o,vn,xi);break;default:throw Error(t(329))}}}return En(o,nt()),o.callbackNode===h?Hw.bind(null,o):null}function fg(o,l){var h=Vc;return o.current.memoizedState.isDehydrated&&(Co(o,l).flags|=256),o=ld(o,l),o!==2&&(l=vn,vn=h,l!==null&&pg(l)),o}function pg(o){vn===null?vn=o:vn.push.apply(vn,o)}function hR(o){for(var l=o;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var p=0;p<h.length;p++){var g=h[p],E=g.getSnapshot;g=g.value;try{if(!wr(E(),g))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Es(o,l){for(l&=~cg,l&=~nd,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var h=31-on(l),p=1<<h;o[h]=-1,l&=~p}}function Ww(o){if((Ge&6)!==0)throw Error(t(327));Ga();var l=fo(o,0);if((l&1)===0)return En(o,nt()),null;var h=ld(o,l);if(o.tag!==0&&h===2){var p=Pn(o);p!==0&&(l=p,h=fg(o,p))}if(h===1)throw h=Lc,Co(o,0),Es(o,l),En(o,nt()),h;if(h===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,ko(o,vn,xi),En(o,nt()),null}function mg(o,l){var h=Ge;Ge|=1;try{return o(l)}finally{Ge=h,Ge===0&&(qa=nt()+500,Mh&&fs())}}function xo(o){ys!==null&&ys.tag===0&&(Ge&6)===0&&Ga();var l=Ge;Ge|=1;var h=Zn.transition,p=ze;try{if(Zn.transition=null,ze=1,o)return o()}finally{ze=p,Zn.transition=h,Ge=l,(Ge&6)===0&&fs()}}function gg(){Ln=Ka.current,st(Ka)}function Co(o,l){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,Uk(h)),Tt!==null)for(h=Tt.return;h!==null;){var p=h;switch(Am(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Nh();break;case 3:Ba(),st(gn),st(Xt),Fm();break;case 5:Lm(p);break;case 4:Ba();break;case 13:st(ht);break;case 19:st(ht);break;case 10:Pm(p.type._context);break;case 22:case 23:gg()}h=h.return}if($t=o,Tt=o=ws(o.current,null),qt=Ln=l,kt=0,Lc=null,cg=nd=Io=0,vn=Vc=null,To!==null){for(l=0;l<To.length;l++)if(h=To[l],p=h.interleaved,p!==null){h.interleaved=null;var g=p.next,E=h.pending;if(E!==null){var S=E.next;E.next=g,p.next=S}h.pending=p}To=null}return o}function Kw(o,l){do{var h=Tt;try{if(Rm(),Wh.current=Yh,Kh){for(var p=dt.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}Kh=!1}if(Ao=0,Ft=Ct=dt=null,Rc=!1,Pc=0,lg.current=null,h===null||h.return===null){kt=1,Lc=l,Tt=null;break}e:{var E=o,S=h.return,V=h,F=l;if(l=qt,V.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var Q=F,ne=V,se=ne.tag;if((ne.mode&1)===0&&(se===0||se===11||se===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var _e=_w(S);if(_e!==null){_e.flags&=-257,yw(_e,S,V,E,l),_e.mode&1&&gw(E,Q,l),l=_e,F=Q;var we=l.updateQueue;if(we===null){var be=new Set;be.add(F),l.updateQueue=be}else we.add(F);break e}else{if((l&1)===0){gw(E,Q,l),_g();break e}F=Error(t(426))}}else if(lt&&V.mode&1){var Et=_w(S);if(Et!==null){(Et.flags&65536)===0&&(Et.flags|=256),yw(Et,S,V,E,l),Cm(Ha(F,V));break e}}E=F=Ha(F,V),kt!==4&&(kt=2),Vc===null?Vc=[E]:Vc.push(E),E=S;do{switch(E.tag){case 3:E.flags|=65536,l&=-l,E.lanes|=l;var K=pw(E,F,l);UE(E,K);break e;case 1:V=F;var U=E.type,G=E.stateNode;if((E.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(_s===null||!_s.has(G)))){E.flags|=65536,l&=-l,E.lanes|=l;var le=mw(E,V,l);UE(E,le);break e}}E=E.return}while(E!==null)}Yw(h)}catch(Te){l=Te,Tt===h&&h!==null&&(Tt=h=h.return);continue}break}while(!0)}function qw(){var o=td.current;return td.current=Yh,o===null?Yh:o}function _g(){(kt===0||kt===3||kt===2)&&(kt=4),$t===null||(Io&268435455)===0&&(nd&268435455)===0||Es($t,qt)}function ld(o,l){var h=Ge;Ge|=2;var p=qw();($t!==o||qt!==l)&&(xi=null,Co(o,l));do try{dR();break}catch(g){Kw(o,g)}while(!0);if(Rm(),Ge=h,td.current=p,Tt!==null)throw Error(t(261));return $t=null,qt=0,kt}function dR(){for(;Tt!==null;)Gw(Tt)}function fR(){for(;Tt!==null&&!sh();)Gw(Tt)}function Gw(o){var l=Jw(o.alternate,o,Ln);o.memoizedProps=o.pendingProps,l===null?Yw(o):Tt=l,lg.current=null}function Yw(o){var l=o;do{var h=l.alternate;if(o=l.return,(l.flags&32768)===0){if(h=sR(h,l,Ln),h!==null){Tt=h;return}}else{if(h=oR(h,l),h!==null){h.flags&=32767,Tt=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{kt=6,Tt=null;return}}if(l=l.sibling,l!==null){Tt=l;return}Tt=l=o}while(l!==null);kt===0&&(kt=5)}function ko(o,l,h){var p=ze,g=Zn.transition;try{Zn.transition=null,ze=1,pR(o,l,h,p)}finally{Zn.transition=g,ze=p}return null}function pR(o,l,h,p){do Ga();while(ys!==null);if((Ge&6)!==0)throw Error(t(327));h=o.finishedWork;var g=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var E=h.lanes|h.childLanes;if(et(o,E),o===$t&&(Tt=$t=null,qt=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||id||(id=!0,Zw(Kn,function(){return Ga(),null})),E=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||E){E=Zn.transition,Zn.transition=null;var S=ze;ze=1;var V=Ge;Ge|=4,lg.current=null,lR(o,h),$w(h,o),Dk(_m),as=!!gm,_m=gm=null,o.current=h,cR(h),em(),Ge=V,ze=S,Zn.transition=E}else o.current=h;if(id&&(id=!1,ys=o,sd=g),E=o.pendingLanes,E===0&&(_s=null),lh(h.stateNode),En(o,nt()),l!==null)for(p=o.onRecoverableError,h=0;h<l.length;h++)g=l[h],p(g.value,{componentStack:g.stack,digest:g.digest});if(rd)throw rd=!1,o=hg,hg=null,o;return(sd&1)!==0&&o.tag!==0&&Ga(),E=o.pendingLanes,(E&1)!==0?o===dg?Fc++:(Fc=0,dg=o):Fc=0,fs(),null}function Ga(){if(ys!==null){var o=ss(sd),l=Zn.transition,h=ze;try{if(Zn.transition=null,ze=16>o?16:o,ys===null)var p=!1;else{if(o=ys,ys=null,sd=0,(Ge&6)!==0)throw Error(t(331));var g=Ge;for(Ge|=4,Ee=o.current;Ee!==null;){var E=Ee,S=E.child;if((Ee.flags&16)!==0){var V=E.deletions;if(V!==null){for(var F=0;F<V.length;F++){var Q=V[F];for(Ee=Q;Ee!==null;){var ne=Ee;switch(ne.tag){case 0:case 11:case 15:Mc(8,ne,E)}var se=ne.child;if(se!==null)se.return=ne,Ee=se;else for(;Ee!==null;){ne=Ee;var te=ne.sibling,_e=ne.return;if(Dw(ne),ne===Q){Ee=null;break}if(te!==null){te.return=_e,Ee=te;break}Ee=_e}}}var we=E.alternate;if(we!==null){var be=we.child;if(be!==null){we.child=null;do{var Et=be.sibling;be.sibling=null,be=Et}while(be!==null)}}Ee=E}}if((E.subtreeFlags&2064)!==0&&S!==null)S.return=E,Ee=S;else e:for(;Ee!==null;){if(E=Ee,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Mc(9,E,E.return)}var K=E.sibling;if(K!==null){K.return=E.return,Ee=K;break e}Ee=E.return}}var U=o.current;for(Ee=U;Ee!==null;){S=Ee;var G=S.child;if((S.subtreeFlags&2064)!==0&&G!==null)G.return=S,Ee=G;else e:for(S=U;Ee!==null;){if(V=Ee,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:ed(9,V)}}catch(Te){gt(V,V.return,Te)}if(V===S){Ee=null;break e}var le=V.sibling;if(le!==null){le.return=V.return,Ee=le;break e}Ee=V.return}}if(Ge=g,fs(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(ho,o)}catch{}p=!0}return p}finally{ze=h,Zn.transition=l}}return!1}function Qw(o,l,h){l=Ha(h,l),l=pw(o,l,1),o=ms(o,l,1),l=cn(),o!==null&&(rs(o,1,l),En(o,l))}function gt(o,l,h){if(o.tag===3)Qw(o,o,h);else for(;l!==null;){if(l.tag===3){Qw(l,o,h);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(_s===null||!_s.has(p))){o=Ha(h,o),o=mw(l,o,1),l=ms(l,o,1),o=cn(),l!==null&&(rs(l,1,o),En(l,o));break}}l=l.return}}function mR(o,l,h){var p=o.pingCache;p!==null&&p.delete(l),l=cn(),o.pingedLanes|=o.suspendedLanes&h,$t===o&&(qt&h)===h&&(kt===4||kt===3&&(qt&130023424)===qt&&500>nt()-ug?Co(o,0):cg|=h),En(o,l)}function Xw(o,l){l===0&&((o.mode&1)===0?l=1:(l=_a,_a<<=1,(_a&130023424)===0&&(_a=4194304)));var h=cn();o=Si(o,l),o!==null&&(rs(o,l,h),En(o,h))}function gR(o){var l=o.memoizedState,h=0;l!==null&&(h=l.retryLane),Xw(o,h)}function _R(o,l){var h=0;switch(o.tag){case 13:var p=o.stateNode,g=o.memoizedState;g!==null&&(h=g.retryLane);break;case 19:p=o.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(l),Xw(o,h)}var Jw;Jw=function(o,l,h){if(o!==null)if(o.memoizedProps!==l.pendingProps||gn.current)yn=!0;else{if((o.lanes&h)===0&&(l.flags&128)===0)return yn=!1,iR(o,l,h);yn=(o.flags&131072)!==0}else yn=!1,lt&&(l.flags&1048576)!==0&&PE(l,Vh,l.index);switch(l.lanes=0,l.tag){case 2:var p=l.type;Jh(o,l),o=l.pendingProps;var g=La(l,Xt.current);za(l,h),g=Um(null,l,p,o,g,h);var E=zm();return l.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,_n(p)?(E=!0,Dh(l)):E=!1,l.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Dm(l),g.updater=Qh,l.stateNode=g,g._reactInternals=l,Gm(l,p,o,h),l=Jm(null,l,p,!0,E,h)):(l.tag=0,lt&&E&&Sm(l),ln(null,l,g,h),l=l.child),l;case 16:p=l.elementType;e:{switch(Jh(o,l),o=l.pendingProps,g=p._init,p=g(p._payload),l.type=p,g=l.tag=vR(p),o=Tr(p,o),g){case 0:l=Xm(null,l,p,o,h);break e;case 1:l=Sw(null,l,p,o,h);break e;case 11:l=vw(null,l,p,o,h);break e;case 14:l=Ew(null,l,p,Tr(p.type,o),h);break e}throw Error(t(306,p,""))}return l;case 0:return p=l.type,g=l.pendingProps,g=l.elementType===p?g:Tr(p,g),Xm(o,l,p,g,h);case 1:return p=l.type,g=l.pendingProps,g=l.elementType===p?g:Tr(p,g),Sw(o,l,p,g,h);case 3:e:{if(Aw(l),o===null)throw Error(t(387));p=l.pendingProps,E=l.memoizedState,g=E.element,jE(o,l),Bh(l,p,null,h);var S=l.memoizedState;if(p=S.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){g=Ha(Error(t(423)),l),l=Iw(o,l,p,h,g);break e}else if(p!==g){g=Ha(Error(t(424)),l),l=Iw(o,l,p,h,g);break e}else for(Mn=us(l.stateNode.containerInfo.firstChild),Dn=l,lt=!0,br=null,h=FE(l,null,p,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if($a(),p===g){l=Ii(o,l,h);break e}ln(o,l,p,h)}l=l.child}return l;case 5:return BE(l),o===null&&xm(l),p=l.type,g=l.pendingProps,E=o!==null?o.memoizedProps:null,S=g.children,ym(p,g)?S=null:E!==null&&ym(p,E)&&(l.flags|=32),Tw(o,l),ln(o,l,S,h),l.child;case 6:return o===null&&xm(l),null;case 13:return xw(o,l,h);case 4:return Mm(l,l.stateNode.containerInfo),p=l.pendingProps,o===null?l.child=ja(l,null,p,h):ln(o,l,p,h),l.child;case 11:return p=l.type,g=l.pendingProps,g=l.elementType===p?g:Tr(p,g),vw(o,l,p,g,h);case 7:return ln(o,l,l.pendingProps,h),l.child;case 8:return ln(o,l,l.pendingProps.children,h),l.child;case 12:return ln(o,l,l.pendingProps.children,h),l.child;case 10:e:{if(p=l.type._context,g=l.pendingProps,E=l.memoizedProps,S=g.value,rt(jh,p._currentValue),p._currentValue=S,E!==null)if(wr(E.value,S)){if(E.children===g.children&&!gn.current){l=Ii(o,l,h);break e}}else for(E=l.child,E!==null&&(E.return=l);E!==null;){var V=E.dependencies;if(V!==null){S=E.child;for(var F=V.firstContext;F!==null;){if(F.context===p){if(E.tag===1){F=Ai(-1,h&-h),F.tag=2;var Q=E.updateQueue;if(Q!==null){Q=Q.shared;var ne=Q.pending;ne===null?F.next=F:(F.next=ne.next,ne.next=F),Q.pending=F}}E.lanes|=h,F=E.alternate,F!==null&&(F.lanes|=h),Om(E.return,h,l),V.lanes|=h;break}F=F.next}}else if(E.tag===10)S=E.type===l.type?null:E.child;else if(E.tag===18){if(S=E.return,S===null)throw Error(t(341));S.lanes|=h,V=S.alternate,V!==null&&(V.lanes|=h),Om(S,h,l),S=E.sibling}else S=E.child;if(S!==null)S.return=E;else for(S=E;S!==null;){if(S===l){S=null;break}if(E=S.sibling,E!==null){E.return=S.return,S=E;break}S=S.return}E=S}ln(o,l,g.children,h),l=l.child}return l;case 9:return g=l.type,p=l.pendingProps.children,za(l,h),g=Xn(g),p=p(g),l.flags|=1,ln(o,l,p,h),l.child;case 14:return p=l.type,g=Tr(p,l.pendingProps),g=Tr(p.type,g),Ew(o,l,p,g,h);case 15:return ww(o,l,l.type,l.pendingProps,h);case 17:return p=l.type,g=l.pendingProps,g=l.elementType===p?g:Tr(p,g),Jh(o,l),l.tag=1,_n(p)?(o=!0,Dh(l)):o=!1,za(l,h),dw(l,p,g),Gm(l,p,g,h),Jm(null,l,p,!0,o,h);case 19:return kw(o,l,h);case 22:return bw(o,l,h)}throw Error(t(156,l.tag))};function Zw(o,l){return ma(o,l)}function yR(o,l,h,p){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(o,l,h,p){return new yR(o,l,h,p)}function yg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function vR(o){if(typeof o=="function")return yg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===M)return 11;if(o===me)return 14}return 2}function ws(o,l){var h=o.alternate;return h===null?(h=er(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,l=o.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function cd(o,l,h,p,g,E){var S=2;if(p=o,typeof o=="function")yg(o)&&(S=1);else if(typeof o=="string")S=5;else e:switch(o){case k:return Ro(h.children,g,E,l);case C:S=8,g|=8;break;case R:return o=er(12,h,l,g|2),o.elementType=R,o.lanes=E,o;case D:return o=er(13,h,l,g),o.elementType=D,o.lanes=E,o;case ye:return o=er(19,h,l,g),o.elementType=ye,o.lanes=E,o;case de:return ud(h,g,E,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case x:S=10;break e;case N:S=9;break e;case M:S=11;break e;case me:S=14;break e;case he:S=16,p=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return l=er(S,h,l,g),l.elementType=o,l.type=p,l.lanes=E,l}function Ro(o,l,h,p){return o=er(7,o,p,l),o.lanes=h,o}function ud(o,l,h,p){return o=er(22,o,p,l),o.elementType=de,o.lanes=h,o.stateNode={isHidden:!1},o}function vg(o,l,h){return o=er(6,o,null,l),o.lanes=h,o}function Eg(o,l,h){return l=er(4,o.children!==null?o.children:[],o.key,l),l.lanes=h,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function ER(o,l,h,p,g){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ns(0),this.expirationTimes=ns(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ns(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function wg(o,l,h,p,g,E,S,V,F){return o=new ER(o,l,h,V,F),l===1?(l=1,E===!0&&(l|=8)):l=0,E=er(3,null,null,l),o.current=E,E.stateNode=o,E.memoizedState={element:p,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dm(E),o}function wR(o,l,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:p==null?null:""+p,children:o,containerInfo:l,implementation:h}}function e0(o){if(!o)return ds;o=o._reactInternals;e:{if(pr(o)!==o||o.tag!==1)throw Error(t(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(_n(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(o.tag===1){var h=o.type;if(_n(h))return CE(o,h,l)}return l}function t0(o,l,h,p,g,E,S,V,F){return o=wg(h,p,!0,o,g,E,S,V,F),o.context=e0(null),h=o.current,p=cn(),g=vs(h),E=Ai(p,g),E.callback=l??null,ms(h,E,g),o.current.lanes=g,rs(o,g,p),En(o,p),o}function hd(o,l,h,p){var g=l.current,E=cn(),S=vs(g);return h=e0(h),l.context===null?l.context=h:l.pendingContext=h,l=Ai(E,S),l.payload={element:o},p=p===void 0?null:p,p!==null&&(l.callback=p),o=ms(g,l,S),o!==null&&(Ir(o,g,S,E),zh(o,g,S)),S}function dd(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function n0(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<l?h:l}}function bg(o,l){n0(o,l),(o=o.alternate)&&n0(o,l)}function bR(){return null}var r0=typeof reportError=="function"?reportError:function(o){console.error(o)};function Tg(o){this._internalRoot=o}fd.prototype.render=Tg.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(t(409));hd(o,l,null,null)},fd.prototype.unmount=Tg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;xo(function(){hd(null,o,null,null)}),l[Ei]=null}};function fd(o){this._internalRoot=o}fd.prototype.unstable_scheduleHydration=function(o){if(o){var l=fh();o={blockedOn:null,target:o,priority:l};for(var h=0;h<Ur.length&&l!==0&&l<Ur[h].priority;h++);Ur.splice(h,0,o),h===0&&gh(o)}};function Sg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function pd(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function i0(){}function TR(o,l,h,p,g){if(g){if(typeof p=="function"){var E=p;p=function(){var Q=dd(S);E.call(Q)}}var S=t0(l,p,o,0,null,!1,!1,"",i0);return o._reactRootContainer=S,o[Ei]=S.current,bc(o.nodeType===8?o.parentNode:o),xo(),S}for(;g=o.lastChild;)o.removeChild(g);if(typeof p=="function"){var V=p;p=function(){var Q=dd(F);V.call(Q)}}var F=wg(o,0,!1,null,null,!1,!1,"",i0);return o._reactRootContainer=F,o[Ei]=F.current,bc(o.nodeType===8?o.parentNode:o),xo(function(){hd(l,F,h,p)}),F}function md(o,l,h,p,g){var E=h._reactRootContainer;if(E){var S=E;if(typeof g=="function"){var V=g;g=function(){var F=dd(S);V.call(F)}}hd(l,S,o,g)}else S=TR(h,l,o,g,p);return dd(S)}hh=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var h=ts(l.pendingLanes);h!==0&&(is(l,h|1),En(l,nt()),(Ge&6)===0&&(qa=nt()+500,fs()))}break;case 13:xo(function(){var p=Si(o,1);if(p!==null){var g=cn();Ir(p,o,1,g)}}),bg(o,1)}},ya=function(o){if(o.tag===13){var l=Si(o,134217728);if(l!==null){var h=cn();Ir(l,o,134217728,h)}bg(o,134217728)}},dh=function(o){if(o.tag===13){var l=vs(o),h=Si(o,l);if(h!==null){var p=cn();Ir(h,o,l,p)}bg(o,l)}},fh=function(){return ze},ph=function(o,l){var h=ze;try{return ze=o,l()}finally{ze=h}},ca=function(o,l,h){switch(l){case"input":if(hr(o,h),l=h.name,h.type==="radio"&&l!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var p=h[l];if(p!==o&&p.form===o.form){var g=Oh(p);if(!g)throw Error(t(90));zt(p),hr(p,g)}}}break;case"textarea":Vr(o,h);break;case"select":l=h.value,l!=null&&fn(o,!!h.multiple,l,!1)}},oo=mg,rc=xo;var SR={usingClientEntryPoint:!1,Events:[Ac,Da,Oh,$r,nc,mg]},$c={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AR={bundleType:$c.bundleType,version:$c.version,rendererPackageName:$c.rendererPackageName,rendererConfig:$c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=oc(o),o===null?null:o.stateNode},findFiberByHostInstance:$c.findFiberByHostInstance||bR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gd.isDisabled&&gd.supportsFiber)try{ho=gd.inject(AR),Rn=gd}catch{}}return wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SR,wn.createPortal=function(o,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sg(l))throw Error(t(200));return wR(o,l,null,h)},wn.createRoot=function(o,l){if(!Sg(o))throw Error(t(299));var h=!1,p="",g=r0;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(g=l.onRecoverableError)),l=wg(o,1,!1,null,null,h,!1,p,g),o[Ei]=l.current,bc(o.nodeType===8?o.parentNode:o),new Tg(l)},wn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=oc(l),o=o===null?null:o.stateNode,o},wn.flushSync=function(o){return xo(o)},wn.hydrate=function(o,l,h){if(!pd(l))throw Error(t(200));return md(null,o,l,!0,h)},wn.hydrateRoot=function(o,l,h){if(!Sg(o))throw Error(t(405));var p=h!=null&&h.hydratedSources||null,g=!1,E="",S=r0;if(h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onRecoverableError!==void 0&&(S=h.onRecoverableError)),l=t0(l,null,o,1,h??null,g,!1,E,S),o[Ei]=l.current,bc(o),p)for(o=0;o<p.length;o++)h=p[o],g=h._getVersion,g=g(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,g]:l.mutableSourceEagerHydrationData.push(h,g);return new fd(l)},wn.render=function(o,l,h){if(!pd(l))throw Error(t(200));return md(null,o,l,!1,h)},wn.unmountComponentAtNode=function(o){if(!pd(o))throw Error(t(40));return o._reactRootContainer?(xo(function(){md(null,null,o,!1,function(){o._reactRootContainer=null,o[Ei]=null})}),!0):!1},wn.unstable_batchedUpdates=mg,wn.unstable_renderSubtreeIntoContainer=function(o,l,h,p){if(!pd(h))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return md(o,l,h,!1,p)},wn.version="18.3.1-next-f1338f8080-20240426",wn}var d0;function MR(){if(d0)return xg.exports;d0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),xg.exports=DR(),xg.exports}var f0;function LR(){if(f0)return _d;f0=1;var n=MR();return _d.createRoot=n.createRoot,_d.hydrateRoot=n.hydrateRoot,_d}var VR=LR(),Uc={},p0;function FR(){if(p0)return Uc;p0=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.parse=a,Uc.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function a(y,w){const T=new s,I=y.length;if(I<2)return T;const A=(w==null?void 0:w.decode)||m;let O=0;do{const L=y.indexOf("=",O);if(L===-1)break;const $=y.indexOf(";",O),z=$===-1?I:$;if(L>z){O=y.lastIndexOf(";",L-1)+1;continue}const H=c(y,O,L),j=u(y,L,H),k=y.slice(H,j);if(T[k]===void 0){let C=c(y,L+1,z),R=u(y,z,C);const x=A(y.slice(C,R));T[k]=x}O=z+1}while(O<I);return T}function c(y,w,T){do{const I=y.charCodeAt(w);if(I!==32&&I!==9)return w}while(++w<T);return T}function u(y,w,T){for(;w>T;){const I=y.charCodeAt(--w);if(I!==32&&I!==9)return w+1}return T}function d(y,w,T){const I=(T==null?void 0:T.encode)||encodeURIComponent;if(!n.test(y))throw new TypeError(`argument name is invalid: ${y}`);const A=I(w);if(!e.test(A))throw new TypeError(`argument val is invalid: ${w}`);let O=y+"="+A;if(!T)return O;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);O+="; Max-Age="+T.maxAge}if(T.domain){if(!t.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);O+="; Domain="+T.domain}if(T.path){if(!r.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);O+="; Path="+T.path}if(T.expires){if(!_(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);O+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(O+="; HttpOnly"),T.secure&&(O+="; Secure"),T.partitioned&&(O+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return O}function m(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function _(y){return i.call(y)==="[object Date]"}return Uc}FR();var m0="popstate";function $R(n={}){function e(r,i){let{pathname:s,search:a,hash:c}=r.location;return w_("",{pathname:s,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Tu(i)}return UR(e,t,null,n)}function ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Cr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jR(){return Math.random().toString(36).substring(2,10)}function g0(n,e){return{usr:n.state,key:n.key,idx:e}}function w_(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ml(e):e,state:t,key:e&&e.key||r||jR()}}function Tu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ml(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function UR(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,c="POP",u=null,d=m();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function m(){return(a.state||{idx:null}).idx}function _(){c="POP";let A=m(),O=A==null?null:A-d;d=A,u&&u({action:c,location:I.location,delta:O})}function y(A,O){c="PUSH";let L=w_(I.location,A,O);d=m()+1;let $=g0(L,d),z=I.createHref(L);try{a.pushState($,"",z)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;i.location.assign(z)}s&&u&&u({action:c,location:I.location,delta:1})}function w(A,O){c="REPLACE";let L=w_(I.location,A,O);d=m();let $=g0(L,d),z=I.createHref(L);a.replaceState($,"",z),s&&u&&u({action:c,location:I.location,delta:0})}function T(A){return zR(A)}let I={get action(){return c},get location(){return n(i,a)},listen(A){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(m0,_),u=A,()=>{i.removeEventListener(m0,_),u=null}},createHref(A){return e(i,A)},createURL:T,encodeLocation(A){let O=T(A);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:y,replace:w,go(A){return a.go(A)}};return I}function zR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ut(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Tu(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function hA(n,e,t="/"){return BR(n,e,t,!1)}function BR(n,e,t,r){let i=typeof e=="string"?Ml(e):e,s=Ui(i.pathname||"/",t);if(s==null)return null;let a=dA(n);HR(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let d=tP(s);c=ZR(a[u],d,r)}return c}function dA(n,e=[],t=[],r=""){let i=(s,a,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(ut(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let d=Vi([r,u.relativePath]),m=t.concat(u);s.children&&s.children.length>0&&(ut(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),dA(s.children,e,m,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:XR(d,s.index),routesMeta:m})};return n.forEach((s,a)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,a);else for(let u of fA(s.path))i(s,a,u)}),e}function fA(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=fA(r.join("/")),c=[];return c.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&c.push(...a),c.map(u=>n.startsWith("/")&&u===""?"/":u)}function HR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:JR(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var WR=/^:[\w-]+$/,KR=3,qR=2,GR=1,YR=10,QR=-2,_0=n=>n==="*";function XR(n,e){let t=n.split("/"),r=t.length;return t.some(_0)&&(r+=QR),e&&(r+=qR),t.filter(i=>!_0(i)).reduce((i,s)=>i+(WR.test(s)?KR:s===""?GR:YR),r)}function JR(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function ZR(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",a=[];for(let c=0;c<r.length;++c){let u=r[c],d=c===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",_=If({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},m),y=u.route;if(!_&&d&&t&&!r[r.length-1].route.index&&(_=If({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!_)return null;Object.assign(i,_.params),a.push({params:i,pathname:Vi([s,_.pathname]),pathnameBase:sP(Vi([s,_.pathnameBase])),route:y}),_.pathnameBase!=="/"&&(s=Vi([s,_.pathnameBase]))}return a}function If(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=eP(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((d,{paramName:m,isOptional:_},y)=>{if(m==="*"){let T=c[y]||"";a=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const w=c[y];return _&&!w?d[m]=void 0:d[m]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:n}}function eP(n,e=!1,t=!0){Cr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function tP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ui(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function nP(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Ml(n):n;return{pathname:t?t.startsWith("/")?t:rP(t,e):e,search:oP(r),hash:aP(i)}}function rP(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Rg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function my(n){let e=iP(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function gy(n,e,t,r=!1){let i;typeof n=="string"?i=Ml(n):(i={...n},ut(!i.pathname||!i.pathname.includes("?"),Rg("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),Rg("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),Rg("#","search","hash",i)));let s=n===""||i.pathname==="",a=s?"/":i.pathname,c;if(a==null)c=t;else{let _=e.length-1;if(!r&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),_-=1;i.pathname=y.join("/")}c=_>=0?e[_]:"/"}let u=nP(i,c),d=a&&a!=="/"&&a.endsWith("/"),m=(s||a===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(d||m)&&(u.pathname+="/"),u}var Vi=n=>n.join("/").replace(/\/\/+/g,"/"),sP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),oP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,aP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function lP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var pA=["POST","PUT","PATCH","DELETE"];new Set(pA);var cP=["GET",...pA];new Set(cP);var Ll=q.createContext(null);Ll.displayName="DataRouter";var dp=q.createContext(null);dp.displayName="DataRouterState";var mA=q.createContext({isTransitioning:!1});mA.displayName="ViewTransition";var uP=q.createContext(new Map);uP.displayName="Fetchers";var hP=q.createContext(null);hP.displayName="Await";var Pr=q.createContext(null);Pr.displayName="Navigation";var Vu=q.createContext(null);Vu.displayName="Location";var di=q.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var _y=q.createContext(null);_y.displayName="RouteError";function dP(n,{relative:e}={}){ut(Vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=q.useContext(Pr),{hash:i,pathname:s,search:a}=Fu(n,{relative:e}),c=s;return t!=="/"&&(c=s==="/"?t:Vi([t,s])),r.createHref({pathname:c,search:a,hash:i})}function Vl(){return q.useContext(Vu)!=null}function Ys(){return ut(Vl(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Vu).location}var gA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _A(n){q.useContext(Pr).static||q.useLayoutEffect(n)}function fp(){let{isDataRoute:n}=q.useContext(di);return n?AP():fP()}function fP(){ut(Vl(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(Ll),{basename:e,navigator:t}=q.useContext(Pr),{matches:r}=q.useContext(di),{pathname:i}=Ys(),s=JSON.stringify(my(r)),a=q.useRef(!1);return _A(()=>{a.current=!0}),q.useCallback((u,d={})=>{if(Cr(a.current,gA),!a.current)return;if(typeof u=="number"){t.go(u);return}let m=gy(u,JSON.parse(s),i,d.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Vi([e,m.pathname])),(d.replace?t.replace:t.push)(m,d.state,d)},[e,t,s,i,n])}q.createContext(null);function Fu(n,{relative:e}={}){let{matches:t}=q.useContext(di),{pathname:r}=Ys(),i=JSON.stringify(my(t));return q.useMemo(()=>gy(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function pP(n,e){return yA(n,e)}function yA(n,e,t,r){var O;ut(Vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=q.useContext(Pr),{matches:s}=q.useContext(di),a=s[s.length-1],c=a?a.params:{},u=a?a.pathname:"/",d=a?a.pathnameBase:"/",m=a&&a.route;{let L=m&&m.path||"";vA(u,!m||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let _=Ys(),y;if(e){let L=typeof e=="string"?Ml(e):e;ut(d==="/"||((O=L.pathname)==null?void 0:O.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${L.pathname}" was given in the \`location\` prop.`),y=L}else y=_;let w=y.pathname||"/",T=w;if(d!=="/"){let L=d.replace(/^\//,"").split("/");T="/"+w.replace(/^\//,"").split("/").slice(L.length).join("/")}let I=hA(n,{pathname:T});Cr(m||I!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Cr(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=vP(I&&I.map(L=>Object.assign({},L,{params:Object.assign({},c,L.params),pathname:Vi([d,i.encodeLocation?i.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?d:Vi([d,i.encodeLocation?i.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),s,t,r);return e&&A?q.createElement(Vu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},A):A}function mP(){let n=SP(),e=lP(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:s},"ErrorBoundary")," or"," ",q.createElement("code",{style:s},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:i},t):null,a)}var gP=q.createElement(mP,null),_P=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?q.createElement(di.Provider,{value:this.props.routeContext},q.createElement(_y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yP({routeContext:n,match:e,children:t}){let r=q.useContext(Ll);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(di.Provider,{value:n},t)}function vP(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let u=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);ut(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let a=!1,c=-1;if(t)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:m,errors:_}=t,y=d.route.loader&&!m.hasOwnProperty(d.route.id)&&(!_||_[d.route.id]===void 0);if(d.route.lazy||y){a=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,d,m)=>{let _,y=!1,w=null,T=null;t&&(_=s&&d.route.id?s[d.route.id]:void 0,w=d.route.errorElement||gP,a&&(c<0&&m===0?(vA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,T=null):c===m&&(y=!0,T=d.route.hydrateFallbackElement||null)));let I=e.concat(i.slice(0,m+1)),A=()=>{let O;return _?O=w:y?O=T:d.route.Component?O=q.createElement(d.route.Component,null):d.route.element?O=d.route.element:O=u,q.createElement(yP,{match:d,routeContext:{outlet:u,matches:I,isDataRoute:t!=null},children:O})};return t&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?q.createElement(_P,{location:t.location,revalidation:t.revalidation,component:w,error:_,children:A(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):A()},null)}function yy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EP(n){let e=q.useContext(Ll);return ut(e,yy(n)),e}function wP(n){let e=q.useContext(dp);return ut(e,yy(n)),e}function bP(n){let e=q.useContext(di);return ut(e,yy(n)),e}function vy(n){let e=bP(n),t=e.matches[e.matches.length-1];return ut(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function TP(){return vy("useRouteId")}function SP(){var r;let n=q.useContext(_y),e=wP("useRouteError"),t=vy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function AP(){let{router:n}=EP("useNavigate"),e=vy("useNavigate"),t=q.useRef(!1);return _A(()=>{t.current=!0}),q.useCallback(async(i,s={})=>{Cr(t.current,gA),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var y0={};function vA(n,e,t){!e&&!y0[n]&&(y0[n]=!0,Cr(!1,t))}q.memo(IP);function IP({routes:n,future:e,state:t}){return yA(n,void 0,t,e)}function xP({to:n,replace:e,state:t,relative:r}){ut(Vl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=q.useContext(Pr);Cr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=q.useContext(di),{pathname:a}=Ys(),c=fp(),u=gy(n,my(s),a,r==="path"),d=JSON.stringify(u);return q.useEffect(()=>{c(JSON.parse(d),{replace:e,state:t,relative:r})},[c,d,r,e,t]),null}function Yd(n){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CP({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){ut(!Vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),c=q.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof t=="string"&&(t=Ml(t));let{pathname:u="/",search:d="",hash:m="",state:_=null,key:y="default"}=t,w=q.useMemo(()=>{let T=Ui(u,a);return T==null?null:{location:{pathname:T,search:d,hash:m,state:_,key:y},navigationType:r}},[a,u,d,m,_,y,r]);return Cr(w!=null,`<Router basename="${a}"> is not able to match the URL "${u}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:q.createElement(Pr.Provider,{value:c},q.createElement(Vu.Provider,{children:e,value:w}))}function kP({children:n,location:e}){return pP(b_(n),e)}function b_(n,e=[]){let t=[];return q.Children.forEach(n,(r,i)=>{if(!q.isValidElement(r))return;let s=[...e,i];if(r.type===q.Fragment){t.push.apply(t,b_(r.props.children,s));return}ut(r.type===Yd,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=b_(r.props.children,s)),t.push(a)}),t}var Qd="get",Xd="application/x-www-form-urlencoded";function pp(n){return n!=null&&typeof n.tagName=="string"}function RP(n){return pp(n)&&n.tagName.toLowerCase()==="button"}function PP(n){return pp(n)&&n.tagName.toLowerCase()==="form"}function OP(n){return pp(n)&&n.tagName.toLowerCase()==="input"}function NP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function DP(n,e){return n.button===0&&(!e||e==="_self")&&!NP(n)}var yd=null;function MP(){if(yd===null)try{new FormData(document.createElement("form"),0),yd=!1}catch{yd=!0}return yd}var LP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pg(n){return n!=null&&!LP.has(n)?(Cr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xd}"`),null):n}function VP(n,e){let t,r,i,s,a;if(PP(n)){let c=n.getAttribute("action");r=c?Ui(c,e):null,t=n.getAttribute("method")||Qd,i=Pg(n.getAttribute("enctype"))||Xd,s=new FormData(n)}else if(RP(n)||OP(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||c.getAttribute("action");if(r=u?Ui(u,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Qd,i=Pg(n.getAttribute("formenctype"))||Pg(c.getAttribute("enctype"))||Xd,s=new FormData(c,n),!MP()){let{name:d,type:m,value:_}=n;if(m==="image"){let y=d?`${d}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else d&&s.append(d,_)}}else{if(pp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Qd,r=null,i=Xd,a=n}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:a}}function Ey(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function FP(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $P(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function jP(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await FP(s,t);return a.links?a.links():[]}return[]}));return HP(r.flat(1).filter($P).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function v0(n,e,t,r,i,s){let a=(u,d)=>t[d]?u.route.id!==t[d].route.id:!0,c=(u,d)=>{var m;return t[d].pathname!==u.pathname||((m=t[d].route.path)==null?void 0:m.endsWith("*"))&&t[d].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,d)=>a(u,d)||c(u,d)):s==="data"?e.filter((u,d)=>{var _;let m=r.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(a(u,d)||c(u,d))return!0;if(u.route.shouldRevalidate){let y=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function UP(n,e,{includeHydrateFallback:t}={}){return zP(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function zP(n){return[...new Set(n)]}function BP(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function HP(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(BP(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var WP=new Set([100,101,204,205]);function KP(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ui(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function EA(){let n=q.useContext(Ll);return Ey(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function qP(){let n=q.useContext(dp);return Ey(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var wy=q.createContext(void 0);wy.displayName="FrameworkContext";function wA(){let n=q.useContext(wy);return Ey(n,"You must render this element inside a <HydratedRouter> element"),n}function GP(n,e){let t=q.useContext(wy),[r,i]=q.useState(!1),[s,a]=q.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:d,onMouseLeave:m,onTouchStart:_}=e,y=q.useRef(null);q.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let I=O=>{O.forEach(L=>{a(L.isIntersecting)})},A=new IntersectionObserver(I,{threshold:.5});return y.current&&A.observe(y.current),()=>{A.disconnect()}}},[n]),q.useEffect(()=>{if(r){let I=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(I)}}},[r]);let w=()=>{i(!0)},T=()=>{i(!1),a(!1)};return t?n!=="intent"?[s,y,{}]:[s,y,{onFocus:zc(c,w),onBlur:zc(u,T),onMouseEnter:zc(d,w),onMouseLeave:zc(m,T),onTouchStart:zc(_,w)}]:[!1,y,{}]}function zc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function YP({page:n,...e}){let{router:t}=EA(),r=q.useMemo(()=>hA(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?q.createElement(XP,{page:n,matches:r,...e}):null}function QP(n){let{manifest:e,routeModules:t}=wA(),[r,i]=q.useState([]);return q.useEffect(()=>{let s=!1;return jP(n,e,t).then(a=>{s||i(a)}),()=>{s=!0}},[n,e,t]),r}function XP({page:n,matches:e,...t}){let r=Ys(),{manifest:i,routeModules:s}=wA(),{basename:a}=EA(),{loaderData:c,matches:u}=qP(),d=q.useMemo(()=>v0(n,e,u,i,r,"data"),[n,e,u,i,r]),m=q.useMemo(()=>v0(n,e,u,i,r,"assets"),[n,e,u,i,r]),_=q.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,I=!1;if(e.forEach(O=>{var $;let L=i.routes[O.route.id];!L||!L.hasLoader||(!d.some(z=>z.route.id===O.route.id)&&O.route.id in c&&(($=s[O.route.id])!=null&&$.shouldRevalidate)||L.hasClientLoader?I=!0:T.add(O.route.id))}),T.size===0)return[];let A=KP(n,a);return I&&T.size>0&&A.searchParams.set("_routes",e.filter(O=>T.has(O.route.id)).map(O=>O.route.id).join(",")),[A.pathname+A.search]},[a,c,r,i,d,e,n,s]),y=q.useMemo(()=>UP(m,i),[m,i]),w=QP(m);return q.createElement(q.Fragment,null,_.map(T=>q.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),y.map(T=>q.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),w.map(({key:T,link:I})=>q.createElement("link",{key:T,...I})))}function JP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var bA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bA&&(window.__reactRouterVersion="7.6.2")}catch{}function ZP({basename:n,children:e,window:t}){let r=q.useRef();r.current==null&&(r.current=$R({window:t,v5Compat:!0}));let i=r.current,[s,a]=q.useState({action:i.action,location:i.location}),c=q.useCallback(u=>{q.startTransition(()=>a(u))},[a]);return q.useLayoutEffect(()=>i.listen(c),[i,c]),q.createElement(CP,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var TA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Su=q.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:c,target:u,to:d,preventScrollReset:m,viewTransition:_,...y},w){let{basename:T}=q.useContext(Pr),I=typeof d=="string"&&TA.test(d),A,O=!1;if(typeof d=="string"&&I&&(A=d,bA))try{let R=new URL(window.location.href),x=d.startsWith("//")?new URL(R.protocol+d):new URL(d),N=Ui(x.pathname,T);x.origin===R.origin&&N!=null?d=N+x.search+x.hash:O=!0}catch{Cr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=dP(d,{relative:i}),[$,z,H]=GP(r,y),j=rO(d,{replace:a,state:c,target:u,preventScrollReset:m,relative:i,viewTransition:_});function k(R){e&&e(R),R.defaultPrevented||j(R)}let C=q.createElement("a",{...y,...H,href:A||L,onClick:O||s?e:k,ref:JP(w,z),target:u,"data-discover":!I&&t==="render"?"true":void 0});return $&&!I?q.createElement(q.Fragment,null,C,q.createElement(YP,{page:L})):C});Su.displayName="Link";var eO=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:c,children:u,...d},m){let _=Fu(a,{relative:d.relative}),y=Ys(),w=q.useContext(dp),{navigator:T,basename:I}=q.useContext(Pr),A=w!=null&&lO(_)&&c===!0,O=T.encodeLocation?T.encodeLocation(_).pathname:_.pathname,L=y.pathname,$=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(L=L.toLowerCase(),$=$?$.toLowerCase():null,O=O.toLowerCase()),$&&I&&($=Ui($,I)||$);const z=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let H=L===O||!i&&L.startsWith(O)&&L.charAt(z)==="/",j=$!=null&&($===O||!i&&$.startsWith(O)&&$.charAt(O.length)==="/"),k={isActive:H,isPending:j,isTransitioning:A},C=H?e:void 0,R;typeof r=="function"?R=r(k):R=[r,H?"active":null,j?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let x=typeof s=="function"?s(k):s;return q.createElement(Su,{...d,"aria-current":C,className:R,ref:m,style:x,to:a,viewTransition:c},typeof u=="function"?u(k):u)});eO.displayName="NavLink";var tO=q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:a=Qd,action:c,onSubmit:u,relative:d,preventScrollReset:m,viewTransition:_,...y},w)=>{let T=oO(),I=aO(c,{relative:d}),A=a.toLowerCase()==="get"?"get":"post",O=typeof c=="string"&&TA.test(c),L=$=>{if(u&&u($),$.defaultPrevented)return;$.preventDefault();let z=$.nativeEvent.submitter,H=(z==null?void 0:z.getAttribute("formmethod"))||a;T(z||$.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:i,state:s,relative:d,preventScrollReset:m,viewTransition:_})};return q.createElement("form",{ref:w,method:A,action:I,onSubmit:r?u:L,...y,"data-discover":!O&&n==="render"?"true":void 0})});tO.displayName="Form";function nO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SA(n){let e=q.useContext(Ll);return ut(e,nO(n)),e}function rO(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let c=fp(),u=Ys(),d=Fu(n,{relative:s});return q.useCallback(m=>{if(DP(m,e)){m.preventDefault();let _=t!==void 0?t:Tu(u)===Tu(d);c(n,{replace:_,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[u,c,d,t,r,e,n,i,s,a])}var iO=0,sO=()=>`__${String(++iO)}__`;function oO(){let{router:n}=SA("useSubmit"),{basename:e}=q.useContext(Pr),t=TP();return q.useCallback(async(r,i={})=>{let{action:s,method:a,encType:c,formData:u,body:d}=VP(r,e);if(i.navigate===!1){let m=i.fetcherKey||sO();await n.fetch(m,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||a,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||a,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function aO(n,{relative:e}={}){let{basename:t}=q.useContext(Pr),r=q.useContext(di);ut(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Fu(n||".",{relative:e})},a=Ys();if(n==null){s.search=a.search;let c=new URLSearchParams(s.search),u=c.getAll("index");if(u.some(m=>m==="")){c.delete("index"),u.filter(_=>_).forEach(_=>c.append("index",_));let m=c.toString();s.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Vi([t,s.pathname])),Tu(s)}function lO(n,e={}){let t=q.useContext(mA);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=SA("useViewTransitionState"),i=Fu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Ui(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=Ui(t.nextLocation.pathname,r)||t.nextLocation.pathname;return If(i.pathname,a)!=null||If(i.pathname,s)!=null}[...WP];const cO=()=>{};var E0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},uO=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],a=n[t++],c=n[t++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},IA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],a=i+1<n.length,c=a?n[i+1]:0,u=i+2<n.length,d=u?n[i+2]:0,m=s>>2,_=(s&3)<<4|c>>4;let y=(c&15)<<2|d>>6,w=d&63;u||(w=64,a||(y=64)),r.push(t[m],t[_],t[y],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(AA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):uO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const d=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||d==null||_==null)throw new hO;const y=s<<2|c>>4;if(r.push(y),d!==64){const w=c<<4&240|d>>2;if(r.push(w),_!==64){const T=d<<6&192|_;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class hO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dO=function(n){const e=AA(n);return IA.encodeByteArray(e,!0)},xf=function(n){return dO(n).replace(/\./g,"")},xA=function(n){try{return IA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=()=>fO().__FIREBASE_DEFAULTS__,mO=()=>{if(typeof process>"u"||typeof E0>"u")return;const n=E0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},gO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&xA(n[1]);return e&&JSON.parse(e)},mp=()=>{try{return cO()||pO()||mO()||gO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},CA=n=>{var e,t;return(t=(e=mp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},_O=n=>{const e=CA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},kA=()=>{var n;return(n=mp())===null||n===void 0?void 0:n.config},RA=n=>{var e;return(e=mp())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(n){return n.endsWith(".cloudworkstations.dev")}async function PA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[xf(JSON.stringify(t)),xf(JSON.stringify(a)),""].join(".")}const lu={};function EO(){const n={prod:[],emulator:[]};for(const e of Object.keys(lu))lu[e]?n.emulator.push(e):n.prod.push(e);return n}function wO(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let w0=!1;function OA(n,e){if(typeof window>"u"||typeof document>"u"||!$u(window.location.host)||lu[n]===e||lu[n]||w0)return;lu[n]=e;function t(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=EO().prod.length>0;function a(){const y=document.getElementById(r);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,w){y.setAttribute("width","24"),y.setAttribute("id",w),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{w0=!0,a()},y}function m(y,w){y.setAttribute("id",w),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function _(){const y=wO(r),w=t("text"),T=document.getElementById(w)||document.createElement("span"),I=t("learnmore"),A=document.getElementById(I)||document.createElement("a"),O=t("preprendIcon"),L=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const $=y.element;c($),m(A,I);const z=d();u(L,O),$.append(L,T,A,z),document.body.appendChild($)}s?(T.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function TO(){var n;const e=(n=mp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function AO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IO(){const n=sn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function xO(){return!TO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DA(){try{return typeof indexedDB=="object"}catch{return!1}}function MA(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function CO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="FirebaseError";class Or extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=kO,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ea.prototype.create)}}class ea{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?RO(s,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new Or(i,c,r)}}function RO(n,e){return n.replace(PO,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const PO=/\{\$([^}]+)}/g;function OO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function zi(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],a=e[i];if(b0(s)&&b0(a)){if(!zi(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function b0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Jc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function NO(n,e){const t=new DO(n,e);return t.subscribe.bind(t)}class DO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");MO(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Og),i.error===void 0&&(i.error=Og),i.complete===void 0&&(i.complete=Og);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Og(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=1e3,VO=2,FO=4*60*60*1e3,$O=.5;function T0(n,e=LO,t=VO){const r=e*Math.pow(t,n),i=Math.round($O*r*(Math.random()-.5)*2);return Math.min(FO,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(n){return n&&n._delegate?n._delegate:n}class kr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new yO;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zO(e))try{this.getOrInitializeService({instanceIdentifier:Do})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Do){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Do){return this.instances.has(e)}getOptions(e=Do){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&a.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UO(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Do){return this.component?this.component.multipleInstances?e:Do:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UO(n){return n===Do?void 0:n}function zO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const HO={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},WO=je.INFO,KO={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},qO=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=KO[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gp{constructor(e){this.name=e,this._logLevel=WO,this._logHandler=qO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const GO=(n,e)=>e.some(t=>n instanceof t);let S0,A0;function YO(){return S0||(S0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QO(){return A0||(A0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LA=new WeakMap,T_=new WeakMap,VA=new WeakMap,Ng=new WeakMap,by=new WeakMap;function XO(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(Ds(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&LA.set(t,n)}).catch(()=>{}),by.set(e,n),e}function JO(n){if(T_.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});T_.set(n,e)}let S_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return T_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||VA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ds(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ZO(n){S_=n(S_)}function eN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Dg(this),e,...t);return VA.set(r,e.sort?e.sort():[e]),Ds(r)}:QO().includes(n)?function(...e){return n.apply(Dg(this),e),Ds(LA.get(this))}:function(...e){return Ds(n.apply(Dg(this),e))}}function tN(n){return typeof n=="function"?eN(n):(n instanceof IDBTransaction&&JO(n),GO(n,YO())?new Proxy(n,S_):n)}function Ds(n){if(n instanceof IDBRequest)return XO(n);if(Ng.has(n))return Ng.get(n);const e=tN(n);return e!==n&&(Ng.set(n,e),by.set(e,n)),e}const Dg=n=>by.get(n);function FA(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(n,e),c=Ds(a);return r&&a.addEventListener("upgradeneeded",u=>{r(Ds(a.result),u.oldVersion,u.newVersion,Ds(a.transaction),u)}),t&&a.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const nN=["get","getKey","getAll","getAllKeys","count"],rN=["put","add","delete","clear"],Mg=new Map;function I0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Mg.get(e))return Mg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=rN.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nN.includes(t)))return;const s=async function(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),i&&u.done]))[0]};return Mg.set(e,s),s}ZO(n=>({...n,get:(e,t,r)=>I0(e,t)||n.get(e,t,r),has:(e,t)=>!!I0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(sN(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function sN(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const A_="@firebase/app",x0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new gp("@firebase/app"),oN="@firebase/app-compat",aN="@firebase/analytics-compat",lN="@firebase/analytics",cN="@firebase/app-check-compat",uN="@firebase/app-check",hN="@firebase/auth",dN="@firebase/auth-compat",fN="@firebase/database",pN="@firebase/data-connect",mN="@firebase/database-compat",gN="@firebase/functions",_N="@firebase/functions-compat",yN="@firebase/installations",vN="@firebase/installations-compat",EN="@firebase/messaging",wN="@firebase/messaging-compat",bN="@firebase/performance",TN="@firebase/performance-compat",SN="@firebase/remote-config",AN="@firebase/remote-config-compat",IN="@firebase/storage",xN="@firebase/storage-compat",CN="@firebase/firestore",kN="@firebase/ai",RN="@firebase/firestore-compat",PN="firebase",ON="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="[DEFAULT]",NN={[A_]:"fire-core",[oN]:"fire-core-compat",[lN]:"fire-analytics",[aN]:"fire-analytics-compat",[uN]:"fire-app-check",[cN]:"fire-app-check-compat",[hN]:"fire-auth",[dN]:"fire-auth-compat",[fN]:"fire-rtdb",[pN]:"fire-data-connect",[mN]:"fire-rtdb-compat",[gN]:"fire-fn",[_N]:"fire-fn-compat",[yN]:"fire-iid",[vN]:"fire-iid-compat",[EN]:"fire-fcm",[wN]:"fire-fcm-compat",[bN]:"fire-perf",[TN]:"fire-perf-compat",[SN]:"fire-rc",[AN]:"fire-rc-compat",[IN]:"fire-gcs",[xN]:"fire-gcs-compat",[CN]:"fire-fst",[RN]:"fire-fst-compat",[kN]:"fire-vertex","fire-js":"fire-js",[PN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=new Map,DN=new Map,x_=new Map;function C0(n,e){try{n.container.addComponent(e)}catch(t){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ai(n){const e=n.name;if(x_.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;x_.set(e,n);for(const t of Cf.values())C0(t,n);for(const t of DN.values())C0(t,n);return!0}function ta(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function nr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new ea("app","Firebase",MN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=ON;function $A(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:I_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ms.create("bad-app-name",{appName:String(i)});if(t||(t=kA()),!t)throw Ms.create("no-options");const s=Cf.get(i);if(s){if(zi(t,s.options)&&zi(r,s.config))return s;throw Ms.create("duplicate-app",{appName:i})}const a=new BO(i);for(const u of x_.values())a.addComponent(u);const c=new LN(t,r,a);return Cf.set(i,c),c}function Ty(n=I_){const e=Cf.get(n);if(!e&&n===I_&&kA())return $A();if(!e)throw Ms.create("no-app",{appName:n});return e}function rr(n,e,t){var r;let i=(r=NN[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(c.join(" "));return}ai(new kr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="firebase-heartbeat-database",FN=1,Au="firebase-heartbeat-store";let Lg=null;function jA(){return Lg||(Lg=FA(VN,FN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Au)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ms.create("idb-open",{originalErrorMessage:n.message})})),Lg}async function $N(n){try{const t=(await jA()).transaction(Au),r=await t.objectStore(Au).get(UA(n));return await t.done,r}catch(e){if(e instanceof Or)Bi.warn(e.message);else{const t=Ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bi.warn(t.message)}}}async function k0(n,e){try{const r=(await jA()).transaction(Au,"readwrite");await r.objectStore(Au).put(e,UA(n)),await r.done}catch(t){if(t instanceof Or)Bi.warn(t.message);else{const r=Ms.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Bi.warn(r.message)}}}function UA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=1024,UN=30;class zN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=R0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>UN){const a=WN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Bi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=R0(),{heartbeatsToSend:r,unsentEntries:i}=BN(this._heartbeatsCache.heartbeats),s=xf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Bi.warn(t),""}}}function R0(){return new Date().toISOString().substring(0,10)}function BN(n,e=jN){const t=[];let r=n.slice();for(const i of n){const s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),P0(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),P0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class HN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DA()?MA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $N(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return k0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return k0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function P0(n){return xf(JSON.stringify({version:2,heartbeats:n})).length}function WN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(n){ai(new kr("platform-logger",e=>new iN(e),"PRIVATE")),ai(new kr("heartbeat",e=>new zN(e),"PRIVATE")),rr(A_,x0,n),rr(A_,x0,"esm2017"),rr("fire-js","")}KN("");function Sy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function zA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qN=zA,BA=new ea("auth","Firebase",zA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf=new gp("@firebase/auth");function GN(n,...e){kf.logLevel<=je.WARN&&kf.warn(`Auth (${Fl}): ${n}`,...e)}function Jd(n,...e){kf.logLevel<=je.ERROR&&kf.error(`Auth (${Fl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(n,...e){throw Ay(n,...e)}function ei(n,...e){return Ay(n,...e)}function HA(n,e,t){const r=Object.assign(Object.assign({},qN()),{[e]:t});return new ea("auth","Firebase",r).create(e,{appName:n.name})}function Fi(n){return HA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ay(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return BA.create(n,...e)}function Oe(n,e,...t){if(!n)throw Ay(e,...t)}function Oi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Jd(e),new Error(e)}function Hi(n,e){n||Oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function YN(){return O0()==="http:"||O0()==="https:"}function O0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YN()||NA()||"connection"in navigator)?navigator.onLine:!0}function XN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hi(t>e,"Short delay should be less than long delay!"),this.isMobile=bO()||AO()}get(){return QN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(n,e){Hi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eD=new Uu(3e4,6e4);function Qs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Gi(n,e,t,r,i={}){return KA(n,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const c=ju(Object.assign({key:n.config.apiKey},a)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:e,headers:u},s);return SO()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&$u(n.emulatorConfig.host)&&(d.credentials="include"),WA.fetch()(await qA(n,n.config.apiHost,t,c),d)})}async function KA(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},JN),e);try{const i=new nD(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw vd(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw vd(n,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw vd(n,"email-already-in-use",a);if(u==="USER_DISABLED")throw vd(n,"user-disabled",a);const m=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw HA(n,m,d);Rr(n,m)}}catch(i){if(i instanceof Or)throw i;Rr(n,"network-request-failed",{message:String(i)})}}async function zu(n,e,t,r,i={}){const s=await Gi(n,e,t,r,i);return"mfaPendingCredential"in s&&Rr(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function qA(n,e,t,r){const i=`${e}${t}?${r}`,s=n,a=s.config.emulator?Iy(n.config,i):`${n.config.apiScheme}://${i}`;return ZN.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function tD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ei(this.auth,"network-request-failed")),eD.get())})}}function vd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ei(n,e,r);return i.customData._tokenResponse=t,i}function N0(n){return n!==void 0&&n.enterprise!==void 0}class rD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return tD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iD(n,e){return Gi(n,"GET","/v2/recaptchaConfig",Qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(n,e){return Gi(n,"POST","/v1/accounts:delete",e)}async function Rf(n,e){return Gi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oD(n,e=!1){const t=Mt(n),r=await t.getIdToken(e),i=xy(r);Oe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:cu(Vg(i.auth_time)),issuedAtTime:cu(Vg(i.iat)),expirationTime:cu(Vg(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Vg(n){return Number(n)*1e3}function xy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Jd("JWT malformed, contained fewer than 3 sections"),null;try{const i=xA(t);return i?JSON.parse(i):(Jd("Failed to decode base64 JWT payload"),null)}catch(i){return Jd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function D0(n){const e=xy(n);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Or&&aD(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function aD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pf(n){var e;const t=n.auth,r=await n.getIdToken(),i=await gl(n,Rf(t,{idToken:r}));Oe(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?GA(s.providerUserInfo):[],c=uD(n.providerData,a),u=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!(c!=null&&c.length),m=u?d:!1,_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new k_(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,_)}async function cD(n){const e=Mt(n);await Pf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uD(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function GA(n){return n.map(e=>{var{providerId:t}=e,r=Sy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(n,e){const t=await KA(n,{},async()=>{const r=ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,a=await qA(n,i,"/v1/token",`key=${s}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",WA.fetch()(a,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function dD(n,e){return Gi(n,"POST","/v2/accounts:revokeToken",Qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):D0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const t=D0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await hD(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,a=new cl;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Oe(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Oe(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cl,this.toJSON())}_performRefresh(){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(n,e){Oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class xr{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Sy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new k_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await gl(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return oD(this,e)}reload(){return cD(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Pf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(nr(this.auth.app))return Promise.reject(Fi(this.auth));const e=await this.getIdToken();return await gl(this,sD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,a,c,u,d,m;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,w=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,T=(a=t.photoURL)!==null&&a!==void 0?a:void 0,I=(c=t.tenantId)!==null&&c!==void 0?c:void 0,A=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,O=(d=t.createdAt)!==null&&d!==void 0?d:void 0,L=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:$,emailVerified:z,isAnonymous:H,providerData:j,stsTokenManager:k}=t;Oe($&&k,e,"internal-error");const C=cl.fromJSON(this.name,k);Oe(typeof $=="string",e,"internal-error"),Ts(_,e.name),Ts(y,e.name),Oe(typeof z=="boolean",e,"internal-error"),Oe(typeof H=="boolean",e,"internal-error"),Ts(w,e.name),Ts(T,e.name),Ts(I,e.name),Ts(A,e.name),Ts(O,e.name),Ts(L,e.name);const R=new xr({uid:$,auth:e,email:y,emailVerified:z,displayName:_,isAnonymous:H,photoURL:T,phoneNumber:w,tenantId:I,stsTokenManager:C,createdAt:O,lastLoginAt:L});return j&&Array.isArray(j)&&(R.providerData=j.map(x=>Object.assign({},x))),A&&(R._redirectEventId=A),R}static async _fromIdTokenResponse(e,t,r=!1){const i=new cl;i.updateFromServerResponse(t);const s=new xr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Pf(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Oe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?GA(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new cl;c.updateFromIdToken(r);const u=new xr({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new k_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=new Map;function Ni(n){Hi(n instanceof Function,"Expected a class definition");let e=M0.get(n);return e?(Hi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,M0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}YA.type="NONE";const L0=YA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(n,e,t){return`firebase:${n}:${e}:${t}`}class ul{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Zd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Zd("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Rf(this.auth,{idToken:e}).catch(()=>{});return t?xr._fromGetAccountInfoResponse(this.auth,t,e):null}return xr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ul(Ni(L0),e,r);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Ni(L0);const a=Zd(r,e.config.apiKey,e.name);let c=null;for(const d of t)try{const m=await d._get(a);if(m){let _;if(typeof m=="string"){const y=await Rf(e,{idToken:m}).catch(()=>{});if(!y)break;_=await xr._fromGetAccountInfoResponse(e,y,m)}else _=xr._fromJSON(e,m);d!==s&&(c=_),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new ul(s,e,r):(s=u[0],c&&await s._set(a,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new ul(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tI(e))return"Blackberry";if(nI(e))return"Webos";if(XA(e))return"Safari";if((e.includes("chrome/")||JA(e))&&!e.includes("edge/"))return"Chrome";if(eI(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function QA(n=sn()){return/firefox\//i.test(n)}function XA(n=sn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JA(n=sn()){return/crios\//i.test(n)}function ZA(n=sn()){return/iemobile/i.test(n)}function eI(n=sn()){return/android/i.test(n)}function tI(n=sn()){return/blackberry/i.test(n)}function nI(n=sn()){return/webos/i.test(n)}function Cy(n=sn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function fD(n=sn()){var e;return Cy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pD(){return IO()&&document.documentMode===10}function rI(n=sn()){return Cy(n)||eI(n)||nI(n)||tI(n)||/windows phone/i.test(n)||ZA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(n,e=[]){let t;switch(n){case"Browser":t=V0(sn());break;case"Worker":t=`${V0(sn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Fl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((a,c)=>{try{const u=e(s);a(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(n,e={}){return Gi(n,"GET","/v2/passwordPolicy",Qs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=6;class yD{constructor(e){var t,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:_D,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,a,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F0(this),this.idTokenSubscription=new F0(this),this.beforeStateQueue=new mD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ni(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await ul.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Rf(this,{idToken:e}),r=await xr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(nr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===c)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Pf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(nr(this.app))return Promise.reject(Fi(this));const t=e?Mt(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return nr(this.app)?Promise.reject(Fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return nr(this.app)?Promise.reject(Fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gD(this),t=new yD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ea("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await dD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ni(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=await ul.create(this,[Ni(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,r,i);return()=>{a=!0,u()}}else{const u=e.addObserver(t);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(nr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&GN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function na(n){return Mt(n)}class F0{constructor(e){this.auth=e,this.observer=null,this.addObserver=NO(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _p={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ED(n){_p=n}function sI(n){return _p.loadJS(n)}function wD(){return _p.recaptchaEnterpriseScript}function bD(){return _p.gapiScript}function TD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class SD{constructor(){this.enterprise=new AD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class AD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ID="recaptcha-enterprise",oI="NO_RECAPTCHA";class xD{constructor(e){this.type=ID,this.auth=na(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,c)=>{iD(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new rD(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(u=>{c(u)})})}function i(s,a,c){const u=window.grecaptcha;N0(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(oI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SD().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(c=>{if(!t&&N0(window.grecaptcha))i(c,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=wD();u.length!==0&&(u+=c),sI(u).then(()=>{i(c,s,a)}).catch(d=>{a(d)})}}).catch(c=>{a(c)})})}}async function $0(n,e,t,r=!1,i=!1){const s=new xD(n);let a;if(i)a=oI;else try{a=await s.verify(t)}catch{a=await s.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:a}):Object.assign(c,{captchaResponse:a}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function R_(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await $0(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await $0(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(n,e){const t=ta(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(zi(s,e??{}))return i;Rr(i,"already-initialized")}return t.initialize({options:e})}function kD(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ni);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function RD(n,e,t){const r=na(n);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=aI(e),{host:a,port:c}=PD(e),u=c===null?"":`:${c}`,d={url:`${s}//${a}${u}/`},m=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(zi(d,r.config.emulator)&&zi(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,$u(a)?(PA(`${s}//${a}${u}`),OA("Auth",!0)):OD()}function aI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function PD(n){const e=aI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:j0(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:j0(a)}}}function j0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function OD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,t){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}async function ND(n,e){return Gi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(n,e){return zu(n,"POST","/v1/accounts:signInWithPassword",Qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(n,e){return zu(n,"POST","/v1/accounts:signInWithEmailLink",Qs(n,e))}async function LD(n,e){return zu(n,"POST","/v1/accounts:signInWithEmailLink",Qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends ky{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Iu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Iu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return R_(e,t,"signInWithPassword",DD);case"emailLink":return MD(e,{email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return R_(e,r,"signUpPassword",ND);case"emailLink":return LD(e,{idToken:t,email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(n,e){return zu(n,"POST","/v1/accounts:signInWithIdp",Qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="http://localhost";class Bo extends ky{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Bo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=Sy(t,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Bo(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return hl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,hl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,hl(e,t)}buildRequest(){const e={requestUri:VD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ju(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $D(n){const e=Xc(Jc(n)).link,t=e?Xc(Jc(e)).deep_link_id:null,r=Xc(Jc(n)).deep_link_id;return(r?Xc(Jc(r)).link:null)||r||t||e||n}class Ry{constructor(e){var t,r,i,s,a,c;const u=Xc(Jc(e)),d=(t=u.apiKey)!==null&&t!==void 0?t:null,m=(r=u.oobCode)!==null&&r!==void 0?r:null,_=FD((i=u.mode)!==null&&i!==void 0?i:null);Oe(d&&m&&_,"argument-error"),this.apiKey=d,this.operation=_,this.code=m,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.lang)!==null&&a!==void 0?a:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=$D(e);try{return new Ry(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(){this.providerId=$l.PROVIDER_ID}static credential(e,t){return Iu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Ry.parseLink(t);return Oe(r,"argument-error"),Iu._fromEmailAndCode(e,r.code,r.tenantId)}}$l.PROVIDER_ID="password";$l.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$l.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends lI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Bu{constructor(){super("facebook.com")}static credential(e){return Bo._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.FACEBOOK_SIGN_IN_METHOD="facebook.com";Is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Bo._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return xs.credential(t,r)}catch{return null}}}xs.GOOGLE_SIGN_IN_METHOD="google.com";xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Bu{constructor(){super("github.com")}static credential(e){return Bo._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.GITHUB_SIGN_IN_METHOD="github.com";Cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Bu{constructor(){super("twitter.com")}static credential(e,t){return Bo._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ks.credential(t,r)}catch{return null}}}ks.TWITTER_SIGN_IN_METHOD="twitter.com";ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(n,e){return zu(n,"POST","/v1/accounts:signUp",Qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await xr._fromIdTokenResponse(e,r,i),a=U0(r);return new Ho({user:s,providerId:a,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=U0(r);return new Ho({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function U0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of extends Or{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Of.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Of(e,t,r,i)}}function cI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Of._fromErrorAndOperation(n,s,e,r):s})}async function UD(n,e,t=!1){const r=await gl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ho._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(n,e,t=!1){const{auth:r}=n;if(nr(r.app))return Promise.reject(Fi(r));const i="reauthenticate";try{const s=await gl(n,cI(r,i,e,n),t);Oe(s.idToken,r,"internal-error");const a=xy(s.idToken);Oe(a,r,"internal-error");const{sub:c}=a;return Oe(n.uid===c,r,"user-mismatch"),Ho._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Rr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(n,e,t=!1){if(nr(n.app))return Promise.reject(Fi(n));const r="signIn",i=await cI(n,r,e),s=await Ho._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function BD(n,e){return uI(na(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(n){const e=na(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HD(n,e,t){if(nr(n.app))return Promise.reject(Fi(n));const r=na(n),a=await R_(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jD).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&hI(n),u}),c=await Ho._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function WD(n,e,t){return nr(n.app)?Promise.reject(Fi(n)):BD(Mt(n),$l.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&hI(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(n,e){return Gi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Mt(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},a=await gl(r,KD(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const c=r.providerData.find(({providerId:u})=>u==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function GD(n,e,t,r){return Mt(n).onIdTokenChanged(e,t,r)}function YD(n,e,t){return Mt(n).beforeAuthStateChanged(e,t)}function dI(n,e,t,r){return Mt(n).onAuthStateChanged(e,t,r)}function fI(n){return Mt(n).signOut()}const Nf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Nf,"1"),this.storage.removeItem(Nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=1e3,XD=10;class mI extends pI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!t&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);pD()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,XD):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},QD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}mI.type="LOCAL";const JD=mI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI extends pI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gI.type="SESSION";const _I=gI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new yp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(a).map(async d=>d(t.origin,s)),u=await ZD(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{const d=Py("",20);i.port1.start();const m=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(_){const y=_;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(y.data.response);break;default:clearTimeout(m),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return window}function tM(n){ti().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(){return typeof ti().WorkerGlobalScope<"u"&&typeof ti().importScripts=="function"}async function nM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rM(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function iM(){return yI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="firebaseLocalStorageDb",sM=1,Df="firebaseLocalStorage",EI="fbase_key";class Hu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function vp(n,e){return n.transaction([Df],e?"readwrite":"readonly").objectStore(Df)}function oM(){const n=indexedDB.deleteDatabase(vI);return new Hu(n).toPromise()}function P_(){const n=indexedDB.open(vI,sM);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Df,{keyPath:EI})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Df)?e(r):(r.close(),await oM(),e(await P_()))})})}async function z0(n,e,t){const r=vp(n,!0).put({[EI]:e,value:t});return new Hu(r).toPromise()}async function aM(n,e){const t=vp(n,!1).get(e),r=await new Hu(t).toPromise();return r===void 0?null:r.value}function B0(n,e){const t=vp(n,!0).delete(e);return new Hu(t).toPromise()}const lM=800,cM=3;class wI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await P_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>cM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yp._getInstance(iM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await nM(),!this.activeServiceWorker)return;this.sender=new eM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await P_();return await z0(e,Nf,"1"),await B0(e,Nf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>z0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>aM(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>B0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=vp(i,!1).getAll();return new Hu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wI.type="LOCAL";const uM=wI;new Uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(n,e){return e?Ni(e):(Oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy extends ky{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return hl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function dM(n){return uI(n.auth,new Oy(n),n.bypassAuthState)}function fM(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),zD(t,new Oy(n),n.bypassAuthState)}async function pM(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),UD(t,new Oy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:a,type:c}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dM;case"linkViaPopup":case"linkViaRedirect":return pM;case"reauthViaPopup":case"reauthViaRedirect":return fM;default:Rr(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=new Uu(2e3,1e4);class ol extends bI{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ol.currentPopupAction&&ol.currentPopupAction.cancel(),ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const e=Py();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mM.get())};e()}}ol.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM="pendingRedirect",ef=new Map;class _M extends bI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ef.get(this.auth._key());if(!e){try{const r=await yM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ef.set(this.auth._key(),e)}return this.bypassAuthState||ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yM(n,e){const t=wM(e),r=EM(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function vM(n,e){ef.set(n._key(),e)}function EM(n){return Ni(n._redirectPersistence)}function wM(n){return Zd(gM,n.config.apiKey,n.name)}async function bM(n,e,t=!1){if(nr(n.app))return Promise.reject(Fi(n));const r=na(n),i=hM(r,e),a=await new _M(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=10*60*1e3;class SM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!TI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ei(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TM&&this.cachedEventUids.clear(),this.cachedEventUids.has(H0(e))}saveEventToCache(e){this.cachedEventUids.add(H0(e)),this.lastProcessedEventTime=Date.now()}}function H0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function TI({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(n,e={}){return Gi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CM=/^https?/;async function kM(n){if(n.config.emulator)return;const{authorizedDomains:e}=await IM(n);for(const t of e)try{if(RM(t))return}catch{}Rr(n,"unauthorized-domain")}function RM(n){const e=C_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!CM.test(t))return!1;if(xM.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=new Uu(3e4,6e4);function W0(){const n=ti().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function OM(n){return new Promise((e,t)=>{var r,i,s;function a(){W0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W0(),t(ei(n,"network-request-failed"))},timeout:PM.get()})}if(!((i=(r=ti().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ti().gapi)===null||s===void 0)&&s.load)a();else{const c=TD("iframefcb");return ti()[c]=()=>{gapi.load?a():t(ei(n,"network-request-failed"))},sI(`${bD()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw tf=null,e})}let tf=null;function NM(n){return tf=tf||OM(n),tf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=new Uu(5e3,15e3),MM="__/auth/iframe",LM="emulator/auth/iframe",VM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $M(n){const e=n.config;Oe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Iy(e,LM):`https://${n.config.authDomain}/${MM}`,r={apiKey:e.apiKey,appName:n.name,v:Fl},i=FM.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${ju(r).slice(1)}`}async function jM(n){const e=await NM(n),t=ti().gapi;return Oe(t,n,"internal-error"),e.open({where:document.body,url:$M(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=ei(n,"network-request-failed"),c=ti().setTimeout(()=>{s(a)},DM.get());function u(){ti().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zM=500,BM=600,HM="_blank",WM="http://localhost";class K0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KM(n,e,t,r=zM,i=BM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},UM),{width:r.toString(),height:i.toString(),top:s,left:a}),d=sn().toLowerCase();t&&(c=JA(d)?HM:t),QA(d)&&(e=e||WM,u.scrollbars="yes");const m=Object.entries(u).reduce((y,[w,T])=>`${y}${w}=${T},`,"");if(fD(d)&&c!=="_self")return qM(e||"",c),new K0(null);const _=window.open(e||"",c,m);Oe(_,n,"popup-blocked");try{_.focus()}catch{}return new K0(_)}function qM(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="__/auth/handler",YM="emulator/auth/handler",QM=encodeURIComponent("fac");async function q0(n,e,t,r,i,s){Oe(n.config.authDomain,n,"auth-domain-config-required"),Oe(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Fl,eventId:i};if(e instanceof lI){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",OO(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,_]of Object.entries({}))a[m]=_}if(e instanceof Bu){const m=e.getScopes().filter(_=>_!=="");m.length>0&&(a.scopes=m.join(","))}n.tenantId&&(a.tid=n.tenantId);const c=a;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const u=await n._getAppCheckToken(),d=u?`#${QM}=${encodeURIComponent(u)}`:"";return`${XM(n)}?${ju(c).slice(1)}${d}`}function XM({config:n}){return n.emulator?Iy(n,YM):`https://${n.authDomain}/${GM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="webStorageSupport";class JM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_I,this._completeRedirectFn=bM,this._overrideRedirectResult=vM}async _openPopup(e,t,r,i){var s;Hi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await q0(e,t,r,C_(),i);return KM(e,a,Py())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await q0(e,t,r,C_(),i);return tM(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Hi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await jM(e),r=new SM(e);return t.register("authEvent",i=>(Oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Fg,{type:Fg},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Fg];a!==void 0&&t(!!a),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=kM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return rI()||XA()||Cy()}}const ZM=JM;var G0="@firebase/auth",Y0="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n2(n){ai(new kr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;Oe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iI(n)},d=new vD(r,i,s,u);return kD(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ai(new kr("auth-internal",e=>{const t=na(e.getProvider("auth").getImmediate());return(r=>new e2(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(G0,Y0,t2(n)),rr(G0,Y0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=5*60,i2=RA("authIdTokenMaxAge")||r2;let Q0=null;const s2=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>i2)return;const i=t==null?void 0:t.token;Q0!==i&&(Q0=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function o2(n=Ty()){const e=ta(n,"auth");if(e.isInitialized())return e.getImmediate();const t=CD(n,{popupRedirectResolver:ZM,persistence:[uM,JD,_I]}),r=RA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=s2(s.toString());YD(t,a,()=>a(t.currentUser)),GD(t,c=>a(c))}}const i=CA("auth");return i&&RD(t,`http://${i}`),t}function a2(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ED({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=ei("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",a2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n2("Browser");var l2="firebase",c2="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr(l2,c2,"app");const SI="@firebase/installations",Ny="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=1e4,II=`w:${Ny}`,xI="FIS_v2",u2="https://firebaseinstallations.googleapis.com/v1",h2=60*60*1e3,d2="installations",f2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Wo=new ea(d2,f2,p2);function CI(n){return n instanceof Or&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI({projectId:n}){return`${u2}/projects/${n}/installations`}function RI(n){return{token:n.token,requestStatus:2,expiresIn:g2(n.expiresIn),creationTime:Date.now()}}async function PI(n,e){const r=(await e.json()).error;return Wo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function OI({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function m2(n,{refreshToken:e}){const t=OI(n);return t.append("Authorization",_2(e)),t}async function NI(n){const e=await n();return e.status>=500&&e.status<600?n():e}function g2(n){return Number(n.replace("s","000"))}function _2(n){return`${xI} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=kI(n),i=OI(n),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const a={fid:t,authVersion:xI,appId:n.appId,sdkVersion:II},c={method:"POST",headers:i,body:JSON.stringify(a)},u=await NI(()=>fetch(r,c));if(u.ok){const d=await u.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:RI(d.authToken)}}else throw await PI("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=/^[cdef][\w-]{21}$/,O_="";function w2(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=b2(n);return E2.test(t)?t:O_}catch{return O_}}function b2(n){return v2(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new Map;function LI(n,e){const t=Ep(n);VI(t,e),T2(t,e)}function VI(n,e){const t=MI.get(n);if(t)for(const r of t)r(e)}function T2(n,e){const t=S2();t&&t.postMessage({key:n,fid:e}),A2()}let Lo=null;function S2(){return!Lo&&"BroadcastChannel"in self&&(Lo=new BroadcastChannel("[Firebase] FID Change"),Lo.onmessage=n=>{VI(n.data.key,n.data.fid)}),Lo}function A2(){MI.size===0&&Lo&&(Lo.close(),Lo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="firebase-installations-database",x2=1,Ko="firebase-installations-store";let $g=null;function Dy(){return $g||($g=FA(I2,x2,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ko)}}})),$g}async function Mf(n,e){const t=Ep(n),i=(await Dy()).transaction(Ko,"readwrite"),s=i.objectStore(Ko),a=await s.get(t);return await s.put(e,t),await i.done,(!a||a.fid!==e.fid)&&LI(n,e.fid),e}async function FI(n){const e=Ep(n),r=(await Dy()).transaction(Ko,"readwrite");await r.objectStore(Ko).delete(e),await r.done}async function wp(n,e){const t=Ep(n),i=(await Dy()).transaction(Ko,"readwrite"),s=i.objectStore(Ko),a=await s.get(t),c=e(a);return c===void 0?await s.delete(t):await s.put(c,t),await i.done,c&&(!a||a.fid!==c.fid)&&LI(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function My(n){let e;const t=await wp(n.appConfig,r=>{const i=C2(r),s=k2(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===O_?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function C2(n){const e=n||{fid:w2(),registrationStatus:0};return $I(e)}function k2(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Wo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=R2(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:P2(n)}:{installationEntry:e}}async function R2(n,e){try{const t=await y2(n,e);return Mf(n.appConfig,t)}catch(t){throw CI(t)&&t.customData.serverCode===409?await FI(n.appConfig):await Mf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function P2(n){let e=await X0(n.appConfig);for(;e.registrationStatus===1;)await DI(100),e=await X0(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await My(n);return r||t}return e}function X0(n){return wp(n,e=>{if(!e)throw Wo.create("installation-not-found");return $I(e)})}function $I(n){return O2(n)?{fid:n.fid,registrationStatus:0}:n}function O2(n){return n.registrationStatus===1&&n.registrationTime+AI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2({appConfig:n,heartbeatServiceProvider:e},t){const r=D2(n,t),i=m2(n,t),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const a={installation:{sdkVersion:II,appId:n.appId}},c={method:"POST",headers:i,body:JSON.stringify(a)},u=await NI(()=>fetch(r,c));if(u.ok){const d=await u.json();return RI(d)}else throw await PI("Generate Auth Token",u)}function D2(n,{fid:e}){return`${kI(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ly(n,e=!1){let t;const r=await wp(n.appConfig,s=>{if(!jI(s))throw Wo.create("not-registered");const a=s.authToken;if(!e&&V2(a))return s;if(a.requestStatus===1)return t=M2(n,e),s;{if(!navigator.onLine)throw Wo.create("app-offline");const c=$2(s);return t=L2(n,c),c}});return t?await t:r.authToken}async function M2(n,e){let t=await J0(n.appConfig);for(;t.authToken.requestStatus===1;)await DI(100),t=await J0(n.appConfig);const r=t.authToken;return r.requestStatus===0?Ly(n,e):r}function J0(n){return wp(n,e=>{if(!jI(e))throw Wo.create("not-registered");const t=e.authToken;return j2(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function L2(n,e){try{const t=await N2(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await Mf(n.appConfig,r),t}catch(t){if(CI(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await FI(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Mf(n.appConfig,r)}throw t}}function jI(n){return n!==void 0&&n.registrationStatus===2}function V2(n){return n.requestStatus===2&&!F2(n)}function F2(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+h2}function $2(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function j2(n){return n.requestStatus===1&&n.requestTime+AI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(n){const e=n,{installationEntry:t,registrationPromise:r}=await My(e);return r?r.catch(console.error):Ly(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(n,e=!1){const t=n;return await B2(t),(await Ly(t,e)).token}async function B2(n){const{registrationPromise:e}=await My(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(n){if(!n||!n.options)throw jg("App Configuration");if(!n.name)throw jg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw jg(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function jg(n){return Wo.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="installations",W2="installations-internal",K2=n=>{const e=n.getProvider("app").getImmediate(),t=H2(e),r=ta(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},q2=n=>{const e=n.getProvider("app").getImmediate(),t=ta(e,UI).getImmediate();return{getId:()=>U2(t),getToken:i=>z2(t,i)}};function G2(){ai(new kr(UI,K2,"PUBLIC")),ai(new kr(W2,q2,"PRIVATE"))}G2();rr(SI,Ny);rr(SI,Ny,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="analytics",Y2="firebase_id",Q2="origin",X2=60*1e3,J2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn=new gp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},$n=new ea("analytics","Analytics",Z2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(n){if(!n.startsWith(Vy)){const e=$n.create("invalid-gtag-resource",{gtagURL:n});return kn.warn(e.message),""}return n}function zI(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function tL(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function nL(n,e){const t=tL("firebase-js-sdk-policy",{createScriptURL:eL}),r=document.createElement("script"),i=`${Vy}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function rL(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function iL(n,e,t,r,i,s){const a=r[i];try{if(a)await e[a];else{const u=(await zI(t)).find(d=>d.measurementId===i);u&&await e[u.appId]}}catch(c){kn.error(c)}n("config",i,s)}async function sL(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const c=await zI(t);for(const u of a){const d=c.find(_=>_.measurementId===u),m=d&&e[d.appId];if(m)s.push(m);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),n("event",r,i||{})}catch(s){kn.error(s)}}function oL(n,e,t,r){async function i(s,...a){try{if(s==="event"){const[c,u]=a;await sL(n,e,t,c,u)}else if(s==="config"){const[c,u]=a;await iL(n,e,t,r,c,u)}else if(s==="consent"){const[c,u]=a;n("consent",c,u)}else if(s==="get"){const[c,u,d]=a;n("get",c,u,d)}else if(s==="set"){const[c]=a;n("set",c)}else n(s,...a)}catch(c){kn.error(c)}}return i}function aL(n,e,t,r,i){let s=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=oL(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}function lL(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Vy)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=30,uL=1e3;class hL{constructor(e={},t=uL){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const BI=new hL;function dL(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function fL(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:dL(r)},s=J2.replace("{app-id}",t),a=await fetch(s,i);if(a.status!==200&&a.status!==304){let c="";try{const u=await a.json();!((e=u.error)===null||e===void 0)&&e.message&&(c=u.error.message)}catch{}throw $n.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c})}return a.json()}async function pL(n,e=BI,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw $n.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw $n.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new _L;return setTimeout(async()=>{c.abort()},X2),HI({appId:r,apiKey:i,measurementId:s},a,c,e)}async function HI(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=BI){var s;const{appId:a,measurementId:c}=n;try{await mL(r,e)}catch(u){if(c)return kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:c};throw u}try{const u=await fL(n);return i.deleteThrottleMetadata(a),u}catch(u){const d=u;if(!gL(d)){if(i.deleteThrottleMetadata(a),c)return kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:a,measurementId:c};throw u}const m=Number((s=d==null?void 0:d.customData)===null||s===void 0?void 0:s.httpStatus)===503?T0(t,i.intervalMillis,cL):T0(t,i.intervalMillis),_={throttleEndTimeMillis:Date.now()+m,backoffCount:t+1};return i.setThrottleMetadata(a,_),kn.debug(`Calling attemptFetch again in ${m} millis`),HI(n,_,r,i)}}function mL(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r($n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function gL(n){if(!(n instanceof Or)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class _L{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function yL(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const s=await e,a=Object.assign(Object.assign({},r),{send_to:s});n("event",t,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vL(){if(DA())try{await MA()}catch(n){return kn.warn($n.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return kn.warn($n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function EL(n,e,t,r,i,s,a){var c;const u=pL(n);u.then(w=>{t[w.measurementId]=w.appId,n.options.measurementId&&w.measurementId!==n.options.measurementId&&kn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>kn.error(w)),e.push(u);const d=vL().then(w=>{if(w)return r.getId()}),[m,_]=await Promise.all([u,d]);lL(s)||nL(s,m.measurementId),i("js",new Date);const y=(c=a==null?void 0:a.config)!==null&&c!==void 0?c:{};return y[Q2]="firebase",y.update=!0,_!=null&&(y[Y2]=_),i("config",m.measurementId,y),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.app=e}_delete(){return delete uu[this.app.options.appId],Promise.resolve()}}let uu={},Z0=[];const eb={};let Ug="dataLayer",bL="gtag",tb,WI,nb=!1;function TL(){const n=[];if(NA()&&n.push("This is a browser extension environment."),CO()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=$n.create("invalid-analytics-context",{errorInfo:e});kn.warn(t.message)}}function SL(n,e,t){TL();const r=n.options.appId;if(!r)throw $n.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw $n.create("no-api-key");if(uu[r]!=null)throw $n.create("already-exists",{id:r});if(!nb){rL(Ug);const{wrappedGtag:s,gtagCore:a}=aL(uu,Z0,eb,Ug,bL);WI=s,tb=a,nb=!0}return uu[r]=EL(n,Z0,eb,e,tb,Ug,t),new wL(n)}function AL(n=Ty()){n=Mt(n);const e=ta(n,Lf);return e.isInitialized()?e.getImmediate():IL(n)}function IL(n,e={}){const t=ta(n,Lf);if(t.isInitialized()){const i=t.getImmediate();if(zi(e,t.getOptions()))return i;throw $n.create("already-initialized")}return t.initialize({options:e})}function xL(n,e,t,r){n=Mt(n),yL(WI,uu[n.app.options.appId],e,t,r).catch(i=>kn.error(i))}const rb="@firebase/analytics",ib="0.10.16";function CL(){ai(new kr(Lf,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return SL(r,i,t)},"PUBLIC")),ai(new kr("analytics-internal",n,"PRIVATE")),rr(rb,ib),rr(rb,ib,"esm2017");function n(e){try{const t=e.getProvider(Lf).getImmediate();return{logEvent:(r,i,s)=>xL(t,r,i,s)}}catch(t){throw $n.create("interop-component-reg-failed",{reason:t})}}}CL();var sb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ls,KI;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,C){function R(){}R.prototype=C.prototype,k.D=C.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(x,N,M){for(var D=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)D[ye-2]=arguments[ye];return C.prototype[N].apply(x,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,C,R){R||(R=0);var x=Array(16);if(typeof C=="string")for(var N=0;16>N;++N)x[N]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(N=0;16>N;++N)x[N]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=k.g[0],R=k.g[1],N=k.g[2];var M=k.g[3],D=C+(M^R&(N^M))+x[0]+3614090360&4294967295;C=R+(D<<7&4294967295|D>>>25),D=M+(N^C&(R^N))+x[1]+3905402710&4294967295,M=C+(D<<12&4294967295|D>>>20),D=N+(R^M&(C^R))+x[2]+606105819&4294967295,N=M+(D<<17&4294967295|D>>>15),D=R+(C^N&(M^C))+x[3]+3250441966&4294967295,R=N+(D<<22&4294967295|D>>>10),D=C+(M^R&(N^M))+x[4]+4118548399&4294967295,C=R+(D<<7&4294967295|D>>>25),D=M+(N^C&(R^N))+x[5]+1200080426&4294967295,M=C+(D<<12&4294967295|D>>>20),D=N+(R^M&(C^R))+x[6]+2821735955&4294967295,N=M+(D<<17&4294967295|D>>>15),D=R+(C^N&(M^C))+x[7]+4249261313&4294967295,R=N+(D<<22&4294967295|D>>>10),D=C+(M^R&(N^M))+x[8]+1770035416&4294967295,C=R+(D<<7&4294967295|D>>>25),D=M+(N^C&(R^N))+x[9]+2336552879&4294967295,M=C+(D<<12&4294967295|D>>>20),D=N+(R^M&(C^R))+x[10]+4294925233&4294967295,N=M+(D<<17&4294967295|D>>>15),D=R+(C^N&(M^C))+x[11]+2304563134&4294967295,R=N+(D<<22&4294967295|D>>>10),D=C+(M^R&(N^M))+x[12]+1804603682&4294967295,C=R+(D<<7&4294967295|D>>>25),D=M+(N^C&(R^N))+x[13]+4254626195&4294967295,M=C+(D<<12&4294967295|D>>>20),D=N+(R^M&(C^R))+x[14]+2792965006&4294967295,N=M+(D<<17&4294967295|D>>>15),D=R+(C^N&(M^C))+x[15]+1236535329&4294967295,R=N+(D<<22&4294967295|D>>>10),D=C+(N^M&(R^N))+x[1]+4129170786&4294967295,C=R+(D<<5&4294967295|D>>>27),D=M+(R^N&(C^R))+x[6]+3225465664&4294967295,M=C+(D<<9&4294967295|D>>>23),D=N+(C^R&(M^C))+x[11]+643717713&4294967295,N=M+(D<<14&4294967295|D>>>18),D=R+(M^C&(N^M))+x[0]+3921069994&4294967295,R=N+(D<<20&4294967295|D>>>12),D=C+(N^M&(R^N))+x[5]+3593408605&4294967295,C=R+(D<<5&4294967295|D>>>27),D=M+(R^N&(C^R))+x[10]+38016083&4294967295,M=C+(D<<9&4294967295|D>>>23),D=N+(C^R&(M^C))+x[15]+3634488961&4294967295,N=M+(D<<14&4294967295|D>>>18),D=R+(M^C&(N^M))+x[4]+3889429448&4294967295,R=N+(D<<20&4294967295|D>>>12),D=C+(N^M&(R^N))+x[9]+568446438&4294967295,C=R+(D<<5&4294967295|D>>>27),D=M+(R^N&(C^R))+x[14]+3275163606&4294967295,M=C+(D<<9&4294967295|D>>>23),D=N+(C^R&(M^C))+x[3]+4107603335&4294967295,N=M+(D<<14&4294967295|D>>>18),D=R+(M^C&(N^M))+x[8]+1163531501&4294967295,R=N+(D<<20&4294967295|D>>>12),D=C+(N^M&(R^N))+x[13]+2850285829&4294967295,C=R+(D<<5&4294967295|D>>>27),D=M+(R^N&(C^R))+x[2]+4243563512&4294967295,M=C+(D<<9&4294967295|D>>>23),D=N+(C^R&(M^C))+x[7]+1735328473&4294967295,N=M+(D<<14&4294967295|D>>>18),D=R+(M^C&(N^M))+x[12]+2368359562&4294967295,R=N+(D<<20&4294967295|D>>>12),D=C+(R^N^M)+x[5]+4294588738&4294967295,C=R+(D<<4&4294967295|D>>>28),D=M+(C^R^N)+x[8]+2272392833&4294967295,M=C+(D<<11&4294967295|D>>>21),D=N+(M^C^R)+x[11]+1839030562&4294967295,N=M+(D<<16&4294967295|D>>>16),D=R+(N^M^C)+x[14]+4259657740&4294967295,R=N+(D<<23&4294967295|D>>>9),D=C+(R^N^M)+x[1]+2763975236&4294967295,C=R+(D<<4&4294967295|D>>>28),D=M+(C^R^N)+x[4]+1272893353&4294967295,M=C+(D<<11&4294967295|D>>>21),D=N+(M^C^R)+x[7]+4139469664&4294967295,N=M+(D<<16&4294967295|D>>>16),D=R+(N^M^C)+x[10]+3200236656&4294967295,R=N+(D<<23&4294967295|D>>>9),D=C+(R^N^M)+x[13]+681279174&4294967295,C=R+(D<<4&4294967295|D>>>28),D=M+(C^R^N)+x[0]+3936430074&4294967295,M=C+(D<<11&4294967295|D>>>21),D=N+(M^C^R)+x[3]+3572445317&4294967295,N=M+(D<<16&4294967295|D>>>16),D=R+(N^M^C)+x[6]+76029189&4294967295,R=N+(D<<23&4294967295|D>>>9),D=C+(R^N^M)+x[9]+3654602809&4294967295,C=R+(D<<4&4294967295|D>>>28),D=M+(C^R^N)+x[12]+3873151461&4294967295,M=C+(D<<11&4294967295|D>>>21),D=N+(M^C^R)+x[15]+530742520&4294967295,N=M+(D<<16&4294967295|D>>>16),D=R+(N^M^C)+x[2]+3299628645&4294967295,R=N+(D<<23&4294967295|D>>>9),D=C+(N^(R|~M))+x[0]+4096336452&4294967295,C=R+(D<<6&4294967295|D>>>26),D=M+(R^(C|~N))+x[7]+1126891415&4294967295,M=C+(D<<10&4294967295|D>>>22),D=N+(C^(M|~R))+x[14]+2878612391&4294967295,N=M+(D<<15&4294967295|D>>>17),D=R+(M^(N|~C))+x[5]+4237533241&4294967295,R=N+(D<<21&4294967295|D>>>11),D=C+(N^(R|~M))+x[12]+1700485571&4294967295,C=R+(D<<6&4294967295|D>>>26),D=M+(R^(C|~N))+x[3]+2399980690&4294967295,M=C+(D<<10&4294967295|D>>>22),D=N+(C^(M|~R))+x[10]+4293915773&4294967295,N=M+(D<<15&4294967295|D>>>17),D=R+(M^(N|~C))+x[1]+2240044497&4294967295,R=N+(D<<21&4294967295|D>>>11),D=C+(N^(R|~M))+x[8]+1873313359&4294967295,C=R+(D<<6&4294967295|D>>>26),D=M+(R^(C|~N))+x[15]+4264355552&4294967295,M=C+(D<<10&4294967295|D>>>22),D=N+(C^(M|~R))+x[6]+2734768916&4294967295,N=M+(D<<15&4294967295|D>>>17),D=R+(M^(N|~C))+x[13]+1309151649&4294967295,R=N+(D<<21&4294967295|D>>>11),D=C+(N^(R|~M))+x[4]+4149444226&4294967295,C=R+(D<<6&4294967295|D>>>26),D=M+(R^(C|~N))+x[11]+3174756917&4294967295,M=C+(D<<10&4294967295|D>>>22),D=N+(C^(M|~R))+x[2]+718787259&4294967295,N=M+(D<<15&4294967295|D>>>17),D=R+(M^(N|~C))+x[9]+3951481745&4294967295,k.g[0]=k.g[0]+C&4294967295,k.g[1]=k.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+M&4294967295}r.prototype.u=function(k,C){C===void 0&&(C=k.length);for(var R=C-this.blockSize,x=this.B,N=this.h,M=0;M<C;){if(N==0)for(;M<=R;)i(this,k,M),M+=this.blockSize;if(typeof k=="string"){for(;M<C;)if(x[N++]=k.charCodeAt(M++),N==this.blockSize){i(this,x),N=0;break}}else for(;M<C;)if(x[N++]=k[M++],N==this.blockSize){i(this,x),N=0;break}}this.h=N,this.o+=C},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var C=1;C<k.length-8;++C)k[C]=0;var R=8*this.o;for(C=k.length-8;C<k.length;++C)k[C]=R&255,R/=256;for(this.u(k),k=Array(16),C=R=0;4>C;++C)for(var x=0;32>x;x+=8)k[R++]=this.g[C]>>>x&255;return k};function s(k,C){var R=c;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=C(k)}function a(k,C){this.h=C;for(var R=[],x=!0,N=k.length-1;0<=N;N--){var M=k[N]|0;x&&M==C||(R[N]=M,x=!1)}this.g=R}var c={};function u(k){return-128<=k&&128>k?s(k,function(C){return new a([C|0],0>C?-1:0)}):new a([k|0],0>k?-1:0)}function d(k){if(isNaN(k)||!isFinite(k))return _;if(0>k)return A(d(-k));for(var C=[],R=1,x=0;k>=R;x++)C[x]=k/R|0,R*=4294967296;return new a(C,0)}function m(k,C){if(k.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(k.charAt(0)=="-")return A(m(k.substring(1),C));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=d(Math.pow(C,8)),x=_,N=0;N<k.length;N+=8){var M=Math.min(8,k.length-N),D=parseInt(k.substring(N,N+M),C);8>M?(M=d(Math.pow(C,M)),x=x.j(M).add(d(D))):(x=x.j(R),x=x.add(d(D)))}return x}var _=u(0),y=u(1),w=u(16777216);n=a.prototype,n.m=function(){if(I(this))return-A(this).m();for(var k=0,C=1,R=0;R<this.g.length;R++){var x=this.i(R);k+=(0<=x?x:4294967296+x)*C,C*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(T(this))return"0";if(I(this))return"-"+A(this).toString(k);for(var C=d(Math.pow(k,6)),R=this,x="";;){var N=z(R,C).g;R=O(R,N.j(C));var M=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=N,T(R))return M+x;for(;6>M.length;)M="0"+M;x=M+x}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function T(k){if(k.h!=0)return!1;for(var C=0;C<k.g.length;C++)if(k.g[C]!=0)return!1;return!0}function I(k){return k.h==-1}n.l=function(k){return k=O(this,k),I(k)?-1:T(k)?0:1};function A(k){for(var C=k.g.length,R=[],x=0;x<C;x++)R[x]=~k.g[x];return new a(R,~k.h).add(y)}n.abs=function(){return I(this)?A(this):this},n.add=function(k){for(var C=Math.max(this.g.length,k.g.length),R=[],x=0,N=0;N<=C;N++){var M=x+(this.i(N)&65535)+(k.i(N)&65535),D=(M>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);x=D>>>16,M&=65535,D&=65535,R[N]=D<<16|M}return new a(R,R[R.length-1]&-2147483648?-1:0)};function O(k,C){return k.add(A(C))}n.j=function(k){if(T(this)||T(k))return _;if(I(this))return I(k)?A(this).j(A(k)):A(A(this).j(k));if(I(k))return A(this.j(A(k)));if(0>this.l(w)&&0>k.l(w))return d(this.m()*k.m());for(var C=this.g.length+k.g.length,R=[],x=0;x<2*C;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var N=0;N<k.g.length;N++){var M=this.i(x)>>>16,D=this.i(x)&65535,ye=k.i(N)>>>16,me=k.i(N)&65535;R[2*x+2*N]+=D*me,L(R,2*x+2*N),R[2*x+2*N+1]+=M*me,L(R,2*x+2*N+1),R[2*x+2*N+1]+=D*ye,L(R,2*x+2*N+1),R[2*x+2*N+2]+=M*ye,L(R,2*x+2*N+2)}for(x=0;x<C;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=C;x<2*C;x++)R[x]=0;return new a(R,0)};function L(k,C){for(;(k[C]&65535)!=k[C];)k[C+1]+=k[C]>>>16,k[C]&=65535,C++}function $(k,C){this.g=k,this.h=C}function z(k,C){if(T(C))throw Error("division by zero");if(T(k))return new $(_,_);if(I(k))return C=z(A(k),C),new $(A(C.g),A(C.h));if(I(C))return C=z(k,A(C)),new $(A(C.g),C.h);if(30<k.g.length){if(I(k)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var R=y,x=C;0>=x.l(k);)R=H(R),x=H(x);var N=j(R,1),M=j(x,1);for(x=j(x,2),R=j(R,2);!T(x);){var D=M.add(x);0>=D.l(k)&&(N=N.add(R),M=D),x=j(x,1),R=j(R,1)}return C=O(k,N.j(C)),new $(N,C)}for(N=_;0<=k.l(C);){for(R=Math.max(1,Math.floor(k.m()/C.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),M=d(R),D=M.j(C);I(D)||0<D.l(k);)R-=x,M=d(R),D=M.j(C);T(M)&&(M=y),N=N.add(M),k=O(k,D)}return new $(N,k)}n.A=function(k){return z(this,k).h},n.and=function(k){for(var C=Math.max(this.g.length,k.g.length),R=[],x=0;x<C;x++)R[x]=this.i(x)&k.i(x);return new a(R,this.h&k.h)},n.or=function(k){for(var C=Math.max(this.g.length,k.g.length),R=[],x=0;x<C;x++)R[x]=this.i(x)|k.i(x);return new a(R,this.h|k.h)},n.xor=function(k){for(var C=Math.max(this.g.length,k.g.length),R=[],x=0;x<C;x++)R[x]=this.i(x)^k.i(x);return new a(R,this.h^k.h)};function H(k){for(var C=k.g.length+1,R=[],x=0;x<C;x++)R[x]=k.i(x)<<1|k.i(x-1)>>>31;return new a(R,k.h)}function j(k,C){var R=C>>5;C%=32;for(var x=k.g.length-R,N=[],M=0;M<x;M++)N[M]=0<C?k.i(M+R)>>>C|k.i(M+R+1)<<32-C:k.i(M+R);return new a(N,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,KI=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=m,Ls=a}).apply(typeof sb<"u"?sb:typeof self<"u"?self:typeof window<"u"?window:{});var Ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qI,Zc,GI,nf,N_,YI,QI,XI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,b){return f==Array.prototype||f==Object.prototype||(f[v]=b.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ed=="object"&&Ed];for(var v=0;v<f.length;++v){var b=f[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=t(this);function i(f,v){if(v)e:{var b=r;f=f.split(".");for(var P=0;P<f.length-1;P++){var W=f[P];if(!(W in b))break e;b=b[W]}f=f[f.length-1],P=b[f],v=v(P),v!=P&&v!=null&&e(b,f,{configurable:!0,writable:!0,value:v})}}function s(f,v){f instanceof String&&(f+="");var b=0,P=!1,W={next:function(){if(!P&&b<f.length){var X=b++;return{value:v(X,f[X]),done:!1}}return P=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(f){return f||function(){return s(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function u(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function d(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function m(f,v,b){return f.call.apply(f.bind,arguments)}function _(f,v,b){if(!f)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,P),f.apply(v,W)}}return function(){return f.apply(v,arguments)}}function y(f,v,b){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:_,y.apply(null,arguments)}function w(f,v){var b=Array.prototype.slice.call(arguments,1);return function(){var P=b.slice();return P.push.apply(P,arguments),f.apply(this,P)}}function T(f,v){function b(){}b.prototype=v.prototype,f.aa=v.prototype,f.prototype=new b,f.prototype.constructor=f,f.Qb=function(P,W,X){for(var ue=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)ue[Ze-2]=arguments[Ze];return v.prototype[W].apply(P,ue)}}function I(f){const v=f.length;if(0<v){const b=Array(v);for(let P=0;P<v;P++)b[P]=f[P];return b}return[]}function A(f,v){for(let b=1;b<arguments.length;b++){const P=arguments[b];if(u(P)){const W=f.length||0,X=P.length||0;f.length=W+X;for(let ue=0;ue<X;ue++)f[W+ue]=P[ue]}else f.push(P)}}class O{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(f){return/^[\s\xa0]*$/.test(f)}function $(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function z(f){return z[" "](f),f}z[" "]=function(){};var H=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function j(f,v,b){for(const P in f)v.call(b,f[P],P,f)}function k(f,v){for(const b in f)v.call(void 0,f[b],b,f)}function C(f){const v={};for(const b in f)v[b]=f[b];return v}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(f,v){let b,P;for(let W=1;W<arguments.length;W++){P=arguments[W];for(b in P)f[b]=P[b];for(let X=0;X<R.length;X++)b=R[X],Object.prototype.hasOwnProperty.call(P,b)&&(f[b]=P[b])}}function N(f){var v=1;f=f.split(":");const b=[];for(;0<v&&f.length;)b.push(f.shift()),v--;return f.length&&b.push(f.join(":")),b}function M(f){c.setTimeout(()=>{throw f},0)}function D(){var f=ie;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class ye{constructor(){this.h=this.g=null}add(v,b){const P=me.get();P.set(v,b),this.h?this.h.next=P:this.g=P,this.h=P}}var me=new O(()=>new he,f=>f.reset());class he{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let de,J=!1,ie=new ye,ce=()=>{const f=c.Promise.resolve(void 0);de=()=>{f.then(B)}};var B=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(b){M(b)}var v=me;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}J=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};c.addEventListener("test",b,v),c.removeEventListener("test",b,v)}catch{}return f}();function pe(f,v){if(ge.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var b=this.type=f.type,P=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(H){e:{try{z(v.nodeName);var W=!0;break e}catch{}W=!1}W||(v=null)}}else b=="mouseover"?v=f.fromElement:b=="mouseout"&&(v=f.toElement);this.relatedTarget=v,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:fe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&pe.aa.h.call(this)}}T(pe,ge);var fe={2:"touch",3:"pen",4:"mouse"};pe.prototype.h=function(){pe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),xe=0;function Le(f,v,b,P,W){this.listener=f,this.proxy=null,this.src=v,this.type=b,this.capture=!!P,this.ha=W,this.key=++xe,this.da=this.fa=!1}function Be(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Lt(f){this.src=f,this.g={},this.h=0}Lt.prototype.add=function(f,v,b,P,W){var X=f.toString();f=this.g[X],f||(f=this.g[X]=[],this.h++);var ue=Bt(f,v,P,W);return-1<ue?(v=f[ue],b||(v.fa=!1)):(v=new Le(v,this.src,X,!!P,W),v.fa=b,f.push(v)),v};function zt(f,v){var b=v.type;if(b in f.g){var P=f.g[b],W=Array.prototype.indexOf.call(P,v,void 0),X;(X=0<=W)&&Array.prototype.splice.call(P,W,1),X&&(Be(v),f.g[b].length==0&&(delete f.g[b],f.h--))}}function Bt(f,v,b,P){for(var W=0;W<f.length;++W){var X=f[W];if(!X.da&&X.listener==v&&X.capture==!!b&&X.ha==P)return W}return-1}var ur="closure_lm_"+(1e6*Math.random()|0),Dr={};function Mr(f,v,b,P,W){if(Array.isArray(v)){for(var X=0;X<v.length;X++)Mr(f,v[X],b,P,W);return null}return b=Ji(b),f&&f[Se]?f.K(v,b,d(P)?!!P.capture:!1,W):hr(f,v,b,!1,P,W)}function hr(f,v,b,P,W,X){if(!v)throw Error("Invalid event type");var ue=d(W)?!!W.capture:!!W,Ze=fi(f);if(Ze||(f[ur]=Ze=new Lt(f)),b=Ze.add(v,b,P,ue,X),b.proxy)return b;if(P=Qi(),b.proxy=P,P.src=f,P.listener=b,f.addEventListener)ae||(W=ue),W===void 0&&(W=!1),f.addEventListener(v.toString(),P,W);else if(f.attachEvent)f.attachEvent(fn(v.toString()),P);else if(f.addListener&&f.removeListener)f.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Qi(){function f(b){return v.call(f.src,f.listener,b)}const v=Xi;return f}function Lr(f,v,b,P,W){if(Array.isArray(v))for(var X=0;X<v.length;X++)Lr(f,v[X],b,P,W);else P=d(P)?!!P.capture:!!P,b=Ji(b),f&&f[Se]?(f=f.i,v=String(v).toString(),v in f.g&&(X=f.g[v],b=Bt(X,b,P,W),-1<b&&(Be(X[b]),Array.prototype.splice.call(X,b,1),X.length==0&&(delete f.g[v],f.h--)))):f&&(f=fi(f))&&(v=f.g[v.toString()],f=-1,v&&(f=Bt(v,b,P,W)),(b=-1<f?v[f]:null)&&It(b))}function It(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Se])zt(v.i,f);else{var b=f.type,P=f.proxy;v.removeEventListener?v.removeEventListener(b,P,f.capture):v.detachEvent?v.detachEvent(fn(b),P):v.addListener&&v.removeListener&&v.removeListener(P),(b=fi(v))?(zt(b,f),b.h==0&&(b.src=null,v[ur]=null)):Be(f)}}}function fn(f){return f in Dr?Dr[f]:Dr[f]="on"+f}function Xi(f,v){if(f.da)f=!0;else{v=new pe(v,this);var b=f.listener,P=f.ha||f.src;f.fa&&It(f),f=b.call(P,v)}return f}function fi(f){return f=f[ur],f instanceof Lt?f:null}var Vr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ji(f){return typeof f=="function"?f:(f[Vr]||(f[Vr]=function(v){return f.handleEvent(v)}),f[Vr])}function pt(){Z.call(this),this.i=new Lt(this),this.M=this,this.F=null}T(pt,Z),pt.prototype[Se]=!0,pt.prototype.removeEventListener=function(f,v,b,P){Lr(this,f,v,b,P)};function mt(f,v){var b,P=f.F;if(P)for(b=[];P;P=P.F)b.push(P);if(f=f.M,P=v.type||v,typeof v=="string")v=new ge(v,f);else if(v instanceof ge)v.target=v.target||f;else{var W=v;v=new ge(P,f),x(v,W)}if(W=!0,b)for(var X=b.length-1;0<=X;X--){var ue=v.g=b[X];W=Hn(ue,P,!0,v)&&W}if(ue=v.g=f,W=Hn(ue,P,!0,v)&&W,W=Hn(ue,P,!1,v)&&W,b)for(X=0;X<b.length;X++)ue=v.g=b[X],W=Hn(ue,P,!1,v)&&W}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var b=f.g[v],P=0;P<b.length;P++)Be(b[P]);delete f.g[v],f.h--}}this.F=null},pt.prototype.K=function(f,v,b,P){return this.i.add(String(f),v,!1,b,P)},pt.prototype.L=function(f,v,b,P){return this.i.add(String(f),v,!0,b,P)};function Hn(f,v,b,P){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var W=!0,X=0;X<v.length;++X){var ue=v[X];if(ue&&!ue.da&&ue.capture==b){var Ze=ue.listener,xt=ue.ha||ue.src;ue.fa&&zt(f.i,ue),W=Ze.call(xt,P)!==!1&&W}}return W&&!P.defaultPrevented}function Ql(f,v,b){if(typeof f=="function")b&&(f=y(f,b));else if(f&&typeof f.handleEvent=="function")f=y(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(f,v||0)}function Zi(f){f.g=Ql(()=>{f.g=null,f.i&&(f.i=!1,Zi(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class ro extends Z{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Zi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function io(f){Z.call(this),this.h=f,this.g={}}T(io,Z);var Xl=[];function Jl(f){j(f.g,function(v,b){this.g.hasOwnProperty(b)&&It(v)},f),f.g={}}io.prototype.N=function(){io.aa.N.call(this),Jl(this)},io.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zl=c.JSON.stringify,ec=c.JSON.parse,tc=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function so(){}so.prototype.h=null;function la(f){return f.h||(f.h=f.i())}function ca(){}var Wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fr(){ge.call(this,"d")}T(Fr,ge);function ua(){ge.call(this,"c")}T(ua,ge);var $r={},nc=null;function oo(){return nc=nc||new pt}$r.La="serverreachability";function rc(f){ge.call(this,$r.La,f)}T(rc,ge);function pi(f){const v=oo();mt(v,new rc(v))}$r.STAT_EVENT="statevent";function ic(f,v){ge.call(this,$r.STAT_EVENT,f),this.stat=v}T(ic,ge);function vt(f){const v=oo();mt(v,new ic(v,f))}$r.Ma="timingevent";function ha(f,v){ge.call(this,$r.Ma,f),this.size=v}T(ha,ge);function dr(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},v)}function ao(){this.g=!0}ao.prototype.xa=function(){this.g=!1};function lo(f,v,b,P,W,X){f.info(function(){if(f.g)if(X)for(var ue="",Ze=X.split("&"),xt=0;xt<Ze.length;xt++){var He=Ze[xt].split("=");if(1<He.length){var Vt=He[0];He=He[1];var bt=Vt.split("_");ue=2<=bt.length&&bt[1]=="type"?ue+(Vt+"="+He+"&"):ue+(Vt+"=redacted&")}}else ue=null;else ue=X;return"XMLHTTP REQ ("+P+") [attempt "+W+"]: "+v+`
`+b+`
`+ue})}function da(f,v,b,P,W,X,ue){f.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+W+"]: "+v+`
`+b+`
`+X+" "+ue})}function fr(f,v,b,P){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Zp(f,b)+(P?" "+P:"")})}function sc(f,v){f.info(function(){return"TIMEOUT: "+v})}ao.prototype.info=function(){};function Zp(f,v){if(!f.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var P=b[f];if(!(2>P.length)){var W=P[1];if(Array.isArray(W)&&!(1>W.length)){var X=W[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ue=1;ue<W.length;ue++)W[ue]=""}}}}return Zl(b)}catch{return v}}var fa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},rh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pr;function co(){}T(co,so),co.prototype.g=function(){return new XMLHttpRequest},co.prototype.i=function(){return{}},pr=new co;function mr(f,v,b,P){this.j=f,this.i=v,this.l=b,this.R=P||1,this.U=new io(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ih}function ih(){this.i=null,this.g="",this.h=!1}var oc={},pa={};function ma(f,v,b){f.L=1,f.v=is(Pn(v)),f.m=b,f.P=!0,ac(f,null)}function ac(f,v){f.F=Date.now(),nt(f),f.A=Pn(f.v);var b=f.A,P=f.R;Array.isArray(P)||(P=[String(P)]),os(b.i,"t",P),f.C=0,b=f.j.J,f.h=new ih,f.g=bh(f.j,b?v:null,!f.m),0<f.O&&(f.M=new ro(y(f.Y,f,f.g),f.O)),v=f.U,b=f.g,P=f.ca;var W="readystatechange";Array.isArray(W)||(W&&(Xl[0]=W.toString()),W=Xl);for(var X=0;X<W.length;X++){var ue=Mr(b,W[X],P||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),pi(),lo(f.i,f.u,f.A,f.l,f.R,f.m)}mr.prototype.ca=function(f){f=f.target;const v=this.M;v&&mn(f)==3?v.j():this.Y(f)},mr.prototype.Y=function(f){try{if(f==this.g)e:{const bt=mn(this.g);var v=this.g.Ba();const Gn=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||fc(this.g)))){this.J||bt!=4||v==7||(v==8||0>=Gn?pi(3):pi(2)),uo(this);var b=this.g.Z();this.X=b;t:if(sh(this)){var P=fc(this.g);f="";var W=P.length,X=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kn(this),es(this);var ue="";break t}this.h.i=new c.TextDecoder}for(v=0;v<W;v++)this.h.h=!0,f+=this.h.i.decode(P[v],{stream:!(X&&v==W-1)});P.length=0,this.h.g+=f,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=b==200,da(this.i,this.u,this.A,this.l,this.R,bt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,xt=this.g;if((Ze=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Ze)){var He=Ze;break t}}He=null}if(b=He)fr(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lc(this,b);else{this.o=!1,this.s=3,vt(12),Kn(this),es(this);break e}}if(this.P){b=!0;let Nn;for(;!this.J&&this.C<ue.length;)if(Nn=em(this,ue),Nn==pa){bt==4&&(this.s=4,vt(14),b=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==oc){this.s=4,vt(15),fr(this.i,this.l,ue,"[Invalid Chunk]"),b=!1;break}else fr(this.i,this.l,Nn,null),lc(this,Nn);if(sh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||ue.length!=0||this.h.h||(this.s=1,vt(16),b=!1),this.o=this.o&&b,!b)fr(this.i,this.l,ue,"[Invalid Chunked Response]"),Kn(this),es(this);else if(0<ue.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),mc(Vt),Vt.M=!0,vt(11))}}else fr(this.i,this.l,ue,null),lc(this,ue);bt==4&&Kn(this),this.o&&!this.J&&(bt==4?Ia(this.j,this):(this.o=!1,nt(this)))}else wa(this.g),b==400&&0<ue.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Kn(this),es(this)}}}catch{}finally{}};function sh(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function em(f,v){var b=f.C,P=v.indexOf(`
`,b);return P==-1?pa:(b=Number(v.substring(b,P)),isNaN(b)?oc:(P+=1,P+b>v.length?pa:(v=v.slice(P,P+b),f.C=P+b,v)))}mr.prototype.cancel=function(){this.J=!0,Kn(this)};function nt(f){f.S=Date.now()+f.I,oh(f,f.I)}function oh(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=dr(y(f.ba,f),v)}function uo(f){f.B&&(c.clearTimeout(f.B),f.B=null)}mr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(sc(this.i,this.A),this.L!=2&&(pi(),vt(17)),Kn(this),this.s=2,es(this)):oh(this,this.S-f)};function es(f){f.j.G==0||f.J||Ia(f.j,f)}function Kn(f){uo(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Jl(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function lc(f,v){try{var b=f.j;if(b.G!=0&&(b.g==f||on(b.h,f))){if(!f.K&&on(b.h,f)&&b.G==3){try{var P=b.Da.g.parse(v)}catch{P=null}if(Array.isArray(P)&&P.length==3){var W=P;if(W[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<f.F)Aa(b),Er(b);else break e;Sa(b),vt(18)}}else b.za=W[1],0<b.za-b.T&&37500>W[2]&&b.F&&b.v==0&&!b.C&&(b.C=dr(y(b.Za,b),6e3));if(1>=lh(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else vi(b,11)}else if((f.K||b.g==f)&&Aa(b),!L(v))for(W=b.Da.g.parse(v),v=0;v<W.length;v++){let He=W[v];if(b.T=He[0],He=He[1],b.G==2)if(He[0]=="c"){b.K=He[1],b.ia=He[2];const Vt=He[3];Vt!=null&&(b.la=Vt,b.j.info("VER="+b.la));const bt=He[4];bt!=null&&(b.Aa=bt,b.j.info("SVER="+b.Aa));const Gn=He[5];Gn!=null&&typeof Gn=="number"&&0<Gn&&(P=1.5*Gn,b.L=P,b.j.info("backChannelRequestTimeoutMs_="+P)),P=b;const Nn=f.g;if(Nn){const yo=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yo){var X=P.h;X.g||yo.indexOf("spdy")==-1&&yo.indexOf("quic")==-1&&yo.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(cc(X,X.h),X.h=null))}if(P.D){const Ca=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(P.ya=Ca,et(P.I,P.D,Ca))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-f.F,b.j.info("Handshake RTT: "+b.R+"ms")),P=b;var ue=f;if(P.qa=wh(P,P.J?P.ia:null,P.W),ue.K){ch(P.h,ue);var Ze=ue,xt=P.L;xt&&(Ze.I=xt),Ze.B&&(uo(Ze),nt(Ze)),P.g=ue}else _o(P);0<b.i.length&&Br(b)}else He[0]!="stop"&&He[0]!="close"||vi(b,7);else b.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?vi(b,7):Wt(b):He[0]!="noop"&&b.l&&b.l.ta(He),b.v=0)}}pi(4)}catch{}}var ah=class{constructor(f,v){this.g=f,this.map=v}};function ho(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function lh(f){return f.h?1:f.g?f.g.size:0}function on(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function cc(f,v){f.g?f.g.add(v):f.h=v}function ch(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}ho.prototype.cancel=function(){if(this.i=uh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function uh(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const b of f.g.values())v=v.concat(b.D);return v}return I(f.i)}function ga(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(u(f)){for(var v=[],b=f.length,P=0;P<b;P++)v.push(f[P]);return v}v=[],b=0;for(P in f)v[b++]=f[P];return v}function _a(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(u(f)||typeof f=="string"){var v=[];f=f.length;for(var b=0;b<f;b++)v.push(b);return v}v=[],b=0;for(const P in f)v[b++]=P;return v}}}function ts(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(u(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var b=_a(f),P=ga(f),W=P.length,X=0;X<W;X++)v.call(void 0,P[X],b&&b[X],f)}var fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tm(f,v){if(f){f=f.split("&");for(var b=0;b<f.length;b++){var P=f[b].indexOf("="),W=null;if(0<=P){var X=f[b].substring(0,P);W=f[b].substring(P+1)}else X=f[b];v(X,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function mi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof mi){this.h=f.h,po(this,f.j),this.o=f.o,this.g=f.g,ns(this,f.s),this.l=f.l;var v=f.i,b=new jr;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),rs(this,b),this.m=f.m}else f&&(v=String(f).match(fo))?(this.h=!1,po(this,v[1]||"",!0),this.o=ze(v[2]||""),this.g=ze(v[3]||"",!0),ns(this,v[4]),this.l=ze(v[5]||"",!0),rs(this,v[6]||"",!0),this.m=ze(v[7]||"")):(this.h=!1,this.i=new jr(null,this.h))}mi.prototype.toString=function(){var f=[],v=this.j;v&&f.push(ss(v,ya,!0),":");var b=this.g;return(b||v=="file")&&(f.push("//"),(v=this.o)&&f.push(ss(v,ya,!0),"@"),f.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&f.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(ss(b,b.charAt(0)=="/"?fh:dh,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",ss(b,uc)),f.join("")};function Pn(f){return new mi(f)}function po(f,v,b){f.j=b?ze(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function ns(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function rs(f,v,b){v instanceof jr?(f.i=v,Ur(f.i,f.h)):(b||(v=ss(v,ph)),f.i=new jr(v,f.h))}function et(f,v,b){f.i.set(v,b)}function is(f){return et(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ze(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ss(f,v,b){return typeof f=="string"?(f=encodeURI(f).replace(v,hh),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function hh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ya=/[#\/\?@]/g,dh=/[#\?:]/g,fh=/[#\?]/g,ph=/[#\?@]/g,uc=/#/g;function jr(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Ht(f){f.g||(f.g=new Map,f.h=0,f.i&&tm(f.i,function(v,b){f.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}n=jr.prototype,n.add=function(f,v){Ht(this),this.i=null,f=qn(this,f);var b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(v),this.h+=1,this};function gr(f,v){Ht(f),v=qn(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function _r(f,v){return Ht(f),v=qn(f,v),f.g.has(v)}n.forEach=function(f,v){Ht(this),this.g.forEach(function(b,P){b.forEach(function(W){f.call(v,W,P,this)},this)},this)},n.na=function(){Ht(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let P=0;P<v.length;P++){const W=f[P];for(let X=0;X<W.length;X++)b.push(v[P])}return b},n.V=function(f){Ht(this);let v=[];if(typeof f=="string")_r(this,f)&&(v=v.concat(this.g.get(qn(this,f))));else{f=Array.from(this.g.values());for(let b=0;b<f.length;b++)v=v.concat(f[b])}return v},n.set=function(f,v){return Ht(this),this.i=null,f=qn(this,f),_r(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},n.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function os(f,v,b){gr(f,v),0<b.length&&(f.i=null,f.g.set(qn(f,v),I(b)),f.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var P=v[b];const X=encodeURIComponent(String(P)),ue=this.V(P);for(P=0;P<ue.length;P++){var W=X;ue[P]!==""&&(W+="="+encodeURIComponent(String(ue[P]))),f.push(W)}}return this.i=f.join("&")};function qn(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function Ur(f,v){v&&!f.j&&(Ht(f),f.i=null,f.g.forEach(function(b,P){var W=P.toLowerCase();P!=W&&(gr(this,P),os(this,W,b))},f)),f.j=v}function nm(f,v){const b=new ao;if(c.Image){const P=new Image;P.onload=w(pn,b,"TestLoadImage: loaded",!0,v,P),P.onerror=w(pn,b,"TestLoadImage: error",!1,v,P),P.onabort=w(pn,b,"TestLoadImage: abort",!1,v,P),P.ontimeout=w(pn,b,"TestLoadImage: timeout",!1,v,P),c.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=f}else v(!1)}function mh(f,v){const b=new ao,P=new AbortController,W=setTimeout(()=>{P.abort(),pn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:P.signal}).then(X=>{clearTimeout(W),X.ok?pn(b,"TestPingServer: ok",!0,v):pn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),pn(b,"TestPingServer: error",!1,v)})}function pn(f,v,b,P,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),P(b)}catch{}}function rm(){this.g=new tc}function gh(f,v,b){const P=b||"";try{ts(f,function(W,X){let ue=W;d(W)&&(ue=Zl(W)),v.push(P+X+"="+encodeURIComponent(ue))})}catch(W){throw v.push(P+"type="+encodeURIComponent("_badmap")),W}}function gi(f){this.l=f.Ub||null,this.j=f.eb||!1}T(gi,so),gi.prototype.g=function(){return new mo(this.l,this.j)},gi.prototype.i=function(f){return function(){return f}}({});function mo(f,v){pt.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(mo,pt),n=mo.prototype,n.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,vr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,vr(this)),this.g&&(this.readyState=3,vr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_h(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function _h(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?yr(this):vr(this),this.readyState==3&&_h(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,yr(this))},n.Qa=function(f){this.g&&(this.response=f,yr(this))},n.ga=function(){this.g&&yr(this)};function yr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,vr(f)}n.setRequestHeader=function(f,v){this.u.append(f,v)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=v.next();return f.join(`\r
`)};function vr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(mo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function _i(f){let v="";return j(f,function(b,P){v+=P,v+=":",v+=b,v+=`\r
`}),v}function as(f,v,b){e:{for(P in b){var P=!1;break e}P=!0}P||(b=_i(b),typeof f=="string"?b!=null&&encodeURIComponent(String(b)):et(f,v,b))}function at(f){pt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(at,pt);var im=/^https?$/i,hc=["POST","PUT"];n=at.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,v,b,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pr.g(),this.v=this.o?la(this.o):la(pr),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(X){go(this,X);return}if(f=b||"",b=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var W in P)b.set(W,P[W]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const X of P.keys())b.set(X,P.get(X));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(b.keys()).find(X=>X.toLowerCase()=="content-type"),W=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(hc,v,void 0))||P||W||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of b)this.g.setRequestHeader(X,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ea(this),this.u=!0,this.g.send(f),this.u=!1}catch(X){go(this,X)}};function go(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,va(f),On(f)}function va(f){f.A||(f.A=!0,mt(f,"complete"),mt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,mt(this,"complete"),mt(this,"abort"),On(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),On(this,!0)),at.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?dc(this):this.bb())},n.bb=function(){dc(this)};function dc(f){if(f.h&&typeof a<"u"&&(!f.v[1]||mn(f)!=4||f.Z()!=2)){if(f.u&&mn(f)==4)Ql(f.Ea,0,f);else if(mt(f,"readystatechange"),mn(f)==4){f.h=!1;try{const ue=f.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var P;if(P=ue===0){var W=String(f.D).match(fo)[1]||null;!W&&c.self&&c.self.location&&(W=c.self.location.protocol.slice(0,-1)),P=!im.test(W?W.toLowerCase():"")}b=P}if(b)mt(f,"complete"),mt(f,"success");else{f.m=6;try{var X=2<mn(f)?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.Z()+"]",va(f)}}finally{On(f)}}}}function On(f,v){if(f.g){Ea(f);const b=f.g,P=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||mt(f,"ready");try{b.onreadystatechange=P}catch{}}}function Ea(f){f.I&&(c.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function mn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),ec(v)}};function fc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function wa(f){const v={};f=(f.g&&2<=mn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<f.length;P++){if(L(f[P]))continue;var b=N(f[P]);const W=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const X=v[W]||[];v[W]=X,X.push(b)}k(v,function(P){return P.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zr(f,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||v}function pc(f){this.Aa=0,this.i=[],this.j=new ao,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zr("baseRetryDelayMs",5e3,f),this.cb=zr("retryDelaySeedMs",1e4,f),this.Wa=zr("forwardChannelMaxRetries",2,f),this.wa=zr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ho(f&&f.concurrentRequestLimit),this.Da=new rm,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=pc.prototype,n.la=8,n.G=1,n.connect=function(f,v,b,P){vt(0),this.W=f,this.H=v||{},b&&P!==void 0&&(this.H.OSID=b,this.H.OAID=P),this.F=this.X,this.I=wh(this,null,this.W),Br(this)};function Wt(f){if(ba(f),f.G==3){var v=f.U++,b=Pn(f.I);if(et(b,"SID",f.K),et(b,"RID",v),et(b,"TYPE","terminate"),yi(f,b),v=new mr(f,f.j,v),v.L=2,v.v=is(Pn(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&c.Image&&(new Image().src=v.v,b=!0),b||(v.g=bh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),nt(v)}Eh(f)}function Er(f){f.g&&(mc(f),f.g.cancel(),f.g=null)}function ba(f){Er(f),f.u&&(c.clearTimeout(f.u),f.u=null),Aa(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function Br(f){if(!Rn(f.h)&&!f.s){f.s=!0;var v=f.Ga;de||ce(),J||(de(),J=!0),ie.add(v,f),f.B=0}}function sm(f,v){return lh(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=dr(y(f.Ga,f,v),vh(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const W=new mr(this,this.j,f);let X=this.o;if(this.S&&(X?(X=C(X),x(X,this.S)):X=this.S),this.m!==null||this.O||(W.H=X,X=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var P=this.i[b];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(v+=P,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=ls(this,W,v),b=Pn(this.I),et(b,"RID",f),et(b,"CVER",22),this.D&&et(b,"X-HTTP-Session-Id",this.D),yi(this,b),X&&(this.O?v="headers="+encodeURIComponent(String(_i(X)))+"&"+v:this.m&&as(b,this.m,X)),cc(this.h,W),this.Ua&&et(b,"TYPE","init"),this.P?(et(b,"$req",v),et(b,"SID","null"),W.T=!0,ma(W,b,null)):ma(W,b,v),this.G=2}}else this.G==3&&(f?Ta(this,f):this.i.length==0||Rn(this.h)||Ta(this))};function Ta(f,v){var b;v?b=v.l:b=f.U++;const P=Pn(f.I);et(P,"SID",f.K),et(P,"RID",b),et(P,"AID",f.T),yi(f,P),f.m&&f.o&&as(P,f.m,f.o),b=new mr(f,f.j,b,f.B+1),f.m===null&&(b.H=f.o),v&&(f.i=v.D.concat(f.i)),v=ls(f,b,1e3),b.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),cc(f.h,b),ma(b,P,v)}function yi(f,v){f.H&&j(f.H,function(b,P){et(v,P,b)}),f.l&&ts({},function(b,P){et(v,P,b)})}function ls(f,v,b){b=Math.min(f.i.length,b);var P=f.l?y(f.l.Na,f.l,f):null;e:{var W=f.i;let X=-1;for(;;){const ue=["count="+b];X==-1?0<b?(X=W[0].g,ue.push("ofs="+X)):X=0:ue.push("ofs="+X);let Ze=!0;for(let xt=0;xt<b;xt++){let He=W[xt].g;const Vt=W[xt].map;if(He-=X,0>He)X=Math.max(0,W[xt].g-100),Ze=!1;else try{gh(Vt,ue,"req"+He+"_")}catch{P&&P(Vt)}}if(Ze){P=ue.join("&");break e}}}return f=f.i.splice(0,b),v.D=f,P}function _o(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;de||ce(),J||(de(),J=!0),ie.add(v,f),f.v=0}}function Sa(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=dr(y(f.Fa,f),vh(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,yh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=dr(y(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),Er(this),yh(this))};function mc(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function yh(f){f.g=new mr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Pn(f.qa);et(v,"RID","rpc"),et(v,"SID",f.K),et(v,"AID",f.T),et(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&et(v,"TO",f.ja),et(v,"TYPE","xmlhttp"),yi(f,v),f.m&&f.o&&as(v,f.m,f.o),f.L&&(f.g.I=f.L);var b=f.g;f=f.ia,b.L=1,b.v=is(Pn(v)),b.m=null,b.P=!0,ac(b,f)}n.Za=function(){this.C!=null&&(this.C=null,Er(this),Sa(this),vt(19))};function Aa(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Ia(f,v){var b=null;if(f.g==v){Aa(f),mc(f),f.g=null;var P=2}else if(on(f.h,v))b=v.D,ch(f.h,v),P=1;else return;if(f.G!=0){if(v.o)if(P==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var W=f.B;P=oo(),mt(P,new ha(P,b)),Br(f)}else _o(f);else if(W=v.s,W==3||W==0&&0<v.X||!(P==1&&sm(f,v)||P==2&&Sa(f)))switch(b&&0<b.length&&(v=f.h,v.i=v.i.concat(b)),W){case 1:vi(f,5);break;case 4:vi(f,10);break;case 3:vi(f,6);break;default:vi(f,2)}}}function vh(f,v){let b=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(b*=2),b*v}function vi(f,v){if(f.j.info("Error code "+v),v==2){var b=y(f.fb,f),P=f.Xa;const W=!P;P=new mi(P||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||po(P,"https"),is(P),W?nm(P.toString(),b):mh(P.toString(),b)}else vt(2);f.G=0,f.l&&f.l.sa(v),Eh(f),ba(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Eh(f){if(f.G=0,f.ka=[],f.l){const v=uh(f.h);(v.length!=0||f.i.length!=0)&&(A(f.ka,v),A(f.ka,f.i),f.h.i.length=0,I(f.i),f.i.length=0),f.l.ra()}}function wh(f,v,b){var P=b instanceof mi?Pn(b):new mi(b);if(P.g!="")v&&(P.g=v+"."+P.g),ns(P,P.s);else{var W=c.location;P=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;var X=new mi(null);P&&po(X,P),v&&(X.g=v),W&&ns(X,W),b&&(X.l=b),P=X}return b=f.D,v=f.ya,b&&v&&et(P,b,v),et(P,"VER",f.la),yi(f,P),P}function bh(f,v,b){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new at(new gi({eb:b})):new at(f.pa),v.Ha(f.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function gc(){}n=gc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function xa(){}xa.prototype.g=function(f,v){return new an(f,v)};function an(f,v){pt.call(this),this.g=new pc(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!L(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!L(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Hr(this)}T(an,pt),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Wt(this.g)},an.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.u&&(b={},b.__data__=Zl(f),f=b);v.i.push(new ah(v.Ya++,f)),v.G==3&&Br(v)},an.prototype.N=function(){this.g.l=null,delete this.j,Wt(this.g),delete this.g,an.aa.N.call(this)};function Th(f){Fr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const b in v){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}T(Th,Fr);function Sh(){ua.call(this),this.status=1}T(Sh,ua);function Hr(f){this.g=f}T(Hr,gc),Hr.prototype.ua=function(){mt(this.g,"a")},Hr.prototype.ta=function(f){mt(this.g,new Th(f))},Hr.prototype.sa=function(f){mt(this.g,new Sh)},Hr.prototype.ra=function(){mt(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,XI=function(){return new xa},QI=function(){return oo()},YI=$r,N_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,nf=fa,rh.COMPLETE="complete",GI=rh,ca.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Zc=ca,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,qI=at}).apply(typeof Ed<"u"?Ed:typeof self<"u"?self:typeof window<"u"?window:{});const ob="@firebase/firestore",ab="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new gp("@firebase/firestore");function Za(){return qo.logLevel}function ve(n,...e){if(qo.logLevel<=je.DEBUG){const t=e.map(Fy);qo.debug(`Firestore (${jl}): ${n}`,...t)}}function Wi(n,...e){if(qo.logLevel<=je.ERROR){const t=e.map(Fy);qo.error(`Firestore (${jl}): ${n}`,...t)}}function _l(n,...e){if(qo.logLevel<=je.WARN){const t=e.map(Fy);qo.warn(`Firestore (${jl}): ${n}`,...t)}}function Fy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,JI(n,r,t)}function JI(n,e,t){let r=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Wi(r),new Error(r)}function Je(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||JI(e,i,r)}function Ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Or{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nn.UNAUTHENTICATED))}shutdown(){}}class RL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class PL{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve();let s=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vs,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vs)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string",31837,{l:r}),new ZI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class OL{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NL{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new OL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DL{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,nr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Je(this.o===void 0,3512);const r=s=>{s.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,ve("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new lb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=ML(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function Fe(n,e){return n<e?-1:n>e?1:0}function D_(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Fe(r,i);{const s=ex(),a=LL(s.encode(cb(n,t)),s.encode(cb(e,t)));return a!==0?a:Fe(r,i)}}t+=r>65535?2:1}return Fe(n.length,e.length)}function cb(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function LL(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Fe(n[t],e[t]);return Fe(n.length,e.length)}function yl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=-62135596800,hb=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*hb);return new Nt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ub)throw new Re(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hb}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ub;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Nt(0,0))}static max(){return new Me(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="__name__";class Jr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ne(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ne(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Jr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=Jr.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Fe(e.length,t.length)}static compareSegments(e,t){const r=Jr.isNumericId(e),i=Jr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Jr.extractNumericId(e).compare(Jr.extractNumericId(t)):D_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ls.fromString(e.substring(4,e.length-2))}}class _t extends Jr{construct(e,t,r){return new _t(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new _t(t)}static emptyPath(){return new _t([])}}const VL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Jr{construct(e,t,r){return new Yt(e,t,r)}static isValidIdentifier(e){return VL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===db}static keyField(){return new Yt([db])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Re(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let a=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Re(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Re(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(r+=c,i++):(s(),i++)}if(s(),a)throw new Re(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(t)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(_t.fromString(e))}static fromName(e){return new Pe(_t.fromString(e).popFirst(5))}static empty(){return new Pe(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return _t.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new _t(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=-1;function FL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(r===1e9?new Nt(t+1,0):new Nt(t,r));return new js(i,Pe.empty(),e)}function $L(n){return new js(n.readTime,n.key,xu)}class js{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new js(Me.min(),Pe.empty(),xu)}static max(){return new js(Me.max(),Pe.empty(),xu)}}function jL(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Pe.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==UL)throw n;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let i=0,s=0,a=!1;e.forEach(c=>{++i,c.next(()=>{++s,a&&s===i&&t()},u=>r(u))}),a=!0,s===i&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(i=>i?ee.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,i)=>{const s=e.length,a=new Array(s);let c=0;for(let u=0;u<s;u++){const d=u;t(e[d]).next(m=>{a[d]=m,++c,c===s&&r(a)},m=>i(m))}})}static doWhile(e,t){return new ee((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function BL(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function zl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}bp.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=-1;function Tp(n){return n==null}function Vf(n){return n===0&&1/n==-1/0}function HL(n){return typeof n=="number"&&Number.isInteger(n)&&!Vf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="";function WL(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=fb(e)),e=KL(n.get(t),e);return fb(e)}function KL(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case nx:t+="";break;default:t+=s}}return t}function fb(n){return n+nx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Xs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function rx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wd(this.root,e,this.comparator,!1)}getReverseIterator(){return new wd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wd(this.root,e,this.comparator,!0)}}class wd{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Gt.RED,this.left=i??Gt.EMPTY,this.right=s??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Gt(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mb(this.data.getIterator())}getIteratorFrom(e){return new mb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class mb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Fn([])}unionWith(e){let t=new Dt(Yt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ix("Invalid base64 string: "+s):s}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const qL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(n){if(Je(!!n,39018),typeof n=="string"){let e=0;const t=qL.exec(n);if(Je(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function zs(n){return typeof n=="string"?Qt.fromBase64String(n):Qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="server_timestamp",ox="__type__",ax="__previous_value__",lx="__local_write_time__";function jy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[ox])===null||t===void 0?void 0:t.stringValue)===sx}function Sp(n){const e=n.mapValue.fields[ax];return jy(e)?Sp(e):e}function Cu(n){const e=Us(n.mapValue.fields[lx].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,t,r,i,s,a,c,u,d,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=m}}const Ff="(default)";class ku{constructor(e,t){this.projectId=e,this.database=t||Ff}static empty(){return new ku("","")}get isDefaultDatabase(){return this.database===Ff}isEqual(e){return e instanceof ku&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="__type__",YL="__max__",bd={mapValue:{}},ux="__vector__",$f="value";function Bs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jy(n)?4:XL(n)?9007199254740991:QL(n)?10:11:Ne(28295,{value:n})}function li(n,e){if(n===e)return!0;const t=Bs(n);if(t!==Bs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cu(n).isEqual(Cu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Us(i.timestampValue),c=Us(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return zs(i.bytesValue).isEqual(zs(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return wt(i.geoPointValue.latitude)===wt(s.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return wt(i.integerValue)===wt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=wt(i.doubleValue),c=wt(s.doubleValue);return a===c?Vf(a)===Vf(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return yl(n.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},c=s.mapValue.fields||{};if(pb(a)!==pb(c))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!li(a[u],c[u])))return!1;return!0}(n,e);default:return Ne(52216,{left:n})}}function Ru(n,e){return(n.values||[]).find(t=>li(t,e))!==void 0}function vl(n,e){if(n===e)return 0;const t=Bs(n),r=Bs(e);if(t!==r)return Fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return function(s,a){const c=wt(s.integerValue||s.doubleValue),u=wt(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return gb(n.timestampValue,e.timestampValue);case 4:return gb(Cu(n),Cu(e));case 5:return D_(n.stringValue,e.stringValue);case 6:return function(s,a){const c=zs(s),u=zs(a);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,a){const c=s.split("/"),u=a.split("/");for(let d=0;d<c.length&&d<u.length;d++){const m=Fe(c[d],u[d]);if(m!==0)return m}return Fe(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,a){const c=Fe(wt(s.latitude),wt(a.latitude));return c!==0?c:Fe(wt(s.longitude),wt(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return _b(n.arrayValue,e.arrayValue);case 10:return function(s,a){var c,u,d,m;const _=s.fields||{},y=a.fields||{},w=(c=_[$f])===null||c===void 0?void 0:c.arrayValue,T=(u=y[$f])===null||u===void 0?void 0:u.arrayValue,I=Fe(((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0,((m=T==null?void 0:T.values)===null||m===void 0?void 0:m.length)||0);return I!==0?I:_b(w,T)}(n.mapValue,e.mapValue);case 11:return function(s,a){if(s===bd.mapValue&&a===bd.mapValue)return 0;if(s===bd.mapValue)return 1;if(a===bd.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),d=a.fields||{},m=Object.keys(d);u.sort(),m.sort();for(let _=0;_<u.length&&_<m.length;++_){const y=D_(u[_],m[_]);if(y!==0)return y;const w=vl(c[u[_]],d[m[_]]);if(w!==0)return w}return Fe(u.length,m.length)}(n.mapValue,e.mapValue);default:throw Ne(23264,{Pe:t})}}function gb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);const t=Us(n),r=Us(e),i=Fe(t.seconds,r.seconds);return i!==0?i:Fe(t.nanos,r.nanos)}function _b(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=vl(t[i],r[i]);if(s)return s}return Fe(t.length,r.length)}function El(n){return M_(n)}function M_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Us(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return zs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Pe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=M_(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${M_(t.fields[a])}`;return i+"}"}(n.mapValue):Ne(61005,{value:n})}function rf(n){switch(Bs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sp(n);return e?16+rf(e):16;case 5:return 2*n.stringValue.length;case 6:return zs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+rf(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Xs(r.fields,(s,a)=>{i+=s.length+rf(a)}),i}(n.mapValue);default:throw Ne(13486,{value:n})}}function L_(n){return!!n&&"integerValue"in n}function Uy(n){return!!n&&"arrayValue"in n}function yb(n){return!!n&&"nullValue"in n}function vb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sf(n){return!!n&&"mapValue"in n}function QL(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[cx])===null||t===void 0?void 0:t.stringValue)===ux}function hu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Xs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=hu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function XL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===YL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!sf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(t)}setAll(e){let t=Yt.emptyPath(),r={},i=[];e.forEach((a,c)=>{if(!t.isImmediateParentOf(c)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}a?r[c.lastSegment()]=hu(a):i.push(c.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());sf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];sf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Xs(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new An(hu(this.value))}}function hx(n){const e=[];return Xs(n.fields,(t,r)=>{const i=new Yt([t]);if(sf(r)){const s=hx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,t,r,i,s,a,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(e){return new rn(e,0,Me.min(),Me.min(),Me.min(),An.empty(),0)}static newFoundDocument(e,t,r,i){return new rn(e,1,t,Me.min(),r,i,0)}static newNoDocument(e,t){return new rn(e,2,t,Me.min(),Me.min(),An.empty(),0)}static newUnknownDocument(e,t){return new rn(e,3,t,Me.min(),Me.min(),An.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t){this.position=e,this.inclusive=t}}function Eb(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],a=n.position[i];if(s.field.isKeyField()?r=Pe.comparator(Pe.fromName(a.referenceValue),t.key):r=vl(a,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function wb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!li(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,t="asc"){this.field=e,this.dir=t}}function JL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{}class Rt extends dx{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new eV(e,t,r):t==="array-contains"?new rV(e,r):t==="in"?new iV(e,r):t==="not-in"?new sV(e,r):t==="array-contains-any"?new oV(e,r):new Rt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new tV(e,r):new nV(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(vl(t,this.value)):t!==null&&Bs(this.value)===Bs(t)&&this.matchesComparison(vl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends dx{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ci(e,t)}matches(e){return fx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function fx(n){return n.op==="and"}function px(n){return ZL(n)&&fx(n)}function ZL(n){for(const e of n.filters)if(e instanceof ci)return!1;return!0}function V_(n){if(n instanceof Rt)return n.field.canonicalString()+n.op.toString()+El(n.value);if(px(n))return n.filters.map(e=>V_(e)).join(",");{const e=n.filters.map(t=>V_(t)).join(",");return`${n.op}(${e})`}}function mx(n,e){return n instanceof Rt?function(r,i){return i instanceof Rt&&r.op===i.op&&r.field.isEqual(i.field)&&li(r.value,i.value)}(n,e):n instanceof ci?function(r,i){return i instanceof ci&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,c)=>s&&mx(a,i.filters[c]),!0):!1}(n,e):void Ne(19439)}function gx(n){return n instanceof Rt?function(t){return`${t.field.canonicalString()} ${t.op} ${El(t.value)}`}(n):n instanceof ci?function(t){return t.op.toString()+" {"+t.getFilters().map(gx).join(" ,")+"}"}(n):"Filter"}class eV extends Rt{constructor(e,t,r){super(e,t,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const t=Pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class tV extends Rt{constructor(e,t){super(e,"in",t),this.keys=_x("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nV extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=_x("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _x(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class rV extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Uy(t)&&Ru(t.arrayValue,this.value)}}class iV extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ru(this.value.arrayValue,t)}}class sV extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ru(this.value.arrayValue,t)}}class oV extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Uy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ru(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,t=null,r=[],i=[],s=null,a=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=c,this.Ie=null}}function bb(n,e=null,t=[],r=[],i=null,s=null,a=null){return new aV(n,e,t,r,i,s,a)}function zy(n){const e=Ve(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>V_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Tp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>El(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>El(r)).join(",")),e.Ie=t}return e.Ie}function By(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!JL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!wb(n.startAt,e.startAt)&&wb(n.endAt,e.endAt)}function F_(n){return Pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,t=null,r=[],i=[],s=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function lV(n,e,t,r,i,s,a,c){return new Ap(n,e,t,r,i,s,a,c)}function Hy(n){return new Ap(n)}function Tb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function cV(n){return n.collectionGroup!==null}function du(n){const e=Ve(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Dt(Yt.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new Uf(s,r))}),t.has(Yt.keyField().canonicalString())||e.Ee.push(new Uf(Yt.keyField(),r))}return e.Ee}function ni(n){const e=Ve(n);return e.de||(e.de=uV(e,du(n))),e.de}function uV(n,e){if(n.limitType==="F")return bb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Uf(i.field,s)});const t=n.endAt?new jf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new jf(n.startAt.position,n.startAt.inclusive):null;return bb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function $_(n,e,t){return new Ap(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ip(n,e){return By(ni(n),ni(e))&&n.limitType===e.limitType}function yx(n){return`${zy(ni(n))}|lt:${n.limitType}`}function el(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>gx(i)).join(", ")}]`),Tp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>El(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>El(i)).join(",")),`Target(${r})`}(ni(n))}; limitType=${n.limitType})`}function xp(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Pe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of du(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(a,c,u){const d=Eb(a,c,u);return a.inclusive?d<=0:d<0}(r.startAt,du(r),i)||r.endAt&&!function(a,c,u){const d=Eb(a,c,u);return a.inclusive?d>=0:d>0}(r.endAt,du(r),i))}(n,e)}function hV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function vx(n){return(e,t)=>{let r=!1;for(const i of du(n)){const s=dV(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function dV(n,e,t){const r=n.field.isKeyField()?Pe.comparator(e.key,t.key):function(s,a,c){const u=a.data.field(s),d=c.data.field(s);return u!==null&&d!==null?vl(u,d):Ne(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xs(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return rx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=new ft(Pe.comparator);function Ki(){return fV}const Ex=new ft(Pe.comparator);function eu(...n){let e=Ex;for(const t of n)e=e.insert(t.key,t);return e}function wx(n){let e=Ex;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Vo(){return fu()}function bx(){return fu()}function fu(){return new ra(n=>n.toString(),(n,e)=>n.isEqual(e))}const pV=new ft(Pe.comparator),mV=new Dt(Pe.comparator);function Ue(...n){let e=mV;for(const t of n)e=e.add(t);return e}const gV=new Dt(Fe);function _V(){return gV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vf(e)?"-0":e}}function Tx(n){return{integerValue:""+n}}function yV(n,e){return HL(e)?Tx(e):Wy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this._=void 0}}function vV(n,e,t){return n instanceof zf?function(i,s){const a={fields:{[ox]:{stringValue:sx},[lx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&jy(s)&&(s=Sp(s)),s&&(a.fields[ax]=s),{mapValue:a}}(t,e):n instanceof wl?Ax(n,e):n instanceof Pu?Ix(n,e):function(i,s){const a=Sx(i,s),c=Sb(a)+Sb(i.Re);return L_(a)&&L_(i.Re)?Tx(c):Wy(i.serializer,c)}(n,e)}function EV(n,e,t){return n instanceof wl?Ax(n,e):n instanceof Pu?Ix(n,e):t}function Sx(n,e){return n instanceof Bf?function(r){return L_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class zf extends Cp{}class wl extends Cp{constructor(e){super(),this.elements=e}}function Ax(n,e){const t=xx(e);for(const r of n.elements)t.some(i=>li(i,r))||t.push(r);return{arrayValue:{values:t}}}class Pu extends Cp{constructor(e){super(),this.elements=e}}function Ix(n,e){let t=xx(e);for(const r of n.elements)t=t.filter(i=>!li(i,r));return{arrayValue:{values:t}}}class Bf extends Cp{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Sb(n){return wt(n.integerValue||n.doubleValue)}function xx(n){return Uy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,t){this.field=e,this.transform=t}}function bV(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof wl&&i instanceof wl||r instanceof Pu&&i instanceof Pu?yl(r.elements,i.elements,li):r instanceof Bf&&i instanceof Bf?li(r.Re,i.Re):r instanceof zf&&i instanceof zf}(n.transform,e.transform)}class TV{constructor(e,t){this.version=e,this.transformResults=t}}class ri{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function of(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class kp{}function Cx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Rx(n.key,ri.none()):new Wu(n.key,n.data,ri.none());{const t=n.data,r=An.empty();let i=new Dt(Yt.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Js(n.key,r,new Fn(i.toArray()),ri.none())}}function SV(n,e,t){n instanceof Wu?function(i,s,a){const c=i.value.clone(),u=Ib(i.fieldTransforms,s,a.transformResults);c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Js?function(i,s,a){if(!of(i.precondition,s))return void s.convertToUnknownDocument(a.version);const c=Ib(i.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(kx(i)),u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function pu(n,e,t,r){return n instanceof Wu?function(s,a,c,u){if(!of(s.precondition,a))return c;const d=s.value.clone(),m=xb(s.fieldTransforms,u,a);return d.setAll(m),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof Js?function(s,a,c,u){if(!of(s.precondition,a))return c;const d=xb(s.fieldTransforms,u,a),m=a.data;return m.setAll(kx(s)),m.setAll(d),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(s,a,c){return of(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(n,e,t)}function AV(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=Sx(r.transform,i||null);s!=null&&(t===null&&(t=An.empty()),t.set(r.field,s))}return t||null}function Ab(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&yl(r,i,(s,a)=>bV(s,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Wu extends kp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Js extends kp{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function kx(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Ib(n,e,t){const r=new Map;Je(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const s=n[i],a=s.transform,c=e.data.field(s.field);r.set(s.field,EV(a,c,t[i]))}return r}function xb(n,e,t){const r=new Map;for(const i of n){const s=i.transform,a=t.data.field(i.field);r.set(i.field,vV(s,a,e))}return r}class Rx extends kp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IV extends kp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&SV(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=pu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=pu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=bx();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=t.has(i.key)?null:c;const u=Cx(a,c);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&yl(this.mutations,e.mutations,(t,r)=>Ab(t,r))&&yl(this.baseMutations,e.baseMutations,(t,r)=>Ab(t,r))}}class Ky{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Je(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return pV}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new Ky(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,We;function RV(n){switch(n){case oe.OK:return Ne(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ne(15467,{code:n})}}function Px(n){if(n===void 0)return Wi("GRPC error has no .code"),oe.UNKNOWN;switch(n){case St.OK:return oe.OK;case St.CANCELLED:return oe.CANCELLED;case St.UNKNOWN:return oe.UNKNOWN;case St.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case St.INTERNAL:return oe.INTERNAL;case St.UNAVAILABLE:return oe.UNAVAILABLE;case St.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case St.NOT_FOUND:return oe.NOT_FOUND;case St.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case St.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case St.ABORTED:return oe.ABORTED;case St.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case St.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case St.DATA_LOSS:return oe.DATA_LOSS;default:return Ne(39323,{code:n})}}(We=St||(St={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=new Ls([4294967295,4294967295],0);function Cb(n){const e=ex().encode(n),t=new KI;return t.update(e),new Uint8Array(t.digest())}function kb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ls([t,r],0),new Ls([i,s],0)]}class qy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new tu(`Invalid padding: ${t}`);if(r<0)throw new tu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new tu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new tu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ls.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Ls.fromNumber(r)));return i.compare(PV)===1&&(i=new Ls([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Cb(e),[r,i]=kb(t);for(let s=0;s<this.hashCount;s++){const a=this.we(r,i,s);if(!this.be(a))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new qy(s,i,t);return r.forEach(c=>a.insert(c)),a}insert(e){if(this.pe===0)return;const t=Cb(e),[r,i]=kb(t);for(let s=0;s<this.hashCount;s++){const a=this.we(r,i,s);this.Se(a)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Ku.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Rp(Me.min(),i,new ft(Fe),Ki(),Ue())}}class Ku{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ku(r,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class Ox{constructor(e,t){this.targetId=e,this.Ce=t}}class Nx{constructor(e,t,r=Qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Rb{constructor(){this.Fe=0,this.Me=Pb(),this.xe=Qt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ue(),t=Ue(),r=Ue();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ne(38017,{changeType:s})}}),new Ku(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=Pb()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Je(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class OV{constructor(e){this.ze=e,this.je=new Map,this.He=Ki(),this.Je=Td(),this.Ye=Td(),this.Ze=new ft(Fe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Ne(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const s=i.target;if(F_(s))if(r===0){const a=new Pe(s.path);this.tt(t,a,rn.newNoDocument(a,Me.min()))}else Je(r===1,20013,{expectedCount:r});else{const a=this.ut(t);if(a!==r){const c=this.ct(e),u=c?this.lt(c,e,a):1;if(u!==0){this.st(t);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let a,c;try{a=zs(r).toUint8Array()}catch(u){if(u instanceof ix)return _l("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new qy(a,i,s)}catch(u){return _l(u instanceof tu?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.pe===0?null:c}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const a=this.ze.Pt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,s,null),i++)}),i}It(e){const t=new Map;this.je.forEach((s,a)=>{const c=this._t(a);if(c){if(s.current&&F_(c.target)){const u=new Pe(c.target.path);this.Et(u).has(a)||this.dt(a,u)||this.tt(a,u,rn.newNoDocument(u,e))}s.Le&&(t.set(a,s.qe()),s.Qe())}});let r=Ue();this.Ye.forEach((s,a)=>{let c=!0;a.forEachWhile(u=>{const d=this._t(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.He.forEach((s,a)=>a.setReadTime(e));const i=new Rp(e,t,this.Ze,this.He,r);return this.He=Ki(),this.Je=Td(),this.Ye=Td(),this.Ze=new ft(Fe),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Rb,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Dt(Fe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Dt(Fe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Rb),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Td(){return new ft(Pe.comparator)}function Pb(){return new ft(Pe.comparator)}const NV={asc:"ASCENDING",desc:"DESCENDING"},DV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MV={and:"AND",or:"OR"};class LV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function j_(n,e){return n.useProto3Json||Tp(e)?e:{value:e}}function Hf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function VV(n,e){return Hf(n,e.toTimestamp())}function ii(n){return Je(!!n,49232),Me.fromTimestamp(function(t){const r=Us(t);return new Nt(r.seconds,r.nanos)}(n))}function Gy(n,e){return U_(n,e).canonicalString()}function U_(n,e){const t=function(i){return new _t(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Mx(n){const e=_t.fromString(n);return Je(jx(e),10190,{key:e.toString()}),e}function z_(n,e){return Gy(n.databaseId,e.path)}function zg(n,e){const t=Mx(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Pe(Vx(t))}function Lx(n,e){return Gy(n.databaseId,e)}function FV(n){const e=Mx(n);return e.length===4?_t.emptyPath():Vx(e)}function B_(n){return new _t(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Vx(n){return Je(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Ob(n,e,t){return{name:z_(n,e),fields:t.value.mapValue.fields}}function $V(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ne(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,m){return d.useProto3Json?(Je(m===void 0||typeof m=="string",58123),Qt.fromBase64String(m||"")):(Je(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Qt.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(d){const m=d.code===void 0?oe.UNKNOWN:Px(d.code);return new Re(m,d.message||"")}(a);t=new Nx(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zg(n,r.document.name),s=ii(r.document.updateTime),a=r.document.createTime?ii(r.document.createTime):Me.min(),c=new An({mapValue:{fields:r.document.fields}}),u=rn.newFoundDocument(i,s,a,c),d=r.targetIds||[],m=r.removedTargetIds||[];t=new af(d,m,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zg(n,r.document),s=r.readTime?ii(r.readTime):Me.min(),a=rn.newNoDocument(i,s),c=r.removedTargetIds||[];t=new af([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zg(n,r.document),s=r.removedTargetIds||[];t=new af([],s,i,null)}else{if(!("filter"in e))return Ne(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new kV(i,s),c=r.targetId;t=new Ox(c,a)}}return t}function jV(n,e){let t;if(e instanceof Wu)t={update:Ob(n,e.key,e.value)};else if(e instanceof Rx)t={delete:z_(n,e.key)};else if(e instanceof Js)t={update:Ob(n,e.key,e.data),updateMask:YV(e.fieldMask)};else{if(!(e instanceof IV))return Ne(16599,{ft:e.type});t={verify:z_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const c=a.transform;if(c instanceof zf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof wl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Pu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Bf)return{fieldPath:a.field.canonicalString(),increment:c.Re};throw Ne(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:VV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ne(27497)}(n,e.precondition)),t}function UV(n,e){return n&&n.length>0?(Je(e!==void 0,14353),n.map(t=>function(i,s){let a=i.updateTime?ii(i.updateTime):ii(s);return a.isEqual(Me.min())&&(a=ii(s)),new TV(a,i.transformResults||[])}(t,e))):[]}function zV(n,e){return{documents:[Lx(n,e.path)]}}function BV(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Lx(n,i);const s=function(d){if(d.length!==0)return $x(ci.create(d,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const a=function(d){if(d.length!==0)return d.map(m=>function(y){return{field:tl(y.field),direction:KV(y.dir)}}(m))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=j_(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:t,parent:i}}function HV(n){let e=FV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Je(r===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];t.where&&(s=function(_){const y=Fx(_);return y instanceof ci&&px(y)?y.getFilters():[y]}(t.where));let a=[];t.orderBy&&(a=function(_){return _.map(y=>function(T){return new Uf(nl(T.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(y))}(t.orderBy));let c=null;t.limit&&(c=function(_){let y;return y=typeof _=="object"?_.value:_,Tp(y)?null:y}(t.limit));let u=null;t.startAt&&(u=function(_){const y=!!_.before,w=_.values||[];return new jf(w,y)}(t.startAt));let d=null;return t.endAt&&(d=function(_){const y=!_.before,w=_.values||[];return new jf(w,y)}(t.endAt)),lV(e,i,a,s,c,"F",u,d)}function WV(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Fx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=nl(t.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=nl(t.unaryFilter.field);return Rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=nl(t.unaryFilter.field);return Rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=nl(t.unaryFilter.field);return Rt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}}(n):n.fieldFilter!==void 0?function(t){return Rt.create(nl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ci.create(t.compositeFilter.filters.map(r=>Fx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}}(t.compositeFilter.op))}(n):Ne(30097,{filter:n})}function KV(n){return NV[n]}function qV(n){return DV[n]}function GV(n){return MV[n]}function tl(n){return{fieldPath:n.canonicalString()}}function nl(n){return Yt.fromServerFormat(n.fieldPath)}function $x(n){return n instanceof Rt?function(t){if(t.op==="=="){if(vb(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NAN"}};if(yb(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(vb(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NOT_NAN"}};if(yb(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(t.field),op:qV(t.op),value:t.value}}}(n):n instanceof ci?function(t){const r=t.getFilters().map(i=>$x(i));return r.length===1?r[0]:{compositeFilter:{op:GV(t.op),filters:r}}}(n):Ne(54877,{filter:n})}function YV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,t,r,i,s=Me.min(),a=Me.min(),c=Qt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.wt=e}}function XV(n){const e=HV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?$_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(){this.Cn=new ZV}addToCollectionParentIndex(e,t){return this.Cn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(js.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(js.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class ZV{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Dt(_t.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dt(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ux=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(Ux,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new bl(0)}static lr(){return new bl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="LruGarbageCollector",eF=1048576;function Mb([n,e],[t,r]){const i=Fe(n,t);return i===0?Fe(e,r):i}class tF{constructor(e){this.Er=e,this.buffer=new Dt(Mb),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Mb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nF{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ve(Db,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){zl(t)?ve(Db,"Ignoring IndexedDB error during garbage collection: ",t):await Ul(t)}await this.mr(3e5)})}}class rF{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(bp.le);const r=new tF(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(Nb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nb):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,s,a,c,u,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,a=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,t))).next(_=>(s=_,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(d=Date.now(),Za()<=je.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-m}ms
	Determined least recently used ${i} in `+(c-a)+`ms
	Removed ${s} targets in `+(u-c)+`ms
	Removed ${_} documents in `+(d-u)+`ms
Total Duration: ${d-m}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:_})))}}function iF(n,e){return new rF(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.changes=new ra(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&pu(r.mutation,i,Fn.empty(),Nt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ue()){const i=Vo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let a=eu();return s.forEach((c,u)=>{a=a.insert(c,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const r=Vo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ue()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,c)=>{t.set(a,c)})})}computeViews(e,t,r,i){let s=Ki();const a=fu(),c=function(){return fu()}();return t.forEach((u,d)=>{const m=r.get(d.key);i.has(d.key)&&(m===void 0||m.mutation instanceof Js)?s=s.insert(d.key,d):m!==void 0?(a.set(d.key,m.mutation.getFieldMask()),pu(m.mutation,d,m.mutation.getFieldMask(),Nt.now())):a.set(d.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,m)=>a.set(d,m)),t.forEach((d,m)=>{var _;return c.set(d,new oF(m,(_=a.get(d))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,t){const r=fu();let i=new ft((a,c)=>a-c),s=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const c of a)c.keys().forEach(u=>{const d=t.get(u);if(d===null)return;let m=r.get(u)||Fn.empty();m=c.applyToLocalView(d,m),r.set(u,m);const _=(i.get(c.batchId)||Ue()).add(u);i=i.insert(c.batchId,_)})}).next(()=>{const a=[],c=i.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),d=u.key,m=u.value,_=bx();m.forEach(y=>{if(!s.has(y)){const w=Cx(t.get(y),r.get(y));w!==null&&_.set(y,w),s=s.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,_))}return ee.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(a){return Pe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cV(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):ee.resolve(Vo());let c=xu,u=s;return a.next(d=>ee.forEach(d,(m,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),s.get(m)?ee.resolve():this.remoteDocumentCache.getEntry(e,m).next(y=>{u=u.insert(m,y)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,Ue())).next(m=>({batchId:c,changes:wx(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pe(t)).next(r=>{let i=eu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let a=eu();return this.indexManager.getCollectionParents(e,s).next(c=>ee.forEach(c,u=>{const d=function(_,y){return new Ap(y,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(m=>{m.forEach((_,y)=>{a=a.insert(_,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(a=>{s.forEach((u,d)=>{const m=d.getKey();a.get(m)===null&&(a=a.insert(m,rn.newInvalidDocument(m)))});let c=eu();return a.forEach((u,d)=>{const m=s.get(u);m!==void 0&&pu(m.mutation,d,Fn.empty(),Nt.now()),xp(t,d)&&(c=c.insert(u,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ee.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ii(i.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:XV(i.bundledQuery),readTime:ii(i.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(){this.overlays=new ft(Pe.comparator),this.Qr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Vo();return ee.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.St(e,t,s)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const i=Vo(),s=t.length+1,a=new Pe(t.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const u=c.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new ft((d,m)=>d-m);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let m=s.get(d.largestBatchId);m===null&&(m=Vo(),s=s.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const c=Vo(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,m)=>c.set(d,m)),!(c.size()>=i)););return ee.resolve(c)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new CV(t,r));let s=this.Qr.get(t);s===void 0&&(s=Ue(),this.Qr.set(t,s)),this.Qr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(){this.$r=new Dt(Ut.Ur),this.Kr=new Dt(Ut.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new Ut(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Ut(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new Pe(new _t([])),r=new Ut(t,e),i=new Ut(t,e+1),s=[];return this.Kr.forEachInRange([r,i],a=>{this.zr(a),s.push(a.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Pe(new _t([])),r=new Ut(t,e),i=new Ut(t,e+1);let s=Ue();return this.Kr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const t=new Ut(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Pe.comparator(e.key,t.key)||Fe(e.Zr,t.Zr)}static Wr(e,t){return Fe(e.Zr,t.Zr)||Pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Dt(Ut.Ur)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new xV(s,t,r,i);this.mutationQueue.push(a);for(const c of i)this.Xr=this.Xr.add(new Ut(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ee.resolve(a)}lookupMutationBatch(e,t){return ee.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),s=i<0?0:i;return ee.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?$y:this.nr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ut(t,0),i=new Ut(t,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],a=>{const c=this.ei(a.Zr);s.push(c)}),ee.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dt(Fe);return t.forEach(i=>{const s=new Ut(i,0),a=new Ut(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,a],c=>{r=r.add(c.Zr)})}),ee.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Pe.isDocumentKey(s)||(s=s.child(""));const a=new Ut(new Pe(s),0);let c=new Dt(Fe);return this.Xr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.Zr)),!0)},a),ee.resolve(this.ni(c))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Je(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ee.forEach(t.mutations,i=>{const s=new Ut(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new Ut(t,0),i=this.Xr.firstAfterOrEqual(r);return ee.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e){this.ii=e,this.docs=function(){return new ft(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,a=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(t))}getEntries(e,t){let r=Ki();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():rn.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ki();const a=t.path,c=new Pe(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:d,value:{document:m}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||jL($L(m),r)<=0||(i.has(m.key)||xp(t,m))&&(s=s.insert(m.key,m.mutableCopy()))}return ee.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ne(9500)}si(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new fF(this)}getSize(e){return ee.resolve(this.size)}}class fF extends sF{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e){this.persistence=e,this.oi=new ra(t=>zy(t),By),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this._i=0,this.ai=new Yy,this.targetCount=0,this.ui=bl.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),ee.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new bl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Tr(t),ee.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.oi.forEach((a,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.oi.delete(a),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),ee.waitFor(s).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),ee.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,t){this.ci={},this.overlays={},this.li=new bp(0),this.hi=!1,this.hi=!0,this.Pi=new uF,this.referenceDelegate=e(this),this.Ti=new pF(this),this.indexManager=new JV,this.remoteDocumentCache=function(i){return new dF(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new QV(t),this.Ei=new lF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new hF(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){ve("MemoryPersistence","Starting transaction:",e);const i=new mF(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,t){return ee.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class mF extends zL{constructor(e){super(),this.currentSequenceNumber=e}}class Qy{constructor(e){this.persistence=e,this.Vi=new Yy,this.mi=null}static fi(e){return new Qy(e)}get gi(){if(this.mi)return this.mi;throw Ne(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.gi,r=>{const i=Pe.fromPath(r);return this.pi(e,i).next(s=>{s||t.removeEntry(i,Me.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ee.or([()=>ee.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Wf{constructor(e,t){this.persistence=e,this.yi=new ra(r=>WL(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=iF(this,t)}static fi(e,t){return new Wf(e,t)}di(){}Ai(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return ee.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?ee.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,a=>this.Dr(e,a,t).next(c=>{c||(r++,s.removeEntry(a,Me.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ee.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=rf(e.data.value)),t}Dr(e,t,r){return ee.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=Ue(),i=Ue();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Xy(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return xO()?8:BL(sn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ws(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.bs(e,t,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new gF;return this.Ss(e,t,a).next(c=>{if(s.result=c,this.fs)return this.Ds(e,t,a,c.size)})}).next(()=>s.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Za()<=je.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",el(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ee.resolve()):(Za()<=je.DEBUG&&ve("QueryEngine","Query:",el(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Za()<=je.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",el(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(t))):ee.resolve())}ws(e,t){if(Tb(t))return ee.resolve(null);let r=ni(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=$_(t,null,"F"),r=ni(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Ue(...s);return this.ys.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.vs(t,c);return this.Cs(t,d,a,u.readTime)?this.ws(e,$_(t,null,"F")):this.Fs(e,d,t,u)}))})))}bs(e,t,r,i){return Tb(t)||i.isEqual(Me.min())?ee.resolve(null):this.ys.getDocuments(e,r).next(s=>{const a=this.vs(t,s);return this.Cs(t,a,r,i)?ee.resolve(null):(Za()<=je.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),el(t)),this.Fs(e,a,t,FL(i,xu)).next(c=>c))})}vs(e,t){let r=new Dt(vx(e));return t.forEach((i,s)=>{xp(e,s)&&(r=r.add(s))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,t,r){return Za()<=je.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",el(t)),this.ys.getDocumentsMatchingQuery(e,t,js.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="LocalStore",yF=3e8;class vF{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new ft(Fe),this.Os=new ra(s=>zy(s),By),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aF(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function EF(n,e,t,r){return new vF(n,e,t,r)}async function Bx(n,e){const t=Ve(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],c=[];let u=Ue();for(const d of i){a.push(d.batchId);for(const m of d.mutations)u=u.add(m.key)}for(const d of s){c.push(d.batchId);for(const m of d.mutations)u=u.add(m.key)}return t.localDocuments.getDocuments(r,u).next(d=>({ks:d,removedBatchIds:a,addedBatchIds:c}))})})}function wF(n,e){const t=Ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Bs.newChangeBuffer({trackRemovals:!0});return function(c,u,d,m){const _=d.batch,y=_.keys();let w=ee.resolve();return y.forEach(T=>{w=w.next(()=>m.getEntry(u,T)).next(I=>{const A=d.docVersions.get(T);Je(A!==null,48541),I.version.compareTo(A)<0&&(_.applyToRemoteDocument(I,d),I.isValidDocument()&&(I.setReadTime(d.commitVersion),m.addEntry(I)))})}),w.next(()=>c.mutationQueue.removeMutationBatch(u,_))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=Ue();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Hx(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function bF(n,e){const t=Ve(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const c=[];e.targetChanges.forEach((m,_)=>{const y=i.get(_);if(!y)return;c.push(t.Ti.removeMatchingKeys(s,m.removedDocuments,_).next(()=>t.Ti.addMatchingKeys(s,m.addedDocuments,_)));let w=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(_)!==null?w=w.withResumeToken(Qt.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):m.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(m.resumeToken,r)),i=i.insert(_,w),function(I,A,O){return I.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=yF?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(y,w,m)&&c.push(t.Ti.updateTargetData(s,w))});let u=Ki(),d=Ue();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,m))}),c.push(TF(s,a,e.documentUpdates).next(m=>{u=m.qs,d=m.Qs})),!r.isEqual(Me.min())){const m=t.Ti.getLastRemoteSnapshotVersion(s).next(_=>t.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(m)}return ee.waitFor(c).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(t.xs=i,s))}function TF(n,e,t){let r=Ue(),i=Ue();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let a=Ki();return t.forEach((c,u)=>{const d=s.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(Me.min())?(e.removeEntry(c,u.readTime),a=a.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),a=a.insert(c,u)):ve(Jy,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{qs:a,Qs:i}})}function SF(n,e){const t=Ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=$y),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function AF(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(s=>s?(i=s,ee.resolve(i)):t.Ti.allocateTargetId(r).next(a=>(i=new Rs(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function H_(n,e,t){const r=Ve(n),i=r.xs.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!zl(a))throw a;ve(Jy,`Failed to update sequence numbers for target ${e}: ${a}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function Lb(n,e,t){const r=Ve(n);let i=Me.min(),s=Ue();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,d,m){const _=Ve(u),y=_.Os.get(m);return y!==void 0?ee.resolve(_.xs.get(y)):_.Ti.getTargetData(d,m)}(r,a,ni(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(a,c.targetId).next(u=>{s=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(a,e,t?i:Me.min(),t?s:Ue())).next(c=>(IF(r,hV(e),c),{documents:c,$s:s})))}function IF(n,e,t){let r=n.Ns.get(e)||Me.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ns.set(e,r)}class Vb{constructor(){this.activeTargetIds=_V()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xF{constructor(){this.xo=new Vb,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Vb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="ConnectivityMonitor";class $b{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ve(Fb,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ve(Fb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sd=null;function W_(){return Sd===null?Sd=function(){return 268435456+Math.round(2147483648*Math.random())}():Sd++,"0x"+Sd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="RestConnection",kF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RF{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Ff?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,s){const a=W_(),c=this.jo(e,t.toUriEncodedString());ve(Bg,`Sending RPC '${e}' ${a}:`,c,r);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,s);const{host:d}=new URL(c),m=$u(d);return this.Jo(e,c,u,r,m).then(_=>(ve(Bg,`Received RPC '${e}' ${a}: `,_),_),_=>{throw _l(Bg,`RPC '${e}' ${a} failed with error: `,_,"url: ",c,"request:",r),_})}Yo(e,t,r,i,s,a){return this.zo(e,t,r,i,s)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,t){const r=kF[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class OF extends RF{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,s){const a=W_();return new Promise((c,u)=>{const d=new qI;d.setWithCredentials(!0),d.listenOnce(GI.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case nf.NO_ERROR:const _=d.getResponseJson();ve(tn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),c(_);break;case nf.TIMEOUT:ve(tn,`RPC '${e}' ${a} timed out`),u(new Re(oe.DEADLINE_EXCEEDED,"Request time out"));break;case nf.HTTP_ERROR:const y=d.getStatus();if(ve(tn,`RPC '${e}' ${a} failed with status:`,y,"response text:",d.getResponseText()),y>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w==null?void 0:w.error;if(T&&T.status&&T.message){const I=function(O){const L=O.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(L)>=0?L:oe.UNKNOWN}(T.status);u(new Re(I,T.message))}else u(new Re(oe.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new Re(oe.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{h_:e,streamId:a,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{ve(tn,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(i);ve(tn,`RPC '${e}' ${a} sending request:`,i),d.send(t,"POST",m,r,15)})}I_(e,t,r){const i=W_(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=XI(),c=QI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const m=s.join("");ve(tn,`Creating RPC '${e}' stream ${i}: ${m}`,u);const _=a.createWebChannel(m,u);this.E_(_);let y=!1,w=!1;const T=new PF({Zo:A=>{w?ve(tn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(y||(ve(tn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),y=!0),ve(tn,`RPC '${e}' stream ${i} sending:`,A),_.send(A))},Xo:()=>_.close()}),I=(A,O,L)=>{A.listen(O,$=>{try{L($)}catch(z){setTimeout(()=>{throw z},0)}})};return I(_,Zc.EventType.OPEN,()=>{w||(ve(tn,`RPC '${e}' stream ${i} transport opened.`),T.__())}),I(_,Zc.EventType.CLOSE,()=>{w||(w=!0,ve(tn,`RPC '${e}' stream ${i} transport closed`),T.u_(),this.d_(_))}),I(_,Zc.EventType.ERROR,A=>{w||(w=!0,_l(tn,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),T.u_(new Re(oe.UNAVAILABLE,"The operation could not be completed")))}),I(_,Zc.EventType.MESSAGE,A=>{var O;if(!w){const L=A.data[0];Je(!!L,16349);const $=L,z=($==null?void 0:$.error)||((O=$[0])===null||O===void 0?void 0:O.error);if(z){ve(tn,`RPC '${e}' stream ${i} received error:`,z);const H=z.status;let j=function(R){const x=St[R];if(x!==void 0)return Px(x)}(H),k=z.message;j===void 0&&(j=oe.INTERNAL,k="Unknown error status: "+H+" with message "+z.message),w=!0,T.u_(new Re(j,k)),_.close()}else ve(tn,`RPC '${e}' stream ${i} received:`,L),T.c_(L)}}),I(c,YI.STAT_EVENT,A=>{A.stat===N_.PROXY?ve(tn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===N_.NOPROXY&&ve(tn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.a_()},0),T}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Hg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(n){return new LV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,t,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="PersistentStream";class Kx{constructor(e,t,r,i,s,a,c,u){this.xi=e,this.S_=r,this.D_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Wx(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(Wi(t.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{const i=new Re(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){const r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ve(jb,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(ve(jb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NF extends Kx{constructor(e,t,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=$V(this.serializer,e),r=function(s){if(!("targetChange"in s))return Me.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Me.min():a.readTime?ii(a.readTime):Me.min()}(e);return this.listener.Y_(t,r)}Z_(e){const t={};t.database=B_(this.serializer),t.addTarget=function(s,a){let c;const u=a.target;if(c=F_(u)?{documents:zV(s,u)}:{query:BV(s,u).gt},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=Dx(s,a.resumeToken);const d=j_(s,a.expectedCount);d!==null&&(c.expectedCount=d)}else if(a.snapshotVersion.compareTo(Me.min())>0){c.readTime=Hf(s,a.snapshotVersion.toTimestamp());const d=j_(s,a.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=WV(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){const t={};t.database=B_(this.serializer),t.removeTarget=e,this.Q_(t)}}class DF extends Kx{constructor(e,t,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=UV(e.writeResults,e.commitTime),r=ii(e.commitTime);return this.listener.ra(r,t)}ia(){const e={};e.database=B_(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>jV(this.serializer,r))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{}class LF extends MF{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new Re(oe.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.zo(e,U_(t,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Re(oe.UNKNOWN,s.toString())})}Yo(e,t,r,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Yo(e,U_(t,r),i,a,c,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Re(oe.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class VF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Wi(t),this.ua=!1):ve("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="RemoteStore";class FF{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(a=>{r.enqueueAndForget(async()=>{ia(this)&&(ve(Go,"Restarting streams for network reachability change."),await async function(u){const d=Ve(u);d.da.add(4),await qu(d),d.Va.set("Unknown"),d.da.delete(4),await Op(d)}(this))})}),this.Va=new VF(r,i)}}async function Op(n){if(ia(n))for(const e of n.Aa)await e(!0)}async function qu(n){for(const e of n.Aa)await e(!1)}function qx(n,e){const t=Ve(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),nv(t)?tv(t):Bl(t).N_()&&ev(t,e))}function Zy(n,e){const t=Ve(n),r=Bl(t);t.Ea.delete(e),r.N_()&&Gx(t,e),t.Ea.size===0&&(r.N_()?r.k_():ia(t)&&t.Va.set("Unknown"))}function ev(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Bl(n).Z_(e)}function Gx(n,e){n.ma.Ke(e),Bl(n).X_(e)}function tv(n){n.ma=new OV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Bl(n).start(),n.Va.ca()}function nv(n){return ia(n)&&!Bl(n).O_()&&n.Ea.size>0}function ia(n){return Ve(n).da.size===0}function Yx(n){n.ma=void 0}async function $F(n){n.Va.set("Online")}async function jF(n){n.Ea.forEach((e,t)=>{ev(n,e)})}async function UF(n,e){Yx(n),nv(n)?(n.Va.Pa(e),tv(n)):n.Va.set("Unknown")}async function zF(n,e,t){if(n.Va.set("Online"),e instanceof Nx&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const c of s.targetIds)i.Ea.has(c)&&(await i.remoteSyncer.rejectListen(c,a),i.Ea.delete(c),i.ma.removeTarget(c))}(n,e)}catch(r){ve(Go,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Kf(n,r)}else if(e instanceof af?n.ma.Xe(e):e instanceof Ox?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Me.min()))try{const r=await Hx(n.localStore);t.compareTo(r)>=0&&await function(s,a){const c=s.ma.It(a);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const m=s.Ea.get(d);m&&s.Ea.set(d,m.withResumeToken(u.resumeToken,a))}}),c.targetMismatches.forEach((u,d)=>{const m=s.Ea.get(u);if(!m)return;s.Ea.set(u,m.withResumeToken(Qt.EMPTY_BYTE_STRING,m.snapshotVersion)),Gx(s,u);const _=new Rs(m.target,u,d,m.sequenceNumber);ev(s,_)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){ve(Go,"Failed to raise snapshot:",r),await Kf(n,r)}}async function Kf(n,e,t){if(!zl(e))throw e;n.da.add(1),await qu(n),n.Va.set("Offline"),t||(t=()=>Hx(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ve(Go,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Op(n)})}function Qx(n,e){return e().catch(t=>Kf(n,t,e))}async function Np(n){const e=Ve(n),t=Hs(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:$y;for(;BF(e);)try{const i=await SF(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,HF(e,i)}catch(i){await Kf(e,i)}Xx(e)&&Jx(e)}function BF(n){return ia(n)&&n.Ia.length<10}function HF(n,e){n.Ia.push(e);const t=Hs(n);t.N_()&&t.ea&&t.ta(e.mutations)}function Xx(n){return ia(n)&&!Hs(n).O_()&&n.Ia.length>0}function Jx(n){Hs(n).start()}async function WF(n){Hs(n).ia()}async function KF(n){const e=Hs(n);for(const t of n.Ia)e.ta(t.mutations)}async function qF(n,e,t){const r=n.Ia.shift(),i=Ky.from(r,e,t);await Qx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Np(n)}async function GF(n,e){e&&Hs(n).ea&&await async function(r,i){if(function(a){return RV(a)&&a!==oe.ABORTED}(i.code)){const s=r.Ia.shift();Hs(r).L_(),await Qx(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Np(r)}}(n,e),Xx(n)&&Jx(n)}async function Ub(n,e){const t=Ve(n);t.asyncQueue.verifyOperationInProgress(),ve(Go,"RemoteStore received new credentials");const r=ia(t);t.da.add(3),await qu(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Op(t)}async function YF(n,e){const t=Ve(n);e?(t.da.delete(2),await Op(t)):e||(t.da.add(2),await qu(t),t.Va.set("Unknown"))}function Bl(n){return n.fa||(n.fa=function(t,r,i){const s=Ve(t);return s.oa(),new NF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{e_:$F.bind(null,n),n_:jF.bind(null,n),i_:UF.bind(null,n),Y_:zF.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),nv(n)?tv(n):n.Va.set("Unknown")):(await n.fa.stop(),Yx(n))})),n.fa}function Hs(n){return n.ga||(n.ga=function(t,r,i){const s=Ve(t);return s.oa(),new DF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:WF.bind(null,n),i_:GF.bind(null,n),na:KF.bind(null,n),ra:qF.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Np(n)):(await n.ga.stop(),n.Ia.length>0&&(ve(Go,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const a=Date.now()+r,c=new rv(e,t,a,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iv(n,e){if(Wi("AsyncQueue",`${e}: ${n}`),zl(n))return new Re(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{static emptySet(e){return new dl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Pe.comparator(t.key,r.key):(t,r)=>Pe.comparator(t.key,r.key),this.keyedMap=eu(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new dl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(){this.pa=new ft(Pe.comparator)}track(e){const t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Ne(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}}class Tl{constructor(e,t,r,i,s,a,c,u,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,s){const a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new Tl(e,t,dl.emptySet(t),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ip(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class XF{constructor(){this.queries=Bb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Ve(t),s=i.queries;i.queries=Bb(),s.forEach((a,c)=>{for(const u of c.Sa)u.onError(r)})})(this,new Re(oe.ABORTED,"Firestore shutting down"))}}function Bb(){return new ra(n=>yx(n),Ip)}async function JF(n,e){const t=Ve(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.Da()&&e.va()&&(r=2):(s=new QF,r=e.va()?0:1);try{switch(r){case 0:s.ba=await t.onListen(i,!0);break;case 1:s.ba=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(a){const c=iv(a,`Initialization of query '${el(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.Sa.push(e),e.Fa(t.onlineState),s.ba&&e.Ma(s.ba)&&sv(t)}async function ZF(n,e){const t=Ve(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.va()?0:1:!s.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function e4(n,e){const t=Ve(n);let r=!1;for(const i of e){const s=i.query,a=t.queries.get(s);if(a){for(const c of a.Sa)c.Ma(i)&&(r=!0);a.ba=i}}r&&sv(t)}function t4(n,e,t){const r=Ve(n),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(t);r.queries.delete(e)}function sv(n){n.Ca.forEach(e=>{e.next()})}var K_,Hb;(Hb=K_||(K_={})).xa="default",Hb.Cache="cache";class n4{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Tl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==K_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.key=e}}class eC{constructor(e){this.key=e}}class r4{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.Za=vx(e),this.Xa=new dl(this.Za)}get eu(){return this.Ha}tu(e,t){const r=t?t.nu:new zb,i=t?t.Xa:this.Xa;let s=t?t.mutatedKeys:this.mutatedKeys,a=i,c=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,_)=>{const y=i.get(m),w=xp(this.query,_)?_:null,T=!!y&&this.mutatedKeys.has(y.key),I=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let A=!1;y&&w?y.data.isEqual(w.data)?T!==I&&(r.track({type:3,doc:w}),A=!0):this.ru(y,w)||(r.track({type:2,doc:w}),A=!0,(u&&this.Za(w,u)>0||d&&this.Za(w,d)<0)&&(c=!0)):!y&&w?(r.track({type:0,doc:w}),A=!0):y&&!w&&(r.track({type:1,doc:y}),A=!0,(u||d)&&(c=!0)),A&&(w?(a=a.add(w),s=I?s.add(m):s.delete(m)):(a=a.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{Xa:a,nu:r,Cs:c,mutatedKeys:s}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const a=e.nu.wa();a.sort((m,_)=>function(w,T){const I=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Vt:A})}};return I(w)-I(T)}(m.type,_.type)||this.Za(m.doc,_.doc)),this.iu(r),i=i!=null&&i;const c=t&&!i?this.su():[],u=this.Ya.size===0&&this.current&&!i?1:0,d=u!==this.Ja;return this.Ja=u,a.length!==0||d?{snapshot:new Tl(this.query,e.Xa,s,a,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new zb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new eC(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new Zx(r))}),t}au(e){this.Ha=e.$s,this.Ya=Ue();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Tl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const ov="SyncEngine";class i4{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class s4{constructor(e){this.key=e,this.cu=!1}}class o4{constructor(e,t,r,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new ra(c=>yx(c),Ip),this.Pu=new Map,this.Tu=new Set,this.Iu=new ft(Pe.comparator),this.Eu=new Map,this.du=new Yy,this.Au={},this.Ru=new Map,this.Vu=bl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function a4(n,e,t=!0){const r=oC(n);let i;const s=r.hu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.uu()):i=await tC(r,e,t,!0),i}async function l4(n,e){const t=oC(n);await tC(t,e,!0,!1)}async function tC(n,e,t,r){const i=await AF(n.localStore,ni(e)),s=i.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t);let c;return r&&(c=await c4(n,e,s,a==="current",i.resumeToken)),n.isPrimaryClient&&t&&qx(n.remoteStore,i),c}async function c4(n,e,t,r,i){n.fu=(_,y,w)=>async function(I,A,O,L){let $=A.view.tu(O);$.Cs&&($=await Lb(I.localStore,A.query,!1).then(({documents:k})=>A.view.tu(k,$)));const z=L&&L.targetChanges.get(A.targetId),H=L&&L.targetMismatches.get(A.targetId)!=null,j=A.view.applyChanges($,I.isPrimaryClient,z,H);return Kb(I,A.targetId,j.ou),j.snapshot}(n,_,y,w);const s=await Lb(n.localStore,e,!0),a=new r4(e,s.$s),c=a.tu(s.documents),u=Ku.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=a.applyChanges(c,n.isPrimaryClient,u);Kb(n,t,d.ou);const m=new i4(e,t,a);return n.hu.set(e,m),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),d.snapshot}async function u4(n,e,t){const r=Ve(n),i=r.hu.get(e),s=r.Pu.get(i.targetId);if(s.length>1)return r.Pu.set(i.targetId,s.filter(a=>!Ip(a,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await H_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Zy(r.remoteStore,i.targetId),q_(r,i.targetId)}).catch(Ul)):(q_(r,i.targetId),await H_(r.localStore,i.targetId,!0))}async function h4(n,e){const t=Ve(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Zy(t.remoteStore,r.targetId))}async function d4(n,e,t){const r=v4(n);try{const i=await function(a,c){const u=Ve(a),d=Nt.now(),m=c.reduce((w,T)=>w.add(T.key),Ue());let _,y;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let T=Ki(),I=Ue();return u.Bs.getEntries(w,m).next(A=>{T=A,T.forEach((O,L)=>{L.isValidDocument()||(I=I.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,T)).next(A=>{_=A;const O=[];for(const L of c){const $=AV(L,_.get(L.key).overlayedDocument);$!=null&&O.push(new Js(L.key,$,hx($.value.mapValue),ri.exists(!0)))}return u.mutationQueue.addMutationBatch(w,d,O,c)}).next(A=>{y=A;const O=A.applyToLocalDocumentSet(_,I);return u.documentOverlayCache.saveOverlays(w,A.batchId,O)})}).then(()=>({batchId:y.batchId,changes:wx(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,u){let d=a.Au[a.currentUser.toKey()];d||(d=new ft(Fe)),d=d.insert(c,u),a.Au[a.currentUser.toKey()]=d}(r,i.batchId,t),await Gu(r,i.changes),await Np(r.remoteStore)}catch(i){const s=iv(i,"Failed to persist write");t.reject(s)}}async function nC(n,e){const t=Ve(n);try{const r=await bF(t.localStore,e);e.targetChanges.forEach((i,s)=>{const a=t.Eu.get(s);a&&(Je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.cu=!0:i.modifiedDocuments.size>0?Je(a.cu,14607):i.removedDocuments.size>0&&(Je(a.cu,42227),a.cu=!1))}),await Gu(t,r,e)}catch(r){await Ul(r)}}function Wb(n,e,t){const r=Ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.hu.forEach((s,a)=>{const c=a.view.Fa(e);c.snapshot&&i.push(c.snapshot)}),function(a,c){const u=Ve(a);u.onlineState=c;let d=!1;u.queries.forEach((m,_)=>{for(const y of _.Sa)y.Fa(c)&&(d=!0)}),d&&sv(u)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function f4(n,e,t){const r=Ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Eu.get(e),s=i&&i.key;if(s){let a=new ft(Pe.comparator);a=a.insert(s,rn.newNoDocument(s,Me.min()));const c=Ue().add(s),u=new Rp(Me.min(),new Map,new ft(Fe),a,c);await nC(r,u),r.Iu=r.Iu.remove(s),r.Eu.delete(e),av(r)}else await H_(r.localStore,e,!1).then(()=>q_(r,e,t)).catch(Ul)}async function p4(n,e){const t=Ve(n),r=e.batch.batchId;try{const i=await wF(t.localStore,e);iC(t,r,null),rC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Gu(t,i)}catch(i){await Ul(i)}}async function m4(n,e,t){const r=Ve(n);try{const i=await function(a,c){const u=Ve(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let m;return u.mutationQueue.lookupMutationBatch(d,c).next(_=>(Je(_!==null,37113),m=_.keys(),u.mutationQueue.removeMutationBatch(d,_))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,m,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m)).next(()=>u.localDocuments.getDocuments(d,m))})}(r.localStore,e);iC(r,e,t),rC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Gu(r,i)}catch(i){await Ul(i)}}function rC(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function iC(n,e,t){const r=Ve(n);let i=r.Au[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function q_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||sC(n,r)})}function sC(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(Zy(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),av(n))}function Kb(n,e,t){for(const r of t)r instanceof Zx?(n.du.addReference(r.key,e),g4(n,r)):r instanceof eC?(ve(ov,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||sC(n,r.key)):Ne(19791,{pu:r})}function g4(n,e){const t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(ve(ov,"New document in limbo: "+t),n.Tu.add(r),av(n))}function av(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Pe(_t.fromString(e)),r=n.Vu.next();n.Eu.set(r,new s4(t)),n.Iu=n.Iu.insert(t,r),qx(n.remoteStore,new Rs(ni(Hy(t.path)),r,"TargetPurposeLimboResolution",bp.le))}}async function Gu(n,e,t){const r=Ve(n),i=[],s=[],a=[];r.hu.isEmpty()||(r.hu.forEach((c,u)=>{a.push(r.fu(u,e,t).then(d=>{var m;if((d||t)&&r.isPrimaryClient){const _=d?!d.fromCache:(m=t==null?void 0:t.targetChanges.get(u.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(u.targetId,_?"current":"not-current")}if(d){i.push(d);const _=Xy.Rs(u.targetId,d);s.push(_)}}))}),await Promise.all(a),r.lu.Y_(i),await async function(u,d){const m=Ve(u);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ee.forEach(d,y=>ee.forEach(y.ds,w=>m.persistence.referenceDelegate.addReference(_,y.targetId,w)).next(()=>ee.forEach(y.As,w=>m.persistence.referenceDelegate.removeReference(_,y.targetId,w)))))}catch(_){if(!zl(_))throw _;ve(Jy,"Failed to update sequence numbers: "+_)}for(const _ of d){const y=_.targetId;if(!_.fromCache){const w=m.xs.get(y),T=w.snapshotVersion,I=w.withLastLimboFreeSnapshotVersion(T);m.xs=m.xs.insert(y,I)}}}(r.localStore,s))}async function _4(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){ve(ov,"User change. New user:",e.toKey());const r=await Bx(t.localStore,e);t.currentUser=e,function(s,a){s.Ru.forEach(c=>{c.forEach(u=>{u.reject(new Re(oe.CANCELLED,a))})}),s.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gu(t,r.ks)}}function y4(n,e){const t=Ve(n),r=t.Eu.get(e);if(r&&r.cu)return Ue().add(r.key);{let i=Ue();const s=t.Pu.get(e);if(!s)return i;for(const a of s){const c=t.hu.get(a);i=i.unionWith(c.view.eu)}return i}}function oC(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f4.bind(null,e),e.lu.Y_=e4.bind(null,e.eventManager),e.lu.gu=t4.bind(null,e.eventManager),e}function v4(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m4.bind(null,e),e}class qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return EF(this.persistence,new _F,e.initialUser,this.serializer)}Su(e){return new zx(Qy.fi,this.serializer)}bu(e){return new xF}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qf.provider={build:()=>new qf};class E4 extends qf{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Je(this.persistence.referenceDelegate instanceof Wf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new nF(r,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new zx(r=>Wf.fi(r,t),this.serializer)}}class G_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Wb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_4.bind(null,this.syncEngine),await YF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XF}()}createDatastore(e){const t=Pp(e.databaseInfo.databaseId),r=function(s){return new OF(s)}(e.databaseInfo);return function(s,a,c,u){return new LF(s,a,c,u)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,a,c){return new FF(r,i,s,a,c)}(this.localStore,this.datastore,e.asyncQueue,t=>Wb(this.syncEngine,t,0),function(){return $b.C()?new $b:new CF}())}createSyncEngine(e,t){return function(i,s,a,c,u,d,m){const _=new o4(i,s,a,c,u,d);return m&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=Ve(i);ve(Go,"RemoteStore shutting down."),s.da.add(5),await qu(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}G_.provider={build:()=>new G_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="FirestoreClient";class b4{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=nn.UNAUTHENTICATED,this.clientId=tx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{ve(Ws,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ve(Ws,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=iv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wg(n,e){n.asyncQueue.verifyOperationInProgress(),ve(Ws,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Bx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function qb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await T4(n);ve(Ws,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Ub(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Ub(e.remoteStore,i)),n._onlineComponents=e}async function T4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ve(Ws,"Using user provided OfflineComponentProvider");try{await Wg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===oe.FAILED_PRECONDITION||i.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;_l("Error using user provided cache. Falling back to memory cache: "+t),await Wg(n,new qf)}}else ve(Ws,"Using default OfflineComponentProvider"),await Wg(n,new E4(void 0));return n._offlineComponents}async function aC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ve(Ws,"Using user provided OnlineComponentProvider"),await qb(n,n._uninitializedComponentsProvider._online)):(ve(Ws,"Using default OnlineComponentProvider"),await qb(n,new G_))),n._onlineComponents}function S4(n){return aC(n).then(e=>e.syncEngine)}async function A4(n){const e=await aC(n),t=e.eventManager;return t.onListen=a4.bind(null,e.syncEngine),t.onUnlisten=u4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=l4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=h4.bind(null,e.syncEngine),t}function I4(n,e,t={}){const r=new Vs;return n.asyncQueue.enqueueAndForget(async()=>function(s,a,c,u,d){const m=new w4({next:y=>{m.xu(),a.enqueueAndForget(()=>ZF(s,_));const w=y.docs.has(c);!w&&y.fromCache?d.reject(new Re(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&y.fromCache&&u&&u.source==="server"?d.reject(new Re(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),_=new n4(Hy(c.path),m,{includeMetadataChanges:!0,Qa:!0});return JF(s,_)}(await A4(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(n,e,t){if(!t)throw new Re(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function C4(n,e,t,r){if(e===!0&&r===!0)throw new Re(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Yb(n){if(!Pe.isDocumentKey(n))throw new Re(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function lv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ne(12329,{type:typeof n})}function Yo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lv(n);throw new Re(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="firestore.googleapis.com",Qb=!0;class Xb{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Re(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cC,this.ssl=Qb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Qb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ux;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eF)throw new Re(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Re(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Re(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Re(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cv{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kL;switch(r.type){case"firstParty":return new NL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Re(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Gb.get(t);r&&(ve("ComponentProvider","Removing Datastore"),Gb.delete(t),r.terminate())}(this),Promise.resolve()}}function k4(n,e,t,r={}){var i;n=Yo(n,cv);const s=$u(e),a=n._getSettings(),c=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;s&&(PA(`https://${u}`),OA("Firestore",!0)),a.host!==cC&&a.host!==u&&_l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:u,ssl:s,emulatorOptions:r});if(!zi(d,c)&&(n._setSettings(d),r.mockUserToken)){let m,_;if(typeof r.mockUserToken=="string")m=r.mockUserToken,_=nn.MOCK_USER;else{m=vO(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Re(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new nn(y)}n._authCredentials=new RL(new ZI(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new uv(this.firestore,e,this._query)}}class jn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}}class Ou extends uv{constructor(e,t,r){super(e,t,Hy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new Pe(e))}withConverter(e){return new Ou(this.firestore,e,this._path)}}function hv(n,e,...t){if(n=Mt(n),arguments.length===1&&(e=tx.newId()),x4("doc","path",e),n instanceof cv){const r=_t.fromString(e,...t);return Yb(r),new jn(n,null,new Pe(r))}{if(!(n instanceof jn||n instanceof Ou))throw new Re(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_t.fromString(e,...t));return Yb(r),new jn(n.firestore,n instanceof Ou?n.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="AsyncQueue";class Zb{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Wx(this,"async_queue_retry"),this.rc=()=>{const r=Hg();r&&ve(Jb,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const t=Hg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Hg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Vs;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!zl(e))throw e;ve(Jb,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Wi("INTERNAL UNHANDLED ERROR: ",eT(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const i=rv.createAndSchedule(this,e,t,r,s=>this.uc(s));return this.Zu.push(i),i}oc(){this.Xu&&Ne(47125,{cc:eT(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function eT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Dp extends cv{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Zb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zb(e),this._firestoreClient=void 0,await e}}}function uC(n,e){const t=typeof n=="object"?n:Ty(),r=typeof n=="string"?n:Ff,i=ta(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=_O("firestore");s&&k4(i,...s)}return i}function hC(n){if(n._terminated)throw new Re(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||R4(n),n._firestoreClient}function R4(n){var e,t,r;const i=n._freezeSettings(),s=function(c,u,d,m){return new GL(c,u,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,lC(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new b4(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sl(Qt.fromBase64String(e))}catch(t){throw new Re(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sl(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Re(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=/^__.*__$/;class O4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Js(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wu(e,this.data,t,this.fieldTransforms)}}class dC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Js(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ic:n})}}class Vp{constructor(e,t,r,i,s,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Vp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Gf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(fC(this.Ic)&&P4.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class N4{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Pp(e)}bc(e,t,r,i=!1){return new Vp({Ic:e,methodName:t,wc:r,path:Yt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pC(n){const e=n._freezeSettings(),t=Pp(n._databaseId);return new N4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function D4(n,e,t,r,i,s={}){const a=n.bc(s.merge||s.mergeFields?2:0,e,t,i);mv("Data must be an object, but it was:",a,r);const c=mC(r,a);let u,d;if(s.merge)u=new Fn(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const m=[];for(const _ of s.mergeFields){const y=Y_(e,_,t);if(!a.contains(y))throw new Re(oe.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);_C(m,y)||m.push(y)}u=new Fn(m),d=a.fieldTransforms.filter(_=>u.covers(_.field))}else u=null,d=a.fieldTransforms;return new O4(new An(c),u,d)}class Fp extends Lp{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fp}}function M4(n,e,t){return new Vp({Ic:3,wc:e.settings.wc,methodName:n._methodName,Rc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pv extends Lp{constructor(e,t){super(e),this.Sc=t}_toFieldTransform(e){const t=M4(this,e,!0),r=this.Sc.map(s=>Yu(s,t)),i=new wl(r);return new wV(e.path,i)}isEqual(e){return e instanceof pv&&zi(this.Sc,e.Sc)}}function L4(n,e,t,r){const i=n.bc(1,e,t);mv("Data must be an object, but it was:",i,r);const s=[],a=An.empty();Xs(r,(u,d)=>{const m=gv(e,u,t);d=Mt(d);const _=i.mc(m);if(d instanceof Fp)s.push(m);else{const y=Yu(d,_);y!=null&&(s.push(m),a.set(m,y))}});const c=new Fn(s);return new dC(a,c,i.fieldTransforms)}function V4(n,e,t,r,i,s){const a=n.bc(1,e,t),c=[Y_(e,r,t)],u=[i];if(s.length%2!=0)throw new Re(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)c.push(Y_(e,s[y])),u.push(s[y+1]);const d=[],m=An.empty();for(let y=c.length-1;y>=0;--y)if(!_C(d,c[y])){const w=c[y];let T=u[y];T=Mt(T);const I=a.mc(w);if(T instanceof Fp)d.push(w);else{const A=Yu(T,I);A!=null&&(d.push(w),m.set(w,A))}}const _=new Fn(d);return new dC(m,_,a.fieldTransforms)}function Yu(n,e){if(gC(n=Mt(n)))return mv("Unsupported field value:",e,n),mC(n,e);if(n instanceof Lp)return function(r,i){if(!fC(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const c of r){let u=Yu(c,i.fc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Nt.fromDate(r);return{timestampValue:Hf(i.serializer,s)}}if(r instanceof Nt){const s=new Nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hf(i.serializer,s)}}if(r instanceof dv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sl)return{bytesValue:Dx(i.serializer,r._byteString)};if(r instanceof jn){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Gy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof fv)return function(a,c){return{mapValue:{fields:{[cx]:{stringValue:ux},[$f]:{arrayValue:{values:a.toArray().map(d=>{if(typeof d!="number")throw c.gc("VectorValues must only contain numeric values.");return Wy(c.serializer,d)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${lv(r)}`)}(n,e)}function mC(n,e){const t={};return rx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xs(n,(r,i)=>{const s=Yu(i,e.Ac(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function gC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Nt||n instanceof dv||n instanceof Sl||n instanceof jn||n instanceof Lp||n instanceof fv)}function mv(n,e,t){if(!gC(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=lv(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function Y_(n,e,t){if((e=Mt(e))instanceof Mp)return e._internalPath;if(typeof e=="string")return gv(n,e);throw Gf("Field path arguments must be of type string or ",n,!1,void 0,t)}const F4=new RegExp("[~\\*/\\[\\]]");function gv(n,e,t){if(e.search(F4)>=0)throw Gf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Mp(...e.split("."))._internalPath}catch{throw Gf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Gf(n,e,t,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new Re(oe.INVALID_ARGUMENT,c+n+u)}function _C(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vC("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $4 extends yC{data(){return super.data()}}function vC(n,e){return typeof e=="string"?gv(n,e):e instanceof Mp?e._internalPath:e._delegate._internalPath}class j4{convertValue(e,t="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Xs(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[$f].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>wt(a.doubleValue));return new fv(s)}convertGeoPoint(e){return new dv(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Sp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Cu(e));default:return null}}convertTimestamp(e){const t=Us(e);return new Nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=_t.fromString(e);Je(jx(r),9688,{name:e});const i=new ku(r.get(1),r.get(3)),s=new Pe(r.popFirst(5));return i.isEqual(t)||Wi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class EC extends yC{constructor(e,t,r,i,s,a){super(e,t,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new B4(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(vC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class B4 extends EC{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(n){n=Yo(n,jn);const e=Yo(n.firestore,Dp);return I4(hC(e),n._key).then(t=>q4(e,n,t))}class H4 extends j4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,t)}}function W4(n,e,t){n=Yo(n,jn);const r=Yo(n.firestore,Dp),i=U4(n.converter,e);return bC(r,[D4(pC(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,ri.none())])}function K4(n,e,t,...r){n=Yo(n,jn);const i=Yo(n.firestore,Dp),s=pC(i);let a;return a=typeof(e=Mt(e))=="string"||e instanceof Mp?V4(s,"updateDoc",n._key,e,t,r):L4(s,"updateDoc",n._key,e),bC(i,[a.toMutation(n._key,ri.exists(!0))])}function bC(n,e){return function(r,i){const s=new Vs;return r.asyncQueue.enqueueAndForget(async()=>d4(await S4(r),i,s)),s.promise}(hC(n),e)}function q4(n,e,t){const r=t.docs.get(e._key),i=new H4(n);return new EC(n,i,e._key,r,new z4(t.hasPendingWrites,t.fromCache),e.converter)}function G4(...n){return new pv("arrayUnion",n)}(function(e,t=!0){(function(i){jl=i})(Fl),ai(new kr("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),c=new Dp(new PL(r.getProvider("auth-internal")),new DL(a,r.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Re(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ku(d.options.projectId,m)}(a,i),a);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),rr(ob,ab,e),rr(ob,ab,"esm2017")})();const Y4={apiKey:"AIzaSyAm40NnY5ft7ZJKSJEQQrQhGtXuuggn2j4",authDomain:"medtest-5eb10.firebaseapp.com",projectId:"medtest-5eb10",storageBucket:"medtest-5eb10.firebasestorage.app",messagingSenderId:"976951571415",appId:"1:976951571415:web:0d9a16e90af1073e755192",measurementId:"G-ZCDW1L7X89"},_v=$A(Y4);AL(_v);const Al=o2(_v),TC=uC(_v);var SC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},tT=Li.createContext&&Li.createContext(SC),Q4=["attr","size","title"];function X4(n,e){if(n==null)return{};var t=J4(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function J4(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Yf(){return Yf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Yf.apply(this,arguments)}function nT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Qf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nT(Object(t),!0).forEach(function(r){Z4(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nT(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Z4(n,e,t){return e=e$(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function e$(n){var e=t$(n,"string");return typeof e=="symbol"?e:e+""}function t$(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function AC(n){return n&&n.map((e,t)=>Li.createElement(e.tag,Qf({key:t},e.attr),AC(e.child)))}function Hl(n){return e=>Li.createElement(n$,Yf({attr:Qf({},n.attr)},e),AC(n.child))}function n$(n){var e=t=>{var{attr:r,size:i,title:s}=n,a=X4(n,Q4),c=i||t.size||"1em",u;return t.className&&(u=t.className),n.className&&(u=(u?u+" ":"")+n.className),Li.createElement("svg",Yf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:u,style:Qf(Qf({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&Li.createElement("title",null,s),n.children)};return tT!==void 0?Li.createElement(tT.Consumer,null,t=>e(t)):e(SC)}function r$(n){return Hl({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(n)}function i$(){const[n,e]=q.useState(""),[t,r]=q.useState(""),[i,s]=q.useState(""),[a,c]=q.useState(""),[u,d]=q.useState(""),m=fp();q.useEffect(()=>{const w=dI(Al,T=>{T&&m("/test",{replace:!0})});return()=>w()},[m]);const _=()=>{let w=!0;c(""),d("");const T=/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/;return n.trim()?T.test(n)||(c("Neplatn formt emailu."),w=!1):(c("Email je povinn."),w=!1),t?t.length<6&&(d("Heslo mus ma aspo 6 znakov."),w=!1):(d("Heslo je povinn."),w=!1),w},y=async w=>{if(w.preventDefault(),s(""),!!_())try{const T=await WD(Al,n,t);s("Prihlsenie bolo spen."),m("/test",{replace:!0})}catch(T){T.code==="auth/wrong-password"||T.code==="auth/user-not-found"||T.code==="auth/invalid-credential"?s("Neplatn prihlasovacie daje!"):T.code==="auth/too-many-requests"?s("Prli vea pokusov. Skste to znova neskr."):s("Chyba pri prihlasovan: "+T.message)}};return Y.jsxs("div",{className:"container-fluid d-flex justify-content-center align-items-center vh-100 pageBG",children:[Y.jsx("div",{children:Y.jsx("img",{src:"/medTest/logoMED.svg",alt:"logoMED",className:"logoIMG2",height:100})}),Y.jsx("div",{className:"card shadow-sm w-100 formCard",style:{maxWidth:"400px"},children:Y.jsxs("div",{className:"card-body text-light",children:[Y.jsx("h3",{className:"card-title text-center fw-bold mb-4",children:"Prihlsenie"}),i&&Y.jsx("div",{className:"alert alert-info",children:i}),Y.jsxs("form",{onSubmit:y,noValidate:!0,children:[Y.jsxs("div",{className:"mb-3",children:[Y.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),Y.jsx("input",{type:"email",className:`form-control ${a?"is-invalid":""}`,id:"email",value:n,onChange:w=>e(w.target.value),required:!0}),a&&Y.jsx("div",{className:"invalid-feedback",children:a})]}),Y.jsxs("div",{className:"mb-3",children:[Y.jsx("label",{htmlFor:"password",className:"form-label",children:"Heslo"}),Y.jsx("input",{type:"password",className:`form-control ${u?"is-invalid":""}`,id:"password",value:t,onChange:w=>r(w.target.value),required:!0}),u&&Y.jsx("div",{className:"invalid-feedback",children:u})]}),Y.jsxs("button",{type:"submit",className:"btn btn-secondary w-100",children:[Y.jsx(r$,{})," Prihlsi sa"]})]}),Y.jsxs("div",{className:"mt-3 text-center",children:[Y.jsx("small",{className:"text-secondary p-2",children:" Chcem sa zaregistrova:"}),Y.jsx(Su,{to:"/register",className:"link-warning",children:"Zaregistruj sa!"})]})]})})]})}function s$(n){return Hl({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"},child:[]}]})(n)}function o$(n){return Hl({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function a$(){const[n,e]=q.useState(""),[t,r]=q.useState(""),[i,s]=q.useState(""),[a,c]=q.useState(""),[u,d]=q.useState(""),[m,_]=q.useState(!1),[y,w]=q.useState(""),[T,I]=q.useState(""),[A,O]=q.useState(""),[L,$]=q.useState(""),z=()=>{let j=!0;w(""),I(""),O(""),$("");const k=/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/;return n.trim()?k.test(n)||(w("Neplatn formt emailu."),j=!1):(w("Email je povinn."),j=!1),t.trim()||(I("Meno je povinn."),j=!1),i?i.length<6&&(O("Heslo mus ma aspo 6 znakov."),j=!1):(O("Heslo je povinn."),j=!1),a?i!==a&&($("Hesl sa nezhoduj."),j=!1):($("Potvrte heslo."),j=!1),j},H=async j=>{if(j.preventDefault(),d(""),!!z())try{const k=hv(TC,"whitelistEmails",n);if(!(await wC(k)).exists()){d("Tento e-mail nie je povolen na registrciu.");return}const x=(await HD(Al,n,i)).user;await qD(x,{displayName:t}),d("Registrcia bola spen, me sa prihlsi !"),document.getElementById("regForm").style.display="none",_(!0),await fI(Al)}catch(k){k.code==="auth/email-already-in-use"?d("Zadan email u je registrovan !"):k.code==="auth/invalid-email"?d("Neplatn formt emailu."):k.code==="auth/weak-password"?d("Heslo je prli slab."):d("Chyba pri registrcii: "+k.message)}};return Y.jsxs("div",{className:"container-fluid d-flex justify-content-center align-items-center vh-100 pageBG",children:[Y.jsx("div",{children:Y.jsx("img",{src:"/medTest/logoMED.svg",alt:"logoMED",className:"logoIMG2",height:100})}),Y.jsx("div",{className:"card shadow-sm w-100 formCard text-light",style:{maxWidth:"400px"},children:Y.jsxs("div",{className:"card-body",children:[Y.jsx("h3",{className:"card-title text-center mb-4 fw-bold",children:"Registrcia"}),u&&Y.jsx("div",{className:"alert alert-info",children:u}),Y.jsxs("form",{onSubmit:H,id:"regForm",noValidate:!0,children:[Y.jsxs("div",{className:"mb-3",children:[Y.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),Y.jsx("input",{type:"email",className:`form-control ${y?"is-invalid":""}`,id:"email",value:n,onChange:j=>e(j.target.value),required:!0}),y&&Y.jsx("div",{className:"invalid-feedback",children:y})]}),Y.jsxs("div",{className:"mb-3",children:[Y.jsx("label",{htmlFor:"userName",className:"form-label",children:"Meno"}),Y.jsx("input",{type:"text",className:`form-control ${T?"is-invalid":""}`,id:"userName",value:t,onChange:j=>r(j.target.value),required:!0}),T&&Y.jsx("div",{className:"invalid-feedback",children:T})]}),Y.jsxs("div",{className:"mb-3",children:[Y.jsx("label",{htmlFor:"password",className:"form-label",children:"Heslo"}),Y.jsx("input",{type:"password",className:`form-control ${A?"is-invalid":""}`,id:"password",value:i,onChange:j=>s(j.target.value),required:!0}),A&&Y.jsx("div",{className:"invalid-feedback",children:A})]}),Y.jsxs("div",{className:"mb-3",children:[Y.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Zopakuj heslo"}),Y.jsx("input",{type:"password",className:`form-control ${L?"is-invalid":""}`,id:"confirmPassword",value:a,onChange:j=>c(j.target.value),required:!0}),L&&Y.jsx("div",{className:"invalid-feedback",children:L})]}),Y.jsxs("button",{type:"submit",className:"btn btn-secondary w-100",children:[Y.jsx(o$,{})," Registrova sa"]})]}),Y.jsx(Su,{to:"/",className:`${m?"d-block":"d-none"}`,children:Y.jsx("button",{className:"btn btn-secondary w-100",children:"Prejs na prihlsenie"})}),Y.jsxs("div",{className:"mt-3 text-center",children:[Y.jsx("small",{className:"p-2 text-secondary",children:"U mm et:"}),Y.jsx(Su,{to:"/",className:"link-warning",children:"Prihlsi sa!"})]})]})})]})}var hn="top",Un="bottom",zn="right",dn="left",$p="auto",Wl=[hn,Un,zn,dn],Qo="start",Il="end",IC="clippingParents",yv="viewport",rl="popper",xC="reference",Q_=Wl.reduce(function(n,e){return n.concat([e+"-"+Qo,e+"-"+Il])},[]),vv=[].concat(Wl,[$p]).reduce(function(n,e){return n.concat([e,e+"-"+Qo,e+"-"+Il])},[]),CC="beforeRead",kC="read",RC="afterRead",PC="beforeMain",OC="main",NC="afterMain",DC="beforeWrite",MC="write",LC="afterWrite",VC=[CC,kC,RC,PC,OC,NC,DC,MC,LC];function ui(n){return n?(n.nodeName||"").toLowerCase():null}function Bn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Xo(n){var e=Bn(n).Element;return n instanceof e||n instanceof Element}function ir(n){var e=Bn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Ev(n){if(typeof ShadowRoot>"u")return!1;var e=Bn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function l$(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!ir(s)||!ui(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(a){var c=i[a];c===!1?s.removeAttribute(a):s.setAttribute(a,c===!0?"":c)}))})}function c$(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),c=a.reduce(function(u,d){return u[d]="",u},{});!ir(i)||!ui(i)||(Object.assign(i.style,c),Object.keys(s).forEach(function(u){i.removeAttribute(u)}))})}}const wv={name:"applyStyles",enabled:!0,phase:"write",fn:l$,effect:c$,requires:["computeStyles"]};function si(n){return n.split("-")[0]}var Uo=Math.max,Xf=Math.min,xl=Math.round;function X_(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function FC(){return!/^((?!chrome|android).)*safari/i.test(X_())}function Cl(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&ir(n)&&(i=n.offsetWidth>0&&xl(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&xl(r.height)/n.offsetHeight||1);var a=Xo(n)?Bn(n):window,c=a.visualViewport,u=!FC()&&t,d=(r.left+(u&&c?c.offsetLeft:0))/i,m=(r.top+(u&&c?c.offsetTop:0))/s,_=r.width/i,y=r.height/s;return{width:_,height:y,top:m,right:d+_,bottom:m+y,left:d,x:d,y:m}}function bv(n){var e=Cl(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function $C(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Ev(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function qi(n){return Bn(n).getComputedStyle(n)}function u$(n){return["table","td","th"].indexOf(ui(n))>=0}function Zs(n){return((Xo(n)?n.ownerDocument:n.document)||window.document).documentElement}function jp(n){return ui(n)==="html"?n:n.assignedSlot||n.parentNode||(Ev(n)?n.host:null)||Zs(n)}function rT(n){return!ir(n)||qi(n).position==="fixed"?null:n.offsetParent}function h$(n){var e=/firefox/i.test(X_()),t=/Trident/i.test(X_());if(t&&ir(n)){var r=qi(n);if(r.position==="fixed")return null}var i=jp(n);for(Ev(i)&&(i=i.host);ir(i)&&["html","body"].indexOf(ui(i))<0;){var s=qi(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Qu(n){for(var e=Bn(n),t=rT(n);t&&u$(t)&&qi(t).position==="static";)t=rT(t);return t&&(ui(t)==="html"||ui(t)==="body"&&qi(t).position==="static")?e:t||h$(n)||e}function Tv(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function mu(n,e,t){return Uo(n,Xf(e,t))}function d$(n,e,t){var r=mu(n,e,t);return r>t?t:r}function jC(){return{top:0,right:0,bottom:0,left:0}}function UC(n){return Object.assign({},jC(),n)}function zC(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var f$=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,UC(typeof e!="number"?e:zC(e,Wl))};function p$(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,a=t.modifiersData.popperOffsets,c=si(t.placement),u=Tv(c),d=[dn,zn].indexOf(c)>=0,m=d?"height":"width";if(!(!s||!a)){var _=f$(i.padding,t),y=bv(s),w=u==="y"?hn:dn,T=u==="y"?Un:zn,I=t.rects.reference[m]+t.rects.reference[u]-a[u]-t.rects.popper[m],A=a[u]-t.rects.reference[u],O=Qu(s),L=O?u==="y"?O.clientHeight||0:O.clientWidth||0:0,$=I/2-A/2,z=_[w],H=L-y[m]-_[T],j=L/2-y[m]/2+$,k=mu(z,j,H),C=u;t.modifiersData[r]=(e={},e[C]=k,e.centerOffset=k-j,e)}}function m$(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||$C(e.elements.popper,i)&&(e.elements.arrow=i))}const BC={name:"arrow",enabled:!0,phase:"main",fn:p$,effect:m$,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function kl(n){return n.split("-")[1]}var g$={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _$(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:xl(t*i)/i||0,y:xl(r*i)/i||0}}function iT(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,a=n.offsets,c=n.position,u=n.gpuAcceleration,d=n.adaptive,m=n.roundOffsets,_=n.isFixed,y=a.x,w=y===void 0?0:y,T=a.y,I=T===void 0?0:T,A=typeof m=="function"?m({x:w,y:I}):{x:w,y:I};w=A.x,I=A.y;var O=a.hasOwnProperty("x"),L=a.hasOwnProperty("y"),$=dn,z=hn,H=window;if(d){var j=Qu(t),k="clientHeight",C="clientWidth";if(j===Bn(t)&&(j=Zs(t),qi(j).position!=="static"&&c==="absolute"&&(k="scrollHeight",C="scrollWidth")),j=j,i===hn||(i===dn||i===zn)&&s===Il){z=Un;var R=_&&j===H&&H.visualViewport?H.visualViewport.height:j[k];I-=R-r.height,I*=u?1:-1}if(i===dn||(i===hn||i===Un)&&s===Il){$=zn;var x=_&&j===H&&H.visualViewport?H.visualViewport.width:j[C];w-=x-r.width,w*=u?1:-1}}var N=Object.assign({position:c},d&&g$),M=m===!0?_$({x:w,y:I},Bn(t)):{x:w,y:I};if(w=M.x,I=M.y,u){var D;return Object.assign({},N,(D={},D[z]=L?"0":"",D[$]=O?"0":"",D.transform=(H.devicePixelRatio||1)<=1?"translate("+w+"px, "+I+"px)":"translate3d("+w+"px, "+I+"px, 0)",D))}return Object.assign({},N,(e={},e[z]=L?I+"px":"",e[$]=O?w+"px":"",e.transform="",e))}function y$(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,s=t.adaptive,a=s===void 0?!0:s,c=t.roundOffsets,u=c===void 0?!0:c,d={placement:si(e.placement),variation:kl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,iT(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,iT(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Sv={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:y$,data:{}};var Ad={passive:!0};function v$(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,a=r.resize,c=a===void 0?!0:a,u=Bn(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&d.forEach(function(m){m.addEventListener("scroll",t.update,Ad)}),c&&u.addEventListener("resize",t.update,Ad),function(){s&&d.forEach(function(m){m.removeEventListener("scroll",t.update,Ad)}),c&&u.removeEventListener("resize",t.update,Ad)}}const Av={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:v$,data:{}};var E$={left:"right",right:"left",bottom:"top",top:"bottom"};function lf(n){return n.replace(/left|right|bottom|top/g,function(e){return E$[e]})}var w$={start:"end",end:"start"};function sT(n){return n.replace(/start|end/g,function(e){return w$[e]})}function Iv(n){var e=Bn(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function xv(n){return Cl(Zs(n)).left+Iv(n).scrollLeft}function b$(n,e){var t=Bn(n),r=Zs(n),i=t.visualViewport,s=r.clientWidth,a=r.clientHeight,c=0,u=0;if(i){s=i.width,a=i.height;var d=FC();(d||!d&&e==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}return{width:s,height:a,x:c+xv(n),y:u}}function T$(n){var e,t=Zs(n),r=Iv(n),i=(e=n.ownerDocument)==null?void 0:e.body,s=Uo(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Uo(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+xv(n),u=-r.scrollTop;return qi(i||t).direction==="rtl"&&(c+=Uo(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:c,y:u}}function Cv(n){var e=qi(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function HC(n){return["html","body","#document"].indexOf(ui(n))>=0?n.ownerDocument.body:ir(n)&&Cv(n)?n:HC(jp(n))}function gu(n,e){var t;e===void 0&&(e=[]);var r=HC(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=Bn(r),a=i?[s].concat(s.visualViewport||[],Cv(r)?r:[]):r,c=e.concat(a);return i?c:c.concat(gu(jp(a)))}function J_(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function S$(n,e){var t=Cl(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function oT(n,e,t){return e===yv?J_(b$(n,t)):Xo(e)?S$(e,t):J_(T$(Zs(n)))}function A$(n){var e=gu(jp(n)),t=["absolute","fixed"].indexOf(qi(n).position)>=0,r=t&&ir(n)?Qu(n):n;return Xo(r)?e.filter(function(i){return Xo(i)&&$C(i,r)&&ui(i)!=="body"}):[]}function I$(n,e,t,r){var i=e==="clippingParents"?A$(n):[].concat(e),s=[].concat(i,[t]),a=s[0],c=s.reduce(function(u,d){var m=oT(n,d,r);return u.top=Uo(m.top,u.top),u.right=Xf(m.right,u.right),u.bottom=Xf(m.bottom,u.bottom),u.left=Uo(m.left,u.left),u},oT(n,a,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function WC(n){var e=n.reference,t=n.element,r=n.placement,i=r?si(r):null,s=r?kl(r):null,a=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,u;switch(i){case hn:u={x:a,y:e.y-t.height};break;case Un:u={x:a,y:e.y+e.height};break;case zn:u={x:e.x+e.width,y:c};break;case dn:u={x:e.x-t.width,y:c};break;default:u={x:e.x,y:e.y}}var d=i?Tv(i):null;if(d!=null){var m=d==="y"?"height":"width";switch(s){case Qo:u[d]=u[d]-(e[m]/2-t[m]/2);break;case Il:u[d]=u[d]+(e[m]/2-t[m]/2);break}}return u}function Rl(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,s=t.strategy,a=s===void 0?n.strategy:s,c=t.boundary,u=c===void 0?IC:c,d=t.rootBoundary,m=d===void 0?yv:d,_=t.elementContext,y=_===void 0?rl:_,w=t.altBoundary,T=w===void 0?!1:w,I=t.padding,A=I===void 0?0:I,O=UC(typeof A!="number"?A:zC(A,Wl)),L=y===rl?xC:rl,$=n.rects.popper,z=n.elements[T?L:y],H=I$(Xo(z)?z:z.contextElement||Zs(n.elements.popper),u,m,a),j=Cl(n.elements.reference),k=WC({reference:j,element:$,placement:i}),C=J_(Object.assign({},$,k)),R=y===rl?C:j,x={top:H.top-R.top+O.top,bottom:R.bottom-H.bottom+O.bottom,left:H.left-R.left+O.left,right:R.right-H.right+O.right},N=n.modifiersData.offset;if(y===rl&&N){var M=N[i];Object.keys(x).forEach(function(D){var ye=[zn,Un].indexOf(D)>=0?1:-1,me=[hn,Un].indexOf(D)>=0?"y":"x";x[D]+=M[me]*ye})}return x}function x$(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,s=t.rootBoundary,a=t.padding,c=t.flipVariations,u=t.allowedAutoPlacements,d=u===void 0?vv:u,m=kl(r),_=m?c?Q_:Q_.filter(function(T){return kl(T)===m}):Wl,y=_.filter(function(T){return d.indexOf(T)>=0});y.length===0&&(y=_);var w=y.reduce(function(T,I){return T[I]=Rl(n,{placement:I,boundary:i,rootBoundary:s,padding:a})[si(I)],T},{});return Object.keys(w).sort(function(T,I){return w[T]-w[I]})}function C$(n){if(si(n)===$p)return[];var e=lf(n);return[sT(n),e,sT(e)]}function k$(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,a=t.altAxis,c=a===void 0?!0:a,u=t.fallbackPlacements,d=t.padding,m=t.boundary,_=t.rootBoundary,y=t.altBoundary,w=t.flipVariations,T=w===void 0?!0:w,I=t.allowedAutoPlacements,A=e.options.placement,O=si(A),L=O===A,$=u||(L||!T?[lf(A)]:C$(A)),z=[A].concat($).reduce(function(ae,pe){return ae.concat(si(pe)===$p?x$(e,{placement:pe,boundary:m,rootBoundary:_,padding:d,flipVariations:T,allowedAutoPlacements:I}):pe)},[]),H=e.rects.reference,j=e.rects.popper,k=new Map,C=!0,R=z[0],x=0;x<z.length;x++){var N=z[x],M=si(N),D=kl(N)===Qo,ye=[hn,Un].indexOf(M)>=0,me=ye?"width":"height",he=Rl(e,{placement:N,boundary:m,rootBoundary:_,altBoundary:y,padding:d}),de=ye?D?zn:dn:D?Un:hn;H[me]>j[me]&&(de=lf(de));var J=lf(de),ie=[];if(s&&ie.push(he[M]<=0),c&&ie.push(he[de]<=0,he[J]<=0),ie.every(function(ae){return ae})){R=N,C=!1;break}k.set(N,ie)}if(C)for(var ce=T?3:1,B=function(pe){var fe=z.find(function(Se){var xe=k.get(Se);if(xe)return xe.slice(0,pe).every(function(Le){return Le})});if(fe)return R=fe,"break"},Z=ce;Z>0;Z--){var ge=B(Z);if(ge==="break")break}e.placement!==R&&(e.modifiersData[r]._skip=!0,e.placement=R,e.reset=!0)}}const KC={name:"flip",enabled:!0,phase:"main",fn:k$,requiresIfExists:["offset"],data:{_skip:!1}};function aT(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function lT(n){return[hn,zn,Un,dn].some(function(e){return n[e]>=0})}function R$(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,a=Rl(e,{elementContext:"reference"}),c=Rl(e,{altBoundary:!0}),u=aT(a,r),d=aT(c,i,s),m=lT(u),_=lT(d);e.modifiersData[t]={referenceClippingOffsets:u,popperEscapeOffsets:d,isReferenceHidden:m,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":_})}const qC={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:R$};function P$(n,e,t){var r=si(n),i=[dn,hn].indexOf(r)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,a=s[0],c=s[1];return a=a||0,c=(c||0)*i,[dn,zn].indexOf(r)>=0?{x:c,y:a}:{x:a,y:c}}function O$(n){var e=n.state,t=n.options,r=n.name,i=t.offset,s=i===void 0?[0,0]:i,a=vv.reduce(function(m,_){return m[_]=P$(_,e.rects,s),m},{}),c=a[e.placement],u=c.x,d=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=d),e.modifiersData[r]=a}const GC={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:O$};function N$(n){var e=n.state,t=n.name;e.modifiersData[t]=WC({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const kv={name:"popperOffsets",enabled:!0,phase:"read",fn:N$,data:{}};function D$(n){return n==="x"?"y":"x"}function M$(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=i===void 0?!0:i,a=t.altAxis,c=a===void 0?!1:a,u=t.boundary,d=t.rootBoundary,m=t.altBoundary,_=t.padding,y=t.tether,w=y===void 0?!0:y,T=t.tetherOffset,I=T===void 0?0:T,A=Rl(e,{boundary:u,rootBoundary:d,padding:_,altBoundary:m}),O=si(e.placement),L=kl(e.placement),$=!L,z=Tv(O),H=D$(z),j=e.modifiersData.popperOffsets,k=e.rects.reference,C=e.rects.popper,R=typeof I=="function"?I(Object.assign({},e.rects,{placement:e.placement})):I,x=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),N=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(j){if(s){var D,ye=z==="y"?hn:dn,me=z==="y"?Un:zn,he=z==="y"?"height":"width",de=j[z],J=de+A[ye],ie=de-A[me],ce=w?-C[he]/2:0,B=L===Qo?k[he]:C[he],Z=L===Qo?-C[he]:-k[he],ge=e.elements.arrow,ae=w&&ge?bv(ge):{width:0,height:0},pe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:jC(),fe=pe[ye],Se=pe[me],xe=mu(0,k[he],ae[he]),Le=$?k[he]/2-ce-xe-fe-x.mainAxis:B-xe-fe-x.mainAxis,Be=$?-k[he]/2+ce+xe+Se+x.mainAxis:Z+xe+Se+x.mainAxis,Lt=e.elements.arrow&&Qu(e.elements.arrow),zt=Lt?z==="y"?Lt.clientTop||0:Lt.clientLeft||0:0,Bt=(D=N==null?void 0:N[z])!=null?D:0,ur=de+Le-Bt-zt,Dr=de+Be-Bt,Mr=mu(w?Xf(J,ur):J,de,w?Uo(ie,Dr):ie);j[z]=Mr,M[z]=Mr-de}if(c){var hr,Qi=z==="x"?hn:dn,Lr=z==="x"?Un:zn,It=j[H],fn=H==="y"?"height":"width",Xi=It+A[Qi],fi=It-A[Lr],Vr=[hn,dn].indexOf(O)!==-1,Ji=(hr=N==null?void 0:N[H])!=null?hr:0,pt=Vr?Xi:It-k[fn]-C[fn]-Ji+x.altAxis,mt=Vr?It+k[fn]+C[fn]-Ji-x.altAxis:fi,Hn=w&&Vr?d$(pt,It,mt):mu(w?pt:Xi,It,w?mt:fi);j[H]=Hn,M[H]=Hn-It}e.modifiersData[r]=M}}const YC={name:"preventOverflow",enabled:!0,phase:"main",fn:M$,requiresIfExists:["offset"]};function L$(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function V$(n){return n===Bn(n)||!ir(n)?Iv(n):L$(n)}function F$(n){var e=n.getBoundingClientRect(),t=xl(e.width)/n.offsetWidth||1,r=xl(e.height)/n.offsetHeight||1;return t!==1||r!==1}function $$(n,e,t){t===void 0&&(t=!1);var r=ir(e),i=ir(e)&&F$(e),s=Zs(e),a=Cl(n,i,t),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!t)&&((ui(e)!=="body"||Cv(s))&&(c=V$(e)),ir(e)?(u=Cl(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):s&&(u.x=xv(s))),{x:a.left+c.scrollLeft-u.x,y:a.top+c.scrollTop-u.y,width:a.width,height:a.height}}function j$(n){var e=new Map,t=new Set,r=[];n.forEach(function(s){e.set(s.name,s)});function i(s){t.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(c){if(!t.has(c)){var u=e.get(c);u&&i(u)}}),r.push(s)}return n.forEach(function(s){t.has(s.name)||i(s)}),r}function U$(n){var e=j$(n);return VC.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function z$(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function B$(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var cT={placement:"bottom",modifiers:[],strategy:"absolute"};function uT(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Up(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,s=i===void 0?cT:i;return function(c,u,d){d===void 0&&(d=s);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},cT,s),modifiersData:{},elements:{reference:c,popper:u},attributes:{},styles:{}},_=[],y=!1,w={state:m,setOptions:function(O){var L=typeof O=="function"?O(m.options):O;I(),m.options=Object.assign({},s,m.options,L),m.scrollParents={reference:Xo(c)?gu(c):c.contextElement?gu(c.contextElement):[],popper:gu(u)};var $=U$(B$([].concat(r,m.options.modifiers)));return m.orderedModifiers=$.filter(function(z){return z.enabled}),T(),w.update()},forceUpdate:function(){if(!y){var O=m.elements,L=O.reference,$=O.popper;if(uT(L,$)){m.rects={reference:$$(L,Qu($),m.options.strategy==="fixed"),popper:bv($)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(x){return m.modifiersData[x.name]=Object.assign({},x.data)});for(var z=0;z<m.orderedModifiers.length;z++){if(m.reset===!0){m.reset=!1,z=-1;continue}var H=m.orderedModifiers[z],j=H.fn,k=H.options,C=k===void 0?{}:k,R=H.name;typeof j=="function"&&(m=j({state:m,options:C,name:R,instance:w})||m)}}}},update:z$(function(){return new Promise(function(A){w.forceUpdate(),A(m)})}),destroy:function(){I(),y=!0}};if(!uT(c,u))return w;w.setOptions(d).then(function(A){!y&&d.onFirstUpdate&&d.onFirstUpdate(A)});function T(){m.orderedModifiers.forEach(function(A){var O=A.name,L=A.options,$=L===void 0?{}:L,z=A.effect;if(typeof z=="function"){var H=z({state:m,name:O,instance:w,options:$}),j=function(){};_.push(H||j)}})}function I(){_.forEach(function(A){return A()}),_=[]}return w}}var H$=Up(),W$=[Av,kv,Sv,wv],K$=Up({defaultModifiers:W$}),q$=[Av,kv,Sv,wv,GC,KC,YC,BC,qC],Rv=Up({defaultModifiers:q$});const QC=Object.freeze(Object.defineProperty({__proto__:null,afterMain:NC,afterRead:RC,afterWrite:LC,applyStyles:wv,arrow:BC,auto:$p,basePlacements:Wl,beforeMain:PC,beforeRead:CC,beforeWrite:DC,bottom:Un,clippingParents:IC,computeStyles:Sv,createPopper:Rv,createPopperBase:H$,createPopperLite:K$,detectOverflow:Rl,end:Il,eventListeners:Av,flip:KC,hide:qC,left:dn,main:OC,modifierPhases:VC,offset:GC,placements:vv,popper:rl,popperGenerator:Up,popperOffsets:kv,preventOverflow:YC,read:kC,reference:xC,right:zn,start:Qo,top:hn,variationPlacements:Q_,viewport:yv,write:MC},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Ss=new Map,Kg={set(n,e,t){Ss.has(n)||Ss.set(n,new Map);const r=Ss.get(n);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,t)},get(n,e){return Ss.has(n)&&Ss.get(n).get(e)||null},remove(n,e){if(!Ss.has(n))return;const t=Ss.get(n);t.delete(e),t.size===0&&Ss.delete(n)}},G$=1e6,Y$=1e3,Z_="transitionend",XC=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),Q$=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),X$=n=>{do n+=Math.floor(Math.random()*G$);while(document.getElementById(n));return n},J$=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const r=Number.parseFloat(e),i=Number.parseFloat(t);return!r&&!i?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*Y$)},JC=n=>{n.dispatchEvent(new Event(Z_))},$i=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),Ks=n=>$i(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(XC(n)):null,Kl=n=>{if(!$i(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const r=n.closest("summary");if(r&&r.parentNode!==t||r===null)return!1}return e},qs=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",ZC=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?ZC(n.parentNode):null},Jf=()=>{},Xu=n=>{n.offsetHeight},e1=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,qg=[],Z$=n=>{document.readyState==="loading"?(qg.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of qg)e()}),qg.push(n)):n()},sr=()=>document.documentElement.dir==="rtl",cr=n=>{Z$(()=>{const e=e1();if(e){const t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},In=(n,e=[],t=n)=>typeof n=="function"?n(...e):t,t1=(n,e,t=!0)=>{if(!t){In(n);return}const i=J$(e)+5;let s=!1;const a=({target:c})=>{c===e&&(s=!0,e.removeEventListener(Z_,a),In(n))};e.addEventListener(Z_,a),setTimeout(()=>{s||JC(e)},i)},Pv=(n,e,t,r)=>{const i=n.length;let s=n.indexOf(e);return s===-1?!t&&r?n[i-1]:n[0]:(s+=t?1:-1,r&&(s=(s+i)%i),n[Math.max(0,Math.min(s,i-1))])},e6=/[^.]*(?=\..*)\.|.*/,t6=/\..*/,n6=/::\d+$/,Gg={};let hT=1;const n1={mouseenter:"mouseover",mouseleave:"mouseout"},r6=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function r1(n,e){return e&&`${e}::${hT++}`||n.uidEvent||hT++}function i1(n){const e=r1(n);return n.uidEvent=e,Gg[e]=Gg[e]||{},Gg[e]}function i6(n,e){return function t(r){return Ov(r,{delegateTarget:n}),t.oneOff&&re.off(n,r.type,e),e.apply(n,[r])}}function s6(n,e,t){return function r(i){const s=n.querySelectorAll(e);for(let{target:a}=i;a&&a!==this;a=a.parentNode)for(const c of s)if(c===a)return Ov(i,{delegateTarget:a}),r.oneOff&&re.off(n,i.type,e,t),t.apply(a,[i])}}function s1(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function o1(n,e,t){const r=typeof e=="string",i=r?t:e||t;let s=a1(n);return r6.has(s)||(s=n),[r,i,s]}function dT(n,e,t,r,i){if(typeof e!="string"||!n)return;let[s,a,c]=o1(e,t,r);e in n1&&(a=(T=>function(I){if(!I.relatedTarget||I.relatedTarget!==I.delegateTarget&&!I.delegateTarget.contains(I.relatedTarget))return T.call(this,I)})(a));const u=i1(n),d=u[c]||(u[c]={}),m=s1(d,a,s?t:null);if(m){m.oneOff=m.oneOff&&i;return}const _=r1(a,e.replace(e6,"")),y=s?s6(n,t,a):i6(n,a);y.delegationSelector=s?t:null,y.callable=a,y.oneOff=i,y.uidEvent=_,d[_]=y,n.addEventListener(c,y,s)}function ey(n,e,t,r,i){const s=s1(e[t],r,i);s&&(n.removeEventListener(t,s,!!i),delete e[t][s.uidEvent])}function o6(n,e,t,r){const i=e[t]||{};for(const[s,a]of Object.entries(i))s.includes(r)&&ey(n,e,t,a.callable,a.delegationSelector)}function a1(n){return n=n.replace(t6,""),n1[n]||n}const re={on(n,e,t,r){dT(n,e,t,r,!1)},one(n,e,t,r){dT(n,e,t,r,!0)},off(n,e,t,r){if(typeof e!="string"||!n)return;const[i,s,a]=o1(e,t,r),c=a!==e,u=i1(n),d=u[a]||{},m=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(d).length)return;ey(n,u,a,s,i?t:null);return}if(m)for(const _ of Object.keys(u))o6(n,u,_,e.slice(1));for(const[_,y]of Object.entries(d)){const w=_.replace(n6,"");(!c||e.includes(w))&&ey(n,u,a,y.callable,y.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const r=e1(),i=a1(e),s=e!==i;let a=null,c=!0,u=!0,d=!1;s&&r&&(a=r.Event(e,t),r(n).trigger(a),c=!a.isPropagationStopped(),u=!a.isImmediatePropagationStopped(),d=a.isDefaultPrevented());const m=Ov(new Event(e,{bubbles:c,cancelable:!0}),t);return d&&m.preventDefault(),u&&n.dispatchEvent(m),m.defaultPrevented&&a&&a.preventDefault(),m}};function Ov(n,e={}){for(const[t,r]of Object.entries(e))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get(){return r}})}return n}function fT(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function Yg(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const ji={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${Yg(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${Yg(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of t){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=fT(n.dataset[r])}return e},getDataAttribute(n,e){return fT(n.getAttribute(`data-bs-${Yg(e)}`))}};let Ju=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const r=$i(t)?ji.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...$i(t)?ji.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[r,i]of Object.entries(t)){const s=e[r],a=$i(s)?"element":Q$(s);if(!new RegExp(i).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${a}" but expected type "${i}".`)}}};const a6="5.3.3";class Nr extends Ju{constructor(e,t){super(),e=Ks(e),e&&(this._element=e,this._config=this._getConfig(t),Kg.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Kg.remove(this._element,this.constructor.DATA_KEY),re.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){t1(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Kg.get(Ks(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return a6}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Qg=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>XC(t)).join(","):null},Ie={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!qs(t)&&Kl(t))},getSelectorFromElement(n){const e=Qg(n);return e&&Ie.findOne(e)?e:null},getElementFromSelector(n){const e=Qg(n);return e?Ie.findOne(e):null},getMultipleElementsFromSelector(n){const e=Qg(n);return e?Ie.find(e):[]}},zp=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;re.on(document,t,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),qs(this))return;const s=Ie.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(s)[e]()})},l6="alert",c6="bs.alert",l1=`.${c6}`,u6=`close${l1}`,h6=`closed${l1}`,d6="fade",f6="show";class Bp extends Nr{static get NAME(){return l6}close(){if(re.trigger(this._element,u6).defaultPrevented)return;this._element.classList.remove(f6);const t=this._element.classList.contains(d6);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),re.trigger(this._element,h6),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=Bp.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}zp(Bp,"close");cr(Bp);const p6="button",m6="bs.button",g6=`.${m6}`,_6=".data-api",y6="active",pT='[data-bs-toggle="button"]',v6=`click${g6}${_6}`;class Hp extends Nr{static get NAME(){return p6}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(y6))}static jQueryInterface(e){return this.each(function(){const t=Hp.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}re.on(document,v6,pT,n=>{n.preventDefault();const e=n.target.closest(pT);Hp.getOrCreateInstance(e).toggle()});cr(Hp);const E6="swipe",ql=".bs.swipe",w6=`touchstart${ql}`,b6=`touchmove${ql}`,T6=`touchend${ql}`,S6=`pointerdown${ql}`,A6=`pointerup${ql}`,I6="touch",x6="pen",C6="pointer-event",k6=40,R6={endCallback:null,leftCallback:null,rightCallback:null},P6={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Zf extends Ju{constructor(e,t){super(),this._element=e,!(!e||!Zf.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return R6}static get DefaultType(){return P6}static get NAME(){return E6}dispose(){re.off(this._element,ql)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),In(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=k6)return;const t=e/this._deltaX;this._deltaX=0,t&&In(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(re.on(this._element,S6,e=>this._start(e)),re.on(this._element,A6,e=>this._end(e)),this._element.classList.add(C6)):(re.on(this._element,w6,e=>this._start(e)),re.on(this._element,b6,e=>this._move(e)),re.on(this._element,T6,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===x6||e.pointerType===I6)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const O6="carousel",N6="bs.carousel",eo=`.${N6}`,c1=".data-api",D6="ArrowLeft",M6="ArrowRight",L6=500,Bc="next",Ya="prev",il="left",cf="right",V6=`slide${eo}`,Xg=`slid${eo}`,F6=`keydown${eo}`,$6=`mouseenter${eo}`,j6=`mouseleave${eo}`,U6=`dragstart${eo}`,z6=`load${eo}${c1}`,B6=`click${eo}${c1}`,u1="carousel",Id="active",H6="slide",W6="carousel-item-end",K6="carousel-item-start",q6="carousel-item-next",G6="carousel-item-prev",h1=".active",d1=".carousel-item",Y6=h1+d1,Q6=".carousel-item img",X6=".carousel-indicators",J6="[data-bs-slide], [data-bs-slide-to]",Z6='[data-bs-ride="carousel"]',e3={[D6]:cf,[M6]:il},t3={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},n3={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Zu extends Nr{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ie.findOne(X6,this._element),this._addEventListeners(),this._config.ride===u1&&this.cycle()}static get Default(){return t3}static get DefaultType(){return n3}static get NAME(){return O6}next(){this._slide(Bc)}nextWhenVisible(){!document.hidden&&Kl(this._element)&&this.next()}prev(){this._slide(Ya)}pause(){this._isSliding&&JC(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){re.one(this._element,Xg,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){re.one(this._element,Xg,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const i=e>r?Bc:Ya;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&re.on(this._element,F6,e=>this._keydown(e)),this._config.pause==="hover"&&(re.on(this._element,$6,()=>this.pause()),re.on(this._element,j6,()=>this._maybeEnableCycle())),this._config.touch&&Zf.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of Ie.find(Q6,this._element))re.on(r,U6,i=>i.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(il)),rightCallback:()=>this._slide(this._directionToOrder(cf)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),L6+this._config.interval))}};this._swipeHelper=new Zf(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=e3[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=Ie.findOne(h1,this._indicatorsElement);t.classList.remove(Id),t.removeAttribute("aria-current");const r=Ie.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(Id),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const r=this._getActive(),i=e===Bc,s=t||Pv(this._getItems(),r,i,this._config.wrap);if(s===r)return;const a=this._getItemIndex(s),c=w=>re.trigger(this._element,w,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:a});if(c(V6).defaultPrevented||!r||!s)return;const d=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=s;const m=i?K6:W6,_=i?q6:G6;s.classList.add(_),Xu(s),r.classList.add(m),s.classList.add(m);const y=()=>{s.classList.remove(m,_),s.classList.add(Id),r.classList.remove(Id,_,m),this._isSliding=!1,c(Xg)};this._queueCallback(y,r,this._isAnimated()),d&&this.cycle()}_isAnimated(){return this._element.classList.contains(H6)}_getActive(){return Ie.findOne(Y6,this._element)}_getItems(){return Ie.find(d1,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return sr()?e===il?Ya:Bc:e===il?Bc:Ya}_orderToDirection(e){return sr()?e===Ya?il:cf:e===Ya?cf:il}static jQueryInterface(e){return this.each(function(){const t=Zu.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}re.on(document,B6,J6,function(n){const e=Ie.getElementFromSelector(this);if(!e||!e.classList.contains(u1))return;n.preventDefault();const t=Zu.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){t.to(r),t._maybeEnableCycle();return}if(ji.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});re.on(window,z6,()=>{const n=Ie.find(Z6);for(const e of n)Zu.getOrCreateInstance(e)});cr(Zu);const r3="collapse",i3="bs.collapse",eh=`.${i3}`,s3=".data-api",o3=`show${eh}`,a3=`shown${eh}`,l3=`hide${eh}`,c3=`hidden${eh}`,u3=`click${eh}${s3}`,Jg="show",al="collapse",xd="collapsing",h3="collapsed",d3=`:scope .${al} .${al}`,f3="collapse-horizontal",p3="width",m3="height",g3=".collapse.show, .collapse.collapsing",ty='[data-bs-toggle="collapse"]',_3={parent:null,toggle:!0},y3={parent:"(null|element)",toggle:"boolean"};class Nu extends Nr{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const r=Ie.find(ty);for(const i of r){const s=Ie.getSelectorFromElement(i),a=Ie.find(s).filter(c=>c===this._element);s!==null&&a.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return _3}static get DefaultType(){return y3}static get NAME(){return r3}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(g3).filter(c=>c!==this._element).map(c=>Nu.getOrCreateInstance(c,{toggle:!1}))),e.length&&e[0]._isTransitioning||re.trigger(this._element,o3).defaultPrevented)return;for(const c of e)c.hide();const r=this._getDimension();this._element.classList.remove(al),this._element.classList.add(xd),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(xd),this._element.classList.add(al,Jg),this._element.style[r]="",re.trigger(this._element,a3)},a=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||re.trigger(this._element,l3).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Xu(this._element),this._element.classList.add(xd),this._element.classList.remove(al,Jg);for(const i of this._triggerArray){const s=Ie.getElementFromSelector(i);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(xd),this._element.classList.add(al),re.trigger(this._element,c3)};this._element.style[t]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Jg)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Ks(e.parent),e}_getDimension(){return this._element.classList.contains(f3)?p3:m3}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(ty);for(const t of e){const r=Ie.getElementFromSelector(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){const t=Ie.find(d3,this._config.parent);return Ie.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const r of e)r.classList.toggle(h3,!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const r=Nu.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}re.on(document,u3,ty,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const e of Ie.getMultipleElementsFromSelector(this))Nu.getOrCreateInstance(e,{toggle:!1}).toggle()});cr(Nu);const mT="dropdown",v3="bs.dropdown",sa=`.${v3}`,Nv=".data-api",E3="Escape",gT="Tab",w3="ArrowUp",_T="ArrowDown",b3=2,T3=`hide${sa}`,S3=`hidden${sa}`,A3=`show${sa}`,I3=`shown${sa}`,f1=`click${sa}${Nv}`,p1=`keydown${sa}${Nv}`,x3=`keyup${sa}${Nv}`,sl="show",C3="dropup",k3="dropend",R3="dropstart",P3="dropup-center",O3="dropdown-center",Fo='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',N3=`${Fo}.${sl}`,uf=".dropdown-menu",D3=".navbar",M3=".navbar-nav",L3=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",V3=sr()?"top-end":"top-start",F3=sr()?"top-start":"top-end",$3=sr()?"bottom-end":"bottom-start",j3=sr()?"bottom-start":"bottom-end",U3=sr()?"left-start":"right-start",z3=sr()?"right-start":"left-start",B3="top",H3="bottom",W3={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},K3={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class oi extends Nr{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=Ie.next(this._element,uf)[0]||Ie.prev(this._element,uf)[0]||Ie.findOne(uf,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return W3}static get DefaultType(){return K3}static get NAME(){return mT}toggle(){return this._isShown()?this.hide():this.show()}show(){if(qs(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!re.trigger(this._element,A3,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(M3))for(const r of[].concat(...document.body.children))re.on(r,"mouseover",Jf);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(sl),this._element.classList.add(sl),re.trigger(this._element,I3,e)}}hide(){if(qs(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!re.trigger(this._element,T3,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))re.off(r,"mouseover",Jf);this._popper&&this._popper.destroy(),this._menu.classList.remove(sl),this._element.classList.remove(sl),this._element.setAttribute("aria-expanded","false"),ji.removeDataAttribute(this._menu,"popper"),re.trigger(this._element,S3,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!$i(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${mT.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof QC>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:$i(this._config.reference)?e=Ks(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Rv(e,this._menu,t)}_isShown(){return this._menu.classList.contains(sl)}_getPlacement(){const e=this._parent;if(e.classList.contains(k3))return U3;if(e.classList.contains(R3))return z3;if(e.classList.contains(P3))return B3;if(e.classList.contains(O3))return H3;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(C3)?t?F3:V3:t?j3:$3}_detectNavbar(){return this._element.closest(D3)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ji.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...In(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const r=Ie.find(L3,this._menu).filter(i=>Kl(i));r.length&&Pv(r,t,e===_T,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=oi.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===b3||e.type==="keyup"&&e.key!==gT)return;const t=Ie.find(N3);for(const r of t){const i=oi.getInstance(r);if(!i||i._config.autoClose===!1)continue;const s=e.composedPath(),a=s.includes(i._menu);if(s.includes(i._element)||i._config.autoClose==="inside"&&!a||i._config.autoClose==="outside"&&a||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===gT||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const c={relatedTarget:i._element};e.type==="click"&&(c.clickEvent=e),i._completeHide(c)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),r=e.key===E3,i=[w3,_T].includes(e.key);if(!i&&!r||t&&!r)return;e.preventDefault();const s=this.matches(Fo)?this:Ie.prev(this,Fo)[0]||Ie.next(this,Fo)[0]||Ie.findOne(Fo,e.delegateTarget.parentNode),a=oi.getOrCreateInstance(s);if(i){e.stopPropagation(),a.show(),a._selectMenuItem(e);return}a._isShown()&&(e.stopPropagation(),a.hide(),s.focus())}}re.on(document,p1,Fo,oi.dataApiKeydownHandler);re.on(document,p1,uf,oi.dataApiKeydownHandler);re.on(document,f1,oi.clearMenus);re.on(document,x3,oi.clearMenus);re.on(document,f1,Fo,function(n){n.preventDefault(),oi.getOrCreateInstance(this).toggle()});cr(oi);const m1="backdrop",q3="fade",yT="show",vT=`mousedown.bs.${m1}`,G3={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Y3={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class g1 extends Ju{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return G3}static get DefaultType(){return Y3}static get NAME(){return m1}show(e){if(!this._config.isVisible){In(e);return}this._append();const t=this._getElement();this._config.isAnimated&&Xu(t),t.classList.add(yT),this._emulateAnimation(()=>{In(e)})}hide(e){if(!this._config.isVisible){In(e);return}this._getElement().classList.remove(yT),this._emulateAnimation(()=>{this.dispose(),In(e)})}dispose(){this._isAppended&&(re.off(this._element,vT),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(q3),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Ks(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),re.on(e,vT,()=>{In(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){t1(e,this._getElement(),this._config.isAnimated)}}const Q3="focustrap",X3="bs.focustrap",ep=`.${X3}`,J3=`focusin${ep}`,Z3=`keydown.tab${ep}`,e5="Tab",t5="forward",ET="backward",n5={autofocus:!0,trapElement:null},r5={autofocus:"boolean",trapElement:"element"};class _1 extends Ju{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return n5}static get DefaultType(){return r5}static get NAME(){return Q3}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),re.off(document,ep),re.on(document,J3,e=>this._handleFocusin(e)),re.on(document,Z3,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,re.off(document,ep))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const r=Ie.focusableChildren(t);r.length===0?t.focus():this._lastTabNavDirection===ET?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===e5&&(this._lastTabNavDirection=e.shiftKey?ET:t5)}}const wT=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",bT=".sticky-top",Cd="padding-right",TT="margin-right";class ny{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Cd,t=>t+e),this._setElementAttributes(wT,Cd,t=>t+e),this._setElementAttributes(bT,TT,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Cd),this._resetElementAttributes(wT,Cd),this._resetElementAttributes(bT,TT)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){const i=this.getWidth(),s=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+i)return;this._saveInitialAttribute(a,t);const c=window.getComputedStyle(a).getPropertyValue(t);a.style.setProperty(t,`${r(Number.parseFloat(c))}px`)};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,t){const r=e.style.getPropertyValue(t);r&&ji.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){const r=i=>{const s=ji.getDataAttribute(i,t);if(s===null){i.style.removeProperty(t);return}ji.removeDataAttribute(i,t),i.style.setProperty(t,s)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,t){if($i(e)){t(e);return}for(const r of Ie.find(e,this._element))t(r)}}const i5="modal",s5="bs.modal",or=`.${s5}`,o5=".data-api",a5="Escape",l5=`hide${or}`,c5=`hidePrevented${or}`,y1=`hidden${or}`,v1=`show${or}`,u5=`shown${or}`,h5=`resize${or}`,d5=`click.dismiss${or}`,f5=`mousedown.dismiss${or}`,p5=`keydown.dismiss${or}`,m5=`click${or}${o5}`,ST="modal-open",g5="fade",AT="show",Zg="modal-static",_5=".modal.show",y5=".modal-dialog",v5=".modal-body",E5='[data-bs-toggle="modal"]',w5={backdrop:!0,focus:!0,keyboard:!0},b5={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Pl extends Nr{constructor(e,t){super(e,t),this._dialog=Ie.findOne(y5,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ny,this._addEventListeners()}static get Default(){return w5}static get DefaultType(){return b5}static get NAME(){return i5}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||re.trigger(this._element,v1,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ST),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||re.trigger(this._element,l5).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(AT),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){re.off(window,or),re.off(this._dialog,or),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new g1({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new _1({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=Ie.findOne(v5,this._dialog);t&&(t.scrollTop=0),Xu(this._element),this._element.classList.add(AT);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,re.trigger(this._element,u5,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){re.on(this._element,p5,e=>{if(e.key===a5){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),re.on(window,h5,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),re.on(this._element,f5,e=>{re.one(this._element,d5,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ST),this._resetAdjustments(),this._scrollBar.reset(),re.trigger(this._element,y1)})}_isAnimated(){return this._element.classList.contains(g5)}_triggerBackdropTransition(){if(re.trigger(this._element,c5).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(Zg)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Zg),this._queueCallback(()=>{this._element.classList.remove(Zg),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){const i=sr()?"paddingLeft":"paddingRight";this._element.style[i]=`${t}px`}if(!r&&e){const i=sr()?"paddingRight":"paddingLeft";this._element.style[i]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const r=Pl.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}}re.on(document,m5,E5,function(n){const e=Ie.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),re.one(e,v1,i=>{i.defaultPrevented||re.one(e,y1,()=>{Kl(this)&&this.focus()})});const t=Ie.findOne(_5);t&&Pl.getInstance(t).hide(),Pl.getOrCreateInstance(e).toggle(this)});zp(Pl);cr(Pl);const T5="offcanvas",S5="bs.offcanvas",Yi=`.${S5}`,E1=".data-api",A5=`load${Yi}${E1}`,I5="Escape",IT="show",xT="showing",CT="hiding",x5="offcanvas-backdrop",w1=".offcanvas.show",C5=`show${Yi}`,k5=`shown${Yi}`,R5=`hide${Yi}`,kT=`hidePrevented${Yi}`,b1=`hidden${Yi}`,P5=`resize${Yi}`,O5=`click${Yi}${E1}`,N5=`keydown.dismiss${Yi}`,D5='[data-bs-toggle="offcanvas"]',M5={backdrop:!0,keyboard:!0,scroll:!1},L5={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};let Ol=class T1 extends Nr{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return M5}static get DefaultType(){return L5}static get NAME(){return T5}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||re.trigger(this._element,C5,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ny().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(xT);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(IT),this._element.classList.remove(xT),re.trigger(this._element,k5,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||re.trigger(this._element,R5).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(CT),this._backdrop.hide();const t=()=>{this._element.classList.remove(IT,CT),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ny().reset(),re.trigger(this._element,b1)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){re.trigger(this._element,kT);return}this.hide()},t=!!this._config.backdrop;return new g1({className:x5,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new _1({trapElement:this._element})}_addEventListeners(){re.on(this._element,N5,e=>{if(e.key===I5){if(this._config.keyboard){this.hide();return}re.trigger(this._element,kT)}})}static jQueryInterface(e){return this.each(function(){const t=T1.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};re.on(document,O5,D5,function(n){const e=Ie.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),qs(this))return;re.one(e,b1,()=>{Kl(this)&&this.focus()});const t=Ie.findOne(w1);t&&t!==e&&Ol.getInstance(t).hide(),Ol.getOrCreateInstance(e).toggle(this)});re.on(window,A5,()=>{for(const n of Ie.find(w1))Ol.getOrCreateInstance(n).show()});re.on(window,P5,()=>{for(const n of Ie.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&Ol.getOrCreateInstance(n).hide()});zp(Ol);cr(Ol);const V5=/^aria-[\w-]*$/i,S1={"*":["class","dir","id","lang","role",V5],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},F5=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),$5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,j5=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?F5.has(t)?!!$5.test(n.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(t))};function U5(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const i=new window.DOMParser().parseFromString(n,"text/html"),s=[].concat(...i.body.querySelectorAll("*"));for(const a of s){const c=a.nodeName.toLowerCase();if(!Object.keys(e).includes(c)){a.remove();continue}const u=[].concat(...a.attributes),d=[].concat(e["*"]||[],e[c]||[]);for(const m of u)j5(m,d)||a.removeAttribute(m.nodeName)}return i.body.innerHTML}const z5="TemplateFactory",B5={allowList:S1,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},H5={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},W5={entry:"(string|element|function|null)",selector:"(string|element)"};class K5 extends Ju{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return B5}static get DefaultType(){return H5}static get NAME(){return z5}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,s]of Object.entries(this._config.content))this._setContent(e,s,i);const t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},W5)}_setContent(e,t,r){const i=Ie.findOne(r,e);if(i){if(t=this._resolvePossibleFunction(t),!t){i.remove();return}if($i(t)){this._putElementInTemplate(Ks(t),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(t);return}i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?U5(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return In(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const q5="tooltip",G5=new Set(["sanitize","allowList","sanitizeFn"]),e_="fade",Y5="modal",kd="show",Q5=".tooltip-inner",RT=`.${Y5}`,PT="hide.bs.modal",Hc="hover",t_="focus",X5="click",J5="manual",Z5="hide",ej="hidden",tj="show",nj="shown",rj="inserted",ij="click",sj="focusin",oj="focusout",aj="mouseenter",lj="mouseleave",cj={AUTO:"auto",TOP:"top",RIGHT:sr()?"left":"right",BOTTOM:"bottom",LEFT:sr()?"right":"left"},uj={allowList:S1,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},hj={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let Wp=class A1 extends Nr{constructor(e,t){if(typeof QC>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return uj}static get DefaultType(){return hj}static get NAME(){return q5}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),re.off(this._element.closest(RT),PT,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=re.trigger(this._element,this.constructor.eventName(tj)),r=(ZC(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(i),re.trigger(this._element,this.constructor.eventName(rj))),this._popper=this._createPopper(i),i.classList.add(kd),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))re.on(c,"mouseover",Jf);const a=()=>{re.trigger(this._element,this.constructor.eventName(nj)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||re.trigger(this._element,this.constructor.eventName(Z5)).defaultPrevented)return;if(this._getTipElement().classList.remove(kd),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))re.off(i,"mouseover",Jf);this._activeTrigger[X5]=!1,this._activeTrigger[t_]=!1,this._activeTrigger[Hc]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),re.trigger(this._element,this.constructor.eventName(ej)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(e_,kd),t.classList.add(`bs-${this.constructor.NAME}-auto`);const r=X$(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(e_),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new K5({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Q5]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(e_)}_isShown(){return this.tip&&this.tip.classList.contains(kd)}_createPopper(e){const t=In(this._config.placement,[this,e,this._element]),r=cj[t.toUpperCase()];return Rv(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return In(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...t,...In(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")re.on(this._element,this.constructor.eventName(ij),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(t!==J5){const r=t===Hc?this.constructor.eventName(aj):this.constructor.eventName(sj),i=t===Hc?this.constructor.eventName(lj):this.constructor.eventName(oj);re.on(this._element,r,this._config.selector,s=>{const a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusin"?t_:Hc]=!0,a._enter()}),re.on(this._element,i,this._config.selector,s=>{const a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusout"?t_:Hc]=a._element.contains(s.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},re.on(this._element.closest(RT),PT,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=ji.getDataAttributes(this._element);for(const r of Object.keys(t))G5.has(r)&&delete t[r];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Ks(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=A1.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};cr(Wp);const dj="popover",fj=".popover-header",pj=".popover-body",mj={...Wp.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},gj={...Wp.DefaultType,content:"(null|string|element|function)"};class Dv extends Wp{static get Default(){return mj}static get DefaultType(){return gj}static get NAME(){return dj}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[fj]:this._getTitle(),[pj]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=Dv.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}cr(Dv);const _j="scrollspy",yj="bs.scrollspy",Mv=`.${yj}`,vj=".data-api",Ej=`activate${Mv}`,OT=`click${Mv}`,wj=`load${Mv}${vj}`,bj="dropdown-item",Qa="active",Tj='[data-bs-spy="scroll"]',n_="[href]",Sj=".nav, .list-group",NT=".nav-link",Aj=".nav-item",Ij=".list-group-item",xj=`${NT}, ${Aj} > ${NT}, ${Ij}`,Cj=".dropdown",kj=".dropdown-toggle",Rj={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Pj={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Kp extends Nr{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Rj}static get DefaultType(){return Pj}static get NAME(){return _j}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Ks(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(re.off(this._config.target,OT),re.on(this._config.target,OT,n_,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const r=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=a=>this._targetLinks.get(`#${a.target.id}`),r=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(t(a))},i=(this._rootElement||document.documentElement).scrollTop,s=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const a of e){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(a));continue}const c=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&c){if(r(a),!i)return;continue}!s&&!c&&r(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Ie.find(n_,this._config.target);for(const t of e){if(!t.hash||qs(t))continue;const r=Ie.findOne(decodeURI(t.hash),this._element);Kl(r)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Qa),this._activateParents(e),re.trigger(this._element,Ej,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(bj)){Ie.findOne(kj,e.closest(Cj)).classList.add(Qa);return}for(const t of Ie.parents(e,Sj))for(const r of Ie.prev(t,xj))r.classList.add(Qa)}_clearActiveClass(e){e.classList.remove(Qa);const t=Ie.find(`${n_}.${Qa}`,e);for(const r of t)r.classList.remove(Qa)}static jQueryInterface(e){return this.each(function(){const t=Kp.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}re.on(window,wj,()=>{for(const n of Ie.find(Tj))Kp.getOrCreateInstance(n)});cr(Kp);const Oj="tab",Nj="bs.tab",oa=`.${Nj}`,Dj=`hide${oa}`,Mj=`hidden${oa}`,Lj=`show${oa}`,Vj=`shown${oa}`,Fj=`click${oa}`,$j=`keydown${oa}`,jj=`load${oa}`,Uj="ArrowLeft",DT="ArrowRight",zj="ArrowUp",MT="ArrowDown",r_="Home",LT="End",$o="active",VT="fade",i_="show",Bj="dropdown",I1=".dropdown-toggle",Hj=".dropdown-menu",s_=`:not(${I1})`,Wj='.list-group, .nav, [role="tablist"]',Kj=".nav-item, .list-group-item",qj=`.nav-link${s_}, .list-group-item${s_}, [role="tab"]${s_}`,x1='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',o_=`${qj}, ${x1}`,Gj=`.${$o}[data-bs-toggle="tab"], .${$o}[data-bs-toggle="pill"], .${$o}[data-bs-toggle="list"]`;class Nl extends Nr{constructor(e){super(e),this._parent=this._element.closest(Wj),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),re.on(this._element,$j,t=>this._keydown(t)))}static get NAME(){return Oj}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),r=t?re.trigger(t,Dj,{relatedTarget:e}):null;re.trigger(e,Lj,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add($o),this._activate(Ie.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(i_);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),re.trigger(e,Vj,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(VT))}_deactivate(e,t){if(!e)return;e.classList.remove($o),e.blur(),this._deactivate(Ie.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(i_);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),re.trigger(e,Mj,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(VT))}_keydown(e){if(![Uj,DT,zj,MT,r_,LT].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(i=>!qs(i));let r;if([r_,LT].includes(e.key))r=t[e.key===r_?0:t.length-1];else{const i=[DT,MT].includes(e.key);r=Pv(t,e.target,i,!0)}r&&(r.focus({preventScroll:!0}),Nl.getOrCreateInstance(r).show())}_getChildren(){return Ie.find(o_,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=Ie.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const r=this._getOuterElement(e);if(!r.classList.contains(Bj))return;const i=(s,a)=>{const c=Ie.findOne(s,r);c&&c.classList.toggle(a,t)};i(I1,$o),i(Hj,i_),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains($o)}_getInnerElement(e){return e.matches(o_)?e:Ie.findOne(o_,e)}_getOuterElement(e){return e.closest(Kj)||e}static jQueryInterface(e){return this.each(function(){const t=Nl.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}re.on(document,Fj,x1,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!qs(this)&&Nl.getOrCreateInstance(this).show()});re.on(window,jj,()=>{for(const n of Ie.find(Gj))Nl.getOrCreateInstance(n)});cr(Nl);const Yj="toast",Qj="bs.toast",to=`.${Qj}`,Xj=`mouseover${to}`,Jj=`mouseout${to}`,Zj=`focusin${to}`,eU=`focusout${to}`,tU=`hide${to}`,nU=`hidden${to}`,rU=`show${to}`,iU=`shown${to}`,sU="fade",FT="hide",Rd="show",Pd="showing",oU={animation:"boolean",autohide:"boolean",delay:"number"},aU={animation:!0,autohide:!0,delay:5e3};class qp extends Nr{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return aU}static get DefaultType(){return oU}static get NAME(){return Yj}show(){if(re.trigger(this._element,rU).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(sU);const t=()=>{this._element.classList.remove(Pd),re.trigger(this._element,iU),this._maybeScheduleHide()};this._element.classList.remove(FT),Xu(this._element),this._element.classList.add(Rd,Pd),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||re.trigger(this._element,tU).defaultPrevented)return;const t=()=>{this._element.classList.add(FT),this._element.classList.remove(Pd,Rd),re.trigger(this._element,nU)};this._element.classList.add(Pd),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Rd),super.dispose()}isShown(){return this._element.classList.contains(Rd)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){re.on(this._element,Xj,e=>this._onInteraction(e,!0)),re.on(this._element,Jj,e=>this._onInteraction(e,!1)),re.on(this._element,Zj,e=>this._onInteraction(e,!0)),re.on(this._element,eU,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=qp.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}zp(qp);cr(qp);const lU=uC();function cU({mode:n,user:e}){var ge;const[t,r]=q.useState(0),[i,s]=q.useState({}),[a,c]=q.useState([]),[u,d]=q.useState([]),[m,_]=q.useState([]),[y,w]=q.useState({}),[T,I]=q.useState({}),[A,O]=q.useState({min:1,max:1e3}),[L,$]=q.useState(!0),[z,H]=q.useState(!0),[j,k]=q.useState(0),[C,R]=q.useState(0),[x,N]=q.useState(!0),M=["A","B","C","D","E","F","G","H"],D=(ae,pe,fe)=>{fetch(`/medTest/assets/${pe}`).then(Se=>Se.text()).then(Se=>{const xe=Se.split(`
`).reduce((Le,Be)=>{if(Be.trim()==="")return Le;const[Lt,zt]=Be.trim().split(" ");return Le[parseInt(Lt)]=zt,Le},{});fe?s(xe):_(xe)}),fetch(`/medTest/assets/${ae}`).then(Se=>Se.text()).then(Se=>{var Be,Lt;const xe=Se.split(`
`).filter(zt=>zt.trim()!==""),Le=[];for(let zt=0;zt<xe.length;zt+=9){const Bt=xe.slice(zt,zt+9);if(Bt.length!==9){console.log("Skipping block due to incorrect line count:",Bt);continue}const ur=Bt[0].replace(/^\d+\.\s*/,""),Dr=((Lt=(Be=Bt[0].match(/^\d+\./))==null?void 0:Be[0])==null?void 0:Lt.slice(0,-1))||"",Mr=Bt.slice(1).reduce((hr,Qi,Lr)=>{const It=String.fromCharCode(97+Lr);return hr[It]=Qi.trim(),hr},{});Le.push({number:Dr,q:ur,...Mr})}fe?c(Le):d(Le)})};q.useEffect(()=>{D("B_otazky.txt","B_odpovede.txt",!0),D("C_otazky.txt","C_odpovede.txt",!1),document.body.style.background="#212529"},[]);const ye=()=>{const ae=A.min===""?1:A.min,pe=A.max===""?1e3:A.max;if(L){let fe;do fe=Math.floor(Math.random()*(pe-ae+1))+ae;while(fe-1===t);r(fe-1)}else t>=ae-1&&t<=pe-1?t+1==pe?r(ae-1):r(t+1):r(ae-1);setTimeout(()=>{window.innerWidth>=1450?window.scrollTo({top:0,behavior:"smooth"}):window.innerWidth<=364?window.scrollTo({top:358,behavior:"smooth"}):window.scrollTo({top:308,behavior:"smooth"});const fe=document.querySelector("h3"),Se=window.getComputedStyle(fe),xe=parseFloat(Se.marginTop);fe.getBoundingClientRect().top+window.scrollY-xe<=3?fe.style.marginTop="1rem":fe.style.marginTop="0"},20),w({}),I({}),N(!0)},me=ae=>{w(pe=>({...pe,[ae]:!pe[ae]}))},he=()=>{const ae=(z?i:m)[t+1]||"",pe={};let fe=!0;M.forEach((Se,xe)=>{const Le=ae[xe]==="S",Be=!!y[Se];Le?(pe[Se]=Be?"correct":"missed",Be||(fe=!1)):(pe[Se]=Be?"wrong":"neutral",Be&&(fe=!1))}),Z(e.email,z?"bio":"che",t+1,fe),I(pe),B()},de=ae=>{const{name:pe,value:fe}=ae.target;O(Se=>({...Se,[pe]:fe===""?"":parseInt(fe,10)}))},J=ae=>{let{name:pe,value:fe}=ae.target;pe==="min"&&(fe<1||fe>=1e3)&&(fe=1),pe==="max"&&(fe<1||fe>1e3)&&(fe=1e3),A.min===A.max?(O({min:A.min,max:1e3}),pe==="max"&&(fe=1e3)):A.min>A.max&&(O({min:A.min,max:1e3}),pe==="max"&&(fe=1e3)),O(Se=>({...Se,[pe]:fe===""?"":parseInt(fe,10)}))},ie=ae=>{ae.target.id=="btnradio1"?$(!0):$(!1)},ce=ae=>{ae.target.id=="btnradio3"?H(!0):H(!1),w({}),I({}),r(0),N(!0)},B=()=>{x&&(z?k(j+1):R(C+1)),N(!1)};async function Z(ae,pe,fe,Se){const xe=hv(lU,"users",ae,"tests",pe),Le={cisloOtazky:fe,spravna:Se,timestamp:Date.now()};try{await K4(xe,{odpovede:G4(Le)}),console.log("Odpove uloen.")}catch(Be){Be.code==="not-found"?(await W4(xe,{odpovede:[Le]}),console.log("Dokument vytvoren a odpove uloen.")):console.error("Chyba pri ukladan odpovede:",Be)}}return Y.jsxs("div",{className:"d-flex flex-column mainContainer",children:[Y.jsxs("div",{className:"input-group mb-3 rangeHolder ms-auto fixed-top mb-5 d-flex justify-content-center",children:[Y.jsx("div",{className:"d-flex mb-3 doubleMenu justify-content-center align-items-center m-0",children:Y.jsxs("div",{className:"btn-group",role:"group","aria-label":"Basic radio toggle button group",children:[Y.jsx("input",{type:"radio",className:"btn-check",name:"btnradio",id:"btnradio3",defaultChecked:!0,onChange:ce}),Y.jsx("label",{className:"btn btn-outline-secondary",htmlFor:"btnradio3",children:"BIOLGIA"}),Y.jsx("input",{type:"radio",className:"btn-check",name:"btnradio",id:"btnradio4",onChange:ce}),Y.jsx("label",{className:"btn btn-outline-secondary",htmlFor:"btnradio4",children:"CHMIA"})]})}),Y.jsxs("div",{className:"btn-group mb-3",role:"group","aria-label":"Basic radio toggle button group",children:[Y.jsx("input",{type:"radio",className:"btn-check",name:"btnradio1",id:"btnradio1",defaultChecked:!0,onChange:ie}),Y.jsx("label",{className:"btn btn-outline-warning",htmlFor:"btnradio1",children:"Nhodn vber"}),Y.jsx("input",{type:"radio",className:"btn-check",name:"btnradio1",id:"btnradio2",onChange:ie}),Y.jsx("label",{className:"btn btn-outline-warning",htmlFor:"btnradio2",children:"Poda poradia"})]}),Y.jsxs("div",{className:"d-flex rangeSizer mb-3",children:[Y.jsx("span",{className:"input-group-text rozsahText",children:"Rozsah:"}),Y.jsx("input",{type:"number",name:"min",value:A.min,onChange:de,onBlur:J,className:"form-control borderForm",placeholder:"Od","aria-label":"Od"}),Y.jsx("span",{className:"input-group-text",children:"-"}),Y.jsx("input",{type:"number",name:"max",value:A.max,onChange:de,onBlur:J,className:"form-control maxNmb",placeholder:"Do","aria-label":"Do"})]}),Y.jsxs("div",{className:`d-flex rangeSizer p-2 border rounded align-items-center fs-6  ${n?"text-light border-secondary":" bg-transparent"}`,children:[Y.jsxs("p",{className:"w-50 m-0",children:["BIO - ",j]}),Y.jsxs("p",{className:"m-0",children:["CHE - ",C]})]})]}),Y.jsx("div",{className:n?"text-light":"text-dark",children:a.length>0?Y.jsxs(Y.Fragment,{children:[Y.jsx("h3",{dangerouslySetInnerHTML:{__html:`${t+1}. ${((ge=(z?a:u)[t])==null?void 0:ge.q)||"Natavam otzky..."}`}}),Y.jsx("div",{className:"d-flex mt-4 flex-column",children:Object.entries((z?a:u)[t]||{}).filter(([ae])=>ae!=="q"&&ae!=="number").map(([ae,pe])=>Y.jsxs("div",{className:"form-check d-flex align-items-center p-1",children:[Y.jsx("input",{className:`form-check-input me-2 hvrOption ${n?"border-0":"border-secondary"}`,type:"checkbox",id:`checkbox-${ae}`,checked:!!y[ae.toUpperCase()],onChange:()=>me(ae.toUpperCase())}),Y.jsx("label",{className:"form-check-label hvrOpt",htmlFor:`checkbox-${ae}`,style:{wordBreak:"break-word",backgroundColor:T[ae.toUpperCase()]==="correct"?"#5e9f58":T[ae.toUpperCase()]==="wrong"||T[ae.toUpperCase()]==="missed"?"#a84d4d":"transparent",color:T[ae.toUpperCase()]==="correct"||T[ae.toUpperCase()]==="wrong"||T[ae.toUpperCase()]==="missed"?"#fff":"",borderRadius:"5px",padding:"5px"},dangerouslySetInnerHTML:{__html:pe}})]},ae))})]}):Y.jsx("h3",{children:"Natavam otzky..."})}),Y.jsx("button",{onClick:he,type:"button",className:"btn btn-secondary mt-5",children:"Vyhodnoti"}),Y.jsx("button",{onClick:ye,type:"button",className:"btn mt-4 btn-warning",id:"resolve",children:"alia otzka"})]})}function uU(){return Y.jsxs("div",{className:"ftr",children:[Y.jsx("img",{src:"/medTest/logoMED.svg",alt:"logoMED",className:"logoIMG",height:100}),Y.jsx("p",{className:"credentials",children:"MB 2024/25."})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function th(n){return n+.5|0}const Ps=(n,e,t)=>Math.max(Math.min(n,t),e);function nu(n){return Ps(th(n*2.55),0,255)}function Fs(n){return Ps(th(n*255),0,255)}function Pi(n){return Ps(th(n/2.55)/100,0,1)}function $T(n){return Ps(th(n*100),0,100)}const tr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ry=[..."0123456789ABCDEF"],hU=n=>ry[n&15],dU=n=>ry[(n&240)>>4]+ry[n&15],Od=n=>(n&240)>>4===(n&15),fU=n=>Od(n.r)&&Od(n.g)&&Od(n.b)&&Od(n.a);function pU(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&tr[n[1]]*17,g:255&tr[n[2]]*17,b:255&tr[n[3]]*17,a:e===5?tr[n[4]]*17:255}:(e===7||e===9)&&(t={r:tr[n[1]]<<4|tr[n[2]],g:tr[n[3]]<<4|tr[n[4]],b:tr[n[5]]<<4|tr[n[6]],a:e===9?tr[n[7]]<<4|tr[n[8]]:255})),t}const mU=(n,e)=>n<255?e(n):"";function gU(n){var e=fU(n)?hU:dU;return n?"#"+e(n.r)+e(n.g)+e(n.b)+mU(n.a,e):void 0}const _U=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function C1(n,e,t){const r=e*Math.min(t,1-t),i=(s,a=(s+n/30)%12)=>t-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function yU(n,e,t){const r=(i,s=(i+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function vU(n,e,t){const r=C1(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function EU(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function Lv(n){const t=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(t,r,i),a=Math.min(t,r,i),c=(s+a)/2;let u,d,m;return s!==a&&(m=s-a,d=c>.5?m/(2-s-a):m/(s+a),u=EU(t,r,i,m,s),u=u*60+.5),[u|0,d||0,c]}function Vv(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Fs)}function Fv(n,e,t){return Vv(C1,n,e,t)}function wU(n,e,t){return Vv(vU,n,e,t)}function bU(n,e,t){return Vv(yU,n,e,t)}function k1(n){return(n%360+360)%360}function TU(n){const e=_U.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?nu(+e[5]):Fs(+e[5]));const i=k1(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=wU(i,s,a):e[1]==="hsv"?r=bU(i,s,a):r=Fv(i,s,a),{r:r[0],g:r[1],b:r[2],a:t}}function SU(n,e){var t=Lv(n);t[0]=k1(t[0]+e),t=Fv(t),n.r=t[0],n.g=t[1],n.b=t[2]}function AU(n){if(!n)return;const e=Lv(n),t=e[0],r=$T(e[1]),i=$T(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${Pi(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const jT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},UT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function IU(){const n={},e=Object.keys(UT),t=Object.keys(jT);let r,i,s,a,c;for(r=0;r<e.length;r++){for(a=c=e[r],i=0;i<t.length;i++)s=t[i],c=c.replace(s,jT[s]);s=parseInt(UT[a],16),n[c]=[s>>16&255,s>>8&255,s&255]}return n}let Nd;function xU(n){Nd||(Nd=IU(),Nd.transparent=[0,0,0,0]);const e=Nd[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const CU=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function kU(n){const e=CU.exec(n);let t=255,r,i,s;if(e){if(e[7]!==r){const a=+e[7];t=e[8]?nu(a):Ps(a*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?nu(r):Ps(r,0,255)),i=255&(e[4]?nu(i):Ps(i,0,255)),s=255&(e[6]?nu(s):Ps(s,0,255)),{r,g:i,b:s,a:t}}}function RU(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Pi(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const a_=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Xa=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function PU(n,e,t){const r=Xa(Pi(n.r)),i=Xa(Pi(n.g)),s=Xa(Pi(n.b));return{r:Fs(a_(r+t*(Xa(Pi(e.r))-r))),g:Fs(a_(i+t*(Xa(Pi(e.g))-i))),b:Fs(a_(s+t*(Xa(Pi(e.b))-s))),a:n.a+t*(e.a-n.a)}}function Dd(n,e,t){if(n){let r=Lv(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=Fv(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function R1(n,e){return n&&Object.assign(e||{},n)}function zT(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Fs(n[3]))):(e=R1(n,{r:0,g:0,b:0,a:1}),e.a=Fs(e.a)),e}function OU(n){return n.charAt(0)==="r"?kU(n):TU(n)}class Du{constructor(e){if(e instanceof Du)return e;const t=typeof e;let r;t==="object"?r=zT(e):t==="string"&&(r=pU(e)||xU(e)||OU(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=R1(this._rgb);return e&&(e.a=Pi(e.a)),e}set rgb(e){this._rgb=zT(e)}rgbString(){return this._valid?RU(this._rgb):void 0}hexString(){return this._valid?gU(this._rgb):void 0}hslString(){return this._valid?AU(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let s;const a=t===s?.5:t,c=2*a-1,u=r.a-i.a,d=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;s=1-d,r.r=255&d*r.r+s*i.r+.5,r.g=255&d*r.g+s*i.g+.5,r.b=255&d*r.b+s*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=PU(this._rgb,e._rgb,t)),this}clone(){return new Du(this.rgb)}alpha(e){return this._rgb.a=Fs(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=th(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Dd(this._rgb,2,e),this}darken(e){return Dd(this._rgb,2,-e),this}saturate(e){return Dd(this._rgb,1,e),this}desaturate(e){return Dd(this._rgb,1,-e),this}rotate(e){return SU(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ci(){}const NU=(()=>{let n=0;return()=>n++})();function Qe(n){return n==null}function Pt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function qe(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ar(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Yr(n,e){return ar(n)?n:e}function Ke(n,e){return typeof n>"u"?e:n}const DU=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,P1=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function tt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Xe(n,e,t,r){let i,s,a;if(Pt(n))for(s=n.length,i=0;i<s;i++)e.call(t,n[i],i);else if(qe(n))for(a=Object.keys(n),s=a.length,i=0;i<s;i++)e.call(t,n[a[i]],a[i])}function tp(n,e){let t,r,i,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function np(n){if(Pt(n))return n.map(np);if(qe(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=np(n[t[i]]);return e}return n}function O1(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function MU(n,e,t,r){if(!O1(n))return;const i=e[n],s=t[n];qe(i)&&qe(s)?hi(i,s,r):e[n]=np(s)}function hi(n,e,t){const r=Pt(e)?e:[e],i=r.length;if(!qe(n))return n;t=t||{};const s=t.merger||MU;let a;for(let c=0;c<i;++c){if(a=r[c],!qe(a))continue;const u=Object.keys(a);for(let d=0,m=u.length;d<m;++d)s(u[d],n,a,t)}return n}function _u(n,e){return hi(n,e,{merger:LU})}function LU(n,e,t){if(!O1(n))return;const r=e[n],i=t[n];qe(r)&&qe(i)?_u(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=np(i))}const BT={"":n=>n,x:n=>n.x,y:n=>n.y};function VU(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function FU(n){const e=VU(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function Jo(n,e){return(BT[e]||(BT[e]=FU(e)))(n)}function $v(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Mu=n=>typeof n<"u",Gs=n=>typeof n=="function",HT=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function $U(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ot=Math.PI,At=2*ot,rp=Number.POSITIVE_INFINITY,jU=ot/180,Ot=ot/2,Po=ot/4,WT=ot*2/3,N1=Math.log10,$s=Math.sign;function hf(n,e,t){return Math.abs(n-e)<t}function KT(n){const e=Math.round(n);n=hf(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(N1(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function UU(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}function zU(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function ip(n){return!zU(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function BU(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function HU(n,e,t){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Di(n){return n*(ot/180)}function WU(n){return n*(180/ot)}function qT(n){if(!ar(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function D1(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let s=Math.atan2(r,t);return s<-.5*ot&&(s+=At),{angle:s,distance:i}}function KU(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Zr(n){return(n%At+At)%At}function sp(n,e,t,r){const i=Zr(n),s=Zr(e),a=Zr(t),c=Zr(s-i),u=Zr(a-i),d=Zr(i-s),m=Zr(i-a);return i===s||i===a||r&&s===a||c>u&&d<m}function Cn(n,e,t){return Math.max(e,Math.min(t,n))}function qU(n){return Cn(n,-32768,32767)}function jo(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function jv(n,e,t){t=t||(a=>n[a]<e);let r=n.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,t(s)?i=s:r=s;return{lo:i,hi:r}}const iy=(n,e,t,r)=>jv(n,t,r?i=>{const s=n[i][e];return s<t||s===t&&n[i+1][e]===t}:i=>n[i][e]<t),GU=(n,e,t)=>jv(n,t,r=>n[r][e]>=t);function YU(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const M1=["push","pop","shift","splice","unshift"];function QU(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),M1.forEach(t=>{const r="_onData"+$v(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return n._chartjs.listeners.forEach(c=>{typeof c[r]=="function"&&c[r](...s)}),a}})})}function GT(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(M1.forEach(s=>{delete n[s]}),delete n._chartjs)}function L1(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const V1=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function F1(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,V1.call(window,()=>{r=!1,n.apply(e,t)}))}}function XU(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const $1=n=>n==="start"?"left":n==="end"?"right":"center",Vn=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,JU=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e,Md=n=>n===0||n===1,YT=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*At/t)),QT=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*At/t)+1,yu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ot)+1,easeOutSine:n=>Math.sin(n*Ot),easeInOutSine:n=>-.5*(Math.cos(ot*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Md(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Md(n)?n:YT(n,.075,.3),easeOutElastic:n=>Md(n)?n:QT(n,.075,.3),easeInOutElastic(n){return Md(n)?n:n<.5?.5*YT(n*2,.1125,.45):.5+.5*QT(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-yu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?yu.easeInBounce(n*2)*.5:yu.easeOutBounce(n*2-1)*.5+.5};function j1(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function XT(n){return j1(n)?n:new Du(n)}function l_(n){return j1(n)?n:new Du(n).saturate(.5).darken(.1).hexString()}const ZU=["x","y","borderWidth","radius","tension"],ez=["color","borderColor","backgroundColor"];function tz(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:ez},numbers:{type:"number",properties:ZU}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function nz(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const JT=new Map;function rz(n,e){e=e||{};const t=n+JSON.stringify(e);let r=JT.get(t);return r||(r=new Intl.NumberFormat(n,e),JT.set(t,r)),r}function Uv(n,e,t){return rz(e,t).format(n)}const iz={values(n){return Pt(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let i,s=n;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),s=sz(n,t)}const a=N1(Math.abs(s)),c=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:i,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),Uv(n,r,u)}};function sz(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var U1={formatters:iz};function oz(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:U1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Zo=Object.create(null),sy=Object.create(null);function vu(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const s=t[r];n=n[s]||(n[s]=Object.create(null))}return n}function c_(n,e,t){return typeof e=="string"?hi(vu(n,e),t):hi(vu(n,""),e)}class az{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>l_(i.backgroundColor),this.hoverBorderColor=(r,i)=>l_(i.borderColor),this.hoverColor=(r,i)=>l_(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return c_(this,e,t)}get(e){return vu(this,e)}describe(e,t){return c_(sy,e,t)}override(e,t){return c_(Zo,e,t)}route(e,t,r,i){const s=vu(this,e),a=vu(this,r),c="_"+t;Object.defineProperties(s,{[c]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const u=this[c],d=a[i];return qe(u)?Object.assign({},d,u):Ke(u,d)},set(u){this[c]=u}}})}apply(e){e.forEach(t=>t(this))}}var yt=new az({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[tz,nz,oz]);function lz(n){return!n||Qe(n.size)||Qe(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function ZT(n,e,t,r,i){let s=e[i];return s||(s=e[i]=n.measureText(i).width,t.push(i)),s>r&&(r=s),r}function Oo(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function eS(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function oy(n,e,t,r){z1(n,e,t,r,null)}function z1(n,e,t,r,i){let s,a,c,u,d,m,_,y;const w=e.pointStyle,T=e.rotation,I=e.radius;let A=(T||0)*jU;if(w&&typeof w=="object"&&(s=w.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(A),n.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),n.restore();return}if(!(isNaN(I)||I<=0)){switch(n.beginPath(),w){default:i?n.ellipse(t,r,i/2,I,0,0,At):n.arc(t,r,I,0,At),n.closePath();break;case"triangle":m=i?i/2:I,n.moveTo(t+Math.sin(A)*m,r-Math.cos(A)*I),A+=WT,n.lineTo(t+Math.sin(A)*m,r-Math.cos(A)*I),A+=WT,n.lineTo(t+Math.sin(A)*m,r-Math.cos(A)*I),n.closePath();break;case"rectRounded":d=I*.516,u=I-d,a=Math.cos(A+Po)*u,_=Math.cos(A+Po)*(i?i/2-d:u),c=Math.sin(A+Po)*u,y=Math.sin(A+Po)*(i?i/2-d:u),n.arc(t-_,r-c,d,A-ot,A-Ot),n.arc(t+y,r-a,d,A-Ot,A),n.arc(t+_,r+c,d,A,A+Ot),n.arc(t-y,r+a,d,A+Ot,A+ot),n.closePath();break;case"rect":if(!T){u=Math.SQRT1_2*I,m=i?i/2:u,n.rect(t-m,r-u,2*m,2*u);break}A+=Po;case"rectRot":_=Math.cos(A)*(i?i/2:I),a=Math.cos(A)*I,c=Math.sin(A)*I,y=Math.sin(A)*(i?i/2:I),n.moveTo(t-_,r-c),n.lineTo(t+y,r-a),n.lineTo(t+_,r+c),n.lineTo(t-y,r+a),n.closePath();break;case"crossRot":A+=Po;case"cross":_=Math.cos(A)*(i?i/2:I),a=Math.cos(A)*I,c=Math.sin(A)*I,y=Math.sin(A)*(i?i/2:I),n.moveTo(t-_,r-c),n.lineTo(t+_,r+c),n.moveTo(t+y,r-a),n.lineTo(t-y,r+a);break;case"star":_=Math.cos(A)*(i?i/2:I),a=Math.cos(A)*I,c=Math.sin(A)*I,y=Math.sin(A)*(i?i/2:I),n.moveTo(t-_,r-c),n.lineTo(t+_,r+c),n.moveTo(t+y,r-a),n.lineTo(t-y,r+a),A+=Po,_=Math.cos(A)*(i?i/2:I),a=Math.cos(A)*I,c=Math.sin(A)*I,y=Math.sin(A)*(i?i/2:I),n.moveTo(t-_,r-c),n.lineTo(t+_,r+c),n.moveTo(t+y,r-a),n.lineTo(t-y,r+a);break;case"line":a=i?i/2:Math.cos(A)*I,c=Math.sin(A)*I,n.moveTo(t-a,r-c),n.lineTo(t+a,r+c);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(A)*(i?i/2:I),r+Math.sin(A)*I);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function zv(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Bv(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Hv(n){n.restore()}function cz(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Qe(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function uz(n,e,t,r,i){if(i.strikethrough||i.underline){const s=n.measureText(r),a=e-s.actualBoundingBoxLeft,c=e+s.actualBoundingBoxRight,u=t-s.actualBoundingBoxAscent,d=t+s.actualBoundingBoxDescent,m=i.strikethrough?(u+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(a,m),n.lineTo(c,m),n.stroke()}}function hz(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function op(n,e,t,r,i,s={}){const a=Pt(e)?e:[e],c=s.strokeWidth>0&&s.strokeColor!=="";let u,d;for(n.save(),n.font=i.string,cz(n,s),u=0;u<a.length;++u)d=a[u],s.backdrop&&hz(n,s.backdrop),c&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Qe(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(d,t,r,s.maxWidth)),n.fillText(d,t,r,s.maxWidth),uz(n,t,r,d,s),r+=Number(i.lineHeight);n.restore()}function ap(n,e){const{x:t,y:r,w:i,h:s,radius:a}=e;n.arc(t+a.topLeft,r+a.topLeft,a.topLeft,1.5*ot,ot,!0),n.lineTo(t,r+s-a.bottomLeft),n.arc(t+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,ot,Ot,!0),n.lineTo(t+i-a.bottomRight,r+s),n.arc(t+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,Ot,0,!0),n.lineTo(t+i,r+a.topRight),n.arc(t+i-a.topRight,r+a.topRight,a.topRight,0,-Ot,!0),n.lineTo(t+a.topLeft,r)}const dz=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,fz=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function pz(n,e){const t=(""+n).match(dz);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const mz=n=>+n||0;function Wv(n,e){const t={},r=qe(e),i=r?Object.keys(e):e,s=qe(n)?r?a=>Ke(n[a],n[e[a]]):a=>n[a]:()=>n;for(const a of i)t[a]=mz(s(a));return t}function B1(n){return Wv(n,{top:"y",right:"x",bottom:"y",left:"x"})}function fl(n){return Wv(n,["topLeft","topRight","bottomLeft","bottomRight"])}function lr(n){const e=B1(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function un(n,e){n=n||{},e=e||yt.font;let t=Ke(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=Ke(n.style,e.style);r&&!(""+r).match(fz)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Ke(n.family,e.family),lineHeight:pz(Ke(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Ke(n.weight,e.weight),string:""};return i.string=lz(i),i}function ct(n,e,t,r){let i,s,a;for(i=0,s=n.length;i<s;++i)if(a=n[i],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e)),t!==void 0&&Pt(a)&&(a=a[t%a.length]),a!==void 0))return a}function gz(n,e,t){const{min:r,max:i}=n,s=P1(e,(i-r)/2),a=(c,u)=>t&&c===0?0:c+u;return{min:a(r,-Math.abs(s)),max:a(i,s)}}function Gl(n,e){return Object.assign(Object.create(n),e)}function Kv(n,e=[""],t,r,i=()=>n[0]){const s=t||n;typeof r>"u"&&(r=q1("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:r,_getTarget:i,override:c=>Kv([c,...n],e,s,r)};return new Proxy(a,{deleteProperty(c,u){return delete c[u],delete c._keys,delete n[0][u],!0},get(c,u){return W1(c,u,()=>Sz(u,e,n,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,u){return nS(c).includes(u)},ownKeys(c){return nS(c)},set(c,u,d){const m=c._storage||(c._storage=i());return c[u]=m[u]=d,delete c._keys,!0}})}function Dl(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:H1(n,r),setContext:s=>Dl(n,s,t,r),override:s=>Dl(n.override(s),e,t,r)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete n[a],!0},get(s,a,c){return W1(s,a,()=>yz(s,a,c))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(s,a,c){return n[a]=c,delete s[a],!0}})}function H1(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:Gs(t)?t:()=>t,isIndexable:Gs(r)?r:()=>r}}const _z=(n,e)=>n?n+$v(e):e,qv=(n,e)=>qe(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function W1(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function yz(n,e,t){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=n;let c=r[e];return Gs(c)&&a.isScriptable(e)&&(c=vz(e,c,n,t)),Pt(c)&&c.length&&(c=Ez(e,c,n,a.isIndexable)),qv(e,c)&&(c=Dl(c,i,s&&s[e],a)),c}function vz(n,e,t,r){const{_proxy:i,_context:s,_subProxy:a,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let u=e(s,a||r);return c.delete(n),qv(n,u)&&(u=Gv(i._scopes,i,n,u)),u}function Ez(n,e,t,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:c}=t;if(typeof s.index<"u"&&r(n))return e[s.index%e.length];if(qe(e[0])){const u=e,d=i._scopes.filter(m=>m!==u);e=[];for(const m of u){const _=Gv(d,i,n,m);e.push(Dl(_,s,a&&a[n],c))}}return e}function K1(n,e,t){return Gs(n)?n(e,t):n}const wz=(n,e)=>n===!0?e:typeof n=="string"?Jo(e,n):void 0;function bz(n,e,t,r,i){for(const s of e){const a=wz(t,s);if(a){n.add(a);const c=K1(a._fallback,t,i);if(typeof c<"u"&&c!==t&&c!==r)return c}else if(a===!1&&typeof r<"u"&&t!==r)return null}return!1}function Gv(n,e,t,r){const i=e._rootScopes,s=K1(e._fallback,t,r),a=[...n,...i],c=new Set;c.add(r);let u=tS(c,a,t,s||t,r);return u===null||typeof s<"u"&&s!==t&&(u=tS(c,a,s,u,r),u===null)?!1:Kv(Array.from(c),[""],i,s,()=>Tz(e,t,r))}function tS(n,e,t,r,i){for(;t;)t=bz(n,e,t,r,i);return t}function Tz(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return Pt(i)&&qe(t)?t:i||{}}function Sz(n,e,t,r){let i;for(const s of e)if(i=q1(_z(s,n),t),typeof i<"u")return qv(n,i)?Gv(t,r,n,i):i}function q1(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function nS(n){let e=n._keys;return e||(e=n._keys=Az(n._scopes)),e}function Az(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function Yv(){return typeof window<"u"&&typeof document<"u"}function Qv(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function lp(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const Gp=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Iz(n,e){return Gp(n).getPropertyValue(e)}const xz=["top","right","bottom","left"];function zo(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const s=xz[i];r[s]=parseFloat(n[e+"-"+s+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Cz=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function kz(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:s}=r;let a=!1,c,u;if(Cz(i,s,n.target))c=i,u=s;else{const d=e.getBoundingClientRect();c=r.clientX-d.left,u=r.clientY-d.top,a=!0}return{x:c,y:u,box:a}}function Mo(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=Gp(t),s=i.boxSizing==="border-box",a=zo(i,"padding"),c=zo(i,"border","width"),{x:u,y:d,box:m}=kz(n,t),_=a.left+(m&&c.left),y=a.top+(m&&c.top);let{width:w,height:T}=e;return s&&(w-=a.width+c.width,T-=a.height+c.height),{x:Math.round((u-_)/w*t.width/r),y:Math.round((d-y)/T*t.height/r)}}function Rz(n,e,t){let r,i;if(e===void 0||t===void 0){const s=n&&Qv(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const a=s.getBoundingClientRect(),c=Gp(s),u=zo(c,"border","width"),d=zo(c,"padding");e=a.width-d.width-u.width,t=a.height-d.height-u.height,r=lp(c.maxWidth,s,"clientWidth"),i=lp(c.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:r||rp,maxHeight:i||rp}}const Ld=n=>Math.round(n*10)/10;function Pz(n,e,t,r){const i=Gp(n),s=zo(i,"margin"),a=lp(i.maxWidth,n,"clientWidth")||rp,c=lp(i.maxHeight,n,"clientHeight")||rp,u=Rz(n,e,t);let{width:d,height:m}=u;if(i.boxSizing==="content-box"){const y=zo(i,"border","width"),w=zo(i,"padding");d-=w.width+y.width,m-=w.height+y.height}return d=Math.max(0,d-s.width),m=Math.max(0,r?d/r:m-s.height),d=Ld(Math.min(d,a,u.maxWidth)),m=Ld(Math.min(m,c,u.maxHeight)),d&&!m&&(m=Ld(d/2)),(e!==void 0||t!==void 0)&&r&&u.height&&m>u.height&&(m=u.height,d=Ld(Math.floor(m*r))),{width:d,height:m}}function rS(n,e,t){const r=e||1,i=Math.floor(n.height*r),s=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const a=n.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||a.height!==i||a.width!==s?(n.currentDevicePixelRatio=r,a.height=i,a.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Oz=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Yv()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function iS(n,e){const t=Iz(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const Nz=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},Dz=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function pl(n,e,t){return n?Nz(e,t):Dz()}function G1(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function Y1(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Vd(n,e,t){return n.options.clip?n[t]:e[t]}function Mz(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:Vd(t,e,"left"),right:Vd(t,e,"right"),top:Vd(r,e,"top"),bottom:Vd(r,e,"bottom")}:e}function Lz(n,e){const t=e._clip;if(t.disabled)return!1;const r=Mz(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Vz{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const s=t.listeners[i],a=t.duration;s.forEach(c=>c({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(r-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=V1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let a=s.length-1,c=!1,u;for(;a>=0;--a)u=s[a],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(e),c=!0):(s[a]=s[s.length-1],s.pop());c&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ki=new Vz;const sS="transparent",Fz={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=XT(n||sS),i=r.valid&&XT(e||sS);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class $z{constructor(e,t,r,i){const s=t[r];i=ct([e.to,i,s,e.from]);const a=ct([e.from,s,i]);this._active=!0,this._fn=e.fn||Fz[e.type||typeof a],this._easing=yu[e.easing]||yu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=ct([e.to,t,i,e.from]),this._from=ct([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,s=this._from,a=this._loop,c=this._to;let u;if(this._active=s!==c&&(a||t<r),!this._active){this._target[i]=c,this._notify(!0);return}if(t<0){this._target[i]=s;return}u=t/r%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[i]=this._fn(s,c,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class Q1{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!qe(e))return;const t=Object.keys(yt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!qe(s))return;const a={};for(const c of t)a[c]=s[c];(Pt(s.properties)&&s.properties||[i]).forEach(c=>{(c===i||!r.has(c))&&r.set(c,a)})})}_animateOptions(e,t){const r=t.options,i=Uz(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&jz(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(t),c=Date.now();let u;for(u=a.length-1;u>=0;--u){const d=a[u];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(e,t));continue}const m=t[d];let _=s[d];const y=r.get(d);if(_)if(y&&_.active()){_.update(y,m,c);continue}else _.cancel();if(!y||!y.duration){e[d]=m;continue}s[d]=_=new $z(y,e,d,m),i.push(_)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return ki.add(this._chart,r),!0}}function jz(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=n[r[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function Uz(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function oS(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function zz(n,e,t){if(t===!1)return!1;const r=oS(n,t),i=oS(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function Bz(n){let e,t,r,i;return qe(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function X1(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)t.push(r[i].index);return t}function aS(n,e,t,r={}){const i=n.keys,s=r.mode==="single";let a,c,u,d;if(e===null)return;let m=!1;for(a=0,c=i.length;a<c;++a){if(u=+i[a],u===t){if(m=!0,r.all)continue;break}d=n.values[u],ar(d)&&(s||e===0||$s(e)===$s(d))&&(e+=d)}return!m&&!r.all?0:e}function Hz(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",a=Object.keys(n),c=new Array(a.length);let u,d,m;for(u=0,d=a.length;u<d;++u)m=a[u],c[u]={[i]:m,[s]:n[m]};return c}function u_(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function Wz(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function Kz(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function qz(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function lS(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=n[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function cS(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:s,vScale:a,index:c}=r,u=s.axis,d=a.axis,m=Wz(s,a,r),_=e.length;let y;for(let w=0;w<_;++w){const T=e[w],{[u]:I,[d]:A}=T,O=T._stacks||(T._stacks={});y=O[d]=qz(i,m,I),y[c]=A,y._top=lS(y,a,!0,r.type),y._bottom=lS(y,a,!1,r.type);const L=y._visualValues||(y._visualValues={});L[c]=A}}function h_(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function Gz(n,e){return Gl(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Yz(n,e,t){return Gl(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Wc(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][t]===void 0)return;delete s[r][t],s[r]._visualValues!==void 0&&s[r]._visualValues[t]!==void 0&&delete s[r]._visualValues[t]}}}const d_=n=>n==="reset"||n==="none",uS=(n,e)=>e?n:Object.assign({},n),Qz=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:X1(t,!0),values:null};class ml{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=u_(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Wc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(_,y,w,T)=>_==="x"?y:_==="r"?T:w,s=t.xAxisID=Ke(r.xAxisID,h_(e,"x")),a=t.yAxisID=Ke(r.yAxisID,h_(e,"y")),c=t.rAxisID=Ke(r.rAxisID,h_(e,"r")),u=t.indexAxis,d=t.iAxisID=i(u,s,a,c),m=t.vAxisID=i(u,a,s,c);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&GT(this._data,this),e._stacked&&Wc(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(qe(t)){const i=this._cachedMeta;this._data=Hz(t,i)}else if(r!==t){if(r){GT(r,this);const i=this._cachedMeta;Wc(i),i._parsed=[]}t&&Object.isExtensible(t)&&QU(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=t._stacked;t._stacked=u_(t.vScale,t),t.stack!==r.stack&&(i=!0,Wc(t),t.stack=r.stack),this._resyncElements(e),(i||s!==t._stacked)&&(cS(this,t._parsed),t._stacked=u_(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:a}=r,c=s.axis;let u=e===0&&t===i.length?!0:r._sorted,d=e>0&&r._parsed[e-1],m,_,y;if(this._parsing===!1)r._parsed=i,r._sorted=!0,y=i;else{Pt(i[e])?y=this.parseArrayData(r,i,e,t):qe(i[e])?y=this.parseObjectData(r,i,e,t):y=this.parsePrimitiveData(r,i,e,t);const w=()=>_[c]===null||d&&_[c]<d[c];for(m=0;m<t;++m)r._parsed[m+e]=_=y[m],u&&(w()&&(u=!1),d=_);r._sorted=u}a&&cS(this,y)}parsePrimitiveData(e,t,r,i){const{iScale:s,vScale:a}=e,c=s.axis,u=a.axis,d=s.getLabels(),m=s===a,_=new Array(i);let y,w,T;for(y=0,w=i;y<w;++y)T=y+r,_[y]={[c]:m||s.parse(d[T],T),[u]:a.parse(t[T],T)};return _}parseArrayData(e,t,r,i){const{xScale:s,yScale:a}=e,c=new Array(i);let u,d,m,_;for(u=0,d=i;u<d;++u)m=u+r,_=t[m],c[u]={x:s.parse(_[0],m),y:a.parse(_[1],m)};return c}parseObjectData(e,t,r,i){const{xScale:s,yScale:a}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=new Array(i);let m,_,y,w;for(m=0,_=i;m<_;++m)y=m+r,w=t[y],d[m]={x:s.parse(Jo(w,c),y),y:a.parse(Jo(w,u),y)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,s=this._cachedMeta,a=t[e.axis],c={keys:X1(i,!0),values:t._stacks[e.axis]._visualValues};return aS(c,a,s.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const s=r[t.axis];let a=s===null?NaN:s;const c=i&&r._stacks[t.axis];i&&c&&(i.values=c,a=aS(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,a=i.length,c=this._getOtherScale(e),u=Qz(t,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:_}=Kz(c);let y,w;function T(){w=i[y];const I=w[c.axis];return!ar(w[e.axis])||m>I||_<I}for(y=0;y<a&&!(!T()&&(this.updateRangeFromParsed(d,e,w,u),s));++y);if(s){for(y=a-1;y>=0;--y)if(!T()){this.updateRangeFromParsed(d,e,w,u);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,s,a;for(i=0,s=t.length;i<s;++i)a=t[i][e.axis],ar(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=Bz(Ke(this.options.clip,zz(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],s=t.chartArea,a=[],c=this._drawStart||0,u=this._drawCount||i.length-c,d=this.options.drawActiveElementsOnTop;let m;for(r.dataset&&r.dataset.draw(e,s,c,u),m=c;m<c+u;++m){const _=i[m];_.hidden||(_.active&&d?a.push(_):_.draw(e,s))}for(m=0;m<a.length;++m)a[m].draw(e,s)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=Yz(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Gz(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",s=this._cachedDataOpts,a=e+"-"+t,c=s[a],u=this.enableOptionSharing&&Mu(r);if(c)return uS(c,u);const d=this.chart.config,m=d.datasetElementScopeKeys(this._type,e),_=i?[`${e}Hover`,"hover",e,""]:[e,""],y=d.getOptionScopes(this.getDataset(),m),w=Object.keys(yt.elements[e]),T=()=>this.getContext(r,i,t),I=d.resolveNamedOptions(y,w,T,_);return I.$shared&&(I.$shared=u,s[a]=Object.freeze(uS(I,u))),I}_resolveAnimations(e,t,r){const i=this.chart,s=this._cachedDataOpts,a=`animation-${t}`,c=s[a];if(c)return c;let u;if(i.options.animation!==!1){const m=this.chart.config,_=m.datasetAnimationScopeKeys(this._type,t),y=m.getOptionScopes(this.getDataset(),_);u=m.createResolver(y,this.getContext(e,r,t))}const d=new Q1(i,u&&u.animations);return u&&u._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||d_(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,r),{sharedOptions:s,includeOptions:a}}updateElement(e,t,r,i){d_(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!d_(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const s=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[c,u,d]of this._syncList)this[c](u,d);this._syncList=[];const i=r.length,s=t.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t,r=!0){const i=this._cachedMeta,s=i.data,a=e+t;let c;const u=d=>{for(d.length+=t,c=d.length-1;c>=a;c--)d[c]=d[c-t]};for(u(s),c=e;c<a;++c)s[c]=new this.dataElementType;this._parsing&&u(i._parsed),this.parse(e,t),r&&this.updateElements(s,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&Wc(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ae(ml,"defaults",{}),Ae(ml,"datasetElementType",null),Ae(ml,"dataElementType",null);function Xz(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=t.length;i<s;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=L1(r.sort((i,s)=>i-s))}return n._cache.$bar}function Jz(n){const e=n.iScale,t=Xz(e,n.type);let r=e._length,i,s,a,c;const u=()=>{a===32767||a===-32768||(Mu(c)&&(r=Math.min(r,Math.abs(a-c)||r)),c=a)};for(i=0,s=t.length;i<s;++i)a=e.getPixelForValue(t[i]),u();for(c=void 0,i=0,s=e.ticks.length;i<s;++i)a=e.getPixelForTick(i),u();return r}function Zz(n,e,t,r){const i=t.barThickness;let s,a;return Qe(i)?(s=e.min*t.categoryPercentage,a=t.barPercentage):(s=i*r,a=1),{chunk:s/r,ratio:a,start:e.pixels[n]-s/2}}function eB(n,e,t,r){const i=e.pixels,s=i[n];let a=n>0?i[n-1]:null,c=n<i.length-1?i[n+1]:null;const u=t.categoryPercentage;a===null&&(a=s-(c===null?e.end-e.start:c-s)),c===null&&(c=s+s-a);const d=s-(s-Math.min(a,c))/2*u;return{chunk:Math.abs(c-a)/2*u/r,ratio:t.barPercentage,start:d}}function tB(n,e,t,r){const i=t.parse(n[0],r),s=t.parse(n[1],r),a=Math.min(i,s),c=Math.max(i,s);let u=a,d=c;Math.abs(a)>Math.abs(c)&&(u=c,d=a),e[t.axis]=d,e._custom={barStart:u,barEnd:d,start:i,end:s,min:a,max:c}}function J1(n,e,t,r){return Pt(n)?tB(n,e,t,r):e[t.axis]=t.parse(n,r),e}function hS(n,e,t,r){const i=n.iScale,s=n.vScale,a=i.getLabels(),c=i===s,u=[];let d,m,_,y;for(d=t,m=t+r;d<m;++d)y=e[d],_={},_[i.axis]=c||i.parse(a[d],d),u.push(J1(y,_,s,d));return u}function f_(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function nB(n,e,t){return n!==0?$s(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function rB(n){let e,t,r,i,s;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:t,end:r,reverse:e,top:i,bottom:s}}function iB(n,e,t,r){let i=e.borderSkipped;const s={};if(!i){n.borderSkipped=s;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:c,reverse:u,top:d,bottom:m}=rB(n);i==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=d:(t._bottom||0)===r?i=m:(s[dS(m,a,c,u)]=!0,i=d)),s[dS(i,a,c,u)]=!0,n.borderSkipped=s}function dS(n,e,t,r){return r?(n=sB(n,e,t),n=fS(n,t,e)):n=fS(n,e,t),n}function sB(n,e,t){return n===e?t:n===t?e:n}function fS(n,e,t){return n==="start"?e:n==="end"?t:n}function oB(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class df extends ml{parsePrimitiveData(e,t,r,i){return hS(e,t,r,i)}parseArrayData(e,t,r,i){return hS(e,t,r,i)}parseObjectData(e,t,r,i){const{iScale:s,vScale:a}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=s.axis==="x"?c:u,m=a.axis==="x"?c:u,_=[];let y,w,T,I;for(y=r,w=r+i;y<w;++y)I=t[y],T={},T[s.axis]=s.parse(Jo(I,d),y),_.push(J1(Jo(I,m),T,a,y));return _}updateRangeFromParsed(e,t,r,i){super.updateRangeFromParsed(e,t,r,i);const s=r._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:i}=t,s=this.getParsed(e),a=s._custom,c=f_(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,i){const s=i==="reset",{index:a,_cachedMeta:{vScale:c}}=this,u=c.getBasePixel(),d=c.isHorizontal(),m=this._getRuler(),{sharedOptions:_,includeOptions:y}=this._getSharedOptions(t,i);for(let w=t;w<t+r;w++){const T=this.getParsed(w),I=s||Qe(T[c.axis])?{base:u,head:u}:this._calculateBarValuePixels(w),A=this._calculateBarIndexPixels(w,m),O=(T._stacks||{})[c.axis],L={horizontal:d,base:I.base,enableBorderRadius:!O||f_(T._custom)||a===O._top||a===O._bottom,x:d?I.head:A.center,y:d?A.center:I.head,height:d?A.size:Math.abs(I.size),width:d?Math.abs(I.size):A.size};y&&(L.options=_||this.resolveDataElementOptions(w,e[w].active?"active":i));const $=L.options||e[w].options;iB(L,$,O,a),oB(L,$,m.ratio),this.updateElement(e[w],w,L,i)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),s=r.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(t),u=c&&c[r.axis],d=m=>{const _=m._parsed.find(w=>w[r.axis]===u),y=_&&_[m.vScale.axis];if(Qe(y)||isNaN(y))return!0};for(const m of i)if(!(t!==void 0&&d(m))&&((s===!1||a.indexOf(m.stack)===-1||s===void 0&&m.stack===void 0)&&a.push(m.stack),m.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Ke(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const i=this._getStacks(e,r),s=t!==void 0?i.indexOf(t):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,i=[];let s,a;for(s=0,a=t.data.length;s<a;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const c=e.barThickness;return{min:c||Jz(t),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:i},options:{base:s,minBarLength:a}}=this,c=s||0,u=this.getParsed(e),d=u._custom,m=f_(d);let _=u[t.axis],y=0,w=r?this.applyStack(t,u,r):_,T,I;w!==_&&(y=w-_,w=_),m&&(_=d.barStart,w=d.barEnd-d.barStart,_!==0&&$s(_)!==$s(d.barEnd)&&(y=0),y+=_);const A=!Qe(s)&&!m?s:y;let O=t.getPixelForValue(A);if(this.chart.getDataVisibility(e)?T=t.getPixelForValue(y+w):T=O,I=T-O,Math.abs(I)<a){I=nB(I,t,c)*a,_===c&&(O-=I/2);const L=t.getPixelForDecimal(0),$=t.getPixelForDecimal(1),z=Math.min(L,$),H=Math.max(L,$);O=Math.max(Math.min(O,H),z),T=O+I,r&&!m&&(u._stacks[t.axis]._visualValues[i]=t.getValueForPixel(T)-t.getValueForPixel(O))}if(O===t.getPixelForValue(c)){const L=$s(I)*t.getLineWidthForValue(c)/2;O+=L,I-=L}return{size:I,base:O,head:T,center:T+I/2}}_calculateBarIndexPixels(e,t){const r=t.scale,i=this.options,s=i.skipNull,a=Ke(i.maxBarThickness,1/0);let c,u;const d=this._getAxisCount();if(t.grouped){const m=s?this._getStackCount(e):t.stackCount,_=i.barThickness==="flex"?eB(e,t,i,m*d):Zz(e,t,i,m*d),y=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,w=this._getAxis().indexOf(Ke(y,this.getFirstScaleIdForIndexAxis())),T=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+w;c=_.start+_.chunk*T+_.chunk/2,u=Math.min(a,_.chunk*_.ratio)}else c=r.getPixelForValue(this.getParsed(e)[r.axis],e),u=Math.min(a,t.min*t.ratio);return{base:c-u/2,head:c+u/2,center:c,size:u}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[t.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}Ae(df,"id","bar"),Ae(df,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ae(df,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function aB(n,e,t){let r=1,i=1,s=0,a=0;if(e<At){const c=n,u=c+e,d=Math.cos(c),m=Math.sin(c),_=Math.cos(u),y=Math.sin(u),w=($,z,H)=>sp($,c,u,!0)?1:Math.max(z,z*t,H,H*t),T=($,z,H)=>sp($,c,u,!0)?-1:Math.min(z,z*t,H,H*t),I=w(0,d,_),A=w(Ot,m,y),O=T(ot,d,_),L=T(ot+Ot,m,y);r=(I-O)/2,i=(A-L)/2,s=-(I+O)/2,a=-(A+L)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}class ru extends ml{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=u=>+r[u];if(qe(r[e])){const{key:u="value"}=this._parsing;s=d=>+Jo(r[d],u)}let a,c;for(a=e,c=e+t;a<c;++a)i._parsed[a]=s(a)}}_getRotation(){return Di(this.options.rotation-90)}_getCircumference(){return Di(this.options.circumference)}_getRotationExtents(){let e=At,t=-At;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),t=Math.max(t,s+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-a)/2,0),u=Math.min(DU(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:m,rotation:_}=this._getRotationExtents(),{ratioX:y,ratioY:w,offsetX:T,offsetY:I}=aB(_,m,u),A=(r.width-a)/y,O=(r.height-a)/w,L=Math.max(Math.min(A,O)/2,0),$=P1(this.options.radius,L),z=Math.max($*u,0),H=($-z)/this._getVisibleDatasetWeightTotal();this.offsetX=T*$,this.offsetY=I*$,i.total=this.calculateTotal(),this.outerRadius=$-H*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-H*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/At)}updateElements(e,t,r,i){const s=i==="reset",a=this.chart,c=a.chartArea,d=a.options.animation,m=(c.left+c.right)/2,_=(c.top+c.bottom)/2,y=s&&d.animateScale,w=y?0:this.innerRadius,T=y?0:this.outerRadius,{sharedOptions:I,includeOptions:A}=this._getSharedOptions(t,i);let O=this._getRotation(),L;for(L=0;L<t;++L)O+=this._circumference(L,s);for(L=t;L<t+r;++L){const $=this._circumference(L,s),z=e[L],H={x:m+this.offsetX,y:_+this.offsetY,startAngle:O,endAngle:O+$,circumference:$,outerRadius:T,innerRadius:w};A&&(H.options=I||this.resolveDataElementOptions(L,z.active?"active":i)),O+=$,this.updateElement(z,L,H,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,i;for(i=0;i<t.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?At*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Uv(t._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,s,a,c,u;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){a=r.getDatasetMeta(i),e=a.data,c=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)u=c.resolveDataElementOptions(i),u.borderAlign!=="inner"&&(t=Math.max(t,u.borderWidth||0,u.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Ke(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ae(ru,"id","doughnut"),Ae(ru,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ae(ru,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Ae(ru,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((s,a)=>{const u=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class ay extends ru{}Ae(ay,"id","pie"),Ae(ay,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function No(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Xv{constructor(e){Ae(this,"options");this.options=e||{}}static override(e){Object.assign(Xv.prototype,e)}init(){}formats(){return No()}parse(){return No()}format(){return No()}add(){return No()}diff(){return No()}startOf(){return No()}endOf(){return No()}}var lB={_date:Xv};function cB(n,e,t,r){const{controller:i,data:s,_sorted:a}=n,c=i._cachedMeta.iScale,u=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&a&&s.length){const d=c._reversePixels?GU:iy;if(r){if(i._sharedOptions){const m=s[0],_=typeof m.getRange=="function"&&m.getRange(e);if(_){const y=d(s,e,t-_),w=d(s,e,t+_);return{lo:y.lo,hi:w.hi}}}}else{const m=d(s,e,t);if(u){const{vScale:_}=i._cachedMeta,{_parsed:y}=n,w=y.slice(0,m.lo+1).reverse().findIndex(I=>!Qe(I[_.axis]));m.lo-=Math.max(0,w);const T=y.slice(m.hi).findIndex(I=>!Qe(I[_.axis]));m.hi+=Math.max(0,T)}return m}}return{lo:0,hi:s.length-1}}function Yp(n,e,t,r,i){const s=n.getSortedVisibleDatasetMetas(),a=t[e];for(let c=0,u=s.length;c<u;++c){const{index:d,data:m}=s[c],{lo:_,hi:y}=cB(s[c],e,a,i);for(let w=_;w<=y;++w){const T=m[w];T.skip||r(T,d,w)}}}function uB(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,a=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function p_(n,e,t,r,i){const s=[];return!i&&!n.isPointInArea(e)||Yp(n,t,e,function(c,u,d){!i&&!zv(c,n.chartArea,0)||c.inRange(e.x,e.y,r)&&s.push({element:c,datasetIndex:u,index:d})},!0),s}function hB(n,e,t,r){let i=[];function s(a,c,u){const{startAngle:d,endAngle:m}=a.getProps(["startAngle","endAngle"],r),{angle:_}=D1(a,{x:e.x,y:e.y});sp(_,d,m)&&i.push({element:a,datasetIndex:c,index:u})}return Yp(n,t,e,s),i}function dB(n,e,t,r,i,s){let a=[];const c=uB(t);let u=Number.POSITIVE_INFINITY;function d(m,_,y){const w=m.inRange(e.x,e.y,i);if(r&&!w)return;const T=m.getCenterPoint(i);if(!(!!s||n.isPointInArea(T))&&!w)return;const A=c(e,T);A<u?(a=[{element:m,datasetIndex:_,index:y}],u=A):A===u&&a.push({element:m,datasetIndex:_,index:y})}return Yp(n,t,e,d),a}function m_(n,e,t,r,i,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!r?hB(n,e,t,i):dB(n,e,t,r,i,s)}function pS(n,e,t,r,i){const s=[],a=t==="x"?"inXRange":"inYRange";let c=!1;return Yp(n,t,e,(u,d,m)=>{u[a]&&u[a](e[t],i)&&(s.push({element:u,datasetIndex:d,index:m}),c=c||u.inRange(e.x,e.y,i))}),r&&!c?[]:s}var fB={modes:{index(n,e,t,r){const i=Mo(e,n),s=t.axis||"x",a=t.includeInvisible||!1,c=t.intersect?p_(n,i,s,r,a):m_(n,i,s,!1,r,a),u=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const m=c[0].index,_=d.data[m];_&&!_.skip&&u.push({element:_,datasetIndex:d.index,index:m})}),u):[]},dataset(n,e,t,r){const i=Mo(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;let c=t.intersect?p_(n,i,s,r,a):m_(n,i,s,!1,r,a);if(c.length>0){const u=c[0].datasetIndex,d=n.getDatasetMeta(u).data;c=[];for(let m=0;m<d.length;++m)c.push({element:d[m],datasetIndex:u,index:m})}return c},point(n,e,t,r){const i=Mo(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;return p_(n,i,s,r,a)},nearest(n,e,t,r){const i=Mo(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;return m_(n,i,s,t.intersect,r,a)},x(n,e,t,r){const i=Mo(e,n);return pS(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=Mo(e,n);return pS(n,i,"y",t.intersect,r)}}};const Z1=["left","top","right","bottom"];function Kc(n,e){return n.filter(t=>t.pos===e)}function mS(n,e){return n.filter(t=>Z1.indexOf(t.pos)===-1&&t.box.axis===e)}function qc(n,e){return n.sort((t,r)=>{const i=e?r:t,s=e?t:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function pB(n){const e=[];let t,r,i,s,a,c;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:s,options:{stack:a,stackWeight:c=1}}=i,e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:c});return e}function mB(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:s}=t;if(!r||!Z1.includes(i))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function gB(n,e){const t=mB(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,a,c;for(s=0,a=n.length;s<a;++s){c=n[s];const{fullSize:u}=c.box,d=t[c.stack],m=d&&c.stackWeight/d.weight;c.horizontal?(c.width=m?m*r:u&&e.availableWidth,c.height=i):(c.width=r,c.height=m?m*i:u&&e.availableHeight)}return t}function _B(n){const e=pB(n),t=qc(e.filter(d=>d.box.fullSize),!0),r=qc(Kc(e,"left"),!0),i=qc(Kc(e,"right")),s=qc(Kc(e,"top"),!0),a=qc(Kc(e,"bottom")),c=mS(e,"x"),u=mS(e,"y");return{fullSize:t,leftAndTop:r.concat(s),rightAndBottom:i.concat(u).concat(a).concat(c),chartArea:Kc(e,"chartArea"),vertical:r.concat(i).concat(u),horizontal:s.concat(a).concat(c)}}function gS(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function ek(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function yB(n,e,t,r){const{pos:i,box:s}=t,a=n.maxPadding;if(!qe(i)){t.size&&(n[i]-=t.size);const _=r[t.stack]||{size:0,count:1};_.size=Math.max(_.size,t.horizontal?s.height:s.width),t.size=_.size/_.count,n[i]+=t.size}s.getPadding&&ek(a,s.getPadding());const c=Math.max(0,e.outerWidth-gS(a,n,"left","right")),u=Math.max(0,e.outerHeight-gS(a,n,"top","bottom")),d=c!==n.w,m=u!==n.h;return n.w=c,n.h=u,t.horizontal?{same:d,other:m}:{same:m,other:d}}function vB(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function EB(n,e){const t=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],t[a])}),s}return r(n?["left","right"]:["top","bottom"])}function iu(n,e,t,r){const i=[];let s,a,c,u,d,m;for(s=0,a=n.length,d=0;s<a;++s){c=n[s],u=c.box,u.update(c.width||e.w,c.height||e.h,EB(c.horizontal,e));const{same:_,other:y}=yB(e,t,c,r);d|=_&&i.length,m=m||y,u.fullSize||i.push(c)}return d&&iu(i,e,t,r)||m}function Fd(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function _S(n,e,t,r){const i=t.padding;let{x:s,y:a}=e;for(const c of n){const u=c.box,d=r[c.stack]||{placed:0,weight:1},m=c.stackWeight/d.weight||1;if(c.horizontal){const _=e.w*m,y=d.size||u.height;Mu(d.start)&&(a=d.start),u.fullSize?Fd(u,i.left,a,t.outerWidth-i.right-i.left,y):Fd(u,e.left+d.placed,a,_,y),d.start=a,d.placed+=_,a=u.bottom}else{const _=e.h*m,y=d.size||u.width;Mu(d.start)&&(s=d.start),u.fullSize?Fd(u,s,i.top,y,t.outerHeight-i.bottom-i.top):Fd(u,s,e.top+d.placed,y,_),d.start=s,d.placed+=_,s=u.right}}e.x=s,e.y=a}var Os={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=lr(n.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(t-i.height,0),c=_B(n.boxes),u=c.vertical,d=c.horizontal;Xe(n.boxes,I=>{typeof I.beforeLayout=="function"&&I.beforeLayout()});const m=u.reduce((I,A)=>A.box.options&&A.box.options.display===!1?I:I+1,0)||1,_=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/m,hBoxMaxHeight:a/2}),y=Object.assign({},i);ek(y,lr(r));const w=Object.assign({maxPadding:y,w:s,h:a,x:i.left,y:i.top},i),T=gB(u.concat(d),_);iu(c.fullSize,w,_,T),iu(u,w,_,T),iu(d,w,_,T)&&iu(u,w,_,T),vB(w),_S(c.leftAndTop,w,_,T),w.x+=w.w,w.y+=w.h,_S(c.rightAndBottom,w,_,T),n.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},Xe(c.chartArea,I=>{const A=I.box;Object.assign(A,n.chartArea),A.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class tk{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class wB extends tk{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ff="$chartjs",bB={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},yS=n=>n===null||n==="";function TB(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[ff]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",yS(i)){const s=iS(n,"width");s!==void 0&&(n.width=s)}if(yS(r))if(n.style.height==="")n.height=n.width/(e||2);else{const s=iS(n,"height");s!==void 0&&(n.height=s)}return n}const nk=Oz?{passive:!0}:!1;function SB(n,e,t){n&&n.addEventListener(e,t,nk)}function AB(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,nk)}function IB(n,e){const t=bB[n.type]||n.type,{x:r,y:i}=Mo(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function cp(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function xB(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let a=!1;for(const c of s)a=a||cp(c.addedNodes,r),a=a&&!cp(c.removedNodes,r);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function CB(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let a=!1;for(const c of s)a=a||cp(c.removedNodes,r),a=a&&!cp(c.addedNodes,r);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const Lu=new Map;let vS=0;function rk(){const n=window.devicePixelRatio;n!==vS&&(vS=n,Lu.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function kB(n,e){Lu.size||window.addEventListener("resize",rk),Lu.set(n,e)}function RB(n){Lu.delete(n),Lu.size||window.removeEventListener("resize",rk)}function PB(n,e,t){const r=n.canvas,i=r&&Qv(r);if(!i)return;const s=F1((c,u)=>{const d=i.clientWidth;t(c,u),d<i.clientWidth&&t()},window),a=new ResizeObserver(c=>{const u=c[0],d=u.contentRect.width,m=u.contentRect.height;d===0&&m===0||s(d,m)});return a.observe(i),kB(n,s),a}function g_(n,e,t){t&&t.disconnect(),e==="resize"&&RB(n)}function OB(n,e,t){const r=n.canvas,i=F1(s=>{n.ctx!==null&&t(IB(s,n))},n);return SB(r,e,i),i}class NB extends tk{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(TB(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[ff])return!1;const r=t[ff].initial;["height","width"].forEach(s=>{const a=r[s];Qe(a)?t.removeAttribute(s):t.setAttribute(s,a)});const i=r.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[ff],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),a={attach:xB,detach:CB,resize:PB}[t]||OB;i[t]=a(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:g_,detach:g_,resize:g_}[t]||AB)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return Pz(e,t,r,i)}isAttached(e){const t=e&&Qv(e);return!!(t&&t.isConnected)}}function DB(n){return!Yv()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?wB:NB}var Gd;let aa=(Gd=class{constructor(){Ae(this,"x");Ae(this,"y");Ae(this,"active",!1);Ae(this,"options");Ae(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return ip(this.x)&&ip(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},Ae(Gd,"defaults",{}),Ae(Gd,"defaultRoutes"),Gd);function MB(n,e){const t=n.options.ticks,r=LB(n),i=Math.min(t.maxTicksLimit||r,r),s=t.major.enabled?FB(e):[],a=s.length,c=s[0],u=s[a-1],d=[];if(a>i)return $B(e,d,s,a/i),d;const m=VB(s,e,i);if(a>0){let _,y;const w=a>1?Math.round((u-c)/(a-1)):null;for($d(e,d,m,Qe(w)?0:c-w,c),_=0,y=a-1;_<y;_++)$d(e,d,m,s[_],s[_+1]);return $d(e,d,m,u,Qe(w)?e.length:u+w),d}return $d(e,d,m),d}function LB(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function VB(n,e,t){const r=jB(n),i=e.length/t;if(!r)return Math.max(i,1);const s=UU(r);for(let a=0,c=s.length-1;a<c;a++){const u=s[a];if(u>i)return u}return Math.max(i,1)}function FB(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function $B(n,e,t,r){let i=0,s=t[0],a;for(r=Math.ceil(r),a=0;a<n.length;a++)a===s&&(e.push(n[a]),i++,s=t[i*r])}function $d(n,e,t,r,i){const s=Ke(r,0),a=Math.min(Ke(i,n.length),n.length);let c=0,u,d,m;for(t=Math.ceil(t),i&&(u=i-r,t=u/Math.floor(u/t)),m=s;m<0;)c++,m=Math.round(s+c*t);for(d=Math.max(s,0);d<a;d++)d===m&&(e.push(n[d]),c++,m=Math.round(s+c*t))}function jB(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const UB=n=>n==="left"?"right":n==="right"?"left":n,ES=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,wS=(n,e)=>Math.min(e||n,n);function bS(n,e){const t=[],r=n.length/e,i=n.length;let s=0;for(;s<i;s+=r)t.push(n[Math.floor(s)]);return t}function zB(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),s=n._startPixel,a=n._endPixel,c=1e-6;let u=n.getPixelForTick(i),d;if(!(t&&(r===1?d=Math.max(u-s,a-u):e===0?d=(n.getPixelForTick(1)-u)/2:d=(u-n.getPixelForTick(i-1))/2,u+=i<e?d:-d,u<s-c||u>a+c)))return u}function BB(n,e){Xe(n,t=>{const r=t.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[r[s]];r.splice(0,i)}})}function Gc(n){return n.drawTicks?n.tickLength:0}function TS(n,e){if(!n.display)return 0;const t=un(n.font,e),r=lr(n.padding);return(Pt(n.text)?n.text.length:1)*t.lineHeight+r.height}function HB(n,e){return Gl(n,{scale:e,type:"scale"})}function WB(n,e,t){return Gl(n,{tick:t,index:e,type:"tick"})}function KB(n,e,t){let r=$1(n);return(t&&e!=="right"||!t&&e==="right")&&(r=UB(r)),r}function qB(n,e,t,r){const{top:i,left:s,bottom:a,right:c,chart:u}=n,{chartArea:d,scales:m}=u;let _=0,y,w,T;const I=a-i,A=c-s;if(n.isHorizontal()){if(w=Vn(r,s,c),qe(t)){const O=Object.keys(t)[0],L=t[O];T=m[O].getPixelForValue(L)+I-e}else t==="center"?T=(d.bottom+d.top)/2+I-e:T=ES(n,t,e);y=c-s}else{if(qe(t)){const O=Object.keys(t)[0],L=t[O];w=m[O].getPixelForValue(L)-A+e}else t==="center"?w=(d.left+d.right)/2-A+e:w=ES(n,t,e);T=Vn(r,a,i),_=t==="left"?-Ot:Ot}return{titleX:w,titleY:T,maxWidth:y,rotation:_}}class Yl extends aa{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=Yr(e,Number.POSITIVE_INFINITY),t=Yr(t,Number.NEGATIVE_INFINITY),r=Yr(r,Number.POSITIVE_INFINITY),i=Yr(i,Number.NEGATIVE_INFINITY),{min:Yr(e,r),max:Yr(t,i),minDefined:ar(e),maxDefined:ar(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:t,max:r};const c=this.getMatchingVisibleMetas();for(let u=0,d=c.length;u<d;++u)a=c[u].controller.getMinMax(this,e),i||(t=Math.min(t,a.min)),s||(r=Math.max(r,a.max));return t=s&&t>r?r:t,r=i&&t>r?t:r,{min:Yr(t,Yr(r,t)),max:Yr(r,Yr(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){tt(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:s,ticks:a}=this.options,c=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=gz(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?bS(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=MB(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){tt(this.options.afterUpdate,[this])}beforeSetDimensions(){tt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){tt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),tt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){tt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=tt(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){tt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){tt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=wS(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation;let a=i,c,u,d;if(!this._isVisible()||!t.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const m=this._getLabelSizes(),_=m.widest.width,y=m.highest.height,w=Cn(this.chart.width-_,0,this.maxWidth);c=e.offset?this.maxWidth/r:w/(r-1),_+6>c&&(c=w/(r-(e.offset?.5:1)),u=this.maxHeight-Gc(e.grid)-t.padding-TS(e.title,this.chart.options.font),d=Math.sqrt(_*_+y*y),a=WU(Math.min(Math.asin(Cn((m.highest.height+6)/c,-1,1)),Math.asin(Cn(u/d,-1,1))-Math.asin(Cn(y/d,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){tt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){tt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:s}}=this,a=this._isVisible(),c=this.isHorizontal();if(a){const u=TS(i,t.options.font);if(c?(e.width=this.maxWidth,e.height=Gc(s)+u):(e.height=this.maxHeight,e.width=Gc(s)+u),r.display&&this.ticks.length){const{first:d,last:m,widest:_,highest:y}=this._getLabelSizes(),w=r.padding*2,T=Di(this.labelRotation),I=Math.cos(T),A=Math.sin(T);if(c){const O=r.mirror?0:A*_.width+I*y.height;e.height=Math.min(this.maxHeight,e.height+O+w)}else{const O=r.mirror?0:I*_.width+A*y.height;e.width=Math.min(this.maxWidth,e.width+O+w)}this._calculatePadding(d,m,A,I)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:s,padding:a},position:c}=this.options,u=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,w=0;u?d?(y=i*e.width,w=r*t.height):(y=r*e.height,w=i*t.width):s==="start"?w=t.width:s==="end"?y=e.width:s!=="inner"&&(y=e.width/2,w=t.width/2),this.paddingLeft=Math.max((y-m+a)*this.width/(this.width-m),0),this.paddingRight=Math.max((w-_+a)*this.width/(this.width-_),0)}else{let m=t.height/2,_=e.height/2;s==="start"?(m=0,_=e.height):s==="end"&&(m=t.height,_=0),this.paddingTop=m+a,this.paddingBottom=_+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){tt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)Qe(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=bS(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:s}=this,a=[],c=[],u=Math.floor(t/wS(t,r));let d=0,m=0,_,y,w,T,I,A,O,L,$,z,H;for(_=0;_<t;_+=u){if(T=e[_].label,I=this._resolveTickFontOptions(_),i.font=A=I.string,O=s[A]=s[A]||{data:{},gc:[]},L=I.lineHeight,$=z=0,!Qe(T)&&!Pt(T))$=ZT(i,O.data,O.gc,$,T),z=L;else if(Pt(T))for(y=0,w=T.length;y<w;++y)H=T[y],!Qe(H)&&!Pt(H)&&($=ZT(i,O.data,O.gc,$,H),z+=L);a.push($),c.push(z),d=Math.max($,d),m=Math.max(z,m)}BB(s,t);const j=a.indexOf(d),k=c.indexOf(m),C=R=>({width:a[R]||0,height:c[R]||0});return{first:C(0),last:C(t-1),widest:C(j),highest:C(k),widths:a,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return qU(this._alignToPixels?Oo(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=WB(this.getContext(),e,r))}return this.$context||(this.$context=HB(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Di(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,c=s?s.widest.width+a:0,u=s?s.highest.height+a:0;return this.isHorizontal()?u*r>c*i?c/r:u/i:u*i<c*r?u/r:c/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:s,position:a,border:c}=i,u=s.offset,d=this.isHorizontal(),_=this.ticks.length+(u?1:0),y=Gc(s),w=[],T=c.setContext(this.getContext()),I=T.display?T.width:0,A=I/2,O=function(he){return Oo(r,he,I)};let L,$,z,H,j,k,C,R,x,N,M,D;if(a==="top")L=O(this.bottom),k=this.bottom-y,R=L-A,N=O(e.top)+A,D=e.bottom;else if(a==="bottom")L=O(this.top),N=e.top,D=O(e.bottom)-A,k=L+A,R=this.top+y;else if(a==="left")L=O(this.right),j=this.right-y,C=L-A,x=O(e.left)+A,M=e.right;else if(a==="right")L=O(this.left),x=e.left,M=O(e.right)-A,j=L+A,C=this.left+y;else if(t==="x"){if(a==="center")L=O((e.top+e.bottom)/2+.5);else if(qe(a)){const he=Object.keys(a)[0],de=a[he];L=O(this.chart.scales[he].getPixelForValue(de))}N=e.top,D=e.bottom,k=L+A,R=k+y}else if(t==="y"){if(a==="center")L=O((e.left+e.right)/2);else if(qe(a)){const he=Object.keys(a)[0],de=a[he];L=O(this.chart.scales[he].getPixelForValue(de))}j=L-A,C=j-y,x=e.left,M=e.right}const ye=Ke(i.ticks.maxTicksLimit,_),me=Math.max(1,Math.ceil(_/ye));for($=0;$<_;$+=me){const he=this.getContext($),de=s.setContext(he),J=c.setContext(he),ie=de.lineWidth,ce=de.color,B=J.dash||[],Z=J.dashOffset,ge=de.tickWidth,ae=de.tickColor,pe=de.tickBorderDash||[],fe=de.tickBorderDashOffset;z=zB(this,$,u),z!==void 0&&(H=Oo(r,z,ie),d?j=C=x=M=H:k=R=N=D=H,w.push({tx1:j,ty1:k,tx2:C,ty2:R,x1:x,y1:N,x2:M,y2:D,width:ie,color:ce,borderDash:B,borderDashOffset:Z,tickWidth:ge,tickColor:ae,tickBorderDash:pe,tickBorderDashOffset:fe}))}return this._ticksLength=_,this._borderValue=L,w}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:s}=r,a=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:d,padding:m,mirror:_}=s,y=Gc(r.grid),w=y+m,T=_?-m:w,I=-Di(this.labelRotation),A=[];let O,L,$,z,H,j,k,C,R,x,N,M,D="middle";if(i==="top")j=this.bottom-T,k=this._getXAxisLabelAlignment();else if(i==="bottom")j=this.top+T,k=this._getXAxisLabelAlignment();else if(i==="left"){const me=this._getYAxisLabelAlignment(y);k=me.textAlign,H=me.x}else if(i==="right"){const me=this._getYAxisLabelAlignment(y);k=me.textAlign,H=me.x}else if(t==="x"){if(i==="center")j=(e.top+e.bottom)/2+w;else if(qe(i)){const me=Object.keys(i)[0],he=i[me];j=this.chart.scales[me].getPixelForValue(he)+w}k=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")H=(e.left+e.right)/2-w;else if(qe(i)){const me=Object.keys(i)[0],he=i[me];H=this.chart.scales[me].getPixelForValue(he)}k=this._getYAxisLabelAlignment(y).textAlign}t==="y"&&(u==="start"?D="top":u==="end"&&(D="bottom"));const ye=this._getLabelSizes();for(O=0,L=c.length;O<L;++O){$=c[O],z=$.label;const me=s.setContext(this.getContext(O));C=this.getPixelForTick(O)+s.labelOffset,R=this._resolveTickFontOptions(O),x=R.lineHeight,N=Pt(z)?z.length:1;const he=N/2,de=me.color,J=me.textStrokeColor,ie=me.textStrokeWidth;let ce=k;a?(H=C,k==="inner"&&(O===L-1?ce=this.options.reverse?"left":"right":O===0?ce=this.options.reverse?"right":"left":ce="center"),i==="top"?d==="near"||I!==0?M=-N*x+x/2:d==="center"?M=-ye.highest.height/2-he*x+x:M=-ye.highest.height+x/2:d==="near"||I!==0?M=x/2:d==="center"?M=ye.highest.height/2-he*x:M=ye.highest.height-N*x,_&&(M*=-1),I!==0&&!me.showLabelBackdrop&&(H+=x/2*Math.sin(I))):(j=C,M=(1-N)*x/2);let B;if(me.showLabelBackdrop){const Z=lr(me.backdropPadding),ge=ye.heights[O],ae=ye.widths[O];let pe=M-Z.top,fe=0-Z.left;switch(D){case"middle":pe-=ge/2;break;case"bottom":pe-=ge;break}switch(k){case"center":fe-=ae/2;break;case"right":fe-=ae;break;case"inner":O===L-1?fe-=ae:O>0&&(fe-=ae/2);break}B={left:fe,top:pe,width:ae+Z.width,height:ge+Z.height,color:me.backdropColor}}A.push({label:z,font:R,textOffset:M,options:{rotation:I,color:de,strokeColor:J,strokeWidth:ie,textAlign:ce,textBaseline:D,translation:[H,j],backdrop:B}})}return A}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Di(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),c=e+s,u=a.widest.width;let d,m;return t==="left"?i?(m=this.right+s,r==="near"?d="left":r==="center"?(d="center",m+=u/2):(d="right",m+=u)):(m=this.right-c,r==="near"?d="right":r==="center"?(d="center",m-=u/2):(d="left",m=this.left)):t==="right"?i?(m=this.left+s,r==="near"?d="right":r==="center"?(d="center",m-=u/2):(d="left",m-=u)):(m=this.left+c,r==="near"?d="left":r==="center"?(d="center",m+=u/2):(d="right",m=this.right)):d="right",{textAlign:d,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:s,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,s,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const c=(u,d,m)=>{!m.width||!m.color||(r.save(),r.lineWidth=m.width,r.strokeStyle=m.color,r.setLineDash(m.borderDash||[]),r.lineDashOffset=m.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(t.display)for(s=0,a=i.length;s<a;++s){const u=i[s];t.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),t.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const c=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,m,_,y;this.isHorizontal()?(d=Oo(e,this.left,a)-a/2,m=Oo(e,this.right,c)+c/2,_=y=u):(_=Oo(e,this.top,a)-a/2,y=Oo(e,this.bottom,c)+c/2,d=m=u),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(d,_),t.lineTo(m,y),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Bv(r,i);const s=this.getLabelItems(e);for(const a of s){const c=a.options,u=a.font,d=a.label,m=a.textOffset;op(r,d,0,m,u,c)}i&&Hv(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const s=un(r.font),a=lr(r.padding),c=r.align;let u=s.lineHeight/2;t==="bottom"||t==="center"||qe(t)?(u+=a.bottom,Pt(r.text)&&(u+=s.lineHeight*(r.text.length-1))):u+=a.top;const{titleX:d,titleY:m,maxWidth:_,rotation:y}=qB(this,u,t,c);op(e,r.text,0,0,s,{color:r.color,maxWidth:_,rotation:y,textAlign:KB(c,t,i),textBaseline:"middle",translation:[d,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Ke(e.grid&&e.grid.z,-1),i=Ke(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Yl.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,a;for(s=0,a=t.length;s<a;++s){const c=t[s];c[r]===this.id&&(!e||c.type===e)&&i.push(c)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return un(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class jd{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;QB(t)&&(r=this.register(t));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,GB(e,a,r),this.override&&yt.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in yt[i]&&(delete yt[i][r],this.override&&delete Zo[r])}}function GB(n,e,t){const r=hi(Object.create(null),[t?yt.get(t):{},yt.get(e),n.defaults]);yt.set(e,r),n.defaultRoutes&&YB(e,n.defaultRoutes),n.descriptors&&yt.describe(e,n.descriptors)}function YB(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),s=[n].concat(r).join("."),a=e[t].split("."),c=a.pop(),u=a.join(".");yt.route(s,i,u,c)})}function QB(n){return"id"in n&&"defaults"in n}class XB{constructor(){this.controllers=new jd(ml,"datasets",!0),this.elements=new jd(aa,"elements"),this.plugins=new jd(Object,"plugins"),this.scales=new jd(Yl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Xe(i,a=>{const c=r||this._getRegistryForType(a);this._exec(e,c,a)})})}_exec(e,t,r){const i=$v(e);tt(r["before"+i],[],r),t[e](r),tt(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Xr=new XB;class JB{constructor(){this._init=[]}notify(e,t,r,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,t,r);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,r,i){i=i||{};for(const s of e){const a=s.plugin,c=a[r],u=[t,i,s.options];if(tt(c,u,a)===!1&&i.cancelable)return!1}return!0}invalidate(){Qe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=Ke(r.options&&r.options.plugins,{}),s=ZB(r);return i===!1&&!t?[]:t9(e,s,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(s,a)=>s.filter(c=>!a.some(u=>c.plugin.id===u.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function ZB(n){const e={},t=[],r=Object.keys(Xr.plugins.items);for(let s=0;s<r.length;s++)t.push(Xr.getPlugin(r[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function e9(n,e){return!e&&n===!1?null:n===!0?{}:n}function t9(n,{plugins:e,localIds:t},r,i){const s=[],a=n.getContext();for(const c of e){const u=c.id,d=e9(r[u],i);d!==null&&s.push({plugin:c,options:n9(n.config,{plugin:c,local:t[u]},d,a)})}return s}function n9(n,{plugin:e,local:t},r,i){const s=n.pluginScopeKeys(e),a=n.getOptionScopes(r,s);return t&&e.defaults&&a.push(e.defaults),n.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ly(n,e){const t=yt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function r9(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function i9(n,e){return n===e?"_index_":"_value_"}function SS(n){if(n==="x"||n==="y"||n==="r")return n}function s9(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function cy(n,...e){if(SS(n))return n;for(const t of e){const r=t.axis||s9(t.position)||n.length>1&&SS(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function AS(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function o9(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return AS(n,"x",t[0])||AS(n,"y",t[0])}return{}}function a9(n,e){const t=Zo[n.type]||{scales:{}},r=e.scales||{},i=ly(n.type,e),s=Object.create(null);return Object.keys(r).forEach(a=>{const c=r[a];if(!qe(c))return console.error(`Invalid scale configuration for scale: ${a}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=cy(a,c,o9(a,n),yt.scales[c.type]),d=i9(u,i),m=t.scales||{};s[a]=_u(Object.create(null),[{axis:u},c,m[u],m[d]])}),n.data.datasets.forEach(a=>{const c=a.type||n.type,u=a.indexAxis||ly(c,e),m=(Zo[c]||{}).scales||{};Object.keys(m).forEach(_=>{const y=r9(_,u),w=a[y+"AxisID"]||y;s[w]=s[w]||Object.create(null),_u(s[w],[{axis:y},r[w],m[_]])})}),Object.keys(s).forEach(a=>{const c=s[a];_u(c,[yt.scales[c.type],yt.scale])}),s}function ik(n){const e=n.options||(n.options={});e.plugins=Ke(e.plugins,{}),e.scales=a9(n,e)}function sk(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function l9(n){return n=n||{},n.data=sk(n.data),ik(n),n}const IS=new Map,ok=new Set;function Ud(n,e){let t=IS.get(n);return t||(t=e(),IS.set(n,t),ok.add(t)),t}const Yc=(n,e,t)=>{const r=Jo(e,t);r!==void 0&&n.add(r)};class c9{constructor(e){this._config=l9(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=sk(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),ik(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ud(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Ud(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Ud(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return Ud(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:s}=this,a=this._cachedScopes(e,r),c=a.get(t);if(c)return c;const u=new Set;t.forEach(m=>{e&&(u.add(e),m.forEach(_=>Yc(u,e,_))),m.forEach(_=>Yc(u,i,_)),m.forEach(_=>Yc(u,Zo[s]||{},_)),m.forEach(_=>Yc(u,yt,_)),m.forEach(_=>Yc(u,sy,_))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),ok.has(t)&&a.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,Zo[t]||{},yt.datasets[t]||{},{type:t},yt,sy]}resolveNamedOptions(e,t,r,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:c}=xS(this._resolverCache,e,i);let u=a;if(h9(a,t)){s.$shared=!1,r=Gs(r)?r():r;const d=this.createResolver(e,r,c);u=Dl(a,r,d)}for(const d of t)s[d]=u[d];return s}createResolver(e,t,r=[""],i){const{resolver:s}=xS(this._resolverCache,e,r);return qe(t)?Dl(s,t,void 0,i):s}}function xS(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let s=r.get(i);return s||(s={resolver:Kv(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},r.set(i,s)),s}const u9=n=>qe(n)&&Object.getOwnPropertyNames(n).some(e=>Gs(n[e]));function h9(n,e){const{isScriptable:t,isIndexable:r}=H1(n);for(const i of e){const s=t(i),a=r(i),c=(a||s)&&n[i];if(s&&(Gs(c)||u9(c))||a&&Pt(c))return!0}return!1}var d9="4.5.0";const f9=["top","bottom","left","right","chartArea"];function CS(n,e){return n==="top"||n==="bottom"||f9.indexOf(n)===-1&&e==="x"}function kS(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function RS(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),tt(t&&t.onComplete,[n],e)}function p9(n){const e=n.chart,t=e.options.animation;tt(t&&t.onProgress,[n],e)}function ak(n){return Yv()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const pf={},PS=n=>{const e=ak(n);return Object.values(pf).filter(t=>t.canvas===e).pop()};function m9(n,e,t){const r=Object.keys(n);for(const i of r){const s=+i;if(s>=e){const a=n[i];delete n[i],(t>0||s>e)&&(n[s+t]=a)}}}function g9(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}var As;let Qp=(As=class{static register(...e){Xr.add(...e),OS()}static unregister(...e){Xr.remove(...e),OS()}constructor(e,t){const r=this.config=new c9(t),i=ak(e),s=PS(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||DB(i)),this.platform.updateConfig(r);const c=this.platform.acquireContext(i,a.aspectRatio),u=c&&c.canvas,d=u&&u.height,m=u&&u.width;if(this.id=NU(),this.ctx=c,this.canvas=u,this.width=m,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new JB,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=XU(_=>this.update(_),a.resizeDelay||0),this._dataChanges=[],pf[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}ki.listen(this,"complete",RS),ki.listen(this,"progress",p9),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:s}=this;return Qe(e)?t&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Xr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():rS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return eS(this.canvas,this.ctx),this}stop(){return ki.stop(this),this}resize(e,t){ki.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,t,s),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,rS(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),tt(r.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Xe(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((a,c)=>(a[c]=!1,a),{});let s=[];t&&(s=s.concat(Object.keys(t).map(a=>{const c=t[a],u=cy(a,c),d=u==="r",m=u==="x";return{options:c,dposition:d?"chartArea":m?"bottom":"left",dtype:d?"radialLinear":m?"category":"linear"}}))),Xe(s,a=>{const c=a.options,u=c.id,d=cy(u,c),m=Ke(c.type,a.dtype);(c.position===void 0||CS(c.position,d)!==CS(a.dposition))&&(c.position=a.dposition),i[u]=!0;let _=null;if(u in r&&r[u].type===m)_=r[u];else{const y=Xr.getScale(m);_=new y({id:u,type:m,ctx:this.ctx,chart:this}),r[_.id]=_}_.init(c,e)}),Xe(i,(a,c)=>{a||delete r[c]}),Xe(r,a=>{Os.configure(this,a,a.options),Os.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(kS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const s=t[r];let a=this.getDatasetMeta(r);const c=s.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=c,a.indexAxis=s.indexAxis||ly(c,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const u=Xr.getController(c),{datasetElementType:d,dataElementType:m}=yt.datasets[c];Object.assign(u,{dataElementType:Xr.getElement(m),datasetElementType:d&&Xr.getElement(d)}),a.controller=new u(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Xe(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,m=this.data.datasets.length;d<m;d++){const{controller:_}=this.getDatasetMeta(d),y=!i&&s.indexOf(_)===-1;_.buildOrUpdateElements(y),a=Math.max(+_.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||Xe(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(kS("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Xe(this.scales,e=>{Os.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!HT(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of t){const a=r==="_removeElements"?-s:s;m9(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,c)=>c+","+a.splice(1).join(","))),i=r(0);for(let s=1;s<t;s++)if(!HT(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Os.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Xe(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Gs(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ki.has(this)?this.attached&&!ki.running(this)&&ki.start(this):(this.draw(),RS({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,s;for(i=0,s=t.length;i<s;++i){const a=t[i];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=Lz(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Bv(t,i),e.controller.draw(),i&&Hv(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return zv(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const s=fB.modes[t];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Gl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);Mu(t)?(s.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(c=>c.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ki.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),eS(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete pf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(s,a)=>{t.addEventListener(this,s,a),e[s]=a},i=(s,a,c)=>{s.offsetX=a,s.offsetY=c,this._eventHandler(s)};Xe(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(u,d)=>{t.addEventListener(this,u,d),e[u]=d},i=(u,d)=>{e[u]&&(t.removeEventListener(this,u,d),delete e[u])},s=(u,d)=>{this.canvas&&this.resize(u,d)};let a;const c=()=>{i("attach",c),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",c)},t.isAttached(this.canvas)?c():a()}unbindEvents(){Xe(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Xe(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let s,a,c,u;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),c=0,u=e.length;c<u;++c){a=e[c];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[a],index:a}});!tp(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,s=(u,d)=>u.filter(m=>!d.some(_=>m.datasetIndex===_.datasetIndex&&m.index===_.index)),a=s(t,e),c=r?e:s(e,t);a.length&&this.updateHoverStyle(a,i.mode,!1),c.length&&i.mode&&this.updateHoverStyle(c,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:s}=this,a=t,c=this._getActiveElements(e,i,r,a),u=$U(e),d=g9(e,this._lastEvent,r,u);r&&(this._lastEvent=null,tt(s.onHover,[e,c,this],this),u&&tt(s.onClick,[e,c,this],this));const m=!tp(c,i);return(m||t)&&(this._active=c,this._updateHoverStyles(c,i,t)),this._lastEvent=d,m}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},Ae(As,"defaults",yt),Ae(As,"instances",pf),Ae(As,"overrides",Zo),Ae(As,"registry",Xr),Ae(As,"version",d9),Ae(As,"getChart",PS),As);function OS(){return Xe(Qp.instances,n=>n._plugins.invalidate())}function _9(n,e,t){const{startAngle:r,x:i,y:s,outerRadius:a,innerRadius:c,options:u}=e,{borderWidth:d,borderJoinStyle:m}=u,_=Math.min(d/a,Zr(r-t));if(n.beginPath(),n.arc(i,s,a-d/2,r+_/2,t-_/2),c>0){const y=Math.min(d/c,Zr(r-t));n.arc(i,s,c+d/2,t-y/2,r+y/2,!0)}else{const y=Math.min(d/2,a*Zr(r-t));if(m==="round")n.arc(i,s,y,t-ot/2,r+ot/2,!0);else if(m==="bevel"){const w=2*y*y,T=-w*Math.cos(t+ot/2)+i,I=-w*Math.sin(t+ot/2)+s,A=w*Math.cos(r+ot/2)+i,O=w*Math.sin(r+ot/2)+s;n.lineTo(T,I),n.lineTo(A,O)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function y9(n,e,t){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:c,innerRadius:u}=e;let d=i/c;n.beginPath(),n.arc(s,a,c,r-d,t+d),u>i?(d=i/u,n.arc(s,a,u,t+d,r-d,!0)):n.arc(s,a,i,t+Ot,r-Ot),n.closePath(),n.clip()}function v9(n){return Wv(n,["outerStart","outerEnd","innerStart","innerEnd"])}function E9(n,e,t,r){const i=v9(n.options.borderRadius),s=(t-e)/2,a=Math.min(s,r*e/2),c=u=>{const d=(t-Math.min(s,u))*r/2;return Cn(u,0,Math.min(s,d))};return{outerStart:c(i.outerStart),outerEnd:c(i.outerEnd),innerStart:Cn(i.innerStart,0,a),innerEnd:Cn(i.innerEnd,0,a)}}function Ja(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function up(n,e,t,r,i,s){const{x:a,y:c,startAngle:u,pixelMargin:d,innerRadius:m}=e,_=Math.max(e.outerRadius+r+t-d,0),y=m>0?m+r+t+d:0;let w=0;const T=i-u;if(r){const me=m>0?m-r:0,he=_>0?_-r:0,de=(me+he)/2,J=de!==0?T*de/(de+r):T;w=(T-J)/2}const I=Math.max(.001,T*_-t/ot)/_,A=(T-I)/2,O=u+A+w,L=i-A-w,{outerStart:$,outerEnd:z,innerStart:H,innerEnd:j}=E9(e,y,_,L-O),k=_-$,C=_-z,R=O+$/k,x=L-z/C,N=y+H,M=y+j,D=O+H/N,ye=L-j/M;if(n.beginPath(),s){const me=(R+x)/2;if(n.arc(a,c,_,R,me),n.arc(a,c,_,me,x),z>0){const ie=Ja(C,x,a,c);n.arc(ie.x,ie.y,z,x,L+Ot)}const he=Ja(M,L,a,c);if(n.lineTo(he.x,he.y),j>0){const ie=Ja(M,ye,a,c);n.arc(ie.x,ie.y,j,L+Ot,ye+Math.PI)}const de=(L-j/y+(O+H/y))/2;if(n.arc(a,c,y,L-j/y,de,!0),n.arc(a,c,y,de,O+H/y,!0),H>0){const ie=Ja(N,D,a,c);n.arc(ie.x,ie.y,H,D+Math.PI,O-Ot)}const J=Ja(k,O,a,c);if(n.lineTo(J.x,J.y),$>0){const ie=Ja(k,R,a,c);n.arc(ie.x,ie.y,$,O-Ot,R)}}else{n.moveTo(a,c);const me=Math.cos(R)*_+a,he=Math.sin(R)*_+c;n.lineTo(me,he);const de=Math.cos(x)*_+a,J=Math.sin(x)*_+c;n.lineTo(de,J)}n.closePath()}function w9(n,e,t,r,i){const{fullCircles:s,startAngle:a,circumference:c}=e;let u=e.endAngle;if(s){up(n,e,t,r,u,i);for(let d=0;d<s;++d)n.fill();isNaN(c)||(u=a+(c%At||At))}return up(n,e,t,r,u,i),n.fill(),u}function b9(n,e,t,r,i){const{fullCircles:s,startAngle:a,circumference:c,options:u}=e,{borderWidth:d,borderJoinStyle:m,borderDash:_,borderDashOffset:y,borderRadius:w}=u,T=u.borderAlign==="inner";if(!d)return;n.setLineDash(_||[]),n.lineDashOffset=y,T?(n.lineWidth=d*2,n.lineJoin=m||"round"):(n.lineWidth=d,n.lineJoin=m||"bevel");let I=e.endAngle;if(s){up(n,e,t,r,I,i);for(let A=0;A<s;++A)n.stroke();isNaN(c)||(I=a+(c%At||At))}T&&y9(n,e,I),u.selfJoin&&I-a>=ot&&w===0&&m!=="miter"&&_9(n,e,I),s||(up(n,e,t,r,I,i),n.stroke())}class ll extends aa{constructor(t){super();Ae(this,"circumference");Ae(this,"endAngle");Ae(this,"fullCircles");Ae(this,"innerRadius");Ae(this,"outerRadius");Ae(this,"pixelMargin");Ae(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.getProps(["x","y"],i),{angle:a,distance:c}=D1(s,{x:t,y:r}),{startAngle:u,endAngle:d,innerRadius:m,outerRadius:_,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),w=(this.options.spacing+this.options.borderWidth)/2,T=Ke(y,d-u),I=sp(a,u,d)&&u!==d,A=T>=At||I,O=jo(c,m+w,_+w);return A&&O}getCenterPoint(t){const{x:r,y:i,startAngle:s,endAngle:a,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:m}=this.options,_=(s+a)/2,y=(c+u+m+d)/2;return{x:r+Math.cos(_)*y,y:i+Math.sin(_)*y}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:i}=this,s=(r.offset||0)/4,a=(r.spacing||0)/2,c=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>At?Math.floor(i/At):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*s,Math.sin(u)*s);const d=1-Math.sin(Math.min(ot,i||0)),m=s*d;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,w9(t,this,m,a,c),b9(t,this,m,a,c),t.restore()}}Ae(ll,"id","arc"),Ae(ll,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Ae(ll,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ae(ll,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function NS(n,e,t,r){const i=n.options,{[t]:s}=n.getProps([t],r);return Math.abs(e-s)<i.radius+i.hitRadius}class mf extends aa{constructor(t){super();Ae(this,"parsed");Ae(this,"skip");Ae(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.options,{x:a,y:c}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(r-c,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,r){return NS(this,t,"x",r)}inYRange(t,r){return NS(this,t,"y",r)}getCenterPoint(t){const{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const i=r&&t.borderWidth||0;return(r+i)*2}draw(t,r){const i=this.options;this.skip||i.radius<.1||!zv(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,oy(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Ae(mf,"id","point"),Ae(mf,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ae(mf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function lk(n,e){const{x:t,y:r,base:i,width:s,height:a}=n.getProps(["x","y","base","width","height"],e);let c,u,d,m,_;return n.horizontal?(_=a/2,c=Math.min(t,i),u=Math.max(t,i),d=r-_,m=r+_):(_=s/2,c=t-_,u=t+_,d=Math.min(r,i),m=Math.max(r,i)),{left:c,top:d,right:u,bottom:m}}function Ns(n,e,t,r){return n?0:Cn(e,t,r)}function T9(n,e,t){const r=n.options.borderWidth,i=n.borderSkipped,s=B1(r);return{t:Ns(i.top,s.top,0,t),r:Ns(i.right,s.right,0,e),b:Ns(i.bottom,s.bottom,0,t),l:Ns(i.left,s.left,0,e)}}function S9(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,s=fl(i),a=Math.min(e,t),c=n.borderSkipped,u=r||qe(i);return{topLeft:Ns(!u||c.top||c.left,s.topLeft,0,a),topRight:Ns(!u||c.top||c.right,s.topRight,0,a),bottomLeft:Ns(!u||c.bottom||c.left,s.bottomLeft,0,a),bottomRight:Ns(!u||c.bottom||c.right,s.bottomRight,0,a)}}function A9(n){const e=lk(n),t=e.right-e.left,r=e.bottom-e.top,i=T9(n,t/2,r/2),s=S9(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function __(n,e,t,r){const i=e===null,s=t===null,c=n&&!(i&&s)&&lk(n,r);return c&&(i||jo(e,c.left,c.right))&&(s||jo(t,c.top,c.bottom))}function I9(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function x9(n,e){n.rect(e.x,e.y,e.w,e.h)}function y_(n,e,t={}){const r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-r,a=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+s,h:n.h+a,radius:n.radius}}class Eu extends aa{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:a}=A9(this),c=I9(a.radius)?ap:x9;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),c(e,y_(a,t,s)),e.clip(),c(e,y_(s,-t,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),c(e,y_(s,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return __(this,e,t,r)}inXRange(e,t){return __(this,e,null,t)}inYRange(e,t){return __(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Ae(Eu,"id","bar"),Ae(Eu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ae(Eu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const DS=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},C9=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class MS extends aa{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=tt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=un(r.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=DS(r,s);let d,m;t.font=i.string,this.isHorizontal()?(d=this.maxWidth,m=this._fitRows(a,s,c,u)+10):(m=this.maxHeight,d=this._fitCols(a,i,c,u)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:s,maxWidth:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],m=i+c;let _=e;s.textAlign="left",s.textBaseline="middle";let y=-1,w=-m;return this.legendItems.forEach((T,I)=>{const A=r+t/2+s.measureText(T.text).width;(I===0||d[d.length-1]+A+2*c>a)&&(_+=m,d[d.length-(I>0?0:1)]=0,w+=m,y++),u[I]={left:0,top:w,row:y,width:A,height:i},d[d.length-1]+=A+c}),_}_fitCols(e,t,r,i){const{ctx:s,maxHeight:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],m=a-e;let _=c,y=0,w=0,T=0,I=0;return this.legendItems.forEach((A,O)=>{const{itemWidth:L,itemHeight:$}=k9(r,t,s,A,i);O>0&&w+$+2*c>m&&(_+=y+c,d.push({width:y,height:w}),T+=y+c,I++,y=w=0),u[O]={left:T,top:w,col:I,width:L,height:$},y=Math.max(y,L),w+=$+c}),_+=y,d.push({width:y,height:w}),_}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:s}}=this,a=pl(s,this.left,this.width);if(this.isHorizontal()){let c=0,u=Vn(r,this.left+i,this.right-this.lineWidths[c]);for(const d of t)c!==d.row&&(c=d.row,u=Vn(r,this.left+i,this.right-this.lineWidths[c])),d.top+=this.top+e+i,d.left=a.leftForLtr(a.x(u),d.width),u+=d.width+i}else{let c=0,u=Vn(r,this.top+e+i,this.bottom-this.columnSizes[c].height);for(const d of t)d.col!==c&&(c=d.col,u=Vn(r,this.top+e+i,this.bottom-this.columnSizes[c].height)),d.top=u,d.left+=this.left+i,d.left=a.leftForLtr(a.x(d.left),d.width),u+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Bv(e,this),this._draw(),Hv(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:s,labels:a}=e,c=yt.color,u=pl(e.rtl,this.left,this.width),d=un(a.font),{padding:m}=a,_=d.size,y=_/2;let w;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:T,boxHeight:I,itemHeight:A}=DS(a,_),O=function(j,k,C){if(isNaN(T)||T<=0||isNaN(I)||I<0)return;i.save();const R=Ke(C.lineWidth,1);if(i.fillStyle=Ke(C.fillStyle,c),i.lineCap=Ke(C.lineCap,"butt"),i.lineDashOffset=Ke(C.lineDashOffset,0),i.lineJoin=Ke(C.lineJoin,"miter"),i.lineWidth=R,i.strokeStyle=Ke(C.strokeStyle,c),i.setLineDash(Ke(C.lineDash,[])),a.usePointStyle){const x={radius:I*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:R},N=u.xPlus(j,T/2),M=k+y;z1(i,x,N,M,a.pointStyleWidth&&T)}else{const x=k+Math.max((_-I)/2,0),N=u.leftForLtr(j,T),M=fl(C.borderRadius);i.beginPath(),Object.values(M).some(D=>D!==0)?ap(i,{x:N,y:x,w:T,h:I,radius:M}):i.rect(N,x,T,I),i.fill(),R!==0&&i.stroke()}i.restore()},L=function(j,k,C){op(i,C.text,j,k+A/2,d,{strikethrough:C.hidden,textAlign:u.textAlign(C.textAlign)})},$=this.isHorizontal(),z=this._computeTitleHeight();$?w={x:Vn(s,this.left+m,this.right-r[0]),y:this.top+m+z,line:0}:w={x:this.left+m,y:Vn(s,this.top+z+m,this.bottom-t[0].height),line:0},G1(this.ctx,e.textDirection);const H=A+m;this.legendItems.forEach((j,k)=>{i.strokeStyle=j.fontColor,i.fillStyle=j.fontColor;const C=i.measureText(j.text).width,R=u.textAlign(j.textAlign||(j.textAlign=a.textAlign)),x=T+y+C;let N=w.x,M=w.y;u.setWidth(this.width),$?k>0&&N+x+m>this.right&&(M=w.y+=H,w.line++,N=w.x=Vn(s,this.left+m,this.right-r[w.line])):k>0&&M+H>this.bottom&&(N=w.x=N+t[w.line].width+m,w.line++,M=w.y=Vn(s,this.top+z+m,this.bottom-t[w.line].height));const D=u.x(N);if(O(D,M,j),N=JU(R,N+T+y,$?N+x:this.right,e.rtl),L(u.x(N),M,j),$)w.x+=x+m;else if(typeof j.text!="string"){const ye=d.lineHeight;w.y+=ck(j,ye)+m}else w.y+=H}),Y1(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=un(t.font),i=lr(t.padding);if(!t.display)return;const s=pl(e.rtl,this.left,this.width),a=this.ctx,c=t.position,u=r.size/2,d=i.top+u;let m,_=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),m=this.top+d,_=Vn(e.align,_,this.right-y);else{const T=this.columnSizes.reduce((I,A)=>Math.max(I,A.height),0);m=d+Vn(e.align,this.top,this.bottom-T-e.labels.padding-this._computeTitleHeight())}const w=Vn(c,_,_+y);a.textAlign=s.textAlign($1(c)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=r.string,op(a,t.text,w,m,r)}_computeTitleHeight(){const e=this.options.title,t=un(e.font),r=lr(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,s;if(jo(e,this.left,this.right)&&jo(t,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],jo(e,i.left,i.left+i.width)&&jo(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!O9(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=C9(i,r);i&&!s&&tt(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&tt(t.onHover,[e,r,this],this)}else r&&tt(t.onClick,[e,r,this],this)}}function k9(n,e,t,r,i){const s=R9(r,n,e,t),a=P9(i,r,e.lineHeight);return{itemWidth:s,itemHeight:a}}function R9(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+t.size/2+r.measureText(i).width}function P9(n,e,t){let r=n;return typeof e.text!="string"&&(r=ck(e,t)),r}function ck(n,e){const t=n.text?n.text.length:0;return e*t}function O9(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var N9={id:"legend",_element:MS,start(n,e,t){const r=n.legend=new MS({ctx:n.ctx,options:t,chart:n});Os.configure(n,r,t),Os.addBox(n,r)},stop(n){Os.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;Os.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(t?0:void 0),m=lr(d.borderWidth);return{text:e[u.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:a&&(c||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const su={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,s=0;for(e=0,t=n.length;e<t;++e){const c=n[e].element;if(c&&c.hasValue()){const u=c.tooltipPosition();r.add(u.x),i+=u.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((c,u)=>c+u)/r.size,y:i/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,a,c;for(s=0,a=n.length;s<a;++s){const u=n[s].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),m=KU(e,d);m<i&&(i=m,c=u)}}if(c){const u=c.tooltipPosition();t=u.x,r=u.y}return{x:t,y:r}}};function Qr(n,e){return e&&(Pt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Ri(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function D9(n,e){const{element:t,datasetIndex:r,index:i}=e,s=n.getDatasetMeta(r).controller,{label:a,value:c}=s.getLabelAndValue(i);return{chart:n,label:a,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:c,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function LS(n,e){const t=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:a,boxHeight:c}=e,u=un(e.bodyFont),d=un(e.titleFont),m=un(e.footerFont),_=s.length,y=i.length,w=r.length,T=lr(e.padding);let I=T.height,A=0,O=r.reduce((z,H)=>z+H.before.length+H.lines.length+H.after.length,0);if(O+=n.beforeBody.length+n.afterBody.length,_&&(I+=_*d.lineHeight+(_-1)*e.titleSpacing+e.titleMarginBottom),O){const z=e.displayColors?Math.max(c,u.lineHeight):u.lineHeight;I+=w*z+(O-w)*u.lineHeight+(O-1)*e.bodySpacing}y&&(I+=e.footerMarginTop+y*m.lineHeight+(y-1)*e.footerSpacing);let L=0;const $=function(z){A=Math.max(A,t.measureText(z).width+L)};return t.save(),t.font=d.string,Xe(n.title,$),t.font=u.string,Xe(n.beforeBody.concat(n.afterBody),$),L=e.displayColors?a+2+e.boxPadding:0,Xe(r,z=>{Xe(z.before,$),Xe(z.lines,$),Xe(z.after,$)}),L=0,t.font=m.string,Xe(n.footer,$),t.restore(),A+=T.width,{width:A,height:I}}function M9(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function L9(n,e,t,r){const{x:i,width:s}=r,a=t.caretSize+t.caretPadding;if(n==="left"&&i+s+a>e.width||n==="right"&&i-s-a<0)return!0}function V9(n,e,t,r){const{x:i,width:s}=t,{width:a,chartArea:{left:c,right:u}}=n;let d="center";return r==="center"?d=i<=(c+u)/2?"left":"right":i<=s/2?d="left":i>=a-s/2&&(d="right"),L9(d,n,e,t)&&(d="center"),d}function VS(n,e,t){const r=t.yAlign||e.yAlign||M9(n,t);return{xAlign:t.xAlign||e.xAlign||V9(n,e,t,r),yAlign:r}}function F9(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function $9(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function FS(n,e,t,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=n,{xAlign:c,yAlign:u}=t,d=i+s,{topLeft:m,topRight:_,bottomLeft:y,bottomRight:w}=fl(a);let T=F9(e,c);const I=$9(e,u,d);return u==="center"?c==="left"?T+=d:c==="right"&&(T-=d):c==="left"?T-=Math.max(m,y)+i:c==="right"&&(T+=Math.max(_,w)+i),{x:Cn(T,0,r.width-e.width),y:Cn(I,0,r.height-e.height)}}function zd(n,e,t){const r=lr(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function $S(n){return Qr([],Ri(n))}function j9(n,e,t){return Gl(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function jS(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const uk={beforeTitle:Ci,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:Ci,beforeBody:Ci,beforeLabel:Ci,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Qe(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ci,afterBody:Ci,beforeFooter:Ci,footer:Ci,afterFooter:Ci};function bn(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?uk[e].call(t,r):i}class uy extends aa{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,s=new Q1(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=j9(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=bn(r,"beforeTitle",this,e),s=bn(r,"title",this,e),a=bn(r,"afterTitle",this,e);let c=[];return c=Qr(c,Ri(i)),c=Qr(c,Ri(s)),c=Qr(c,Ri(a)),c}getBeforeBody(e,t){return $S(bn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return Xe(e,s=>{const a={before:[],lines:[],after:[]},c=jS(r,s);Qr(a.before,Ri(bn(c,"beforeLabel",this,s))),Qr(a.lines,bn(c,"label",this,s)),Qr(a.after,Ri(bn(c,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,t){return $S(bn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=bn(r,"beforeFooter",this,e),s=bn(r,"footer",this,e),a=bn(r,"afterFooter",this,e);let c=[];return c=Qr(c,Ri(i)),c=Qr(c,Ri(s)),c=Qr(c,Ri(a)),c}_createItems(e){const t=this._active,r=this.chart.data,i=[],s=[],a=[];let c=[],u,d;for(u=0,d=t.length;u<d;++u)c.push(D9(this.chart,t[u]));return e.filter&&(c=c.filter((m,_,y)=>e.filter(m,_,y,r))),e.itemSort&&(c=c.sort((m,_)=>e.itemSort(m,_,r))),Xe(c,m=>{const _=jS(e.callbacks,m);i.push(bn(_,"labelColor",this,m)),s.push(bn(_,"labelPointStyle",this,m)),a.push(bn(_,"labelTextColor",this,m))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=c,c}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const c=su[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const u=this._size=LS(this,r),d=Object.assign({},c,u),m=VS(this.chart,r,d),_=FS(r,d,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,s={opacity:1,x:_.x,y:_.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const s=this.getCaretPosition(e,r,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:c}=r,{topLeft:u,topRight:d,bottomLeft:m,bottomRight:_}=fl(c),{x:y,y:w}=e,{width:T,height:I}=t;let A,O,L,$,z,H;return s==="center"?(z=w+I/2,i==="left"?(A=y,O=A-a,$=z+a,H=z-a):(A=y+T,O=A+a,$=z-a,H=z+a),L=A):(i==="left"?O=y+Math.max(u,m)+a:i==="right"?O=y+T-Math.max(d,_)-a:O=this.caretX,s==="top"?($=w,z=$-a,A=O-a,L=O+a):($=w+I,z=$+a,A=O+a,L=O-a),H=$),{x1:A,x2:O,x3:L,y1:$,y2:z,y3:H}}drawTitle(e,t,r){const i=this.title,s=i.length;let a,c,u;if(s){const d=pl(r.rtl,this.x,this.width);for(e.x=zd(this,r.titleAlign,r),t.textAlign=d.textAlign(r.titleAlign),t.textBaseline="middle",a=un(r.titleFont),c=r.titleSpacing,t.fillStyle=r.titleColor,t.font=a.string,u=0;u<s;++u)t.fillText(i[u],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+c,u+1===s&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,t,r,i,s){const a=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:u,boxWidth:d}=s,m=un(s.bodyFont),_=zd(this,"left",s),y=i.x(_),w=u<m.lineHeight?(m.lineHeight-u)/2:0,T=t.y+w;if(s.usePointStyle){const I={radius:Math.min(d,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},A=i.leftForLtr(y,d)+d/2,O=T+u/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,oy(e,I,A,O),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,oy(e,I,A,O)}else{e.lineWidth=qe(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const I=i.leftForLtr(y,d),A=i.leftForLtr(i.xPlus(y,1),d-2),O=fl(a.borderRadius);Object.values(O).some(L=>L!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,ap(e,{x:I,y:T,w:d,h:u,radius:O}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),ap(e,{x:A,y:T+1,w:d-2,h:u-2,radius:O}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(I,T,d,u),e.strokeRect(I,T,d,u),e.fillStyle=a.backgroundColor,e.fillRect(A,T+1,d-2,u-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:c,boxHeight:u,boxWidth:d,boxPadding:m}=r,_=un(r.bodyFont);let y=_.lineHeight,w=0;const T=pl(r.rtl,this.x,this.width),I=function(C){t.fillText(C,T.x(e.x+w),e.y+y/2),e.y+=y+s},A=T.textAlign(a);let O,L,$,z,H,j,k;for(t.textAlign=a,t.textBaseline="middle",t.font=_.string,e.x=zd(this,A,r),t.fillStyle=r.bodyColor,Xe(this.beforeBody,I),w=c&&A!=="right"?a==="center"?d/2+m:d+2+m:0,z=0,j=i.length;z<j;++z){for(O=i[z],L=this.labelTextColors[z],t.fillStyle=L,Xe(O.before,I),$=O.lines,c&&$.length&&(this._drawColorBox(t,e,z,T,r),y=Math.max(_.lineHeight,u)),H=0,k=$.length;H<k;++H)I($[H]),y=_.lineHeight;Xe(O.after,I)}w=0,y=_.lineHeight,Xe(this.afterBody,I),e.y-=s}drawFooter(e,t,r){const i=this.footer,s=i.length;let a,c;if(s){const u=pl(r.rtl,this.x,this.width);for(e.x=zd(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=u.textAlign(r.footerAlign),t.textBaseline="middle",a=un(r.footerFont),t.fillStyle=r.footerColor,t.font=a.string,c=0;c<s;++c)t.fillText(i[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:s,yAlign:a}=this,{x:c,y:u}=e,{width:d,height:m}=r,{topLeft:_,topRight:y,bottomLeft:w,bottomRight:T}=fl(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(c+_,u),a==="top"&&this.drawCaret(e,t,r,i),t.lineTo(c+d-y,u),t.quadraticCurveTo(c+d,u,c+d,u+y),a==="center"&&s==="right"&&this.drawCaret(e,t,r,i),t.lineTo(c+d,u+m-T),t.quadraticCurveTo(c+d,u+m,c+d-T,u+m),a==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(c+w,u+m),t.quadraticCurveTo(c,u+m,c,u+m-w),a==="center"&&s==="left"&&this.drawCaret(e,t,r,i),t.lineTo(c,u+_),t.quadraticCurveTo(c,u,c+_,u),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const a=su[e.position].call(this,this._active,this._eventPosition);if(!a)return;const c=this._size=LS(this,e),u=Object.assign({},a,this._size),d=VS(t,e,u),m=FS(e,u,d,t);(i._to!==m.x||s._to!==m.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=lr(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,t),G1(e,t.textDirection),s.y+=a.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),Y1(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:c,index:u})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[u],index:u}}),s=!tp(r,i),a=this._positionChanged(i,t);(s||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,t,r),c=this._positionChanged(a,e),u=t||!tp(a,s)||c;return u&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),u}_getActiveElements(e,t,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:r,caretY:i,options:s}=this,a=su[s.position].call(this,e,t);return a!==!1&&(r!==a.x||i!==a.y)}}Ae(uy,"positioners",su);var U9={id:"tooltip",_element:uy,positioners:su,afterInit(n,e,t){t&&(n.tooltip=new uy({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:uk},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const z9=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function B9(n,e,t,r){const i=n.indexOf(e);if(i===-1)return z9(n,e,t,r);const s=n.lastIndexOf(e);return i!==s?t:i}const H9=(n,e)=>n===null?null:Cn(Math.round(n),0,e);function US(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class hy extends Yl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:s}of t)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Qe(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:B9(r,e,Ke(t,e),this._addedLabels),H9(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=t;a++)i.push({value:a});return i}getLabelForValue(e){return US.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ae(hy,"id","category"),Ae(hy,"defaults",{ticks:{callback:US}});function W9(n,e){const t=[],{bounds:i,step:s,min:a,max:c,precision:u,count:d,maxTicks:m,maxDigits:_,includeBounds:y}=n,w=s||1,T=m-1,{min:I,max:A}=e,O=!Qe(a),L=!Qe(c),$=!Qe(d),z=(A-I)/(_+1);let H=KT((A-I)/T/w)*w,j,k,C,R;if(H<1e-14&&!O&&!L)return[{value:I},{value:A}];R=Math.ceil(A/H)-Math.floor(I/H),R>T&&(H=KT(R*H/T/w)*w),Qe(u)||(j=Math.pow(10,u),H=Math.ceil(H*j)/j),i==="ticks"?(k=Math.floor(I/H)*H,C=Math.ceil(A/H)*H):(k=I,C=A),O&&L&&s&&BU((c-a)/s,H/1e3)?(R=Math.round(Math.min((c-a)/H,m)),H=(c-a)/R,k=a,C=c):$?(k=O?a:k,C=L?c:C,R=d-1,H=(C-k)/R):(R=(C-k)/H,hf(R,Math.round(R),H/1e3)?R=Math.round(R):R=Math.ceil(R));const x=Math.max(qT(H),qT(k));j=Math.pow(10,Qe(u)?x:u),k=Math.round(k*j)/j,C=Math.round(C*j)/j;let N=0;for(O&&(y&&k!==a?(t.push({value:a}),k<a&&N++,hf(Math.round((k+N*H)*j)/j,a,zS(a,z,n))&&N++):k<a&&N++);N<R;++N){const M=Math.round((k+N*H)*j)/j;if(L&&M>c)break;t.push({value:M})}return L&&y&&C!==c?t.length&&hf(t[t.length-1].value,c,zS(c,z,n))?t[t.length-1].value=c:t.push({value:c}):(!L||C===c)&&t.push({value:C}),t}function zS(n,e,{horizontal:t,minRotation:r}){const i=Di(r),s=(t?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+n).length;return Math.min(e/s,a)}class K9 extends Yl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Qe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const a=u=>i=t?i:u,c=u=>s=r?s:u;if(e){const u=$s(i),d=$s(s);u<0&&d<0?c(0):u>0&&d>0&&a(0)}if(i===s){let u=s===0?1:Math.abs(s*.05);c(s+u),e||a(i-u)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,a=W9(i,s);return e.bounds==="ticks"&&HU(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return Uv(e,this.chart.options.locale,this.options.ticks.format)}}class dy extends K9{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ar(e)?e:0,this.max=ar(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=Di(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ae(dy,"id","linear"),Ae(dy,"defaults",{ticks:{callback:U1.formatters.numeric}});const Xp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xn=Object.keys(Xp);function BS(n,e){return n-e}function HS(n,e){if(Qe(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),ar(a)||(a=typeof r=="string"?t.parse(a,r):t.parse(a)),a===null?null:(i&&(a=i==="week"&&(ip(s)||s===!0)?t.startOf(a,"isoWeek",s):t.startOf(a,i)),+a)}function WS(n,e,t,r){const i=xn.length;for(let s=xn.indexOf(n);s<i-1;++s){const a=Xp[xn[s]],c=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(c*a.size))<=r)return xn[s]}return xn[i-1]}function q9(n,e,t,r,i){for(let s=xn.length-1;s>=xn.indexOf(t);s--){const a=xn[s];if(Xp[a].common&&n._adapter.diff(i,r,a)>=e-1)return a}return xn[t?xn.indexOf(t):0]}function G9(n){for(let e=xn.indexOf(n)+1,t=xn.length;e<t;++e)if(Xp[xn[e]].common)return xn[e]}function KS(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=jv(t,e),s=t[r]>=e?t[r]:t[i];n[s]=!0}}function Y9(n,e,t,r){const i=n._adapter,s=+i.startOf(e[0].value,r),a=e[e.length-1].value;let c,u;for(c=s;c<=a;c=+i.add(c,1,r))u=t[c],u>=0&&(e[u].major=!0);return e}function qS(n,e,t){const r=[],i={},s=e.length;let a,c;for(a=0;a<s;++a)c=e[a],i[c]=a,r.push({value:c,major:!1});return s===0||!t?r:Y9(n,r,i,t)}class hp extends Yl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new lB._date(e.adapters.date);i.init(t),_u(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:HS(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:c}=this.getUserBounds();function u(d){!a&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!c&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!c)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),i=ar(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),s=ar(s)&&!isNaN(s)?s:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,c=YU(i,s,a);return this._unit=t.unit||(r.autoSkip?WS(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):q9(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:G9(this._unit),this.initOffsets(i),e.reverse&&c.reverse(),qS(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=Cn(t,0,a),r=Cn(r,0,a),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,s=i.time,a=s.unit||WS(s.minUnit,t,r,this._getLabelCapacity(t)),c=Ke(i.ticks.stepSize,1),u=a==="week"?s.isoWeekday:!1,d=ip(u)||u===!0,m={};let _=t,y,w;if(d&&(_=+e.startOf(_,"isoWeek",u)),_=+e.startOf(_,d?"day":a),e.diff(r,t,a)>1e5*c)throw new Error(t+" and "+r+" are too far apart with stepSize of "+c+" "+a);const T=i.ticks.source==="data"&&this.getDataTimestamps();for(y=_,w=0;y<r;y=+e.add(y,c,a),w++)KS(m,y,T);return(y===r||i.bounds==="ticks"||w===1)&&KS(m,y,T),Object.keys(m).sort(BS).map(I=>+I)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,s=this._unit,a=t||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,t,r,i){const s=this.options,a=s.ticks.callback;if(a)return tt(a,[e,t,r],this);const c=s.time.displayFormats,u=this._unit,d=this._majorUnit,m=u&&c[u],_=d&&c[d],y=r[t],w=d&&_&&y&&y.major;return this._adapter.format(e,i||(w?_:m))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=Di(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(i),a=Math.sin(i),c=this._resolveTickFontOptions(0).size;return{w:r*s+c*a,h:r*a+c*s}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,s=this._tickFormatFunction(e,0,qS(this,[e],this._majorUnit),i),a=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(HS(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return L1(e.sort(BS))}}Ae(hp,"id","time"),Ae(hp,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Bd(n,e,t){let r=0,i=n.length-1,s,a,c,u;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=iy(n,"pos",e)),{pos:s,time:c}=n[r],{pos:a,time:u}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=iy(n,"time",e)),{time:s,pos:c}=n[r],{time:a,pos:u}=n[i]);const d=a-s;return d?c+(u-c)*(e-s)/d:c}class GS extends hp{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Bd(t,this.min),this._tableRange=Bd(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],s=[];let a,c,u,d,m;for(a=0,c=e.length;a<c;++a)d=e[a],d>=t&&d<=r&&i.push(d);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(a=0,c=i.length;a<c;++a)m=i[a+1],u=i[a-1],d=i[a],Math.round((m+u)/2)!==d&&s.push({time:d,pos:a/(c-1)});return s}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Bd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return Bd(this._table,r*this._tableRange+this._minPos,!0)}}Ae(GS,"id","timeseries"),Ae(GS,"defaults",hp.defaults);const hk="label";function YS(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function Q9(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function dk(n,e){n.labels=e}function fk(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:hk;const r=[];n.datasets=e.map(i=>{const s=n.datasets.find(a=>a[t]===i[t]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function X9(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hk;const t={labels:[],datasets:[]};return dk(t,n.labels),fk(t,n.datasets,e),t}function J9(n,e){const{height:t=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:a,data:c,options:u,plugins:d=[],fallbackContent:m,updateMode:_,...y}=n,w=q.useRef(null),T=q.useRef(null),I=()=>{w.current&&(T.current=new Qp(w.current,{type:a,data:X9(c,s),options:u&&{...u},plugins:d}),YS(e,T.current))},A=()=>{YS(e,null),T.current&&(T.current.destroy(),T.current=null)};return q.useEffect(()=>{!i&&T.current&&u&&Q9(T.current,u)},[i,u]),q.useEffect(()=>{!i&&T.current&&dk(T.current.config.data,c.labels)},[i,c.labels]),q.useEffect(()=>{!i&&T.current&&c.datasets&&fk(T.current.config.data,c.datasets,s)},[i,c.datasets]),q.useEffect(()=>{T.current&&(i?(A(),setTimeout(I)):T.current.update(_))},[i,u,c.labels,c.datasets,_]),q.useEffect(()=>{T.current&&(A(),setTimeout(I))},[a]),q.useEffect(()=>(I(),()=>A()),[]),Li.createElement("canvas",{ref:w,role:"img",height:t,width:r,...y},m)}const Z9=q.forwardRef(J9);function pk(n,e){return Qp.register(e),q.forwardRef((t,r)=>Li.createElement(Z9,{...t,ref:r,type:n}))}const eH=pk("bar",df),v_=pk("pie",ay);/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var QS=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var n=window.screen;if(n)return(n.deviceXDPI||1)/(n.logicalXDPI||1)}return 1}(),wu={toTextLines:function(n){var e=[],t;for(n=[].concat(n);n.length;)t=n.pop(),typeof t=="string"?e.unshift.apply(e,t.split(`
`)):Array.isArray(t)?n.push.apply(n,t):Qe(n)||e.unshift(""+t);return e},textSize:function(n,e,t){var r=[].concat(e),i=r.length,s=n.font,a=0,c;for(n.font=t.string,c=0;c<i;++c)a=Math.max(n.measureText(r[c]).width,a);return n.font=s,{height:i*t.lineHeight,width:a}},bound:function(n,e,t){return Math.max(n,Math.min(e,t))},arrayDiff:function(n,e){var t=n.slice(),r=[],i,s,a,c;for(i=0,a=e.length;i<a;++i)c=e[i],s=t.indexOf(c),s===-1?r.push([c,1]):t.splice(s,1);for(i=0,a=t.length;i<a;++i)r.push([t[i],-1]);return r},rasterize:function(n){return Math.round(n*QS)/QS}};function E_(n,e){var t=e.x,r=e.y;if(t===null)return{x:0,y:-1};if(r===null)return{x:1,y:0};var i=n.x-t,s=n.y-r,a=Math.sqrt(i*i+s*s);return{x:a?i/a:0,y:a?s/a:-1}}function tH(n,e,t,r,i){switch(i){case"center":t=r=0;break;case"bottom":t=0,r=1;break;case"right":t=1,r=0;break;case"left":t=-1,r=0;break;case"top":t=0,r=-1;break;case"start":t=-t,r=-r;break;case"end":break;default:i*=Math.PI/180,t=Math.cos(i),r=Math.sin(i);break}return{x:n,y:e,vx:t,vy:r}}var nH=0,mk=1,gk=2,_k=4,yk=8;function Hd(n,e,t){var r=nH;return n<t.left?r|=mk:n>t.right&&(r|=gk),e<t.top?r|=yk:e>t.bottom&&(r|=_k),r}function rH(n,e){for(var t=n.x0,r=n.y0,i=n.x1,s=n.y1,a=Hd(t,r,e),c=Hd(i,s,e),u,d,m;!(!(a|c)||a&c);)u=a||c,u&yk?(d=t+(i-t)*(e.top-r)/(s-r),m=e.top):u&_k?(d=t+(i-t)*(e.bottom-r)/(s-r),m=e.bottom):u&gk?(m=r+(s-r)*(e.right-t)/(i-t),d=e.right):u&mk&&(m=r+(s-r)*(e.left-t)/(i-t),d=e.left),u===a?(t=d,r=m,a=Hd(t,r,e)):(i=d,s=m,c=Hd(i,s,e));return{x0:t,x1:i,y0:r,y1:s}}function Wd(n,e){var t=e.anchor,r=n,i,s;return e.clamp&&(r=rH(r,e.area)),t==="start"?(i=r.x0,s=r.y0):t==="end"?(i=r.x1,s=r.y1):(i=(r.x0+r.x1)/2,s=(r.y0+r.y1)/2),tH(i,s,n.vx,n.vy,e.align)}var Kd={arc:function(n,e){var t=(n.startAngle+n.endAngle)/2,r=Math.cos(t),i=Math.sin(t),s=n.innerRadius,a=n.outerRadius;return Wd({x0:n.x+r*s,y0:n.y+i*s,x1:n.x+r*a,y1:n.y+i*a,vx:r,vy:i},e)},point:function(n,e){var t=E_(n,e.origin),r=t.x*n.options.radius,i=t.y*n.options.radius;return Wd({x0:n.x-r,y0:n.y-i,x1:n.x+r,y1:n.y+i,vx:t.x,vy:t.y},e)},bar:function(n,e){var t=E_(n,e.origin),r=n.x,i=n.y,s=0,a=0;return n.horizontal?(r=Math.min(n.x,n.base),s=Math.abs(n.base-n.x)):(i=Math.min(n.y,n.base),a=Math.abs(n.base-n.y)),Wd({x0:r,y0:i+a,x1:r+s,y1:i,vx:t.x,vy:t.y},e)},fallback:function(n,e){var t=E_(n,e.origin);return Wd({x0:n.x,y0:n.y,x1:n.x+(n.width||0),y1:n.y+(n.height||0),vx:t.x,vy:t.y},e)}},Mi=wu.rasterize;function iH(n){var e=n.borderWidth||0,t=n.padding,r=n.size.height,i=n.size.width,s=-i/2,a=-r/2;return{frame:{x:s-t.left-e,y:a-t.top-e,w:i+t.width+e*2,h:r+t.height+e*2},text:{x:s,y:a,w:i,h:r}}}function sH(n,e){var t=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!t)return null;if(t.xCenter!==void 0&&t.yCenter!==void 0)return{x:t.xCenter,y:t.yCenter};var r=t.getBasePixel();return n.horizontal?{x:r,y:null}:{x:null,y:r}}function oH(n){return n instanceof ll?Kd.arc:n instanceof mf?Kd.point:n instanceof Eu?Kd.bar:Kd.fallback}function aH(n,e,t,r,i,s){var a=Math.PI/2;if(s){var c=Math.min(s,i/2,r/2),u=e+c,d=t+c,m=e+r-c,_=t+i-c;n.moveTo(e,d),u<m&&d<_?(n.arc(u,d,c,-Math.PI,-a),n.arc(m,d,c,-a,0),n.arc(m,_,c,0,a),n.arc(u,_,c,a,Math.PI)):u<m?(n.moveTo(u,t),n.arc(m,d,c,-a,a),n.arc(u,d,c,a,Math.PI+a)):d<_?(n.arc(u,d,c,-Math.PI,0),n.arc(u,_,c,0,Math.PI)):n.arc(u,d,c,-Math.PI,Math.PI),n.closePath(),n.moveTo(e,t)}else n.rect(e,t,r,i)}function lH(n,e,t){var r=t.backgroundColor,i=t.borderColor,s=t.borderWidth;!r&&(!i||!s)||(n.beginPath(),aH(n,Mi(e.x)+s/2,Mi(e.y)+s/2,Mi(e.w)-s,Mi(e.h)-s,t.borderRadius),n.closePath(),r&&(n.fillStyle=r,n.fill()),i&&s&&(n.strokeStyle=i,n.lineWidth=s,n.lineJoin="miter",n.stroke()))}function cH(n,e,t){var r=t.lineHeight,i=n.w,s=n.x,a=n.y+r/2;return e==="center"?s+=i/2:(e==="end"||e==="right")&&(s+=i),{h:r,w:i,x:s,y:a}}function uH(n,e,t){var r=n.shadowBlur,i=t.stroked,s=Mi(t.x),a=Mi(t.y),c=Mi(t.w);i&&n.strokeText(e,s,a,c),t.filled&&(r&&i&&(n.shadowBlur=0),n.fillText(e,s,a,c),r&&i&&(n.shadowBlur=r))}function hH(n,e,t,r){var i=r.textAlign,s=r.color,a=!!s,c=r.font,u=e.length,d=r.textStrokeColor,m=r.textStrokeWidth,_=d&&m,y;if(!(!u||!a&&!_))for(t=cH(t,i,c),n.font=c.string,n.textAlign=i,n.textBaseline="middle",n.shadowBlur=r.textShadowBlur,n.shadowColor=r.textShadowColor,a&&(n.fillStyle=s),_&&(n.lineJoin="round",n.lineWidth=m,n.strokeStyle=d),y=0,u=e.length;y<u;++y)uH(n,e[y],{stroked:_,filled:a,w:t.w,x:t.x,y:t.y+t.h*y})}var vk=function(n,e,t,r){var i=this;i._config=n,i._index=r,i._model=null,i._rects=null,i._ctx=e,i._el=t};hi(vk.prototype,{_modelize:function(n,e,t,r){var i=this,s=i._index,a=un(ct([t.font,{}],r,s)),c=ct([t.color,yt.color],r,s);return{align:ct([t.align,"center"],r,s),anchor:ct([t.anchor,"center"],r,s),area:r.chart.chartArea,backgroundColor:ct([t.backgroundColor,null],r,s),borderColor:ct([t.borderColor,null],r,s),borderRadius:ct([t.borderRadius,0],r,s),borderWidth:ct([t.borderWidth,0],r,s),clamp:ct([t.clamp,!1],r,s),clip:ct([t.clip,!1],r,s),color:c,display:n,font:a,lines:e,offset:ct([t.offset,4],r,s),opacity:ct([t.opacity,1],r,s),origin:sH(i._el,r),padding:lr(ct([t.padding,4],r,s)),positioner:oH(i._el),rotation:ct([t.rotation,0],r,s)*(Math.PI/180),size:wu.textSize(i._ctx,e,a),textAlign:ct([t.textAlign,"start"],r,s),textShadowBlur:ct([t.textShadowBlur,0],r,s),textShadowColor:ct([t.textShadowColor,c],r,s),textStrokeColor:ct([t.textStrokeColor,c],r,s),textStrokeWidth:ct([t.textStrokeWidth,0],r,s)}},update:function(n){var e=this,t=null,r=null,i=e._index,s=e._config,a,c,u,d=ct([s.display,!0],n,i);d&&(a=n.dataset.data[i],c=Ke(tt(s.formatter,[a,n]),a),u=Qe(c)?[]:wu.toTextLines(c),u.length&&(t=e._modelize(d,u,s,n),r=iH(t))),e._model=t,e._rects=r},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(n,e){var t=this,r=n.ctx,i=t._model,s=t._rects,a;this.visible()&&(r.save(),i.clip&&(a=i.area,r.beginPath(),r.rect(a.left,a.top,a.right-a.left,a.bottom-a.top),r.clip()),r.globalAlpha=wu.bound(0,i.opacity,1),r.translate(Mi(e.x),Mi(e.y)),r.rotate(i.rotation),lH(r,s.frame,i),hH(r,i.lines,s.text,i),r.restore())}});var dH=Number.MIN_SAFE_INTEGER||-9007199254740991,fH=Number.MAX_SAFE_INTEGER||9007199254740991;function Qc(n,e,t){var r=Math.cos(t),i=Math.sin(t),s=e.x,a=e.y;return{x:s+r*(n.x-s)-i*(n.y-a),y:a+i*(n.x-s)+r*(n.y-a)}}function XS(n,e){var t=fH,r=dH,i=e.origin,s,a,c,u,d;for(s=0;s<n.length;++s)a=n[s],c=a.x-i.x,u=a.y-i.y,d=e.vx*c+e.vy*u,t=Math.min(t,d),r=Math.max(r,d);return{min:t,max:r}}function qd(n,e){var t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);return{vx:(e.x-n.x)/i,vy:(e.y-n.y)/i,origin:n,ln:i}}var Ek=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};hi(Ek.prototype,{center:function(){var n=this._rect;return{x:n.x+n.w/2,y:n.y+n.h/2}},update:function(n,e,t){this._rotation=t,this._rect={x:e.x+n.x,y:e.y+n.y,w:e.w,h:e.h}},contains:function(n){var e=this,t=1,r=e._rect;return n=Qc(n,e.center(),-e._rotation),!(n.x<r.x-t||n.y<r.y-t||n.x>r.x+r.w+t*2||n.y>r.y+r.h+t*2)},intersects:function(n){var e=this._points(),t=n._points(),r=[qd(e[0],e[1]),qd(e[0],e[3])],i,s,a;for(this._rotation!==n._rotation&&r.push(qd(t[0],t[1]),qd(t[0],t[3])),i=0;i<r.length;++i)if(s=XS(e,r[i]),a=XS(t,r[i]),s.max<a.min||a.max<s.min)return!1;return!0},_points:function(){var n=this,e=n._rect,t=n._rotation,r=n.center();return[Qc({x:e.x,y:e.y},r,t),Qc({x:e.x+e.w,y:e.y},r,t),Qc({x:e.x+e.w,y:e.y+e.h},r,t),Qc({x:e.x,y:e.y+e.h},r,t)]}});function wk(n,e,t){var r=e.positioner(n,e),i=r.vx,s=r.vy;if(!i&&!s)return{x:r.x,y:r.y};var a=t.w,c=t.h,u=e.rotation,d=Math.abs(a/2*Math.cos(u))+Math.abs(c/2*Math.sin(u)),m=Math.abs(a/2*Math.sin(u))+Math.abs(c/2*Math.cos(u)),_=1/Math.max(Math.abs(i),Math.abs(s));return d*=i*_,m*=s*_,d+=e.offset*i,m+=e.offset*s,{x:r.x+d,y:r.y+m}}function pH(n,e){var t,r,i,s;for(t=n.length-1;t>=0;--t)for(i=n[t].$layout,r=t-1;r>=0&&i._visible;--r)s=n[r].$layout,s._visible&&i._box.intersects(s._box)&&e(i,s);return n}function mH(n){var e,t,r,i,s,a,c;for(e=0,t=n.length;e<t;++e)r=n[e],i=r.$layout,i._visible&&(c=new Proxy(r._el,{get:(u,d)=>u.getProps([d],!0)[d]}),s=r.geometry(),a=wk(c,r.model(),s),i._box.update(a,s,r.rotation()));return pH(n,function(u,d){var m=u._hidable,_=d._hidable;m&&_||_?d._visible=!1:m&&(u._visible=!1)})}var bu={prepare:function(n){var e=[],t,r,i,s,a;for(t=0,i=n.length;t<i;++t)for(r=0,s=n[t].length;r<s;++r)a=n[t][r],e.push(a),a.$layout={_box:new Ek,_hidable:!1,_visible:!0,_set:t,_idx:a._index};return e.sort(function(c,u){var d=c.$layout,m=u.$layout;return d._idx===m._idx?m._set-d._set:m._idx-d._idx}),this.update(e),e},update:function(n){var e=!1,t,r,i,s,a;for(t=0,r=n.length;t<r;++t)i=n[t],s=i.model(),a=i.$layout,a._hidable=s&&s.display==="auto",a._visible=i.visible(),e|=a._hidable;e&&mH(n)},lookup:function(n,e){var t,r;for(t=n.length-1;t>=0;--t)if(r=n[t].$layout,r&&r._visible&&r._box.contains(e))return n[t];return null},draw:function(n,e){var t,r,i,s,a,c;for(t=0,r=e.length;t<r;++t)i=e[t],s=i.$layout,s._visible&&(a=i.geometry(),c=wk(i._el,i.model(),a),s._box.update(c,a,i.rotation()),i.draw(n,c))}},gH=function(n){if(Qe(n))return null;var e=n,t,r,i;if(qe(n))if(!Qe(n.label))e=n.label;else if(!Qe(n.r))e=n.r;else for(e="",t=Object.keys(n),i=0,r=t.length;i<r;++i)e+=(i!==0?", ":"")+t[i]+": "+n[t[i]];return""+e},_H={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:gH,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},Tn="$datalabels",bk="$default";function yH(n,e){var t=n.datalabels,r={},i=[],s,a;return t===!1?null:(t===!0&&(t={}),e=hi({},[e,t]),s=e.labels||{},a=Object.keys(s),delete e.labels,a.length?a.forEach(function(c){s[c]&&i.push(hi({},[e,s[c],{_key:c}]))}):i.push(e),r=i.reduce(function(c,u){return Xe(u.listeners||{},function(d,m){c[m]=c[m]||{},c[m][u._key||bk]=d}),delete u.listeners,c},{}),{labels:i,listeners:r})}function fy(n,e,t,r){if(e){var i=t.$context,s=t.$groups,a;e[s._set]&&(a=e[s._set][s._key],a&&tt(a,[i,r])===!0&&(n[Tn]._dirty=!0,t.update(i)))}}function vH(n,e,t,r,i){var s,a;!t&&!r||(t?r?t!==r&&(a=s=!0):a=!0:s=!0,a&&fy(n,e.leave,t,i),s&&fy(n,e.enter,r,i))}function EH(n,e){var t=n[Tn],r=t._listeners,i,s;if(!(!r.enter&&!r.leave)){if(e.type==="mousemove")s=bu.lookup(t._labels,e);else if(e.type!=="mouseout")return;i=t._hovered,t._hovered=s,vH(n,r,i,s,e)}}function wH(n,e){var t=n[Tn],r=t._listeners.click,i=r&&bu.lookup(t._labels,e);i&&fy(n,r,i,e)}var bH={id:"datalabels",defaults:_H,beforeInit:function(n){n[Tn]={_actives:[]}},beforeUpdate:function(n){var e=n[Tn];e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(n,e,t){var r=e.index,i=n[Tn],s=i._datasets[r]=[],a=n.isDatasetVisible(r),c=n.data.datasets[r],u=yH(c,t),d=e.meta.data||[],m=n.ctx,_,y,w,T,I,A,O,L;for(m.save(),_=0,w=d.length;_<w;++_)if(O=d[_],O[Tn]=[],a&&O&&n.getDataVisibility(_)&&!O.skip)for(y=0,T=u.labels.length;y<T;++y)I=u.labels[y],A=I._key,L=new vk(I,m,O,_),L.$groups={_set:r,_key:A||bk},L.$context={active:!1,chart:n,dataIndex:_,dataset:c,datasetIndex:r},L.update(L.$context),O[Tn].push(L),s.push(L);m.restore(),hi(i._listeners,u.listeners,{merger:function($,z,H){z[$]=z[$]||{},z[$][e.index]=H[$],i._listened=!0}})},afterUpdate:function(n){n[Tn]._labels=bu.prepare(n[Tn]._datasets)},afterDatasetsDraw:function(n){bu.draw(n,n[Tn]._labels)},beforeEvent:function(n,e){if(n[Tn]._listened){var t=e.event;switch(t.type){case"mousemove":case"mouseout":EH(n,t);break;case"click":wH(n,t);break}}},afterEvent:function(n){var e=n[Tn],t=e._actives,r=e._actives=n.getActiveElements(),i=wu.arrayDiff(t,r),s,a,c,u,d,m,_;for(s=0,a=i.length;s<a;++s)if(d=i[s],d[1])for(_=d[0].element[Tn]||[],c=0,u=_.length;c<u;++c)m=_[c],m.$context.active=d[1]===1,m.update(m.$context);(e._dirty||i.length)&&(bu.update(e._labels),n.render()),delete e._dirty}};Qp.register(ll,U9,N9,bH,hy,dy,Eu);function TH({email:n,stats:e,mode:t}){const r={labels:["Sprvne","Nesprvne"],datasets:[{label:"Bio odpovede",data:[e.bio.spravne,e.bio.nespravne],backgroundColor:["#4bc0c0","#808080"],hoverOffset:25,offset:15}]},i={labels:["Sprvne","Nesprvne"],datasets:[{label:"Che odpovede",data:[e.che.spravne,e.che.nespravne],backgroundColor:["#4bc0c0","#808080"],hoverOffset:25,offset:15}]},s={labels:["Sprvne","Nesprvne"],datasets:[{label:"Vetky odpovede",data:[e.che.spravne+e.bio.spravne,e.che.nespravne+e.bio.nespravne],backgroundColor:["#bbdb44","#CD5C5C"],hoverOffset:25,offset:15}]};return Y.jsx("div",{className:"modal fade",id:"scrollableModal",tabIndex:"-1","aria-labelledby":"scrollableModalLabel","aria-hidden":"true",children:Y.jsx("div",{className:"modal-dialog modal-dialog-scrollable modal-xl",children:Y.jsxs("div",{className:`modal-content modalStyle ${t?"bg-dark text-light":"bg-light text-dark"}`,children:[Y.jsxs("div",{className:"modal-header border-secondary",children:[Y.jsx("h5",{className:"modal-title",id:"scrollableModalLabel",children:"tatistika"}),Y.jsx("button",{type:"button",className:`btn-close ${t?"btn-close-white":"btn-close-dark"}`,"data-bs-dismiss":"modal","aria-label":"Zavrie"})]}),Y.jsxs("div",{className:"modal-body",children:[Y.jsxs("div",{className:"modalCntnt",children:[Y.jsxs("div",{className:"text-center",children:[Y.jsx("h6",{children:"Vetky odpovede"}),Y.jsx("div",{className:"pieGraph",children:Y.jsx(v_,{data:s,options:{responsive:!0,maintainAspectRatio:!1,elements:{arc:{borderWidth:0}},plugins:{legend:{position:"bottom",labels:{color:`${t?"white":"black"}`}},datalabels:{color:"white",font:{size:20},formatter:(a,c)=>a}}}},Date.now())})]}),Y.jsxs("div",{className:"text-center graphHolder",children:[Y.jsx("h6",{children:"Biolgia"}),Y.jsx("div",{className:"pieGraph",children:Y.jsx(v_,{data:r,options:{responsive:!0,maintainAspectRatio:!1,elements:{arc:{borderWidth:0}},plugins:{legend:{position:"bottom",labels:{color:`${t?"white":"black"}`}},datalabels:{color:"white",font:{size:20},formatter:(a,c)=>a}}}},Date.now())})]}),Y.jsxs("div",{className:"text-center graphHolder",children:[Y.jsx("h6",{children:"Chmia"}),Y.jsx("div",{className:"pieGraph",children:Y.jsx(v_,{data:i,options:{responsive:!0,maintainAspectRatio:!1,elements:{arc:{borderWidth:0}},plugins:{legend:{position:"bottom",labels:{color:`${t?"white":"black"}`}},datalabels:{color:"white",font:{size:20},formatter:(a,c)=>a}}}},Date.now())})]})]}),Y.jsx("br",{}),Y.jsx("hr",{}),Y.jsx("br",{}),Y.jsxs("div",{className:"barChart",children:[Y.jsx("h6",{className:"text-center mb-3",children:"Poet zodpovedanch otzok za poslednch 7 dn"}),Y.jsx(eH,{data:{labels:Object.keys(e.answersLast7Days||{}).map(a=>a.slice(5)),datasets:[{label:"Poet odpoved za de",data:Object.values(e.answersLast7Days||{}),backgroundColor:"rgba(75, 192, 192, 0.6)",borderRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{color:`${t?"white":"black"}`,font:{size:14},anchor:"end",align:"top"}},scales:{x:{ticks:{color:`${t?"white":"black"}`},grid:{color:`${t?"rgba(255,255,255,0.1)":"rgba(109, 109, 109, 0.17)"}`}},y:{beginAtZero:!0,ticks:{color:`${t?"white":"black"}`,stepSize:1,precision:0},grid:{color:`${t?"rgba(255,255,255,0.1)":"rgba(109, 109, 109, 0.17)"}`},suggestedMax:Math.max(...Object.values(e.answersLast7Days||{}))+1}}}},Date.now())]})]})]})})})}function SH(n){return Hl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 256c52.805 0 96-43.201 96-96s-43.195-96-96-96-96 43.201-96 96 43.195 96 96 96zm0 48c-63.598 0-192 32.402-192 96v48h384v-48c0-63.598-128.402-96-192-96z"},child:[]}]})(n)}function AH(n){return Hl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M279.1 48h-46.2v231.1h46.2V48zm111.6 50.2L357.9 131c36.5 29.4 59.9 74.4 59.9 125 0 89.4-72.3 161.8-161.8 161.8S94.2 345.4 94.2 256c0-50.6 23.3-95.7 59.6-125.3l-32.6-32.6C76.4 136.3 48 192.7 48 256c0 114.9 93.1 208 208 208s208-93.1 208-208c0-63.3-28.4-119.7-73.3-157.8z"},child:[]}]})(n)}function IH(n){return Hl({attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M17 2v1h-17v-1h17zM14 6h-14v1h14v-1zM0 11h17v-1h-17v1zM0 15h10v-1h-10v1z"},child:[]}]})(n)}var gf={exports:{}},_f={exports:{}},yf={exports:{}};/*!
  * Bootstrap data.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var xH=yf.exports,JS;function CH(){return JS||(JS=1,function(n,e){(function(t,r){n.exports=r()})(xH,function(){const t=new Map;return{set(i,s,a){t.has(i)||t.set(i,new Map);const c=t.get(i);if(!c.has(s)&&c.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(c.keys())[0]}.`);return}c.set(s,a)},get(i,s){return t.has(i)&&t.get(i).get(s)||null},remove(i,s){if(!t.has(i))return;const a=t.get(i);a.delete(s),a.size===0&&t.delete(i)}}})}(yf)),yf.exports}var vf={exports:{}},ou={exports:{}};/*!
  * Bootstrap index.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var kH=ou.exports,ZS;function no(){return ZS||(ZS=1,function(n,e){(function(t,r){r(e)})(kH,function(t){const s="transitionend",a=x=>(x&&window.CSS&&window.CSS.escape&&(x=x.replace(/#([^\s"#']+)/g,(N,M)=>`#${CSS.escape(M)}`)),x),c=x=>x==null?`${x}`:Object.prototype.toString.call(x).match(/\s([a-z]+)/i)[1].toLowerCase(),u=x=>{do x+=Math.floor(Math.random()*1e6);while(document.getElementById(x));return x},d=x=>{if(!x)return 0;let{transitionDuration:N,transitionDelay:M}=window.getComputedStyle(x);const D=Number.parseFloat(N),ye=Number.parseFloat(M);return!D&&!ye?0:(N=N.split(",")[0],M=M.split(",")[0],(Number.parseFloat(N)+Number.parseFloat(M))*1e3)},m=x=>{x.dispatchEvent(new Event(s))},_=x=>!x||typeof x!="object"?!1:(typeof x.jquery<"u"&&(x=x[0]),typeof x.nodeType<"u"),y=x=>_(x)?x.jquery?x[0]:x:typeof x=="string"&&x.length>0?document.querySelector(a(x)):null,w=x=>{if(!_(x)||x.getClientRects().length===0)return!1;const N=getComputedStyle(x).getPropertyValue("visibility")==="visible",M=x.closest("details:not([open])");if(!M)return N;if(M!==x){const D=x.closest("summary");if(D&&D.parentNode!==M||D===null)return!1}return N},T=x=>!x||x.nodeType!==Node.ELEMENT_NODE||x.classList.contains("disabled")?!0:typeof x.disabled<"u"?x.disabled:x.hasAttribute("disabled")&&x.getAttribute("disabled")!=="false",I=x=>{if(!document.documentElement.attachShadow)return null;if(typeof x.getRootNode=="function"){const N=x.getRootNode();return N instanceof ShadowRoot?N:null}return x instanceof ShadowRoot?x:x.parentNode?I(x.parentNode):null},A=()=>{},O=x=>{x.offsetHeight},L=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,$=[],z=x=>{document.readyState==="loading"?($.length||document.addEventListener("DOMContentLoaded",()=>{for(const N of $)N()}),$.push(x)):x()},H=()=>document.documentElement.dir==="rtl",j=x=>{z(()=>{const N=L();if(N){const M=x.NAME,D=N.fn[M];N.fn[M]=x.jQueryInterface,N.fn[M].Constructor=x,N.fn[M].noConflict=()=>(N.fn[M]=D,x.jQueryInterface)}})},k=(x,N=[],M=x)=>typeof x=="function"?x(...N):M,C=(x,N,M=!0)=>{if(!M){k(x);return}const ye=d(N)+5;let me=!1;const he=({target:de})=>{de===N&&(me=!0,N.removeEventListener(s,he),k(x))};N.addEventListener(s,he),setTimeout(()=>{me||m(N)},ye)},R=(x,N,M,D)=>{const ye=x.length;let me=x.indexOf(N);return me===-1?!M&&D?x[ye-1]:x[0]:(me+=M?1:-1,D&&(me=(me+ye)%ye),x[Math.max(0,Math.min(me,ye-1))])};t.defineJQueryPlugin=j,t.execute=k,t.executeAfterTransition=C,t.findShadowRoot=I,t.getElement=y,t.getNextActiveElement=R,t.getTransitionDurationFromElement=d,t.getUID=u,t.getjQuery=L,t.isDisabled=T,t.isElement=_,t.isRTL=H,t.isVisible=w,t.noop=A,t.onDOMContentLoaded=z,t.parseSelector=a,t.reflow=O,t.toType=c,t.triggerTransitionEnd=m,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})}(ou,ou.exports)),ou.exports}/*!
  * Bootstrap event-handler.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var RH=vf.exports,eA;function nh(){return eA||(eA=1,function(n,e){(function(t,r){n.exports=r(no())})(RH,function(t){const r=/[^.]*(?=\..*)\.|.*/,i=/\..*/,s=/::\d+$/,a={};let c=1;const u={mouseenter:"mouseover",mouseleave:"mouseout"},d=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function m(j,k){return k&&`${k}::${c++}`||j.uidEvent||c++}function _(j){const k=m(j);return j.uidEvent=k,a[k]=a[k]||{},a[k]}function y(j,k){return function C(R){return H(R,{delegateTarget:j}),C.oneOff&&z.off(j,R.type,k),k.apply(j,[R])}}function w(j,k,C){return function R(x){const N=j.querySelectorAll(k);for(let{target:M}=x;M&&M!==this;M=M.parentNode)for(const D of N)if(D===M)return H(x,{delegateTarget:M}),R.oneOff&&z.off(j,x.type,k,C),C.apply(M,[x])}}function T(j,k,C=null){return Object.values(j).find(R=>R.callable===k&&R.delegationSelector===C)}function I(j,k,C){const R=typeof k=="string",x=R?C:k||C;let N=$(j);return d.has(N)||(N=j),[R,x,N]}function A(j,k,C,R,x){if(typeof k!="string"||!j)return;let[N,M,D]=I(k,C,R);k in u&&(M=(ce=>function(B){if(!B.relatedTarget||B.relatedTarget!==B.delegateTarget&&!B.delegateTarget.contains(B.relatedTarget))return ce.call(this,B)})(M));const ye=_(j),me=ye[D]||(ye[D]={}),he=T(me,M,N?C:null);if(he){he.oneOff=he.oneOff&&x;return}const de=m(M,k.replace(r,"")),J=N?w(j,C,M):y(j,M);J.delegationSelector=N?C:null,J.callable=M,J.oneOff=x,J.uidEvent=de,me[de]=J,j.addEventListener(D,J,N)}function O(j,k,C,R,x){const N=T(k[C],R,x);N&&(j.removeEventListener(C,N,!!x),delete k[C][N.uidEvent])}function L(j,k,C,R){const x=k[C]||{};for(const[N,M]of Object.entries(x))N.includes(R)&&O(j,k,C,M.callable,M.delegationSelector)}function $(j){return j=j.replace(i,""),u[j]||j}const z={on(j,k,C,R){A(j,k,C,R,!1)},one(j,k,C,R){A(j,k,C,R,!0)},off(j,k,C,R){if(typeof k!="string"||!j)return;const[x,N,M]=I(k,C,R),D=M!==k,ye=_(j),me=ye[M]||{},he=k.startsWith(".");if(typeof N<"u"){if(!Object.keys(me).length)return;O(j,ye,M,N,x?C:null);return}if(he)for(const de of Object.keys(ye))L(j,ye,de,k.slice(1));for(const[de,J]of Object.entries(me)){const ie=de.replace(s,"");(!D||k.includes(ie))&&O(j,ye,M,J.callable,J.delegationSelector)}},trigger(j,k,C){if(typeof k!="string"||!j)return null;const R=t.getjQuery(),x=$(k),N=k!==x;let M=null,D=!0,ye=!0,me=!1;N&&R&&(M=R.Event(k,C),R(j).trigger(M),D=!M.isPropagationStopped(),ye=!M.isImmediatePropagationStopped(),me=M.isDefaultPrevented());const he=H(new Event(k,{bubbles:D,cancelable:!0}),C);return me&&he.preventDefault(),ye&&j.dispatchEvent(he),he.defaultPrevented&&M&&M.preventDefault(),he}};function H(j,k={}){for(const[C,R]of Object.entries(k))try{j[C]=R}catch{Object.defineProperty(j,C,{configurable:!0,get(){return R}})}return j}return z})}(vf)),vf.exports}var Ef={exports:{}},wf={exports:{}};/*!
  * Bootstrap manipulator.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var PH=wf.exports,tA;function Tk(){return tA||(tA=1,function(n,e){(function(t,r){n.exports=r()})(PH,function(){function t(s){if(s==="true")return!0;if(s==="false")return!1;if(s===Number(s).toString())return Number(s);if(s===""||s==="null")return null;if(typeof s!="string")return s;try{return JSON.parse(decodeURIComponent(s))}catch{return s}}function r(s){return s.replace(/[A-Z]/g,a=>`-${a.toLowerCase()}`)}return{setDataAttribute(s,a,c){s.setAttribute(`data-bs-${r(a)}`,c)},removeDataAttribute(s,a){s.removeAttribute(`data-bs-${r(a)}`)},getDataAttributes(s){if(!s)return{};const a={},c=Object.keys(s.dataset).filter(u=>u.startsWith("bs")&&!u.startsWith("bsConfig"));for(const u of c){let d=u.replace(/^bs/,"");d=d.charAt(0).toLowerCase()+d.slice(1,d.length),a[d]=t(s.dataset[u])}return a},getDataAttribute(s,a){return t(s.getAttribute(`data-bs-${r(a)}`))}}})}(wf)),wf.exports}/*!
  * Bootstrap config.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var OH=Ef.exports,nA;function Jv(){return nA||(nA=1,function(n,e){(function(t,r){n.exports=r(Tk(),no())})(OH,function(t,r){class i{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(a){return a=this._mergeConfigObj(a),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}_configAfterMerge(a){return a}_mergeConfigObj(a,c){const u=r.isElement(c)?t.getDataAttribute(c,"config"):{};return{...this.constructor.Default,...typeof u=="object"?u:{},...r.isElement(c)?t.getDataAttributes(c):{},...typeof a=="object"?a:{}}}_typeCheckConfig(a,c=this.constructor.DefaultType){for(const[u,d]of Object.entries(c)){const m=a[u],_=r.isElement(m)?"element":r.toType(m);if(!new RegExp(d).test(_))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${u}" provided type "${_}" but expected type "${d}".`)}}}return i})}(Ef)),Ef.exports}/*!
  * Bootstrap base-component.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var NH=_f.exports,rA;function DH(){return rA||(rA=1,function(n,e){(function(t,r){n.exports=r(CH(),nh(),Jv(),no())})(NH,function(t,r,i,s){const a="5.3.3";class c extends i{constructor(d,m){super(),d=s.getElement(d),d&&(this._element=d,this._config=this._getConfig(m),t.set(this._element,this.constructor.DATA_KEY,this))}dispose(){t.remove(this._element,this.constructor.DATA_KEY),r.off(this._element,this.constructor.EVENT_KEY);for(const d of Object.getOwnPropertyNames(this))this[d]=null}_queueCallback(d,m,_=!0){s.executeAfterTransition(d,m,_)}_getConfig(d){return d=this._mergeConfigObj(d,this._element),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}static getInstance(d){return t.get(s.getElement(d),this.DATA_KEY)}static getOrCreateInstance(d,m={}){return this.getInstance(d)||new this(d,typeof m=="object"?m:null)}static get VERSION(){return a}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(d){return`${d}${this.EVENT_KEY}`}}return c})}(_f)),_f.exports}var bf={exports:{}};/*!
  * Bootstrap selector-engine.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var MH=bf.exports,iA;function Jp(){return iA||(iA=1,function(n,e){(function(t,r){n.exports=r(no())})(MH,function(t){const r=s=>{let a=s.getAttribute("data-bs-target");if(!a||a==="#"){let c=s.getAttribute("href");if(!c||!c.includes("#")&&!c.startsWith("."))return null;c.includes("#")&&!c.startsWith("#")&&(c=`#${c.split("#")[1]}`),a=c&&c!=="#"?c.trim():null}return a?a.split(",").map(c=>t.parseSelector(c)).join(","):null},i={find(s,a=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(a,s))},findOne(s,a=document.documentElement){return Element.prototype.querySelector.call(a,s)},children(s,a){return[].concat(...s.children).filter(c=>c.matches(a))},parents(s,a){const c=[];let u=s.parentNode.closest(a);for(;u;)c.push(u),u=u.parentNode.closest(a);return c},prev(s,a){let c=s.previousElementSibling;for(;c;){if(c.matches(a))return[c];c=c.previousElementSibling}return[]},next(s,a){let c=s.nextElementSibling;for(;c;){if(c.matches(a))return[c];c=c.nextElementSibling}return[]},focusableChildren(s){const a=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(c=>`${c}:not([tabindex^="-"])`).join(",");return this.find(a,s).filter(c=>!t.isDisabled(c)&&t.isVisible(c))},getSelectorFromElement(s){const a=r(s);return a&&i.findOne(a)?a:null},getElementFromSelector(s){const a=r(s);return a?i.findOne(a):null},getMultipleElementsFromSelector(s){const a=r(s);return a?i.find(a):[]}};return i})}(bf)),bf.exports}var Tf={exports:{}};/*!
  * Bootstrap backdrop.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var LH=Tf.exports,sA;function VH(){return sA||(sA=1,function(n,e){(function(t,r){n.exports=r(nh(),Jv(),no())})(LH,function(t,r,i){const s="backdrop",a="fade",c="show",u=`mousedown.bs.${s}`,d={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},m={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class _ extends r{constructor(w){super(),this._config=this._getConfig(w),this._isAppended=!1,this._element=null}static get Default(){return d}static get DefaultType(){return m}static get NAME(){return s}show(w){if(!this._config.isVisible){i.execute(w);return}this._append();const T=this._getElement();this._config.isAnimated&&i.reflow(T),T.classList.add(c),this._emulateAnimation(()=>{i.execute(w)})}hide(w){if(!this._config.isVisible){i.execute(w);return}this._getElement().classList.remove(c),this._emulateAnimation(()=>{this.dispose(),i.execute(w)})}dispose(){this._isAppended&&(t.off(this._element,u),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const w=document.createElement("div");w.className=this._config.className,this._config.isAnimated&&w.classList.add(a),this._element=w}return this._element}_configAfterMerge(w){return w.rootElement=i.getElement(w.rootElement),w}_append(){if(this._isAppended)return;const w=this._getElement();this._config.rootElement.append(w),t.on(w,u,()=>{i.execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(w){i.executeAfterTransition(w,this._getElement(),this._config.isAnimated)}}return _})}(Tf)),Tf.exports}var au={exports:{}};/*!
  * Bootstrap component-functions.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var FH=au.exports,oA;function $H(){return oA||(oA=1,function(n,e){(function(t,r){r(e,nh(),Jp(),no())})(FH,function(t,r,i,s){const a=(c,u="hide")=>{const d=`click.dismiss${c.EVENT_KEY}`,m=c.NAME;r.on(document,d,`[data-bs-dismiss="${m}"]`,function(_){if(["A","AREA"].includes(this.tagName)&&_.preventDefault(),s.isDisabled(this))return;const y=i.getElementFromSelector(this)||this.closest(`.${m}`);c.getOrCreateInstance(y)[u]()})};t.enableDismissTrigger=a,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})}(au,au.exports)),au.exports}var Sf={exports:{}};/*!
  * Bootstrap focustrap.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var jH=Sf.exports,aA;function UH(){return aA||(aA=1,function(n,e){(function(t,r){n.exports=r(nh(),Jp(),Jv())})(jH,function(t,r,i){const s="focustrap",c=".bs.focustrap",u=`focusin${c}`,d=`keydown.tab${c}`,m="Tab",_="forward",y="backward",w={autofocus:!0,trapElement:null},T={autofocus:"boolean",trapElement:"element"};class I extends i{constructor(O){super(),this._config=this._getConfig(O),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return w}static get DefaultType(){return T}static get NAME(){return s}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),t.off(document,c),t.on(document,u,O=>this._handleFocusin(O)),t.on(document,d,O=>this._handleKeydown(O)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,t.off(document,c))}_handleFocusin(O){const{trapElement:L}=this._config;if(O.target===document||O.target===L||L.contains(O.target))return;const $=r.focusableChildren(L);$.length===0?L.focus():this._lastTabNavDirection===y?$[$.length-1].focus():$[0].focus()}_handleKeydown(O){O.key===m&&(this._lastTabNavDirection=O.shiftKey?y:_)}}return I})}(Sf)),Sf.exports}var Af={exports:{}};/*!
  * Bootstrap scrollbar.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var zH=Af.exports,lA;function BH(){return lA||(lA=1,function(n,e){(function(t,r){n.exports=r(Tk(),Jp(),no())})(zH,function(t,r,i){const s=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",a=".sticky-top",c="padding-right",u="margin-right";class d{constructor(){this._element=document.body}getWidth(){const _=document.documentElement.clientWidth;return Math.abs(window.innerWidth-_)}hide(){const _=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,c,y=>y+_),this._setElementAttributes(s,c,y=>y+_),this._setElementAttributes(a,u,y=>y-_)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,c),this._resetElementAttributes(s,c),this._resetElementAttributes(a,u)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(_,y,w){const T=this.getWidth(),I=A=>{if(A!==this._element&&window.innerWidth>A.clientWidth+T)return;this._saveInitialAttribute(A,y);const O=window.getComputedStyle(A).getPropertyValue(y);A.style.setProperty(y,`${w(Number.parseFloat(O))}px`)};this._applyManipulationCallback(_,I)}_saveInitialAttribute(_,y){const w=_.style.getPropertyValue(y);w&&t.setDataAttribute(_,y,w)}_resetElementAttributes(_,y){const w=T=>{const I=t.getDataAttribute(T,y);if(I===null){T.style.removeProperty(y);return}t.removeDataAttribute(T,y),T.style.setProperty(y,I)};this._applyManipulationCallback(_,w)}_applyManipulationCallback(_,y){if(i.isElement(_)){y(_);return}for(const w of r.find(_,this._element))y(w)}}return d})}(Af)),Af.exports}/*!
  * Bootstrap offcanvas.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var HH=gf.exports,cA;function WH(){return cA||(cA=1,function(n,e){(function(t,r){n.exports=r(DH(),nh(),Jp(),VH(),$H(),UH(),no(),BH())})(HH,function(t,r,i,s,a,c,u,d){const m="offcanvas",y=".bs.offcanvas",w=".data-api",T=`load${y}${w}`,I="Escape",A="show",O="showing",L="hiding",$="offcanvas-backdrop",z=".offcanvas.show",H=`show${y}`,j=`shown${y}`,k=`hide${y}`,C=`hidePrevented${y}`,R=`hidden${y}`,x=`resize${y}`,N=`click${y}${w}`,M=`keydown.dismiss${y}`,D='[data-bs-toggle="offcanvas"]',ye={backdrop:!0,keyboard:!0,scroll:!1},me={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class he extends t{constructor(J,ie){super(J,ie),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return ye}static get DefaultType(){return me}static get NAME(){return m}toggle(J){return this._isShown?this.hide():this.show(J)}show(J){if(this._isShown||r.trigger(this._element,H,{relatedTarget:J}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new d().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(O);const ce=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(A),this._element.classList.remove(O),r.trigger(this._element,j,{relatedTarget:J})};this._queueCallback(ce,this._element,!0)}hide(){if(!this._isShown||r.trigger(this._element,k).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(L),this._backdrop.hide();const ie=()=>{this._element.classList.remove(A,L),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new d().reset(),r.trigger(this._element,R)};this._queueCallback(ie,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const J=()=>{if(this._config.backdrop==="static"){r.trigger(this._element,C);return}this.hide()},ie=!!this._config.backdrop;return new s({className:$,isVisible:ie,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:ie?J:null})}_initializeFocusTrap(){return new c({trapElement:this._element})}_addEventListeners(){r.on(this._element,M,J=>{if(J.key===I){if(this._config.keyboard){this.hide();return}r.trigger(this._element,C)}})}static jQueryInterface(J){return this.each(function(){const ie=he.getOrCreateInstance(this,J);if(typeof J=="string"){if(ie[J]===void 0||J.startsWith("_")||J==="constructor")throw new TypeError(`No method named "${J}"`);ie[J](this)}})}}return r.on(document,N,D,function(de){const J=i.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&de.preventDefault(),u.isDisabled(this))return;r.one(J,R,()=>{u.isVisible(this)&&this.focus()});const ie=i.findOne(z);ie&&ie!==J&&he.getInstance(ie).hide(),he.getOrCreateInstance(J).toggle(this)}),r.on(window,T,()=>{for(const de of i.find(z))he.getOrCreateInstance(de).show()}),r.on(window,x,()=>{for(const de of i.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(de).position!=="fixed"&&he.getOrCreateInstance(de).hide()}),a.enableDismissTrigger(he),u.defineJQueryPlugin(he),he})}(gf)),gf.exports}var KH=WH();const qH=uA(KH);function GH({user:n}){const e=fp(),[t,r]=q.useState(!1),i=async()=>{try{await fI(Al),e("/",{replace:!0})}catch(m){console.error("Chyba pri odhlaseni:",m)}},[s,a]=q.useState({bio:{spravne:0,nespravne:0},che:{spravne:0,nespravne:0}});async function c(){const m=["bio","che"],_={},y=Array.from({length:7},(T,I)=>{const A=new Date;return A.setDate(A.getDate()-(6-I)),A.toISOString().slice(0,10)}),w={};y.forEach(T=>{w[T]=0});for(const T of m){const I=hv(TC,"users",n.email,"tests",T),A=await wC(I);if(A.exists()){const O=A.data(),L=(O==null?void 0:O.odpovede)??[];let $=0,z=0;L.forEach(H=>{if((H==null?void 0:H.spravna)===!0?$++:z++,H!=null&&H.timestamp){const k=new Date(H.timestamp).toISOString().slice(0,10);y.includes(k)&&w[k]++}}),_[T]={spravne:$,nespravne:z}}else _[T]={spravne:0,nespravne:0}}_.answersLast7Days=w,a(_)}const u=()=>{r(m=>!m),t?document.body.style.background="#FAFAFA":document.body.style.background="#212529"},d=()=>{let m=document.getElementById("offcanvasScrolling");window.innerWidth<950?m.setAttribute("data-bs-backdrop","true"):m.setAttribute("data-bs-backdrop","false")};return q.useEffect(()=>{n.email&&c(),r(!0),d();const m=document.getElementById("offcanvasScrolling");m&&new qH(m).show()},[n.email]),Y.jsxs("div",{children:[Y.jsx("button",{className:`btn text-light fs-4 ${t?"text-light":"text-dark"}`,type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasScrolling","aria-controls":"offcanvasScrolling",children:Y.jsx(IH,{})}),Y.jsx("div",{className:"offcanvas offcanvas-start custom-sidebar ","data-bs-scroll":"true","data-bs-backdrop":"false",tabIndex:"-1",id:"offcanvasScrolling","aria-labelledby":"offcanvasScrollingLabel",children:Y.jsxs("div",{className:` custom-sidebar-bg d-flex flex-column h-100  ${t?"dark ":"light"}`,children:[Y.jsx("div",{className:"offcanvas-header ",children:Y.jsxs("div",{className:"welcomeMsg d-flex flex-column justify-content-center",children:[Y.jsx(SH,{size:25,className:"m-auto"}),Y.jsx("h6",{className:"m-0 userName",children:n.displayName})]})}),Y.jsx("hr",{className:`${t?"text-light":"text-dark"}`}),Y.jsxs("div",{className:"offcanvas-body d-flex flex-column justify-content-center gap-2",children:[Y.jsx("button",{onClick:c,"data-bs-toggle":"modal","data-bs-target":"#scrollableModal",className:`btn  ${t?"text-light":"text-dark"}`,children:Y.jsx(s$,{size:25})}),Y.jsx("hr",{className:`${t?"text-light":"text-dark"}`}),Y.jsx("div",{className:"form-check form-switch modeWrapper",children:Y.jsx("input",{className:"form-check-input toggler",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault",onChange:u,checked:!!t})}),Y.jsx("hr",{className:`${t?"text-light":"text-dark"}`}),Y.jsx("button",{type:"button",className:`btn-close  mx-auto ${t?"btn-close-white":"btn-close-dark"}`,"data-bs-dismiss":"offcanvas","aria-label":"Close"}),Y.jsx("button",{type:"button",className:`btn logoutBtn ${t?"btn-outline-light":"btn-outline-dark"} `,onClick:i,children:Y.jsx(AH,{size:20})})]})]})}),Y.jsx(TH,{mode:t,stats:s,email:n.email}),Y.jsx(cU,{mode:t,user:n}),Y.jsx(uU,{})]})}function YH(){const[n,e]=q.useState(null),[t,r]=q.useState(!0);return q.useEffect(()=>dI(Al,s=>{e(s),r(!1)}),[]),t?Y.jsx("div",{children:"Natavam..."}):Y.jsxs(kP,{children:[Y.jsx(Yd,{path:"/",element:Y.jsx(i$,{})}),Y.jsx(Yd,{path:"/register",element:Y.jsx(a$,{})}),Y.jsx(Yd,{path:"/test",element:n?Y.jsx(GH,{user:n}):Y.jsx(xP,{to:"/",replace:!0})})]})}VR.createRoot(document.getElementById("root")).render(Y.jsx(q.StrictMode,{children:Y.jsx(ZP,{basename:"/medTest",children:Y.jsx(YH,{})})}));
