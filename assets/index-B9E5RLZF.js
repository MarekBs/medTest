var Ok=Object.defineProperty;var Nk=(n,e,t)=>e in n?Ok(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Pe=(n,e,t)=>Nk(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function Dk(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ag={exports:{}},Du={},lg={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw;function Mk(){if(Mw)return $e;Mw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function E(j){return j===null||typeof j!="object"?null:(j=_&&j[_]||j["@@iterator"],typeof j=="function"?j:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,I={};function A(j,J,fe){this.props=j,this.context=J,this.refs=I,this.updater=fe||T}A.prototype.isReactComponent={},A.prototype.setState=function(j,J){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,J,"setState")},A.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function R(){}R.prototype=A.prototype;function L(j,J,fe){this.props=j,this.context=J,this.refs=I,this.updater=fe||T}var U=L.prototype=new R;U.constructor=L,S(U,A.prototype),U.isPureReactComponent=!0;var B=Array.isArray,Q=Object.prototype.hasOwnProperty,Y={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function x(j,J,fe){var Te,be={},ae=null,ve=null;if(J!=null)for(Te in J.ref!==void 0&&(ve=J.ref),J.key!==void 0&&(ae=""+J.key),J)Q.call(J,Te)&&!P.hasOwnProperty(Te)&&(be[Te]=J[Te]);var he=arguments.length-2;if(he===1)be.children=fe;else if(1<he){for(var Re=Array(he),Ke=0;Ke<he;Ke++)Re[Ke]=arguments[Ke+2];be.children=Re}if(j&&j.defaultProps)for(Te in he=j.defaultProps,he)be[Te]===void 0&&(be[Te]=he[Te]);return{$$typeof:n,type:j,key:ae,ref:ve,props:be,_owner:Y.current}}function k(j,J){return{$$typeof:n,type:j.type,key:J,ref:j.ref,props:j.props,_owner:j._owner}}function N(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function M(j){var J={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(fe){return J[fe]})}var V=/\/+/g;function O(j,J){return typeof j=="object"&&j!==null&&j.key!=null?M(""+j.key):J.toString(36)}function Me(j,J,fe,Te,be){var ae=typeof j;(ae==="undefined"||ae==="boolean")&&(j=null);var ve=!1;if(j===null)ve=!0;else switch(ae){case"string":case"number":ve=!0;break;case"object":switch(j.$$typeof){case n:case e:ve=!0}}if(ve)return ve=j,be=be(ve),j=Te===""?"."+O(ve,0):Te,B(be)?(fe="",j!=null&&(fe=j.replace(V,"$&/")+"/"),Me(be,J,fe,"",function(Ke){return Ke})):be!=null&&(N(be)&&(be=k(be,fe+(!be.key||ve&&ve.key===be.key?"":(""+be.key).replace(V,"$&/")+"/")+j)),J.push(be)),1;if(ve=0,Te=Te===""?".":Te+":",B(j))for(var he=0;he<j.length;he++){ae=j[he];var Re=Te+O(ae,he);ve+=Me(ae,J,fe,Re,be)}else if(Re=E(j),typeof Re=="function")for(j=Re.call(j),he=0;!(ae=j.next()).done;)ae=ae.value,Re=Te+O(ae,he++),ve+=Me(ae,J,fe,Re,be);else if(ae==="object")throw J=String(j),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return ve}function Se(j,J,fe){if(j==null)return j;var Te=[],be=0;return Me(j,Te,"","",function(ae){return J.call(fe,ae,be++)}),Te}function we(j){if(j._status===-1){var J=j._result;J=J(),J.then(function(fe){(j._status===0||j._status===-1)&&(j._status=1,j._result=fe)},function(fe){(j._status===0||j._status===-1)&&(j._status=2,j._result=fe)}),j._status===-1&&(j._status=0,j._result=J)}if(j._status===1)return j._result.default;throw j._result}var ge={current:null},re={transition:null},ce={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:re,ReactCurrentOwner:Y};function le(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:Se,forEach:function(j,J,fe){Se(j,function(){J.apply(this,arguments)},fe)},count:function(j){var J=0;return Se(j,function(){J++}),J},toArray:function(j){return Se(j,function(J){return J})||[]},only:function(j){if(!N(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},$e.Component=A,$e.Fragment=t,$e.Profiler=i,$e.PureComponent=L,$e.StrictMode=r,$e.Suspense=h,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,$e.act=le,$e.cloneElement=function(j,J,fe){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var Te=S({},j.props),be=j.key,ae=j.ref,ve=j._owner;if(J!=null){if(J.ref!==void 0&&(ae=J.ref,ve=Y.current),J.key!==void 0&&(be=""+J.key),j.type&&j.type.defaultProps)var he=j.type.defaultProps;for(Re in J)Q.call(J,Re)&&!P.hasOwnProperty(Re)&&(Te[Re]=J[Re]===void 0&&he!==void 0?he[Re]:J[Re])}var Re=arguments.length-2;if(Re===1)Te.children=fe;else if(1<Re){he=Array(Re);for(var Ke=0;Ke<Re;Ke++)he[Ke]=arguments[Ke+2];Te.children=he}return{$$typeof:n,type:j.type,key:be,ref:ae,props:Te,_owner:ve}},$e.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:s,_context:j},j.Consumer=j},$e.createElement=x,$e.createFactory=function(j){var J=x.bind(null,j);return J.type=j,J},$e.createRef=function(){return{current:null}},$e.forwardRef=function(j){return{$$typeof:u,render:j}},$e.isValidElement=N,$e.lazy=function(j){return{$$typeof:m,_payload:{_status:-1,_result:j},_init:we}},$e.memo=function(j,J){return{$$typeof:f,type:j,compare:J===void 0?null:J}},$e.startTransition=function(j){var J=re.transition;re.transition={};try{j()}finally{re.transition=J}},$e.unstable_act=le,$e.useCallback=function(j,J){return ge.current.useCallback(j,J)},$e.useContext=function(j){return ge.current.useContext(j)},$e.useDebugValue=function(){},$e.useDeferredValue=function(j){return ge.current.useDeferredValue(j)},$e.useEffect=function(j,J){return ge.current.useEffect(j,J)},$e.useId=function(){return ge.current.useId()},$e.useImperativeHandle=function(j,J,fe){return ge.current.useImperativeHandle(j,J,fe)},$e.useInsertionEffect=function(j,J){return ge.current.useInsertionEffect(j,J)},$e.useLayoutEffect=function(j,J){return ge.current.useLayoutEffect(j,J)},$e.useMemo=function(j,J){return ge.current.useMemo(j,J)},$e.useReducer=function(j,J,fe){return ge.current.useReducer(j,J,fe)},$e.useRef=function(j){return ge.current.useRef(j)},$e.useState=function(j){return ge.current.useState(j)},$e.useSyncExternalStore=function(j,J,fe){return ge.current.useSyncExternalStore(j,J,fe)},$e.useTransition=function(){return ge.current.useTransition()},$e.version="18.3.1",$e}var Lw;function K_(){return Lw||(Lw=1,lg.exports=Mk()),lg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vw;function Lk(){if(Vw)return Du;Vw=1;var n=K_(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,f){var m,_={},E=null,T=null;f!==void 0&&(E=""+f),h.key!==void 0&&(E=""+h.key),h.ref!==void 0&&(T=h.ref);for(m in h)r.call(h,m)&&!s.hasOwnProperty(m)&&(_[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)_[m]===void 0&&(_[m]=h[m]);return{$$typeof:e,type:u,key:E,ref:T,props:_,_owner:i.current}}return Du.Fragment=t,Du.jsx=l,Du.jsxs=l,Du}var Fw;function Vk(){return Fw||(Fw=1,ag.exports=Lk()),ag.exports}var X=Vk(),W=K_();const Mi=Dk(W);var ld={},ug={exports:{}},bn={},cg={exports:{}},hg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w;function Fk(){return $w||($w=1,function(n){function e(re,ce){var le=re.length;re.push(ce);e:for(;0<le;){var j=le-1>>>1,J=re[j];if(0<i(J,ce))re[j]=ce,re[le]=J,le=j;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ce=re[0],le=re.pop();if(le!==ce){re[0]=le;e:for(var j=0,J=re.length,fe=J>>>1;j<fe;){var Te=2*(j+1)-1,be=re[Te],ae=Te+1,ve=re[ae];if(0>i(be,le))ae<J&&0>i(ve,be)?(re[j]=ve,re[ae]=le,j=ae):(re[j]=be,re[Te]=le,j=Te);else if(ae<J&&0>i(ve,le))re[j]=ve,re[ae]=le,j=ae;else break e}}return ce}function i(re,ce){var le=re.sortIndex-ce.sortIndex;return le!==0?le:re.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],f=[],m=1,_=null,E=3,T=!1,S=!1,I=!1,A=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(re){for(var ce=t(f);ce!==null;){if(ce.callback===null)r(f);else if(ce.startTime<=re)r(f),ce.sortIndex=ce.expirationTime,e(h,ce);else break;ce=t(f)}}function B(re){if(I=!1,U(re),!S)if(t(h)!==null)S=!0,we(Q);else{var ce=t(f);ce!==null&&ge(B,ce.startTime-re)}}function Q(re,ce){S=!1,I&&(I=!1,R(x),x=-1),T=!0;var le=E;try{for(U(ce),_=t(h);_!==null&&(!(_.expirationTime>ce)||re&&!M());){var j=_.callback;if(typeof j=="function"){_.callback=null,E=_.priorityLevel;var J=j(_.expirationTime<=ce);ce=n.unstable_now(),typeof J=="function"?_.callback=J:_===t(h)&&r(h),U(ce)}else r(h);_=t(h)}if(_!==null)var fe=!0;else{var Te=t(f);Te!==null&&ge(B,Te.startTime-ce),fe=!1}return fe}finally{_=null,E=le,T=!1}}var Y=!1,P=null,x=-1,k=5,N=-1;function M(){return!(n.unstable_now()-N<k)}function V(){if(P!==null){var re=n.unstable_now();N=re;var ce=!0;try{ce=P(!0,re)}finally{ce?O():(Y=!1,P=null)}}else Y=!1}var O;if(typeof L=="function")O=function(){L(V)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,Se=Me.port2;Me.port1.onmessage=V,O=function(){Se.postMessage(null)}}else O=function(){A(V,0)};function we(re){P=re,Y||(Y=!0,O())}function ge(re,ce){x=A(function(){re(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){S||T||(S=!0,we(Q))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(re){switch(E){case 1:case 2:case 3:var ce=3;break;default:ce=E}var le=E;E=ce;try{return re()}finally{E=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,ce){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var le=E;E=re;try{return ce()}finally{E=le}},n.unstable_scheduleCallback=function(re,ce,le){var j=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?j+le:j):le=j,re){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=le+J,re={id:m++,callback:ce,priorityLevel:re,startTime:le,expirationTime:J,sortIndex:-1},le>j?(re.sortIndex=le,e(f,re),t(h)===null&&re===t(f)&&(I?(R(x),x=-1):I=!0,ge(B,le-j))):(re.sortIndex=J,e(h,re),S||T||(S=!0,we(Q))),re},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(re){var ce=E;return function(){var le=E;E=ce;try{return re.apply(this,arguments)}finally{E=le}}}}(hg)),hg}var jw;function $k(){return jw||(jw=1,cg.exports=Fk()),cg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw;function jk(){if(Uw)return bn;Uw=1;var n=K_(),e=$k();function t(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(i[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},_={};function E(o){return h.call(_,o)?!0:h.call(m,o)?!1:f.test(o)?_[o]=!0:(m[o]=!0,!1)}function T(o,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function S(o,a,c,p){if(a===null||typeof a>"u"||T(o,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function I(o,a,c,p,g,v,b){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=o,this.type=a,this.sanitizeURL=v,this.removeEmptyString=b}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){A[o]=new I(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];A[a]=new I(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){A[o]=new I(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){A[o]=new I(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){A[o]=new I(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){A[o]=new I(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){A[o]=new I(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){A[o]=new I(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){A[o]=new I(o,5,!1,o.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function L(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(R,L);A[a]=new I(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(R,L);A[a]=new I(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(R,L);A[a]=new I(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){A[o]=new I(o,1,!1,o.toLowerCase(),null,!1,!1)}),A.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){A[o]=new I(o,1,!1,o.toLowerCase(),null,!0,!0)});function U(o,a,c,p){var g=A.hasOwnProperty(a)?A[a]:null;(g!==null?g.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(S(a,c,g,p)&&(c=null),p||g===null?E(a)&&(c===null?o.removeAttribute(a):o.setAttribute(a,""+c)):g.mustUseProperty?o[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,p=g.attributeNamespace,c===null?o.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,p?o.setAttributeNS(p,a,c):o.setAttribute(a,c))))}var B=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),Y=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),M=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),re=Symbol.iterator;function ce(o){return o===null||typeof o!="object"?null:(o=re&&o[re]||o["@@iterator"],typeof o=="function"?o:null)}var le=Object.assign,j;function J(o){if(j===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);j=a&&a[1]||""}return`
`+j+o}var fe=!1;function Te(o,a){if(!o||fe)return"";fe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(q){var p=q}Reflect.construct(o,[],a)}else{try{a.call()}catch(q){p=q}o.call(a.prototype)}else{try{throw Error()}catch(q){p=q}o()}}catch(q){if(q&&p&&typeof q.stack=="string"){for(var g=q.stack.split(`
`),v=p.stack.split(`
`),b=g.length-1,D=v.length-1;1<=b&&0<=D&&g[b]!==v[D];)D--;for(;1<=b&&0<=D;b--,D--)if(g[b]!==v[D]){if(b!==1||D!==1)do if(b--,D--,0>D||g[b]!==v[D]){var F=`
`+g[b].replace(" at new "," at ");return o.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",o.displayName)),F}while(1<=b&&0<=D);break}}}finally{fe=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?J(o):""}function be(o){switch(o.tag){case 5:return J(o.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return o=Te(o.type,!1),o;case 11:return o=Te(o.type.render,!1),o;case 1:return o=Te(o.type,!0),o;default:return""}}function ae(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case P:return"Fragment";case Y:return"Portal";case k:return"Profiler";case x:return"StrictMode";case O:return"Suspense";case Me:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case M:return(o.displayName||"Context")+".Consumer";case N:return(o._context.displayName||"Context")+".Provider";case V:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Se:return a=o.displayName||null,a!==null?a:ae(o.type)||"Memo";case we:a=o._payload,o=o._init;try{return ae(o(a))}catch{}}return null}function ve(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(a);case 8:return a===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function he(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Re(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ke(o){var a=Re(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),p=""+o[a];if(!o.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,v=c.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return g.call(this)},set:function(b){p=""+b,v.call(this,b)}}),Object.defineProperty(o,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(b){p=""+b},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function Ze(o){o._valueTracker||(o._valueTracker=Ke(o))}function pt(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return o&&(p=Re(o)?o.checked?"true":"false":o.value),o=p,o!==c?(a.setValue(o),!0):!1}function Xt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Vt(o,a){var c=a.checked;return le({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function mn(o,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=he(a.value!=null?a.value:c),o._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Dr(o,a){a=a.checked,a!=null&&U(o,"checked",a,!1)}function Mr(o,a){Dr(o,a);var c=he(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(p==="submit"||p==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?hr(o,a.type,c):a.hasOwnProperty("defaultValue")&&hr(o,a.type,he(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function Qi(o,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,c||a===o.value||(o.value=a),o.defaultValue=a}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function hr(o,a,c){(a!=="number"||Xt(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var xt=Array.isArray;function Jt(o,a,c,p){if(o=o.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<o.length;c++)g=a.hasOwnProperty("$"+o[c].value),o[c].selected!==g&&(o[c].selected=g),g&&p&&(o[c].defaultSelected=!0)}else{for(c=""+he(c),a=null,g=0;g<o.length;g++){if(o[g].value===c){o[g].selected=!0,p&&(o[g].defaultSelected=!0);return}a!==null||o[g].disabled||(a=o[g])}a!==null&&(a.selected=!0)}}function Lr(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function fi(o,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(xt(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}o._wrapperState={initialValue:he(c)}}function Vr(o,a){var c=he(a.value),p=he(a.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),a.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),p!=null&&(o.defaultValue=""+p)}function Xi(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function mt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?mt(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Kn,Hl=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,g){MSApp.execUnsafeLocalFunction(function(){return o(a,c,p,g)})}:o}(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(Kn=Kn||document.createElement("div"),Kn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Kn.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function Ji(o,a){if(a){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=a;return}}o.textContent=a}var to={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},no=["Webkit","ms","Moz","O"];Object.keys(to).forEach(function(o){no.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),to[a]=to[o]})});function Wl(o,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||to.hasOwnProperty(o)&&to[o]?(""+a).trim():a+"px"}function Kl(o,a){o=o.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,g=Wl(c,a[c],p);c==="float"&&(c="cssFloat"),p?o.setProperty(c,g):o[c]=g}}var ql=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gl(o,a){if(a){if(ql[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Yl(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ro=null;function oa(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var aa=null,qn=null,Fr=null;function la(o){if(o=vu(o)){if(typeof aa!="function")throw Error(t(280));var a=o.stateNode;a&&(a=bh(a),aa(o.stateNode,o.type,a))}}function $r(o){qn?Fr?Fr.push(o):Fr=[o]:qn=o}function Ql(){if(qn){var o=qn,a=Fr;if(Fr=qn=null,la(o),a)for(o=0;o<a.length;o++)la(a[o])}}function io(o,a){return o(a)}function Xl(){}var pi=!1;function Jl(o,a,c){if(pi)return o(a,c);pi=!0;try{return io(o,a,c)}finally{pi=!1,(qn!==null||Fr!==null)&&(Xl(),Ql())}}function Et(o,a){var c=o.stateNode;if(c===null)return null;var p=bh(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var ua=!1;if(u)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){ua=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{ua=!1}function so(o,a,c,p,g,v,b,D,F){var q=Array.prototype.slice.call(arguments,3);try{a.apply(c,q)}catch(te){this.onError(te)}}var oo=!1,ca=null,fr=!1,Zl=null,Mp={onError:function(o){oo=!0,ca=o}};function ha(o,a,c,p,g,v,b,D,F){oo=!1,ca=null,so.apply(Mp,arguments)}function Gc(o,a,c,p,g,v,b,D,F){if(ha.apply(this,arguments),oo){if(oo){var q=ca;oo=!1,ca=null}else throw Error(t(198));fr||(fr=!0,Zl=q)}}function pr(o){var a=o,c=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(c=a.return),o=a.return;while(o)}return a.tag===3?c:null}function ao(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function mr(o){if(pr(o)!==o)throw Error(t(188))}function Yc(o){var a=o.alternate;if(!a){if(a=pr(o),a===null)throw Error(t(188));return a!==o?null:o}for(var c=o,p=a;;){var g=c.return;if(g===null)break;var v=g.alternate;if(v===null){if(p=g.return,p!==null){c=p;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===c)return mr(g),o;if(v===p)return mr(g),a;v=v.sibling}throw Error(t(188))}if(c.return!==p.return)c=g,p=v;else{for(var b=!1,D=g.child;D;){if(D===c){b=!0,c=g,p=v;break}if(D===p){b=!0,p=g,c=v;break}D=D.sibling}if(!b){for(D=v.child;D;){if(D===c){b=!0,c=v,p=g;break}if(D===p){b=!0,p=v,c=g;break}D=D.sibling}if(!b)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?o:a}function eu(o){return o=Yc(o),o!==null?da(o):null}function da(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=da(o);if(a!==null)return a;o=o.sibling}return null}var fa=e.unstable_scheduleCallback,tu=e.unstable_cancelCallback,Qc=e.unstable_shouldYield,Lp=e.unstable_requestPaint,nt=e.unstable_now,Xc=e.unstable_getCurrentPriorityLevel,lo=e.unstable_ImmediatePriority,Zi=e.unstable_UserBlockingPriority,Gn=e.unstable_NormalPriority,nu=e.unstable_LowPriority,Jc=e.unstable_IdlePriority,uo=null,Pn=null;function Zc(o){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(uo,o,void 0,(o.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:th,ru=Math.log,eh=Math.LN2;function th(o){return o>>>=0,o===0?32:31-(ru(o)/eh|0)|0}var pa=64,ma=4194304;function es(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function co(o,a){var c=o.pendingLanes;if(c===0)return 0;var p=0,g=o.suspendedLanes,v=o.pingedLanes,b=c&268435455;if(b!==0){var D=b&~g;D!==0?p=es(D):(v&=b,v!==0&&(p=es(v)))}else b=c&~g,b!==0?p=es(b):v!==0&&(p=es(v));if(p===0)return 0;if(a!==0&&a!==p&&(a&g)===0&&(g=p&-p,v=a&-a,g>=v||g===16&&(v&4194240)!==0))return a;if((p&4)!==0&&(p|=c&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=p;0<a;)c=31-ln(a),g=1<<c,p|=o[c],a&=~g;return p}function Vp(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mi(o,a){for(var c=o.suspendedLanes,p=o.pingedLanes,g=o.expirationTimes,v=o.pendingLanes;0<v;){var b=31-ln(v),D=1<<b,F=g[b];F===-1?((D&c)===0||(D&p)!==0)&&(g[b]=Vp(D,a)):F<=a&&(o.expiredLanes|=D),v&=~D}}function On(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function ho(){var o=pa;return pa<<=1,(pa&4194240)===0&&(pa=64),o}function ts(o){for(var a=[],c=0;31>c;c++)a.push(o);return a}function ns(o,a,c){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-ln(a),o[a]=c}function et(o,a){var c=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var p=o.eventTimes;for(o=o.expirationTimes;0<c;){var g=31-ln(c),v=1<<g;a[g]=0,p[g]=-1,o[g]=-1,c&=~v}}function rs(o,a){var c=o.entangledLanes|=a;for(o=o.entanglements;c;){var p=31-ln(c),g=1<<p;g&a|o[p]&a&&(o[p]|=a),c&=~g}}var Be=0;function is(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var nh,ga,rh,ih,sh,iu=!1,jr=[],Ht=null,gr=null,_r=null,ss=new Map,Yn=new Map,Ur=[],Fp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oh(o,a){switch(o){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":ss.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yn.delete(a.pointerId)}}function gn(o,a,c,p,g,v){return o===null||o.nativeEvent!==v?(o={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:v,targetContainers:[g]},a!==null&&(a=vu(a),a!==null&&ga(a)),o):(o.eventSystemFlags|=p,a=o.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),o)}function $p(o,a,c,p,g){switch(a){case"focusin":return Ht=gn(Ht,o,a,c,p,g),!0;case"dragenter":return gr=gn(gr,o,a,c,p,g),!0;case"mouseover":return _r=gn(_r,o,a,c,p,g),!0;case"pointerover":var v=g.pointerId;return ss.set(v,gn(ss.get(v)||null,o,a,c,p,g)),!0;case"gotpointercapture":return v=g.pointerId,Yn.set(v,gn(Yn.get(v)||null,o,a,c,p,g)),!0}return!1}function ah(o){var a=_o(o.target);if(a!==null){var c=pr(a);if(c!==null){if(a=c.tag,a===13){if(a=ao(c),a!==null){o.blockedOn=a,sh(o.priority,function(){rh(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function gi(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var c=_a(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var p=new c.constructor(c.type,c);ro=p,c.target.dispatchEvent(p),ro=null}else return a=vu(c),a!==null&&ga(a),o.blockedOn=c,!1;a.shift()}return!0}function fo(o,a,c){gi(o)&&c.delete(a)}function lh(){iu=!1,Ht!==null&&gi(Ht)&&(Ht=null),gr!==null&&gi(gr)&&(gr=null),_r!==null&&gi(_r)&&(_r=null),ss.forEach(fo),Yn.forEach(fo)}function yr(o,a){o.blockedOn===a&&(o.blockedOn=null,iu||(iu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lh)))}function vr(o){function a(g){return yr(g,o)}if(0<jr.length){yr(jr[0],o);for(var c=1;c<jr.length;c++){var p=jr[c];p.blockedOn===o&&(p.blockedOn=null)}}for(Ht!==null&&yr(Ht,o),gr!==null&&yr(gr,o),_r!==null&&yr(_r,o),ss.forEach(a),Yn.forEach(a),c=0;c<Ur.length;c++)p=Ur[c],p.blockedOn===o&&(p.blockedOn=null);for(;0<Ur.length&&(c=Ur[0],c.blockedOn===null);)ah(c),c.blockedOn===null&&Ur.shift()}var _i=B.ReactCurrentBatchConfig,os=!0;function at(o,a,c,p){var g=Be,v=_i.transition;_i.transition=null;try{Be=1,su(o,a,c,p)}finally{Be=g,_i.transition=v}}function jp(o,a,c,p){var g=Be,v=_i.transition;_i.transition=null;try{Be=4,su(o,a,c,p)}finally{Be=g,_i.transition=v}}function su(o,a,c,p){if(os){var g=_a(o,a,c,p);if(g===null)Xp(o,a,p,po,c),oh(o,p);else if($p(g,o,a,c,p))p.stopPropagation();else if(oh(o,p),a&4&&-1<Fp.indexOf(o)){for(;g!==null;){var v=vu(g);if(v!==null&&nh(v),v=_a(o,a,c,p),v===null&&Xp(o,a,p,po,c),v===g)break;g=v}g!==null&&p.stopPropagation()}else Xp(o,a,p,null,c)}}var po=null;function _a(o,a,c,p){if(po=null,o=oa(p),o=_o(o),o!==null)if(a=pr(o),a===null)o=null;else if(c=a.tag,c===13){if(o=ao(a),o!==null)return o;o=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return po=o,null}function ou(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xc()){case lo:return 1;case Zi:return 4;case Gn:case nu:return 16;case Jc:return 536870912;default:return 16}default:return 16}}var Nn=null,ya=null,_n=null;function au(){if(_n)return _n;var o,a=ya,c=a.length,p,g="value"in Nn?Nn.value:Nn.textContent,v=g.length;for(o=0;o<c&&a[o]===g[o];o++);var b=c-o;for(p=1;p<=b&&a[c-p]===g[v-p];p++);return _n=g.slice(o,1<p?1-p:void 0)}function va(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function Br(){return!0}function lu(){return!1}function Wt(o){function a(c,p,g,v,b){this._reactName=c,this._targetInst=g,this.type=p,this.nativeEvent=v,this.target=b,this.currentTarget=null;for(var D in o)o.hasOwnProperty(D)&&(c=o[D],this[D]=c?c(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Br:lu,this.isPropagationStopped=lu,this}return le(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Br)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Br)},persist:function(){},isPersistent:Br}),a}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=Wt(Er),zr=le({},Er,{view:0,detail:0}),Up=Wt(zr),wa,yi,as,mo=le({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==as&&(as&&o.type==="mousemove"?(wa=o.screenX-as.screenX,yi=o.screenY-as.screenY):yi=wa=0,as=o),wa)},movementY:function(o){return"movementY"in o?o.movementY:yi}}),Ta=Wt(mo),uu=le({},mo,{dataTransfer:0}),uh=Wt(uu),ba=le({},zr,{relatedTarget:0}),Sa=Wt(ba),ch=le({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),vi=Wt(ch),hh=le({},Er,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),dh=Wt(hh),fh=le({},Er,{data:0}),cu=Wt(fh),Ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ph={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mh(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=ph[o])?!!a[o]:!1}function Hr(){return mh}var d=le({},zr,{key:function(o){if(o.key){var a=Ia[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=va(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?un[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(o){return o.type==="keypress"?va(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?va(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),y=Wt(d),w=le({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=Wt(w),z=le({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),G=Wt(z),ue=le({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),Je=Wt(ue),kt=le({},mo,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=Wt(kt),Ft=[9,13,27,32],St=u&&"CompositionEvent"in window,Qn=null;u&&"documentMode"in document&&(Qn=document.documentMode);var Dn=u&&"TextEvent"in window&&!Qn,go=u&&(!St||Qn&&8<Qn&&11>=Qn),Aa=" ",kv=!1;function Rv(o,a){switch(o){case"keyup":return Ft.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pv(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ca=!1;function k1(o,a){switch(o){case"compositionend":return Pv(a);case"keypress":return a.which!==32?null:(kv=!0,Aa);case"textInput":return o=a.data,o===Aa&&kv?null:o;default:return null}}function R1(o,a){if(Ca)return o==="compositionend"||!St&&Rv(o,a)?(o=au(),_n=ya=Nn=null,Ca=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return go&&a.locale!=="ko"?null:a.data;default:return null}}var P1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ov(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!P1[o.type]:a==="textarea"}function Nv(o,a,c,p){$r(p),a=Eh(a,"onChange"),0<a.length&&(c=new Ea("onChange","change",null,c,p),o.push({event:c,listeners:a}))}var hu=null,du=null;function O1(o){Xv(o,0)}function gh(o){var a=Oa(o);if(pt(a))return o}function N1(o,a){if(o==="change")return a}var Dv=!1;if(u){var Bp;if(u){var zp="oninput"in document;if(!zp){var Mv=document.createElement("div");Mv.setAttribute("oninput","return;"),zp=typeof Mv.oninput=="function"}Bp=zp}else Bp=!1;Dv=Bp&&(!document.documentMode||9<document.documentMode)}function Lv(){hu&&(hu.detachEvent("onpropertychange",Vv),du=hu=null)}function Vv(o){if(o.propertyName==="value"&&gh(du)){var a=[];Nv(a,du,o,oa(o)),Jl(O1,a)}}function D1(o,a,c){o==="focusin"?(Lv(),hu=a,du=c,hu.attachEvent("onpropertychange",Vv)):o==="focusout"&&Lv()}function M1(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return gh(du)}function L1(o,a){if(o==="click")return gh(a)}function V1(o,a){if(o==="input"||o==="change")return gh(a)}function F1(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var wr=typeof Object.is=="function"?Object.is:F1;function fu(o,a){if(wr(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var c=Object.keys(o),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var g=c[p];if(!h.call(a,g)||!wr(o[g],a[g]))return!1}return!0}function Fv(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function $v(o,a){var c=Fv(o);o=0;for(var p;c;){if(c.nodeType===3){if(p=o+c.textContent.length,o<=a&&p>=a)return{node:c,offset:a-o};o=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Fv(c)}}function jv(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?jv(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function Uv(){for(var o=window,a=Xt();a instanceof o.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)o=a.contentWindow;else break;a=Xt(o.document)}return a}function Hp(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function $1(o){var a=Uv(),c=o.focusedElem,p=o.selectionRange;if(a!==c&&c&&c.ownerDocument&&jv(c.ownerDocument.documentElement,c)){if(p!==null&&Hp(c)){if(a=p.start,o=p.end,o===void 0&&(o=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(o,c.value.length);else if(o=(a=c.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var g=c.textContent.length,v=Math.min(p.start,g);p=p.end===void 0?v:Math.min(p.end,g),!o.extend&&v>p&&(g=p,p=v,v=g),g=$v(c,v);var b=$v(c,p);g&&b&&(o.rangeCount!==1||o.anchorNode!==g.node||o.anchorOffset!==g.offset||o.focusNode!==b.node||o.focusOffset!==b.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),o.removeAllRanges(),v>p?(o.addRange(a),o.extend(b.node,b.offset)):(a.setEnd(b.node,b.offset),o.addRange(a)))}}for(a=[],o=c;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)o=a[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var j1=u&&"documentMode"in document&&11>=document.documentMode,xa=null,Wp=null,pu=null,Kp=!1;function Bv(o,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Kp||xa==null||xa!==Xt(p)||(p=xa,"selectionStart"in p&&Hp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),pu&&fu(pu,p)||(pu=p,p=Eh(Wp,"onSelect"),0<p.length&&(a=new Ea("onSelect","select",null,a,c),o.push({event:a,listeners:p}),a.target=xa)))}function _h(o,a){var c={};return c[o.toLowerCase()]=a.toLowerCase(),c["Webkit"+o]="webkit"+a,c["Moz"+o]="moz"+a,c}var ka={animationend:_h("Animation","AnimationEnd"),animationiteration:_h("Animation","AnimationIteration"),animationstart:_h("Animation","AnimationStart"),transitionend:_h("Transition","TransitionEnd")},qp={},zv={};u&&(zv=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function yh(o){if(qp[o])return qp[o];if(!ka[o])return o;var a=ka[o],c;for(c in a)if(a.hasOwnProperty(c)&&c in zv)return qp[o]=a[c];return o}var Hv=yh("animationend"),Wv=yh("animationiteration"),Kv=yh("animationstart"),qv=yh("transitionend"),Gv=new Map,Yv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ls(o,a){Gv.set(o,a),s(a,[o])}for(var Gp=0;Gp<Yv.length;Gp++){var Yp=Yv[Gp],U1=Yp.toLowerCase(),B1=Yp[0].toUpperCase()+Yp.slice(1);ls(U1,"on"+B1)}ls(Hv,"onAnimationEnd"),ls(Wv,"onAnimationIteration"),ls(Kv,"onAnimationStart"),ls("dblclick","onDoubleClick"),ls("focusin","onFocus"),ls("focusout","onBlur"),ls(qv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z1=new Set("cancel close invalid load scroll toggle".split(" ").concat(mu));function Qv(o,a,c){var p=o.type||"unknown-event";o.currentTarget=c,Gc(p,a,void 0,o),o.currentTarget=null}function Xv(o,a){a=(a&4)!==0;for(var c=0;c<o.length;c++){var p=o[c],g=p.event;p=p.listeners;e:{var v=void 0;if(a)for(var b=p.length-1;0<=b;b--){var D=p[b],F=D.instance,q=D.currentTarget;if(D=D.listener,F!==v&&g.isPropagationStopped())break e;Qv(g,D,q),v=F}else for(b=0;b<p.length;b++){if(D=p[b],F=D.instance,q=D.currentTarget,D=D.listener,F!==v&&g.isPropagationStopped())break e;Qv(g,D,q),v=F}}}if(fr)throw o=Zl,fr=!1,Zl=null,o}function it(o,a){var c=a[rm];c===void 0&&(c=a[rm]=new Set);var p=o+"__bubble";c.has(p)||(Jv(a,o,2,!1),c.add(p))}function Qp(o,a,c){var p=0;a&&(p|=4),Jv(c,o,p,a)}var vh="_reactListening"+Math.random().toString(36).slice(2);function gu(o){if(!o[vh]){o[vh]=!0,r.forEach(function(c){c!=="selectionchange"&&(z1.has(c)||Qp(c,!1,o),Qp(c,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[vh]||(a[vh]=!0,Qp("selectionchange",!1,a))}}function Jv(o,a,c,p){switch(ou(a)){case 1:var g=at;break;case 4:g=jp;break;default:g=su}c=g.bind(null,a,c,o),g=void 0,!ua||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),p?g!==void 0?o.addEventListener(a,c,{capture:!0,passive:g}):o.addEventListener(a,c,!0):g!==void 0?o.addEventListener(a,c,{passive:g}):o.addEventListener(a,c,!1)}function Xp(o,a,c,p,g){var v=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var b=p.tag;if(b===3||b===4){var D=p.stateNode.containerInfo;if(D===g||D.nodeType===8&&D.parentNode===g)break;if(b===4)for(b=p.return;b!==null;){var F=b.tag;if((F===3||F===4)&&(F=b.stateNode.containerInfo,F===g||F.nodeType===8&&F.parentNode===g))return;b=b.return}for(;D!==null;){if(b=_o(D),b===null)return;if(F=b.tag,F===5||F===6){p=v=b;continue e}D=D.parentNode}}p=p.return}Jl(function(){var q=v,te=oa(c),ie=[];e:{var ee=Gv.get(o);if(ee!==void 0){var de=Ea,_e=o;switch(o){case"keypress":if(va(c)===0)break e;case"keydown":case"keyup":de=y;break;case"focusin":_e="focus",de=Sa;break;case"focusout":_e="blur",de=Sa;break;case"beforeblur":case"afterblur":de=Sa;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Ta;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=G;break;case Hv:case Wv:case Kv:de=vi;break;case qv:de=Je;break;case"scroll":de=Up;break;case"wheel":de=ze;break;case"copy":case"cut":case"paste":de=dh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=C}var ye=(a&4)!==0,wt=!ye&&o==="scroll",H=ye?ee!==null?ee+"Capture":null:ee;ye=[];for(var $=q,K;$!==null;){K=$;var oe=K.stateNode;if(K.tag===5&&oe!==null&&(K=oe,H!==null&&(oe=Et($,H),oe!=null&&ye.push(_u($,oe,K)))),wt)break;$=$.return}0<ye.length&&(ee=new de(ee,_e,null,c,te),ie.push({event:ee,listeners:ye}))}}if((a&7)===0){e:{if(ee=o==="mouseover"||o==="pointerover",de=o==="mouseout"||o==="pointerout",ee&&c!==ro&&(_e=c.relatedTarget||c.fromElement)&&(_o(_e)||_e[Ei]))break e;if((de||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,de?(_e=c.relatedTarget||c.toElement,de=q,_e=_e?_o(_e):null,_e!==null&&(wt=pr(_e),_e!==wt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(de=null,_e=q),de!==_e)){if(ye=Ta,oe="onMouseLeave",H="onMouseEnter",$="mouse",(o==="pointerout"||o==="pointerover")&&(ye=C,oe="onPointerLeave",H="onPointerEnter",$="pointer"),wt=de==null?ee:Oa(de),K=_e==null?ee:Oa(_e),ee=new ye(oe,$+"leave",de,c,te),ee.target=wt,ee.relatedTarget=K,oe=null,_o(te)===q&&(ye=new ye(H,$+"enter",_e,c,te),ye.target=K,ye.relatedTarget=wt,oe=ye),wt=oe,de&&_e)t:{for(ye=de,H=_e,$=0,K=ye;K;K=Ra(K))$++;for(K=0,oe=H;oe;oe=Ra(oe))K++;for(;0<$-K;)ye=Ra(ye),$--;for(;0<K-$;)H=Ra(H),K--;for(;$--;){if(ye===H||H!==null&&ye===H.alternate)break t;ye=Ra(ye),H=Ra(H)}ye=null}else ye=null;de!==null&&Zv(ie,ee,de,ye,!1),_e!==null&&wt!==null&&Zv(ie,wt,_e,ye,!0)}}e:{if(ee=q?Oa(q):window,de=ee.nodeName&&ee.nodeName.toLowerCase(),de==="select"||de==="input"&&ee.type==="file")var Ee=N1;else if(Ov(ee))if(Dv)Ee=V1;else{Ee=M1;var Ae=D1}else(de=ee.nodeName)&&de.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(Ee=L1);if(Ee&&(Ee=Ee(o,q))){Nv(ie,Ee,c,te);break e}Ae&&Ae(o,ee,q),o==="focusout"&&(Ae=ee._wrapperState)&&Ae.controlled&&ee.type==="number"&&hr(ee,"number",ee.value)}switch(Ae=q?Oa(q):window,o){case"focusin":(Ov(Ae)||Ae.contentEditable==="true")&&(xa=Ae,Wp=q,pu=null);break;case"focusout":pu=Wp=xa=null;break;case"mousedown":Kp=!0;break;case"contextmenu":case"mouseup":case"dragend":Kp=!1,Bv(ie,c,te);break;case"selectionchange":if(j1)break;case"keydown":case"keyup":Bv(ie,c,te)}var Ce;if(St)e:{switch(o){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Ca?Rv(o,c)&&(De="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(De="onCompositionStart");De&&(go&&c.locale!=="ko"&&(Ca||De!=="onCompositionStart"?De==="onCompositionEnd"&&Ca&&(Ce=au()):(Nn=te,ya="value"in Nn?Nn.value:Nn.textContent,Ca=!0)),Ae=Eh(q,De),0<Ae.length&&(De=new cu(De,o,null,c,te),ie.push({event:De,listeners:Ae}),Ce?De.data=Ce:(Ce=Pv(c),Ce!==null&&(De.data=Ce)))),(Ce=Dn?k1(o,c):R1(o,c))&&(q=Eh(q,"onBeforeInput"),0<q.length&&(te=new cu("onBeforeInput","beforeinput",null,c,te),ie.push({event:te,listeners:q}),te.data=Ce))}Xv(ie,a)})}function _u(o,a,c){return{instance:o,listener:a,currentTarget:c}}function Eh(o,a){for(var c=a+"Capture",p=[];o!==null;){var g=o,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=Et(o,c),v!=null&&p.unshift(_u(o,v,g)),v=Et(o,a),v!=null&&p.push(_u(o,v,g))),o=o.return}return p}function Ra(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Zv(o,a,c,p,g){for(var v=a._reactName,b=[];c!==null&&c!==p;){var D=c,F=D.alternate,q=D.stateNode;if(F!==null&&F===p)break;D.tag===5&&q!==null&&(D=q,g?(F=Et(c,v),F!=null&&b.unshift(_u(c,F,D))):g||(F=Et(c,v),F!=null&&b.push(_u(c,F,D)))),c=c.return}b.length!==0&&o.push({event:a,listeners:b})}var H1=/\r\n?/g,W1=/\u0000|\uFFFD/g;function eE(o){return(typeof o=="string"?o:""+o).replace(H1,`
`).replace(W1,"")}function wh(o,a,c){if(a=eE(a),eE(o)!==a&&c)throw Error(t(425))}function Th(){}var Jp=null,Zp=null;function em(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var tm=typeof setTimeout=="function"?setTimeout:void 0,K1=typeof clearTimeout=="function"?clearTimeout:void 0,tE=typeof Promise=="function"?Promise:void 0,q1=typeof queueMicrotask=="function"?queueMicrotask:typeof tE<"u"?function(o){return tE.resolve(null).then(o).catch(G1)}:tm;function G1(o){setTimeout(function(){throw o})}function nm(o,a){var c=a,p=0;do{var g=c.nextSibling;if(o.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(p===0){o.removeChild(g),vr(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=g}while(c);vr(a)}function us(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function nE(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return o;a--}else c==="/$"&&a++}o=o.previousSibling}return null}var Pa=Math.random().toString(36).slice(2),Wr="__reactFiber$"+Pa,yu="__reactProps$"+Pa,Ei="__reactContainer$"+Pa,rm="__reactEvents$"+Pa,Y1="__reactListeners$"+Pa,Q1="__reactHandles$"+Pa;function _o(o){var a=o[Wr];if(a)return a;for(var c=o.parentNode;c;){if(a=c[Ei]||c[Wr]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(o=nE(o);o!==null;){if(c=o[Wr])return c;o=nE(o)}return a}o=c,c=o.parentNode}return null}function vu(o){return o=o[Wr]||o[Ei],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Oa(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function bh(o){return o[yu]||null}var im=[],Na=-1;function cs(o){return{current:o}}function st(o){0>Na||(o.current=im[Na],im[Na]=null,Na--)}function rt(o,a){Na++,im[Na]=o.current,o.current=a}var hs={},Zt=cs(hs),yn=cs(!1),yo=hs;function Da(o,a){var c=o.type.contextTypes;if(!c)return hs;var p=o.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in c)g[v]=a[v];return p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=g),g}function vn(o){return o=o.childContextTypes,o!=null}function Sh(){st(yn),st(Zt)}function rE(o,a,c){if(Zt.current!==hs)throw Error(t(168));rt(Zt,a),rt(yn,c)}function iE(o,a,c){var p=o.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var g in p)if(!(g in a))throw Error(t(108,ve(o)||"Unknown",g));return le({},c,p)}function Ih(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||hs,yo=Zt.current,rt(Zt,o),rt(yn,yn.current),!0}function sE(o,a,c){var p=o.stateNode;if(!p)throw Error(t(169));c?(o=iE(o,a,yo),p.__reactInternalMemoizedMergedChildContext=o,st(yn),st(Zt),rt(Zt,o)):st(yn),rt(yn,c)}var wi=null,Ah=!1,sm=!1;function oE(o){wi===null?wi=[o]:wi.push(o)}function X1(o){Ah=!0,oE(o)}function ds(){if(!sm&&wi!==null){sm=!0;var o=0,a=Be;try{var c=wi;for(Be=1;o<c.length;o++){var p=c[o];do p=p(!0);while(p!==null)}wi=null,Ah=!1}catch(g){throw wi!==null&&(wi=wi.slice(o+1)),fa(lo,ds),g}finally{Be=a,sm=!1}}return null}var Ma=[],La=0,Ch=null,xh=0,Xn=[],Jn=0,vo=null,Ti=1,bi="";function Eo(o,a){Ma[La++]=xh,Ma[La++]=Ch,Ch=o,xh=a}function aE(o,a,c){Xn[Jn++]=Ti,Xn[Jn++]=bi,Xn[Jn++]=vo,vo=o;var p=Ti;o=bi;var g=32-ln(p)-1;p&=~(1<<g),c+=1;var v=32-ln(a)+g;if(30<v){var b=g-g%5;v=(p&(1<<b)-1).toString(32),p>>=b,g-=b,Ti=1<<32-ln(a)+g|c<<g|p,bi=v+o}else Ti=1<<v|c<<g|p,bi=o}function om(o){o.return!==null&&(Eo(o,1),aE(o,1,0))}function am(o){for(;o===Ch;)Ch=Ma[--La],Ma[La]=null,xh=Ma[--La],Ma[La]=null;for(;o===vo;)vo=Xn[--Jn],Xn[Jn]=null,bi=Xn[--Jn],Xn[Jn]=null,Ti=Xn[--Jn],Xn[Jn]=null}var Mn=null,Ln=null,lt=!1,Tr=null;function lE(o,a){var c=nr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=o,a=o.deletions,a===null?(o.deletions=[c],o.flags|=16):a.push(c)}function uE(o,a){switch(o.tag){case 5:var c=o.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,Mn=o,Ln=us(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,Mn=o,Ln=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=vo!==null?{id:Ti,overflow:bi}:null,o.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=nr(18,null,null,0),c.stateNode=a,c.return=o,o.child=c,Mn=o,Ln=null,!0):!1;default:return!1}}function lm(o){return(o.mode&1)!==0&&(o.flags&128)===0}function um(o){if(lt){var a=Ln;if(a){var c=a;if(!uE(o,a)){if(lm(o))throw Error(t(418));a=us(c.nextSibling);var p=Mn;a&&uE(o,a)?lE(p,c):(o.flags=o.flags&-4097|2,lt=!1,Mn=o)}}else{if(lm(o))throw Error(t(418));o.flags=o.flags&-4097|2,lt=!1,Mn=o}}}function cE(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Mn=o}function kh(o){if(o!==Mn)return!1;if(!lt)return cE(o),lt=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!em(o.type,o.memoizedProps)),a&&(a=Ln)){if(lm(o))throw hE(),Error(t(418));for(;a;)lE(o,a),a=us(a.nextSibling)}if(cE(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(a===0){Ln=us(o.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}o=o.nextSibling}Ln=null}}else Ln=Mn?us(o.stateNode.nextSibling):null;return!0}function hE(){for(var o=Ln;o;)o=us(o.nextSibling)}function Va(){Ln=Mn=null,lt=!1}function cm(o){Tr===null?Tr=[o]:Tr.push(o)}var J1=B.ReactCurrentBatchConfig;function Eu(o,a,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,o));var g=p,v=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===v?a.ref:(a=function(b){var D=g.refs;b===null?delete D[v]:D[v]=b},a._stringRef=v,a)}if(typeof o!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,o))}return o}function Rh(o,a){throw o=Object.prototype.toString.call(a),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function dE(o){var a=o._init;return a(o._payload)}function fE(o){function a(H,$){if(o){var K=H.deletions;K===null?(H.deletions=[$],H.flags|=16):K.push($)}}function c(H,$){if(!o)return null;for(;$!==null;)a(H,$),$=$.sibling;return null}function p(H,$){for(H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function g(H,$){return H=Es(H,$),H.index=0,H.sibling=null,H}function v(H,$,K){return H.index=K,o?(K=H.alternate,K!==null?(K=K.index,K<$?(H.flags|=2,$):K):(H.flags|=2,$)):(H.flags|=1048576,$)}function b(H){return o&&H.alternate===null&&(H.flags|=2),H}function D(H,$,K,oe){return $===null||$.tag!==6?($=tg(K,H.mode,oe),$.return=H,$):($=g($,K),$.return=H,$)}function F(H,$,K,oe){var Ee=K.type;return Ee===P?te(H,$,K.props.children,oe,K.key):$!==null&&($.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===we&&dE(Ee)===$.type)?(oe=g($,K.props),oe.ref=Eu(H,$,K),oe.return=H,oe):(oe=ed(K.type,K.key,K.props,null,H.mode,oe),oe.ref=Eu(H,$,K),oe.return=H,oe)}function q(H,$,K,oe){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=ng(K,H.mode,oe),$.return=H,$):($=g($,K.children||[]),$.return=H,$)}function te(H,$,K,oe,Ee){return $===null||$.tag!==7?($=xo(K,H.mode,oe,Ee),$.return=H,$):($=g($,K),$.return=H,$)}function ie(H,$,K){if(typeof $=="string"&&$!==""||typeof $=="number")return $=tg(""+$,H.mode,K),$.return=H,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case Q:return K=ed($.type,$.key,$.props,null,H.mode,K),K.ref=Eu(H,null,$),K.return=H,K;case Y:return $=ng($,H.mode,K),$.return=H,$;case we:var oe=$._init;return ie(H,oe($._payload),K)}if(xt($)||ce($))return $=xo($,H.mode,K,null),$.return=H,$;Rh(H,$)}return null}function ee(H,$,K,oe){var Ee=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Ee!==null?null:D(H,$,""+K,oe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return K.key===Ee?F(H,$,K,oe):null;case Y:return K.key===Ee?q(H,$,K,oe):null;case we:return Ee=K._init,ee(H,$,Ee(K._payload),oe)}if(xt(K)||ce(K))return Ee!==null?null:te(H,$,K,oe,null);Rh(H,K)}return null}function de(H,$,K,oe,Ee){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return H=H.get(K)||null,D($,H,""+oe,Ee);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case Q:return H=H.get(oe.key===null?K:oe.key)||null,F($,H,oe,Ee);case Y:return H=H.get(oe.key===null?K:oe.key)||null,q($,H,oe,Ee);case we:var Ae=oe._init;return de(H,$,K,Ae(oe._payload),Ee)}if(xt(oe)||ce(oe))return H=H.get(K)||null,te($,H,oe,Ee,null);Rh($,oe)}return null}function _e(H,$,K,oe){for(var Ee=null,Ae=null,Ce=$,De=$=0,Ut=null;Ce!==null&&De<K.length;De++){Ce.index>De?(Ut=Ce,Ce=null):Ut=Ce.sibling;var Ge=ee(H,Ce,K[De],oe);if(Ge===null){Ce===null&&(Ce=Ut);break}o&&Ce&&Ge.alternate===null&&a(H,Ce),$=v(Ge,$,De),Ae===null?Ee=Ge:Ae.sibling=Ge,Ae=Ge,Ce=Ut}if(De===K.length)return c(H,Ce),lt&&Eo(H,De),Ee;if(Ce===null){for(;De<K.length;De++)Ce=ie(H,K[De],oe),Ce!==null&&($=v(Ce,$,De),Ae===null?Ee=Ce:Ae.sibling=Ce,Ae=Ce);return lt&&Eo(H,De),Ee}for(Ce=p(H,Ce);De<K.length;De++)Ut=de(Ce,H,De,K[De],oe),Ut!==null&&(o&&Ut.alternate!==null&&Ce.delete(Ut.key===null?De:Ut.key),$=v(Ut,$,De),Ae===null?Ee=Ut:Ae.sibling=Ut,Ae=Ut);return o&&Ce.forEach(function(ws){return a(H,ws)}),lt&&Eo(H,De),Ee}function ye(H,$,K,oe){var Ee=ce(K);if(typeof Ee!="function")throw Error(t(150));if(K=Ee.call(K),K==null)throw Error(t(151));for(var Ae=Ee=null,Ce=$,De=$=0,Ut=null,Ge=K.next();Ce!==null&&!Ge.done;De++,Ge=K.next()){Ce.index>De?(Ut=Ce,Ce=null):Ut=Ce.sibling;var ws=ee(H,Ce,Ge.value,oe);if(ws===null){Ce===null&&(Ce=Ut);break}o&&Ce&&ws.alternate===null&&a(H,Ce),$=v(ws,$,De),Ae===null?Ee=ws:Ae.sibling=ws,Ae=ws,Ce=Ut}if(Ge.done)return c(H,Ce),lt&&Eo(H,De),Ee;if(Ce===null){for(;!Ge.done;De++,Ge=K.next())Ge=ie(H,Ge.value,oe),Ge!==null&&($=v(Ge,$,De),Ae===null?Ee=Ge:Ae.sibling=Ge,Ae=Ge);return lt&&Eo(H,De),Ee}for(Ce=p(H,Ce);!Ge.done;De++,Ge=K.next())Ge=de(Ce,H,De,Ge.value,oe),Ge!==null&&(o&&Ge.alternate!==null&&Ce.delete(Ge.key===null?De:Ge.key),$=v(Ge,$,De),Ae===null?Ee=Ge:Ae.sibling=Ge,Ae=Ge);return o&&Ce.forEach(function(Pk){return a(H,Pk)}),lt&&Eo(H,De),Ee}function wt(H,$,K,oe){if(typeof K=="object"&&K!==null&&K.type===P&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:e:{for(var Ee=K.key,Ae=$;Ae!==null;){if(Ae.key===Ee){if(Ee=K.type,Ee===P){if(Ae.tag===7){c(H,Ae.sibling),$=g(Ae,K.props.children),$.return=H,H=$;break e}}else if(Ae.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===we&&dE(Ee)===Ae.type){c(H,Ae.sibling),$=g(Ae,K.props),$.ref=Eu(H,Ae,K),$.return=H,H=$;break e}c(H,Ae);break}else a(H,Ae);Ae=Ae.sibling}K.type===P?($=xo(K.props.children,H.mode,oe,K.key),$.return=H,H=$):(oe=ed(K.type,K.key,K.props,null,H.mode,oe),oe.ref=Eu(H,$,K),oe.return=H,H=oe)}return b(H);case Y:e:{for(Ae=K.key;$!==null;){if($.key===Ae)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){c(H,$.sibling),$=g($,K.children||[]),$.return=H,H=$;break e}else{c(H,$);break}else a(H,$);$=$.sibling}$=ng(K,H.mode,oe),$.return=H,H=$}return b(H);case we:return Ae=K._init,wt(H,$,Ae(K._payload),oe)}if(xt(K))return _e(H,$,K,oe);if(ce(K))return ye(H,$,K,oe);Rh(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,$!==null&&$.tag===6?(c(H,$.sibling),$=g($,K),$.return=H,H=$):(c(H,$),$=tg(K,H.mode,oe),$.return=H,H=$),b(H)):c(H,$)}return wt}var Fa=fE(!0),pE=fE(!1),Ph=cs(null),Oh=null,$a=null,hm=null;function dm(){hm=$a=Oh=null}function fm(o){var a=Ph.current;st(Ph),o._currentValue=a}function pm(o,a,c){for(;o!==null;){var p=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),o===c)break;o=o.return}}function ja(o,a){Oh=o,hm=$a=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(En=!0),o.firstContext=null)}function Zn(o){var a=o._currentValue;if(hm!==o)if(o={context:o,memoizedValue:a,next:null},$a===null){if(Oh===null)throw Error(t(308));$a=o,Oh.dependencies={lanes:0,firstContext:o}}else $a=$a.next=o;return a}var wo=null;function mm(o){wo===null?wo=[o]:wo.push(o)}function mE(o,a,c,p){var g=a.interleaved;return g===null?(c.next=c,mm(a)):(c.next=g.next,g.next=c),a.interleaved=c,Si(o,p)}function Si(o,a){o.lanes|=a;var c=o.alternate;for(c!==null&&(c.lanes|=a),c=o,o=o.return;o!==null;)o.childLanes|=a,c=o.alternate,c!==null&&(c.childLanes|=a),c=o,o=o.return;return c.tag===3?c.stateNode:null}var fs=!1;function gm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gE(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ii(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function ps(o,a,c){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(qe&2)!==0){var g=p.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),p.pending=a,Si(o,c)}return g=p.interleaved,g===null?(a.next=a,mm(p)):(a.next=g.next,g.next=a),p.interleaved=a,Si(o,c)}function Nh(o,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=o.pendingLanes,c|=p,a.lanes=c,rs(o,c)}}function _E(o,a){var c=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var g=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var b={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};v===null?g=v=b:v=v.next=b,c=c.next}while(c!==null);v===null?g=v=a:v=v.next=a}else g=v=a;c={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:p.shared,effects:p.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=a:o.next=a,c.lastBaseUpdate=a}function Dh(o,a,c,p){var g=o.updateQueue;fs=!1;var v=g.firstBaseUpdate,b=g.lastBaseUpdate,D=g.shared.pending;if(D!==null){g.shared.pending=null;var F=D,q=F.next;F.next=null,b===null?v=q:b.next=q,b=F;var te=o.alternate;te!==null&&(te=te.updateQueue,D=te.lastBaseUpdate,D!==b&&(D===null?te.firstBaseUpdate=q:D.next=q,te.lastBaseUpdate=F))}if(v!==null){var ie=g.baseState;b=0,te=q=F=null,D=v;do{var ee=D.lane,de=D.eventTime;if((p&ee)===ee){te!==null&&(te=te.next={eventTime:de,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var _e=o,ye=D;switch(ee=a,de=c,ye.tag){case 1:if(_e=ye.payload,typeof _e=="function"){ie=_e.call(de,ie,ee);break e}ie=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=ye.payload,ee=typeof _e=="function"?_e.call(de,ie,ee):_e,ee==null)break e;ie=le({},ie,ee);break e;case 2:fs=!0}}D.callback!==null&&D.lane!==0&&(o.flags|=64,ee=g.effects,ee===null?g.effects=[D]:ee.push(D))}else de={eventTime:de,lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},te===null?(q=te=de,F=ie):te=te.next=de,b|=ee;if(D=D.next,D===null){if(D=g.shared.pending,D===null)break;ee=D,D=ee.next,ee.next=null,g.lastBaseUpdate=ee,g.shared.pending=null}}while(!0);if(te===null&&(F=ie),g.baseState=F,g.firstBaseUpdate=q,g.lastBaseUpdate=te,a=g.shared.interleaved,a!==null){g=a;do b|=g.lane,g=g.next;while(g!==a)}else v===null&&(g.shared.lanes=0);So|=b,o.lanes=b,o.memoizedState=ie}}function yE(o,a,c){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var p=o[a],g=p.callback;if(g!==null){if(p.callback=null,p=c,typeof g!="function")throw Error(t(191,g));g.call(p)}}}var wu={},Kr=cs(wu),Tu=cs(wu),bu=cs(wu);function To(o){if(o===wu)throw Error(t(174));return o}function _m(o,a){switch(rt(bu,a),rt(Tu,o),rt(Kr,wu),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:gt(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=gt(a,o)}st(Kr),rt(Kr,a)}function Ua(){st(Kr),st(Tu),st(bu)}function vE(o){To(bu.current);var a=To(Kr.current),c=gt(a,o.type);a!==c&&(rt(Tu,o),rt(Kr,c))}function ym(o){Tu.current===o&&(st(Kr),st(Tu))}var ht=cs(0);function Mh(o){for(var a=o;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var vm=[];function Em(){for(var o=0;o<vm.length;o++)vm[o]._workInProgressVersionPrimary=null;vm.length=0}var Lh=B.ReactCurrentDispatcher,wm=B.ReactCurrentBatchConfig,bo=0,dt=null,Rt=null,$t=null,Vh=!1,Su=!1,Iu=0,Z1=0;function en(){throw Error(t(321))}function Tm(o,a){if(a===null)return!1;for(var c=0;c<a.length&&c<o.length;c++)if(!wr(o[c],a[c]))return!1;return!0}function bm(o,a,c,p,g,v){if(bo=v,dt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Lh.current=o===null||o.memoizedState===null?rk:ik,o=c(p,g),Su){v=0;do{if(Su=!1,Iu=0,25<=v)throw Error(t(301));v+=1,$t=Rt=null,a.updateQueue=null,Lh.current=sk,o=c(p,g)}while(Su)}if(Lh.current=jh,a=Rt!==null&&Rt.next!==null,bo=0,$t=Rt=dt=null,Vh=!1,a)throw Error(t(300));return o}function Sm(){var o=Iu!==0;return Iu=0,o}function qr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?dt.memoizedState=$t=o:$t=$t.next=o,$t}function er(){if(Rt===null){var o=dt.alternate;o=o!==null?o.memoizedState:null}else o=Rt.next;var a=$t===null?dt.memoizedState:$t.next;if(a!==null)$t=a,Rt=o;else{if(o===null)throw Error(t(310));Rt=o,o={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},$t===null?dt.memoizedState=$t=o:$t=$t.next=o}return $t}function Au(o,a){return typeof a=="function"?a(o):a}function Im(o){var a=er(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var p=Rt,g=p.baseQueue,v=c.pending;if(v!==null){if(g!==null){var b=g.next;g.next=v.next,v.next=b}p.baseQueue=g=v,c.pending=null}if(g!==null){v=g.next,p=p.baseState;var D=b=null,F=null,q=v;do{var te=q.lane;if((bo&te)===te)F!==null&&(F=F.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),p=q.hasEagerState?q.eagerState:o(p,q.action);else{var ie={lane:te,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};F===null?(D=F=ie,b=p):F=F.next=ie,dt.lanes|=te,So|=te}q=q.next}while(q!==null&&q!==v);F===null?b=p:F.next=D,wr(p,a.memoizedState)||(En=!0),a.memoizedState=p,a.baseState=b,a.baseQueue=F,c.lastRenderedState=p}if(o=c.interleaved,o!==null){g=o;do v=g.lane,dt.lanes|=v,So|=v,g=g.next;while(g!==o)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Am(o){var a=er(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var p=c.dispatch,g=c.pending,v=a.memoizedState;if(g!==null){c.pending=null;var b=g=g.next;do v=o(v,b.action),b=b.next;while(b!==g);wr(v,a.memoizedState)||(En=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),c.lastRenderedState=v}return[v,p]}function EE(){}function wE(o,a){var c=dt,p=er(),g=a(),v=!wr(p.memoizedState,g);if(v&&(p.memoizedState=g,En=!0),p=p.queue,Cm(SE.bind(null,c,p,o),[o]),p.getSnapshot!==a||v||$t!==null&&$t.memoizedState.tag&1){if(c.flags|=2048,Cu(9,bE.bind(null,c,p,g,a),void 0,null),jt===null)throw Error(t(349));(bo&30)!==0||TE(c,a,g)}return g}function TE(o,a,c){o.flags|=16384,o={getSnapshot:a,value:c},a=dt.updateQueue,a===null?(a={lastEffect:null,stores:null},dt.updateQueue=a,a.stores=[o]):(c=a.stores,c===null?a.stores=[o]:c.push(o))}function bE(o,a,c,p){a.value=c,a.getSnapshot=p,IE(a)&&AE(o)}function SE(o,a,c){return c(function(){IE(a)&&AE(o)})}function IE(o){var a=o.getSnapshot;o=o.value;try{var c=a();return!wr(o,c)}catch{return!0}}function AE(o){var a=Si(o,1);a!==null&&Ar(a,o,1,-1)}function CE(o){var a=qr();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Au,lastRenderedState:o},a.queue=o,o=o.dispatch=nk.bind(null,dt,o),[a.memoizedState,o]}function Cu(o,a,c,p){return o={tag:o,create:a,destroy:c,deps:p,next:null},a=dt.updateQueue,a===null?(a={lastEffect:null,stores:null},dt.updateQueue=a,a.lastEffect=o.next=o):(c=a.lastEffect,c===null?a.lastEffect=o.next=o:(p=c.next,c.next=o,o.next=p,a.lastEffect=o)),o}function xE(){return er().memoizedState}function Fh(o,a,c,p){var g=qr();dt.flags|=o,g.memoizedState=Cu(1|a,c,void 0,p===void 0?null:p)}function $h(o,a,c,p){var g=er();p=p===void 0?null:p;var v=void 0;if(Rt!==null){var b=Rt.memoizedState;if(v=b.destroy,p!==null&&Tm(p,b.deps)){g.memoizedState=Cu(a,c,v,p);return}}dt.flags|=o,g.memoizedState=Cu(1|a,c,v,p)}function kE(o,a){return Fh(8390656,8,o,a)}function Cm(o,a){return $h(2048,8,o,a)}function RE(o,a){return $h(4,2,o,a)}function PE(o,a){return $h(4,4,o,a)}function OE(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function NE(o,a,c){return c=c!=null?c.concat([o]):null,$h(4,4,OE.bind(null,a,o),c)}function xm(){}function DE(o,a){var c=er();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Tm(a,p[1])?p[0]:(c.memoizedState=[o,a],o)}function ME(o,a){var c=er();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Tm(a,p[1])?p[0]:(o=o(),c.memoizedState=[o,a],o)}function LE(o,a,c){return(bo&21)===0?(o.baseState&&(o.baseState=!1,En=!0),o.memoizedState=c):(wr(c,a)||(c=ho(),dt.lanes|=c,So|=c,o.baseState=!0),a)}function ek(o,a){var c=Be;Be=c!==0&&4>c?c:4,o(!0);var p=wm.transition;wm.transition={};try{o(!1),a()}finally{Be=c,wm.transition=p}}function VE(){return er().memoizedState}function tk(o,a,c){var p=ys(o);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},FE(o))$E(a,c);else if(c=mE(o,a,c,p),c!==null){var g=hn();Ar(c,o,p,g),jE(c,a,p)}}function nk(o,a,c){var p=ys(o),g={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(FE(o))$E(a,g);else{var v=o.alternate;if(o.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var b=a.lastRenderedState,D=v(b,c);if(g.hasEagerState=!0,g.eagerState=D,wr(D,b)){var F=a.interleaved;F===null?(g.next=g,mm(a)):(g.next=F.next,F.next=g),a.interleaved=g;return}}catch{}finally{}c=mE(o,a,g,p),c!==null&&(g=hn(),Ar(c,o,p,g),jE(c,a,p))}}function FE(o){var a=o.alternate;return o===dt||a!==null&&a===dt}function $E(o,a){Su=Vh=!0;var c=o.pending;c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a}function jE(o,a,c){if((c&4194240)!==0){var p=a.lanes;p&=o.pendingLanes,c|=p,a.lanes=c,rs(o,c)}}var jh={readContext:Zn,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},rk={readContext:Zn,useCallback:function(o,a){return qr().memoizedState=[o,a===void 0?null:a],o},useContext:Zn,useEffect:kE,useImperativeHandle:function(o,a,c){return c=c!=null?c.concat([o]):null,Fh(4194308,4,OE.bind(null,a,o),c)},useLayoutEffect:function(o,a){return Fh(4194308,4,o,a)},useInsertionEffect:function(o,a){return Fh(4,2,o,a)},useMemo:function(o,a){var c=qr();return a=a===void 0?null:a,o=o(),c.memoizedState=[o,a],o},useReducer:function(o,a,c){var p=qr();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},p.queue=o,o=o.dispatch=tk.bind(null,dt,o),[p.memoizedState,o]},useRef:function(o){var a=qr();return o={current:o},a.memoizedState=o},useState:CE,useDebugValue:xm,useDeferredValue:function(o){return qr().memoizedState=o},useTransition:function(){var o=CE(!1),a=o[0];return o=ek.bind(null,o[1]),qr().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,c){var p=dt,g=qr();if(lt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),jt===null)throw Error(t(349));(bo&30)!==0||TE(p,a,c)}g.memoizedState=c;var v={value:c,getSnapshot:a};return g.queue=v,kE(SE.bind(null,p,v,o),[o]),p.flags|=2048,Cu(9,bE.bind(null,p,v,c,a),void 0,null),c},useId:function(){var o=qr(),a=jt.identifierPrefix;if(lt){var c=bi,p=Ti;c=(p&~(1<<32-ln(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=Iu++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=Z1++,a=":"+a+"r"+c.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},ik={readContext:Zn,useCallback:DE,useContext:Zn,useEffect:Cm,useImperativeHandle:NE,useInsertionEffect:RE,useLayoutEffect:PE,useMemo:ME,useReducer:Im,useRef:xE,useState:function(){return Im(Au)},useDebugValue:xm,useDeferredValue:function(o){var a=er();return LE(a,Rt.memoizedState,o)},useTransition:function(){var o=Im(Au)[0],a=er().memoizedState;return[o,a]},useMutableSource:EE,useSyncExternalStore:wE,useId:VE,unstable_isNewReconciler:!1},sk={readContext:Zn,useCallback:DE,useContext:Zn,useEffect:Cm,useImperativeHandle:NE,useInsertionEffect:RE,useLayoutEffect:PE,useMemo:ME,useReducer:Am,useRef:xE,useState:function(){return Am(Au)},useDebugValue:xm,useDeferredValue:function(o){var a=er();return Rt===null?a.memoizedState=o:LE(a,Rt.memoizedState,o)},useTransition:function(){var o=Am(Au)[0],a=er().memoizedState;return[o,a]},useMutableSource:EE,useSyncExternalStore:wE,useId:VE,unstable_isNewReconciler:!1};function br(o,a){if(o&&o.defaultProps){a=le({},a),o=o.defaultProps;for(var c in o)a[c]===void 0&&(a[c]=o[c]);return a}return a}function km(o,a,c,p){a=o.memoizedState,c=c(p,a),c=c==null?a:le({},a,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var Uh={isMounted:function(o){return(o=o._reactInternals)?pr(o)===o:!1},enqueueSetState:function(o,a,c){o=o._reactInternals;var p=hn(),g=ys(o),v=Ii(p,g);v.payload=a,c!=null&&(v.callback=c),a=ps(o,v,g),a!==null&&(Ar(a,o,g,p),Nh(a,o,g))},enqueueReplaceState:function(o,a,c){o=o._reactInternals;var p=hn(),g=ys(o),v=Ii(p,g);v.tag=1,v.payload=a,c!=null&&(v.callback=c),a=ps(o,v,g),a!==null&&(Ar(a,o,g,p),Nh(a,o,g))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var c=hn(),p=ys(o),g=Ii(c,p);g.tag=2,a!=null&&(g.callback=a),a=ps(o,g,p),a!==null&&(Ar(a,o,p,c),Nh(a,o,p))}};function UE(o,a,c,p,g,v,b){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,v,b):a.prototype&&a.prototype.isPureReactComponent?!fu(c,p)||!fu(g,v):!0}function BE(o,a,c){var p=!1,g=hs,v=a.contextType;return typeof v=="object"&&v!==null?v=Zn(v):(g=vn(a)?yo:Zt.current,p=a.contextTypes,v=(p=p!=null)?Da(o,g):hs),a=new a(c,v),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Uh,o.stateNode=a,a._reactInternals=o,p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=g,o.__reactInternalMemoizedMaskedChildContext=v),a}function zE(o,a,c,p){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==o&&Uh.enqueueReplaceState(a,a.state,null)}function Rm(o,a,c,p){var g=o.stateNode;g.props=c,g.state=o.memoizedState,g.refs={},gm(o);var v=a.contextType;typeof v=="object"&&v!==null?g.context=Zn(v):(v=vn(a)?yo:Zt.current,g.context=Da(o,v)),g.state=o.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(km(o,a,v,c),g.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Uh.enqueueReplaceState(g,g.state,null),Dh(o,c,g,p),g.state=o.memoizedState),typeof g.componentDidMount=="function"&&(o.flags|=4194308)}function Ba(o,a){try{var c="",p=a;do c+=be(p),p=p.return;while(p);var g=c}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:o,source:a,stack:g,digest:null}}function Pm(o,a,c){return{value:o,source:null,stack:c??null,digest:a??null}}function Om(o,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var ok=typeof WeakMap=="function"?WeakMap:Map;function HE(o,a,c){c=Ii(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){Gh||(Gh=!0,qm=p),Om(o,a)},c}function WE(o,a,c){c=Ii(-1,c),c.tag=3;var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=a.value;c.payload=function(){return p(g)},c.callback=function(){Om(o,a)}}var v=o.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(c.callback=function(){Om(o,a),typeof p!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var b=a.stack;this.componentDidCatch(a.value,{componentStack:b!==null?b:""})}),c}function KE(o,a,c){var p=o.pingCache;if(p===null){p=o.pingCache=new ok;var g=new Set;p.set(a,g)}else g=p.get(a),g===void 0&&(g=new Set,p.set(a,g));g.has(c)||(g.add(c),o=Ek.bind(null,o,a,c),a.then(o,o))}function qE(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function GE(o,a,c,p,g){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Ii(-1,1),a.tag=2,ps(c,a,1))),c.lanes|=1),o):(o.flags|=65536,o.lanes=g,o)}var ak=B.ReactCurrentOwner,En=!1;function cn(o,a,c,p){a.child=o===null?pE(a,null,c,p):Fa(a,o.child,c,p)}function YE(o,a,c,p,g){c=c.render;var v=a.ref;return ja(a,g),p=bm(o,a,c,p,v,g),c=Sm(),o!==null&&!En?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~g,Ai(o,a,g)):(lt&&c&&om(a),a.flags|=1,cn(o,a,p,g),a.child)}function QE(o,a,c,p,g){if(o===null){var v=c.type;return typeof v=="function"&&!eg(v)&&v.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=v,XE(o,a,v,p,g)):(o=ed(c.type,null,p,a,a.mode,g),o.ref=a.ref,o.return=a,a.child=o)}if(v=o.child,(o.lanes&g)===0){var b=v.memoizedProps;if(c=c.compare,c=c!==null?c:fu,c(b,p)&&o.ref===a.ref)return Ai(o,a,g)}return a.flags|=1,o=Es(v,p),o.ref=a.ref,o.return=a,a.child=o}function XE(o,a,c,p,g){if(o!==null){var v=o.memoizedProps;if(fu(v,p)&&o.ref===a.ref)if(En=!1,a.pendingProps=p=v,(o.lanes&g)!==0)(o.flags&131072)!==0&&(En=!0);else return a.lanes=o.lanes,Ai(o,a,g)}return Nm(o,a,c,p,g)}function JE(o,a,c){var p=a.pendingProps,g=p.children,v=o!==null?o.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Ha,Vn),Vn|=c;else{if((c&1073741824)===0)return o=v!==null?v.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,rt(Ha,Vn),Vn|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=v!==null?v.baseLanes:c,rt(Ha,Vn),Vn|=p}else v!==null?(p=v.baseLanes|c,a.memoizedState=null):p=c,rt(Ha,Vn),Vn|=p;return cn(o,a,g,c),a.child}function ZE(o,a){var c=a.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Nm(o,a,c,p,g){var v=vn(c)?yo:Zt.current;return v=Da(a,v),ja(a,g),c=bm(o,a,c,p,v,g),p=Sm(),o!==null&&!En?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~g,Ai(o,a,g)):(lt&&p&&om(a),a.flags|=1,cn(o,a,c,g),a.child)}function ew(o,a,c,p,g){if(vn(c)){var v=!0;Ih(a)}else v=!1;if(ja(a,g),a.stateNode===null)zh(o,a),BE(a,c,p),Rm(a,c,p,g),p=!0;else if(o===null){var b=a.stateNode,D=a.memoizedProps;b.props=D;var F=b.context,q=c.contextType;typeof q=="object"&&q!==null?q=Zn(q):(q=vn(c)?yo:Zt.current,q=Da(a,q));var te=c.getDerivedStateFromProps,ie=typeof te=="function"||typeof b.getSnapshotBeforeUpdate=="function";ie||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(D!==p||F!==q)&&zE(a,b,p,q),fs=!1;var ee=a.memoizedState;b.state=ee,Dh(a,p,b,g),F=a.memoizedState,D!==p||ee!==F||yn.current||fs?(typeof te=="function"&&(km(a,c,te,p),F=a.memoizedState),(D=fs||UE(a,c,D,p,ee,F,q))?(ie||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=F),b.props=p,b.state=F,b.context=q,p=D):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{b=a.stateNode,gE(o,a),D=a.memoizedProps,q=a.type===a.elementType?D:br(a.type,D),b.props=q,ie=a.pendingProps,ee=b.context,F=c.contextType,typeof F=="object"&&F!==null?F=Zn(F):(F=vn(c)?yo:Zt.current,F=Da(a,F));var de=c.getDerivedStateFromProps;(te=typeof de=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(D!==ie||ee!==F)&&zE(a,b,p,F),fs=!1,ee=a.memoizedState,b.state=ee,Dh(a,p,b,g);var _e=a.memoizedState;D!==ie||ee!==_e||yn.current||fs?(typeof de=="function"&&(km(a,c,de,p),_e=a.memoizedState),(q=fs||UE(a,c,q,p,ee,_e,F)||!1)?(te||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(p,_e,F),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(p,_e,F)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||D===o.memoizedProps&&ee===o.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&ee===o.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=_e),b.props=p,b.state=_e,b.context=F,p=q):(typeof b.componentDidUpdate!="function"||D===o.memoizedProps&&ee===o.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&ee===o.memoizedState||(a.flags|=1024),p=!1)}return Dm(o,a,c,p,v,g)}function Dm(o,a,c,p,g,v){ZE(o,a);var b=(a.flags&128)!==0;if(!p&&!b)return g&&sE(a,c,!1),Ai(o,a,v);p=a.stateNode,ak.current=a;var D=b&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,o!==null&&b?(a.child=Fa(a,o.child,null,v),a.child=Fa(a,null,D,v)):cn(o,a,D,v),a.memoizedState=p.state,g&&sE(a,c,!0),a.child}function tw(o){var a=o.stateNode;a.pendingContext?rE(o,a.pendingContext,a.pendingContext!==a.context):a.context&&rE(o,a.context,!1),_m(o,a.containerInfo)}function nw(o,a,c,p,g){return Va(),cm(g),a.flags|=256,cn(o,a,c,p),a.child}var Mm={dehydrated:null,treeContext:null,retryLane:0};function Lm(o){return{baseLanes:o,cachePool:null,transitions:null}}function rw(o,a,c){var p=a.pendingProps,g=ht.current,v=!1,b=(a.flags&128)!==0,D;if((D=b)||(D=o!==null&&o.memoizedState===null?!1:(g&2)!==0),D?(v=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(g|=1),rt(ht,g&1),o===null)return um(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(b=p.children,o=p.fallback,v?(p=a.mode,v=a.child,b={mode:"hidden",children:b},(p&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=b):v=td(b,p,0,null),o=xo(o,p,c,null),v.return=a,o.return=a,v.sibling=o,a.child=v,a.child.memoizedState=Lm(c),a.memoizedState=Mm,o):Vm(a,b));if(g=o.memoizedState,g!==null&&(D=g.dehydrated,D!==null))return lk(o,a,b,p,D,g,c);if(v){v=p.fallback,b=a.mode,g=o.child,D=g.sibling;var F={mode:"hidden",children:p.children};return(b&1)===0&&a.child!==g?(p=a.child,p.childLanes=0,p.pendingProps=F,a.deletions=null):(p=Es(g,F),p.subtreeFlags=g.subtreeFlags&14680064),D!==null?v=Es(D,v):(v=xo(v,b,c,null),v.flags|=2),v.return=a,p.return=a,p.sibling=v,a.child=p,p=v,v=a.child,b=o.child.memoizedState,b=b===null?Lm(c):{baseLanes:b.baseLanes|c,cachePool:null,transitions:b.transitions},v.memoizedState=b,v.childLanes=o.childLanes&~c,a.memoizedState=Mm,p}return v=o.child,o=v.sibling,p=Es(v,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=c),p.return=a,p.sibling=null,o!==null&&(c=a.deletions,c===null?(a.deletions=[o],a.flags|=16):c.push(o)),a.child=p,a.memoizedState=null,p}function Vm(o,a){return a=td({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function Bh(o,a,c,p){return p!==null&&cm(p),Fa(a,o.child,null,c),o=Vm(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function lk(o,a,c,p,g,v,b){if(c)return a.flags&256?(a.flags&=-257,p=Pm(Error(t(422))),Bh(o,a,b,p)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(v=p.fallback,g=a.mode,p=td({mode:"visible",children:p.children},g,0,null),v=xo(v,g,b,null),v.flags|=2,p.return=a,v.return=a,p.sibling=v,a.child=p,(a.mode&1)!==0&&Fa(a,o.child,null,b),a.child.memoizedState=Lm(b),a.memoizedState=Mm,v);if((a.mode&1)===0)return Bh(o,a,b,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var D=p.dgst;return p=D,v=Error(t(419)),p=Pm(v,p,void 0),Bh(o,a,b,p)}if(D=(b&o.childLanes)!==0,En||D){if(p=jt,p!==null){switch(b&-b){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(p.suspendedLanes|b))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,Si(o,g),Ar(p,o,g,-1))}return Zm(),p=Pm(Error(t(421))),Bh(o,a,b,p)}return g.data==="$?"?(a.flags|=128,a.child=o.child,a=wk.bind(null,o),g._reactRetry=a,null):(o=v.treeContext,Ln=us(g.nextSibling),Mn=a,lt=!0,Tr=null,o!==null&&(Xn[Jn++]=Ti,Xn[Jn++]=bi,Xn[Jn++]=vo,Ti=o.id,bi=o.overflow,vo=a),a=Vm(a,p.children),a.flags|=4096,a)}function iw(o,a,c){o.lanes|=a;var p=o.alternate;p!==null&&(p.lanes|=a),pm(o.return,a,c)}function Fm(o,a,c,p,g){var v=o.memoizedState;v===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:g}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=p,v.tail=c,v.tailMode=g)}function sw(o,a,c){var p=a.pendingProps,g=p.revealOrder,v=p.tail;if(cn(o,a,p.children,c),p=ht.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&iw(o,c,a);else if(o.tag===19)iw(o,c,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}if(rt(ht,p),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)o=c.alternate,o!==null&&Mh(o)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),Fm(a,!1,g,c,v);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(o=g.alternate,o!==null&&Mh(o)===null){a.child=g;break}o=g.sibling,g.sibling=c,c=g,g=o}Fm(a,!0,c,null,v);break;case"together":Fm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function zh(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function Ai(o,a,c){if(o!==null&&(a.dependencies=o.dependencies),So|=a.lanes,(c&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(t(153));if(a.child!==null){for(o=a.child,c=Es(o,o.pendingProps),a.child=c,c.return=a;o.sibling!==null;)o=o.sibling,c=c.sibling=Es(o,o.pendingProps),c.return=a;c.sibling=null}return a.child}function uk(o,a,c){switch(a.tag){case 3:tw(a),Va();break;case 5:vE(a);break;case 1:vn(a.type)&&Ih(a);break;case 4:_m(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,g=a.memoizedProps.value;rt(Ph,p._currentValue),p._currentValue=g;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(rt(ht,ht.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?rw(o,a,c):(rt(ht,ht.current&1),o=Ai(o,a,c),o!==null?o.sibling:null);rt(ht,ht.current&1);break;case 19:if(p=(c&a.childLanes)!==0,(o.flags&128)!==0){if(p)return sw(o,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),rt(ht,ht.current),p)break;return null;case 22:case 23:return a.lanes=0,JE(o,a,c)}return Ai(o,a,c)}var ow,$m,aw,lw;ow=function(o,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},$m=function(){},aw=function(o,a,c,p){var g=o.memoizedProps;if(g!==p){o=a.stateNode,To(Kr.current);var v=null;switch(c){case"input":g=Vt(o,g),p=Vt(o,p),v=[];break;case"select":g=le({},g,{value:void 0}),p=le({},p,{value:void 0}),v=[];break;case"textarea":g=Lr(o,g),p=Lr(o,p),v=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(o.onclick=Th)}Gl(c,p);var b;c=null;for(q in g)if(!p.hasOwnProperty(q)&&g.hasOwnProperty(q)&&g[q]!=null)if(q==="style"){var D=g[q];for(b in D)D.hasOwnProperty(b)&&(c||(c={}),c[b]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(i.hasOwnProperty(q)?v||(v=[]):(v=v||[]).push(q,null));for(q in p){var F=p[q];if(D=g!=null?g[q]:void 0,p.hasOwnProperty(q)&&F!==D&&(F!=null||D!=null))if(q==="style")if(D){for(b in D)!D.hasOwnProperty(b)||F&&F.hasOwnProperty(b)||(c||(c={}),c[b]="");for(b in F)F.hasOwnProperty(b)&&D[b]!==F[b]&&(c||(c={}),c[b]=F[b])}else c||(v||(v=[]),v.push(q,c)),c=F;else q==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,D=D?D.__html:void 0,F!=null&&D!==F&&(v=v||[]).push(q,F)):q==="children"?typeof F!="string"&&typeof F!="number"||(v=v||[]).push(q,""+F):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(i.hasOwnProperty(q)?(F!=null&&q==="onScroll"&&it("scroll",o),v||D===F||(v=[])):(v=v||[]).push(q,F))}c&&(v=v||[]).push("style",c);var q=v;(a.updateQueue=q)&&(a.flags|=4)}},lw=function(o,a,c,p){c!==p&&(a.flags|=4)};function xu(o,a){if(!lt)switch(o.tailMode){case"hidden":a=o.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function tn(o){var a=o.alternate!==null&&o.alternate.child===o.child,c=0,p=0;if(a)for(var g=o.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=o,g=g.sibling;else for(g=o.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=o,g=g.sibling;return o.subtreeFlags|=p,o.childLanes=c,a}function ck(o,a,c){var p=a.pendingProps;switch(am(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(a),null;case 1:return vn(a.type)&&Sh(),tn(a),null;case 3:return p=a.stateNode,Ua(),st(yn),st(Zt),Em(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(kh(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Tr!==null&&(Qm(Tr),Tr=null))),$m(o,a),tn(a),null;case 5:ym(a);var g=To(bu.current);if(c=a.type,o!==null&&a.stateNode!=null)aw(o,a,c,p,g),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return tn(a),null}if(o=To(Kr.current),kh(a)){p=a.stateNode,c=a.type;var v=a.memoizedProps;switch(p[Wr]=a,p[yu]=v,o=(a.mode&1)!==0,c){case"dialog":it("cancel",p),it("close",p);break;case"iframe":case"object":case"embed":it("load",p);break;case"video":case"audio":for(g=0;g<mu.length;g++)it(mu[g],p);break;case"source":it("error",p);break;case"img":case"image":case"link":it("error",p),it("load",p);break;case"details":it("toggle",p);break;case"input":mn(p,v),it("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!v.multiple},it("invalid",p);break;case"textarea":fi(p,v),it("invalid",p)}Gl(c,v),g=null;for(var b in v)if(v.hasOwnProperty(b)){var D=v[b];b==="children"?typeof D=="string"?p.textContent!==D&&(v.suppressHydrationWarning!==!0&&wh(p.textContent,D,o),g=["children",D]):typeof D=="number"&&p.textContent!==""+D&&(v.suppressHydrationWarning!==!0&&wh(p.textContent,D,o),g=["children",""+D]):i.hasOwnProperty(b)&&D!=null&&b==="onScroll"&&it("scroll",p)}switch(c){case"input":Ze(p),Qi(p,v,!0);break;case"textarea":Ze(p),Xi(p);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(p.onclick=Th)}p=g,a.updateQueue=p,p!==null&&(a.flags|=4)}else{b=g.nodeType===9?g:g.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=mt(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=b.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof p.is=="string"?o=b.createElement(c,{is:p.is}):(o=b.createElement(c),c==="select"&&(b=o,p.multiple?b.multiple=!0:p.size&&(b.size=p.size))):o=b.createElementNS(o,c),o[Wr]=a,o[yu]=p,ow(o,a,!1,!1),a.stateNode=o;e:{switch(b=Yl(c,p),c){case"dialog":it("cancel",o),it("close",o),g=p;break;case"iframe":case"object":case"embed":it("load",o),g=p;break;case"video":case"audio":for(g=0;g<mu.length;g++)it(mu[g],o);g=p;break;case"source":it("error",o),g=p;break;case"img":case"image":case"link":it("error",o),it("load",o),g=p;break;case"details":it("toggle",o),g=p;break;case"input":mn(o,p),g=Vt(o,p),it("invalid",o);break;case"option":g=p;break;case"select":o._wrapperState={wasMultiple:!!p.multiple},g=le({},p,{value:void 0}),it("invalid",o);break;case"textarea":fi(o,p),g=Lr(o,p),it("invalid",o);break;default:g=p}Gl(c,g),D=g;for(v in D)if(D.hasOwnProperty(v)){var F=D[v];v==="style"?Kl(o,F):v==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&Hl(o,F)):v==="children"?typeof F=="string"?(c!=="textarea"||F!=="")&&Ji(o,F):typeof F=="number"&&Ji(o,""+F):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?F!=null&&v==="onScroll"&&it("scroll",o):F!=null&&U(o,v,F,b))}switch(c){case"input":Ze(o),Qi(o,p,!1);break;case"textarea":Ze(o),Xi(o);break;case"option":p.value!=null&&o.setAttribute("value",""+he(p.value));break;case"select":o.multiple=!!p.multiple,v=p.value,v!=null?Jt(o,!!p.multiple,v,!1):p.defaultValue!=null&&Jt(o,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(o.onclick=Th)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return tn(a),null;case 6:if(o&&a.stateNode!=null)lw(o,a,o.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(c=To(bu.current),To(Kr.current),kh(a)){if(p=a.stateNode,c=a.memoizedProps,p[Wr]=a,(v=p.nodeValue!==c)&&(o=Mn,o!==null))switch(o.tag){case 3:wh(p.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&wh(p.nodeValue,c,(o.mode&1)!==0)}v&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Wr]=a,a.stateNode=p}return tn(a),null;case 13:if(st(ht),p=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(lt&&Ln!==null&&(a.mode&1)!==0&&(a.flags&128)===0)hE(),Va(),a.flags|=98560,v=!1;else if(v=kh(a),p!==null&&p.dehydrated!==null){if(o===null){if(!v)throw Error(t(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[Wr]=a}else Va(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;tn(a),v=!1}else Tr!==null&&(Qm(Tr),Tr=null),v=!0;if(!v)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(p=p!==null,p!==(o!==null&&o.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(ht.current&1)!==0?Pt===0&&(Pt=3):Zm())),a.updateQueue!==null&&(a.flags|=4),tn(a),null);case 4:return Ua(),$m(o,a),o===null&&gu(a.stateNode.containerInfo),tn(a),null;case 10:return fm(a.type._context),tn(a),null;case 17:return vn(a.type)&&Sh(),tn(a),null;case 19:if(st(ht),v=a.memoizedState,v===null)return tn(a),null;if(p=(a.flags&128)!==0,b=v.rendering,b===null)if(p)xu(v,!1);else{if(Pt!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(b=Mh(o),b!==null){for(a.flags|=128,xu(v,!1),p=b.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)v=c,o=p,v.flags&=14680066,b=v.alternate,b===null?(v.childLanes=0,v.lanes=o,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=b.childLanes,v.lanes=b.lanes,v.child=b.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=b.memoizedProps,v.memoizedState=b.memoizedState,v.updateQueue=b.updateQueue,v.type=b.type,o=b.dependencies,v.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return rt(ht,ht.current&1|2),a.child}o=o.sibling}v.tail!==null&&nt()>Wa&&(a.flags|=128,p=!0,xu(v,!1),a.lanes=4194304)}else{if(!p)if(o=Mh(b),o!==null){if(a.flags|=128,p=!0,c=o.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),xu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!lt)return tn(a),null}else 2*nt()-v.renderingStartTime>Wa&&c!==1073741824&&(a.flags|=128,p=!0,xu(v,!1),a.lanes=4194304);v.isBackwards?(b.sibling=a.child,a.child=b):(c=v.last,c!==null?c.sibling=b:a.child=b,v.last=b)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=nt(),a.sibling=null,c=ht.current,rt(ht,p?c&1|2:c&1),a):(tn(a),null);case 22:case 23:return Jm(),p=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(Vn&1073741824)!==0&&(tn(a),a.subtreeFlags&6&&(a.flags|=8192)):tn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function hk(o,a){switch(am(a),a.tag){case 1:return vn(a.type)&&Sh(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Ua(),st(yn),st(Zt),Em(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return ym(a),null;case 13:if(st(ht),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Va()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return st(ht),null;case 4:return Ua(),null;case 10:return fm(a.type._context),null;case 22:case 23:return Jm(),null;case 24:return null;default:return null}}var Hh=!1,nn=!1,dk=typeof WeakSet=="function"?WeakSet:Set,me=null;function za(o,a){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){_t(o,a,p)}else c.current=null}function jm(o,a,c){try{c()}catch(p){_t(o,a,p)}}var uw=!1;function fk(o,a){if(Jp=os,o=Uv(),Hp(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var g=p.anchorOffset,v=p.focusNode;p=p.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var b=0,D=-1,F=-1,q=0,te=0,ie=o,ee=null;t:for(;;){for(var de;ie!==c||g!==0&&ie.nodeType!==3||(D=b+g),ie!==v||p!==0&&ie.nodeType!==3||(F=b+p),ie.nodeType===3&&(b+=ie.nodeValue.length),(de=ie.firstChild)!==null;)ee=ie,ie=de;for(;;){if(ie===o)break t;if(ee===c&&++q===g&&(D=b),ee===v&&++te===p&&(F=b),(de=ie.nextSibling)!==null)break;ie=ee,ee=ie.parentNode}ie=de}c=D===-1||F===-1?null:{start:D,end:F}}else c=null}c=c||{start:0,end:0}}else c=null;for(Zp={focusedElem:o,selectionRange:c},os=!1,me=a;me!==null;)if(a=me,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,me=o;else for(;me!==null;){a=me;try{var _e=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var ye=_e.memoizedProps,wt=_e.memoizedState,H=a.stateNode,$=H.getSnapshotBeforeUpdate(a.elementType===a.type?ye:br(a.type,ye),wt);H.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var K=a.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){_t(a,a.return,oe)}if(o=a.sibling,o!==null){o.return=a.return,me=o;break}me=a.return}return _e=uw,uw=!1,_e}function ku(o,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&o)===o){var v=g.destroy;g.destroy=void 0,v!==void 0&&jm(a,c,v)}g=g.next}while(g!==p)}}function Wh(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&o)===o){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function Um(o){var a=o.ref;if(a!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof a=="function"?a(o):a.current=o}}function cw(o){var a=o.alternate;a!==null&&(o.alternate=null,cw(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Wr],delete a[yu],delete a[rm],delete a[Y1],delete a[Q1])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function hw(o){return o.tag===5||o.tag===3||o.tag===4}function dw(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||hw(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Bm(o,a,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(o,a):c.insertBefore(o,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(o,c)):(a=c,a.appendChild(o)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Th));else if(p!==4&&(o=o.child,o!==null))for(Bm(o,a,c),o=o.sibling;o!==null;)Bm(o,a,c),o=o.sibling}function zm(o,a,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?c.insertBefore(o,a):c.appendChild(o);else if(p!==4&&(o=o.child,o!==null))for(zm(o,a,c),o=o.sibling;o!==null;)zm(o,a,c),o=o.sibling}var Kt=null,Sr=!1;function ms(o,a,c){for(c=c.child;c!==null;)fw(o,a,c),c=c.sibling}function fw(o,a,c){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(uo,c)}catch{}switch(c.tag){case 5:nn||za(c,a);case 6:var p=Kt,g=Sr;Kt=null,ms(o,a,c),Kt=p,Sr=g,Kt!==null&&(Sr?(o=Kt,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):Kt.removeChild(c.stateNode));break;case 18:Kt!==null&&(Sr?(o=Kt,c=c.stateNode,o.nodeType===8?nm(o.parentNode,c):o.nodeType===1&&nm(o,c),vr(o)):nm(Kt,c.stateNode));break;case 4:p=Kt,g=Sr,Kt=c.stateNode.containerInfo,Sr=!0,ms(o,a,c),Kt=p,Sr=g;break;case 0:case 11:case 14:case 15:if(!nn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var v=g,b=v.destroy;v=v.tag,b!==void 0&&((v&2)!==0||(v&4)!==0)&&jm(c,a,b),g=g.next}while(g!==p)}ms(o,a,c);break;case 1:if(!nn&&(za(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(D){_t(c,a,D)}ms(o,a,c);break;case 21:ms(o,a,c);break;case 22:c.mode&1?(nn=(p=nn)||c.memoizedState!==null,ms(o,a,c),nn=p):ms(o,a,c);break;default:ms(o,a,c)}}function pw(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new dk),a.forEach(function(p){var g=Tk.bind(null,o,p);c.has(p)||(c.add(p),p.then(g,g))})}}function Ir(o,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var g=c[p];try{var v=o,b=a,D=b;e:for(;D!==null;){switch(D.tag){case 5:Kt=D.stateNode,Sr=!1;break e;case 3:Kt=D.stateNode.containerInfo,Sr=!0;break e;case 4:Kt=D.stateNode.containerInfo,Sr=!0;break e}D=D.return}if(Kt===null)throw Error(t(160));fw(v,b,g),Kt=null,Sr=!1;var F=g.alternate;F!==null&&(F.return=null),g.return=null}catch(q){_t(g,a,q)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)mw(a,o),a=a.sibling}function mw(o,a){var c=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Ir(a,o),Gr(o),p&4){try{ku(3,o,o.return),Wh(3,o)}catch(ye){_t(o,o.return,ye)}try{ku(5,o,o.return)}catch(ye){_t(o,o.return,ye)}}break;case 1:Ir(a,o),Gr(o),p&512&&c!==null&&za(c,c.return);break;case 5:if(Ir(a,o),Gr(o),p&512&&c!==null&&za(c,c.return),o.flags&32){var g=o.stateNode;try{Ji(g,"")}catch(ye){_t(o,o.return,ye)}}if(p&4&&(g=o.stateNode,g!=null)){var v=o.memoizedProps,b=c!==null?c.memoizedProps:v,D=o.type,F=o.updateQueue;if(o.updateQueue=null,F!==null)try{D==="input"&&v.type==="radio"&&v.name!=null&&Dr(g,v),Yl(D,b);var q=Yl(D,v);for(b=0;b<F.length;b+=2){var te=F[b],ie=F[b+1];te==="style"?Kl(g,ie):te==="dangerouslySetInnerHTML"?Hl(g,ie):te==="children"?Ji(g,ie):U(g,te,ie,q)}switch(D){case"input":Mr(g,v);break;case"textarea":Vr(g,v);break;case"select":var ee=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var de=v.value;de!=null?Jt(g,!!v.multiple,de,!1):ee!==!!v.multiple&&(v.defaultValue!=null?Jt(g,!!v.multiple,v.defaultValue,!0):Jt(g,!!v.multiple,v.multiple?[]:"",!1))}g[yu]=v}catch(ye){_t(o,o.return,ye)}}break;case 6:if(Ir(a,o),Gr(o),p&4){if(o.stateNode===null)throw Error(t(162));g=o.stateNode,v=o.memoizedProps;try{g.nodeValue=v}catch(ye){_t(o,o.return,ye)}}break;case 3:if(Ir(a,o),Gr(o),p&4&&c!==null&&c.memoizedState.isDehydrated)try{vr(a.containerInfo)}catch(ye){_t(o,o.return,ye)}break;case 4:Ir(a,o),Gr(o);break;case 13:Ir(a,o),Gr(o),g=o.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(Km=nt())),p&4&&pw(o);break;case 22:if(te=c!==null&&c.memoizedState!==null,o.mode&1?(nn=(q=nn)||te,Ir(a,o),nn=q):Ir(a,o),Gr(o),p&8192){if(q=o.memoizedState!==null,(o.stateNode.isHidden=q)&&!te&&(o.mode&1)!==0)for(me=o,te=o.child;te!==null;){for(ie=me=te;me!==null;){switch(ee=me,de=ee.child,ee.tag){case 0:case 11:case 14:case 15:ku(4,ee,ee.return);break;case 1:za(ee,ee.return);var _e=ee.stateNode;if(typeof _e.componentWillUnmount=="function"){p=ee,c=ee.return;try{a=p,_e.props=a.memoizedProps,_e.state=a.memoizedState,_e.componentWillUnmount()}catch(ye){_t(p,c,ye)}}break;case 5:za(ee,ee.return);break;case 22:if(ee.memoizedState!==null){yw(ie);continue}}de!==null?(de.return=ee,me=de):yw(ie)}te=te.sibling}e:for(te=null,ie=o;;){if(ie.tag===5){if(te===null){te=ie;try{g=ie.stateNode,q?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(D=ie.stateNode,F=ie.memoizedProps.style,b=F!=null&&F.hasOwnProperty("display")?F.display:null,D.style.display=Wl("display",b))}catch(ye){_t(o,o.return,ye)}}}else if(ie.tag===6){if(te===null)try{ie.stateNode.nodeValue=q?"":ie.memoizedProps}catch(ye){_t(o,o.return,ye)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===o)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===o)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===o)break e;te===ie&&(te=null),ie=ie.return}te===ie&&(te=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Ir(a,o),Gr(o),p&4&&pw(o);break;case 21:break;default:Ir(a,o),Gr(o)}}function Gr(o){var a=o.flags;if(a&2){try{e:{for(var c=o.return;c!==null;){if(hw(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(Ji(g,""),p.flags&=-33);var v=dw(o);zm(o,v,g);break;case 3:case 4:var b=p.stateNode.containerInfo,D=dw(o);Bm(o,D,b);break;default:throw Error(t(161))}}catch(F){_t(o,o.return,F)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function pk(o,a,c){me=o,gw(o)}function gw(o,a,c){for(var p=(o.mode&1)!==0;me!==null;){var g=me,v=g.child;if(g.tag===22&&p){var b=g.memoizedState!==null||Hh;if(!b){var D=g.alternate,F=D!==null&&D.memoizedState!==null||nn;D=Hh;var q=nn;if(Hh=b,(nn=F)&&!q)for(me=g;me!==null;)b=me,F=b.child,b.tag===22&&b.memoizedState!==null?vw(g):F!==null?(F.return=b,me=F):vw(g);for(;v!==null;)me=v,gw(v),v=v.sibling;me=g,Hh=D,nn=q}_w(o)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,me=v):_w(o)}}function _w(o){for(;me!==null;){var a=me;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:nn||Wh(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!nn)if(c===null)p.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:br(a.type,c.memoizedProps);p.componentDidUpdate(g,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var v=a.updateQueue;v!==null&&yE(a,v,p);break;case 3:var b=a.updateQueue;if(b!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}yE(a,b,c)}break;case 5:var D=a.stateNode;if(c===null&&a.flags&4){c=D;var F=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&c.focus();break;case"img":F.src&&(c.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var q=a.alternate;if(q!==null){var te=q.memoizedState;if(te!==null){var ie=te.dehydrated;ie!==null&&vr(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}nn||a.flags&512&&Um(a)}catch(ee){_t(a,a.return,ee)}}if(a===o){me=null;break}if(c=a.sibling,c!==null){c.return=a.return,me=c;break}me=a.return}}function yw(o){for(;me!==null;){var a=me;if(a===o){me=null;break}var c=a.sibling;if(c!==null){c.return=a.return,me=c;break}me=a.return}}function vw(o){for(;me!==null;){var a=me;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Wh(4,a)}catch(F){_t(a,c,F)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var g=a.return;try{p.componentDidMount()}catch(F){_t(a,g,F)}}var v=a.return;try{Um(a)}catch(F){_t(a,v,F)}break;case 5:var b=a.return;try{Um(a)}catch(F){_t(a,b,F)}}}catch(F){_t(a,a.return,F)}if(a===o){me=null;break}var D=a.sibling;if(D!==null){D.return=a.return,me=D;break}me=a.return}}var mk=Math.ceil,Kh=B.ReactCurrentDispatcher,Hm=B.ReactCurrentOwner,tr=B.ReactCurrentBatchConfig,qe=0,jt=null,It=null,qt=0,Vn=0,Ha=cs(0),Pt=0,Ru=null,So=0,qh=0,Wm=0,Pu=null,wn=null,Km=0,Wa=1/0,Ci=null,Gh=!1,qm=null,gs=null,Yh=!1,_s=null,Qh=0,Ou=0,Gm=null,Xh=-1,Jh=0;function hn(){return(qe&6)!==0?nt():Xh!==-1?Xh:Xh=nt()}function ys(o){return(o.mode&1)===0?1:(qe&2)!==0&&qt!==0?qt&-qt:J1.transition!==null?(Jh===0&&(Jh=ho()),Jh):(o=Be,o!==0||(o=window.event,o=o===void 0?16:ou(o.type)),o)}function Ar(o,a,c,p){if(50<Ou)throw Ou=0,Gm=null,Error(t(185));ns(o,c,p),((qe&2)===0||o!==jt)&&(o===jt&&((qe&2)===0&&(qh|=c),Pt===4&&vs(o,qt)),Tn(o,p),c===1&&qe===0&&(a.mode&1)===0&&(Wa=nt()+500,Ah&&ds()))}function Tn(o,a){var c=o.callbackNode;mi(o,a);var p=co(o,o===jt?qt:0);if(p===0)c!==null&&tu(c),o.callbackNode=null,o.callbackPriority=0;else if(a=p&-p,o.callbackPriority!==a){if(c!=null&&tu(c),a===1)o.tag===0?X1(ww.bind(null,o)):oE(ww.bind(null,o)),q1(function(){(qe&6)===0&&ds()}),c=null;else{switch(is(p)){case 1:c=lo;break;case 4:c=Zi;break;case 16:c=Gn;break;case 536870912:c=Jc;break;default:c=Gn}c=kw(c,Ew.bind(null,o))}o.callbackPriority=a,o.callbackNode=c}}function Ew(o,a){if(Xh=-1,Jh=0,(qe&6)!==0)throw Error(t(327));var c=o.callbackNode;if(Ka()&&o.callbackNode!==c)return null;var p=co(o,o===jt?qt:0);if(p===0)return null;if((p&30)!==0||(p&o.expiredLanes)!==0||a)a=Zh(o,p);else{a=p;var g=qe;qe|=2;var v=bw();(jt!==o||qt!==a)&&(Ci=null,Wa=nt()+500,Ao(o,a));do try{yk();break}catch(D){Tw(o,D)}while(!0);dm(),Kh.current=v,qe=g,It!==null?a=0:(jt=null,qt=0,a=Pt)}if(a!==0){if(a===2&&(g=On(o),g!==0&&(p=g,a=Ym(o,g))),a===1)throw c=Ru,Ao(o,0),vs(o,p),Tn(o,nt()),c;if(a===6)vs(o,p);else{if(g=o.current.alternate,(p&30)===0&&!gk(g)&&(a=Zh(o,p),a===2&&(v=On(o),v!==0&&(p=v,a=Ym(o,v))),a===1))throw c=Ru,Ao(o,0),vs(o,p),Tn(o,nt()),c;switch(o.finishedWork=g,o.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:Co(o,wn,Ci);break;case 3:if(vs(o,p),(p&130023424)===p&&(a=Km+500-nt(),10<a)){if(co(o,0)!==0)break;if(g=o.suspendedLanes,(g&p)!==p){hn(),o.pingedLanes|=o.suspendedLanes&g;break}o.timeoutHandle=tm(Co.bind(null,o,wn,Ci),a);break}Co(o,wn,Ci);break;case 4:if(vs(o,p),(p&4194240)===p)break;for(a=o.eventTimes,g=-1;0<p;){var b=31-ln(p);v=1<<b,b=a[b],b>g&&(g=b),p&=~v}if(p=g,p=nt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*mk(p/1960))-p,10<p){o.timeoutHandle=tm(Co.bind(null,o,wn,Ci),p);break}Co(o,wn,Ci);break;case 5:Co(o,wn,Ci);break;default:throw Error(t(329))}}}return Tn(o,nt()),o.callbackNode===c?Ew.bind(null,o):null}function Ym(o,a){var c=Pu;return o.current.memoizedState.isDehydrated&&(Ao(o,a).flags|=256),o=Zh(o,a),o!==2&&(a=wn,wn=c,a!==null&&Qm(a)),o}function Qm(o){wn===null?wn=o:wn.push.apply(wn,o)}function gk(o){for(var a=o;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var g=c[p],v=g.getSnapshot;g=g.value;try{if(!wr(v(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function vs(o,a){for(a&=~Wm,a&=~qh,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var c=31-ln(a),p=1<<c;o[c]=-1,a&=~p}}function ww(o){if((qe&6)!==0)throw Error(t(327));Ka();var a=co(o,0);if((a&1)===0)return Tn(o,nt()),null;var c=Zh(o,a);if(o.tag!==0&&c===2){var p=On(o);p!==0&&(a=p,c=Ym(o,p))}if(c===1)throw c=Ru,Ao(o,0),vs(o,a),Tn(o,nt()),c;if(c===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,Co(o,wn,Ci),Tn(o,nt()),null}function Xm(o,a){var c=qe;qe|=1;try{return o(a)}finally{qe=c,qe===0&&(Wa=nt()+500,Ah&&ds())}}function Io(o){_s!==null&&_s.tag===0&&(qe&6)===0&&Ka();var a=qe;qe|=1;var c=tr.transition,p=Be;try{if(tr.transition=null,Be=1,o)return o()}finally{Be=p,tr.transition=c,qe=a,(qe&6)===0&&ds()}}function Jm(){Vn=Ha.current,st(Ha)}function Ao(o,a){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,K1(c)),It!==null)for(c=It.return;c!==null;){var p=c;switch(am(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Sh();break;case 3:Ua(),st(yn),st(Zt),Em();break;case 5:ym(p);break;case 4:Ua();break;case 13:st(ht);break;case 19:st(ht);break;case 10:fm(p.type._context);break;case 22:case 23:Jm()}c=c.return}if(jt=o,It=o=Es(o.current,null),qt=Vn=a,Pt=0,Ru=null,Wm=qh=So=0,wn=Pu=null,wo!==null){for(a=0;a<wo.length;a++)if(c=wo[a],p=c.interleaved,p!==null){c.interleaved=null;var g=p.next,v=c.pending;if(v!==null){var b=v.next;v.next=g,p.next=b}c.pending=p}wo=null}return o}function Tw(o,a){do{var c=It;try{if(dm(),Lh.current=jh,Vh){for(var p=dt.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}Vh=!1}if(bo=0,$t=Rt=dt=null,Su=!1,Iu=0,Hm.current=null,c===null||c.return===null){Pt=1,Ru=a,It=null;break}e:{var v=o,b=c.return,D=c,F=a;if(a=qt,D.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var q=F,te=D,ie=te.tag;if((te.mode&1)===0&&(ie===0||ie===11||ie===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var de=qE(b);if(de!==null){de.flags&=-257,GE(de,b,D,v,a),de.mode&1&&KE(v,q,a),a=de,F=q;var _e=a.updateQueue;if(_e===null){var ye=new Set;ye.add(F),a.updateQueue=ye}else _e.add(F);break e}else{if((a&1)===0){KE(v,q,a),Zm();break e}F=Error(t(426))}}else if(lt&&D.mode&1){var wt=qE(b);if(wt!==null){(wt.flags&65536)===0&&(wt.flags|=256),GE(wt,b,D,v,a),cm(Ba(F,D));break e}}v=F=Ba(F,D),Pt!==4&&(Pt=2),Pu===null?Pu=[v]:Pu.push(v),v=b;do{switch(v.tag){case 3:v.flags|=65536,a&=-a,v.lanes|=a;var H=HE(v,F,a);_E(v,H);break e;case 1:D=F;var $=v.type,K=v.stateNode;if((v.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(gs===null||!gs.has(K)))){v.flags|=65536,a&=-a,v.lanes|=a;var oe=WE(v,D,a);_E(v,oe);break e}}v=v.return}while(v!==null)}Iw(c)}catch(Ee){a=Ee,It===c&&c!==null&&(It=c=c.return);continue}break}while(!0)}function bw(){var o=Kh.current;return Kh.current=jh,o===null?jh:o}function Zm(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),jt===null||(So&268435455)===0&&(qh&268435455)===0||vs(jt,qt)}function Zh(o,a){var c=qe;qe|=2;var p=bw();(jt!==o||qt!==a)&&(Ci=null,Ao(o,a));do try{_k();break}catch(g){Tw(o,g)}while(!0);if(dm(),qe=c,Kh.current=p,It!==null)throw Error(t(261));return jt=null,qt=0,Pt}function _k(){for(;It!==null;)Sw(It)}function yk(){for(;It!==null&&!Qc();)Sw(It)}function Sw(o){var a=xw(o.alternate,o,Vn);o.memoizedProps=o.pendingProps,a===null?Iw(o):It=a,Hm.current=null}function Iw(o){var a=o;do{var c=a.alternate;if(o=a.return,(a.flags&32768)===0){if(c=ck(c,a,Vn),c!==null){It=c;return}}else{if(c=hk(c,a),c!==null){c.flags&=32767,It=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Pt=6,It=null;return}}if(a=a.sibling,a!==null){It=a;return}It=a=o}while(a!==null);Pt===0&&(Pt=5)}function Co(o,a,c){var p=Be,g=tr.transition;try{tr.transition=null,Be=1,vk(o,a,c,p)}finally{tr.transition=g,Be=p}return null}function vk(o,a,c,p){do Ka();while(_s!==null);if((qe&6)!==0)throw Error(t(327));c=o.finishedWork;var g=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var v=c.lanes|c.childLanes;if(et(o,v),o===jt&&(It=jt=null,qt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Yh||(Yh=!0,kw(Gn,function(){return Ka(),null})),v=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||v){v=tr.transition,tr.transition=null;var b=Be;Be=1;var D=qe;qe|=4,Hm.current=null,fk(o,c),mw(c,o),$1(Zp),os=!!Jp,Zp=Jp=null,o.current=c,pk(c),Lp(),qe=D,Be=b,tr.transition=v}else o.current=c;if(Yh&&(Yh=!1,_s=o,Qh=g),v=o.pendingLanes,v===0&&(gs=null),Zc(c.stateNode),Tn(o,nt()),a!==null)for(p=o.onRecoverableError,c=0;c<a.length;c++)g=a[c],p(g.value,{componentStack:g.stack,digest:g.digest});if(Gh)throw Gh=!1,o=qm,qm=null,o;return(Qh&1)!==0&&o.tag!==0&&Ka(),v=o.pendingLanes,(v&1)!==0?o===Gm?Ou++:(Ou=0,Gm=o):Ou=0,ds(),null}function Ka(){if(_s!==null){var o=is(Qh),a=tr.transition,c=Be;try{if(tr.transition=null,Be=16>o?16:o,_s===null)var p=!1;else{if(o=_s,_s=null,Qh=0,(qe&6)!==0)throw Error(t(331));var g=qe;for(qe|=4,me=o.current;me!==null;){var v=me,b=v.child;if((me.flags&16)!==0){var D=v.deletions;if(D!==null){for(var F=0;F<D.length;F++){var q=D[F];for(me=q;me!==null;){var te=me;switch(te.tag){case 0:case 11:case 15:ku(8,te,v)}var ie=te.child;if(ie!==null)ie.return=te,me=ie;else for(;me!==null;){te=me;var ee=te.sibling,de=te.return;if(cw(te),te===q){me=null;break}if(ee!==null){ee.return=de,me=ee;break}me=de}}}var _e=v.alternate;if(_e!==null){var ye=_e.child;if(ye!==null){_e.child=null;do{var wt=ye.sibling;ye.sibling=null,ye=wt}while(ye!==null)}}me=v}}if((v.subtreeFlags&2064)!==0&&b!==null)b.return=v,me=b;else e:for(;me!==null;){if(v=me,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:ku(9,v,v.return)}var H=v.sibling;if(H!==null){H.return=v.return,me=H;break e}me=v.return}}var $=o.current;for(me=$;me!==null;){b=me;var K=b.child;if((b.subtreeFlags&2064)!==0&&K!==null)K.return=b,me=K;else e:for(b=$;me!==null;){if(D=me,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:Wh(9,D)}}catch(Ee){_t(D,D.return,Ee)}if(D===b){me=null;break e}var oe=D.sibling;if(oe!==null){oe.return=D.return,me=oe;break e}me=D.return}}if(qe=g,ds(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(uo,o)}catch{}p=!0}return p}finally{Be=c,tr.transition=a}}return!1}function Aw(o,a,c){a=Ba(c,a),a=HE(o,a,1),o=ps(o,a,1),a=hn(),o!==null&&(ns(o,1,a),Tn(o,a))}function _t(o,a,c){if(o.tag===3)Aw(o,o,c);else for(;a!==null;){if(a.tag===3){Aw(a,o,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(gs===null||!gs.has(p))){o=Ba(c,o),o=WE(a,o,1),a=ps(a,o,1),o=hn(),a!==null&&(ns(a,1,o),Tn(a,o));break}}a=a.return}}function Ek(o,a,c){var p=o.pingCache;p!==null&&p.delete(a),a=hn(),o.pingedLanes|=o.suspendedLanes&c,jt===o&&(qt&c)===c&&(Pt===4||Pt===3&&(qt&130023424)===qt&&500>nt()-Km?Ao(o,0):Wm|=c),Tn(o,a)}function Cw(o,a){a===0&&((o.mode&1)===0?a=1:(a=ma,ma<<=1,(ma&130023424)===0&&(ma=4194304)));var c=hn();o=Si(o,a),o!==null&&(ns(o,a,c),Tn(o,c))}function wk(o){var a=o.memoizedState,c=0;a!==null&&(c=a.retryLane),Cw(o,c)}function Tk(o,a){var c=0;switch(o.tag){case 13:var p=o.stateNode,g=o.memoizedState;g!==null&&(c=g.retryLane);break;case 19:p=o.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),Cw(o,c)}var xw;xw=function(o,a,c){if(o!==null)if(o.memoizedProps!==a.pendingProps||yn.current)En=!0;else{if((o.lanes&c)===0&&(a.flags&128)===0)return En=!1,uk(o,a,c);En=(o.flags&131072)!==0}else En=!1,lt&&(a.flags&1048576)!==0&&aE(a,xh,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;zh(o,a),o=a.pendingProps;var g=Da(a,Zt.current);ja(a,c),g=bm(null,a,p,o,g,c);var v=Sm();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,vn(p)?(v=!0,Ih(a)):v=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,gm(a),g.updater=Uh,a.stateNode=g,g._reactInternals=a,Rm(a,p,o,c),a=Dm(null,a,p,!0,v,c)):(a.tag=0,lt&&v&&om(a),cn(null,a,g,c),a=a.child),a;case 16:p=a.elementType;e:{switch(zh(o,a),o=a.pendingProps,g=p._init,p=g(p._payload),a.type=p,g=a.tag=Sk(p),o=br(p,o),g){case 0:a=Nm(null,a,p,o,c);break e;case 1:a=ew(null,a,p,o,c);break e;case 11:a=YE(null,a,p,o,c);break e;case 14:a=QE(null,a,p,br(p.type,o),c);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:br(p,g),Nm(o,a,p,g,c);case 1:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:br(p,g),ew(o,a,p,g,c);case 3:e:{if(tw(a),o===null)throw Error(t(387));p=a.pendingProps,v=a.memoizedState,g=v.element,gE(o,a),Dh(a,p,null,c);var b=a.memoizedState;if(p=b.element,v.isDehydrated)if(v={element:p,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){g=Ba(Error(t(423)),a),a=nw(o,a,p,c,g);break e}else if(p!==g){g=Ba(Error(t(424)),a),a=nw(o,a,p,c,g);break e}else for(Ln=us(a.stateNode.containerInfo.firstChild),Mn=a,lt=!0,Tr=null,c=pE(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Va(),p===g){a=Ai(o,a,c);break e}cn(o,a,p,c)}a=a.child}return a;case 5:return vE(a),o===null&&um(a),p=a.type,g=a.pendingProps,v=o!==null?o.memoizedProps:null,b=g.children,em(p,g)?b=null:v!==null&&em(p,v)&&(a.flags|=32),ZE(o,a),cn(o,a,b,c),a.child;case 6:return o===null&&um(a),null;case 13:return rw(o,a,c);case 4:return _m(a,a.stateNode.containerInfo),p=a.pendingProps,o===null?a.child=Fa(a,null,p,c):cn(o,a,p,c),a.child;case 11:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:br(p,g),YE(o,a,p,g,c);case 7:return cn(o,a,a.pendingProps,c),a.child;case 8:return cn(o,a,a.pendingProps.children,c),a.child;case 12:return cn(o,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,g=a.pendingProps,v=a.memoizedProps,b=g.value,rt(Ph,p._currentValue),p._currentValue=b,v!==null)if(wr(v.value,b)){if(v.children===g.children&&!yn.current){a=Ai(o,a,c);break e}}else for(v=a.child,v!==null&&(v.return=a);v!==null;){var D=v.dependencies;if(D!==null){b=v.child;for(var F=D.firstContext;F!==null;){if(F.context===p){if(v.tag===1){F=Ii(-1,c&-c),F.tag=2;var q=v.updateQueue;if(q!==null){q=q.shared;var te=q.pending;te===null?F.next=F:(F.next=te.next,te.next=F),q.pending=F}}v.lanes|=c,F=v.alternate,F!==null&&(F.lanes|=c),pm(v.return,c,a),D.lanes|=c;break}F=F.next}}else if(v.tag===10)b=v.type===a.type?null:v.child;else if(v.tag===18){if(b=v.return,b===null)throw Error(t(341));b.lanes|=c,D=b.alternate,D!==null&&(D.lanes|=c),pm(b,c,a),b=v.sibling}else b=v.child;if(b!==null)b.return=v;else for(b=v;b!==null;){if(b===a){b=null;break}if(v=b.sibling,v!==null){v.return=b.return,b=v;break}b=b.return}v=b}cn(o,a,g.children,c),a=a.child}return a;case 9:return g=a.type,p=a.pendingProps.children,ja(a,c),g=Zn(g),p=p(g),a.flags|=1,cn(o,a,p,c),a.child;case 14:return p=a.type,g=br(p,a.pendingProps),g=br(p.type,g),QE(o,a,p,g,c);case 15:return XE(o,a,a.type,a.pendingProps,c);case 17:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:br(p,g),zh(o,a),a.tag=1,vn(p)?(o=!0,Ih(a)):o=!1,ja(a,c),BE(a,p,g),Rm(a,p,g,c),Dm(null,a,p,!0,o,c);case 19:return sw(o,a,c);case 22:return JE(o,a,c)}throw Error(t(156,a.tag))};function kw(o,a){return fa(o,a)}function bk(o,a,c,p){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(o,a,c,p){return new bk(o,a,c,p)}function eg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Sk(o){if(typeof o=="function")return eg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===V)return 11;if(o===Se)return 14}return 2}function Es(o,a){var c=o.alternate;return c===null?(c=nr(o.tag,a,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=a,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,a=o.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function ed(o,a,c,p,g,v){var b=2;if(p=o,typeof o=="function")eg(o)&&(b=1);else if(typeof o=="string")b=5;else e:switch(o){case P:return xo(c.children,g,v,a);case x:b=8,g|=8;break;case k:return o=nr(12,c,a,g|2),o.elementType=k,o.lanes=v,o;case O:return o=nr(13,c,a,g),o.elementType=O,o.lanes=v,o;case Me:return o=nr(19,c,a,g),o.elementType=Me,o.lanes=v,o;case ge:return td(c,g,v,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case N:b=10;break e;case M:b=9;break e;case V:b=11;break e;case Se:b=14;break e;case we:b=16,p=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return a=nr(b,c,a,g),a.elementType=o,a.type=p,a.lanes=v,a}function xo(o,a,c,p){return o=nr(7,o,p,a),o.lanes=c,o}function td(o,a,c,p){return o=nr(22,o,p,a),o.elementType=ge,o.lanes=c,o.stateNode={isHidden:!1},o}function tg(o,a,c){return o=nr(6,o,null,a),o.lanes=c,o}function ng(o,a,c){return a=nr(4,o.children!==null?o.children:[],o.key,a),a.lanes=c,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function Ik(o,a,c,p,g){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ts(0),this.expirationTimes=ts(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ts(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function rg(o,a,c,p,g,v,b,D,F){return o=new Ik(o,a,c,D,F),a===1?(a=1,v===!0&&(a|=8)):a=0,v=nr(3,null,null,a),o.current=v,v.stateNode=o,v.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},gm(v),o}function Ak(o,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:p==null?null:""+p,children:o,containerInfo:a,implementation:c}}function Rw(o){if(!o)return hs;o=o._reactInternals;e:{if(pr(o)!==o||o.tag!==1)throw Error(t(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(vn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(o.tag===1){var c=o.type;if(vn(c))return iE(o,c,a)}return a}function Pw(o,a,c,p,g,v,b,D,F){return o=rg(c,p,!0,o,g,v,b,D,F),o.context=Rw(null),c=o.current,p=hn(),g=ys(c),v=Ii(p,g),v.callback=a??null,ps(c,v,g),o.current.lanes=g,ns(o,g,p),Tn(o,p),o}function nd(o,a,c,p){var g=a.current,v=hn(),b=ys(g);return c=Rw(c),a.context===null?a.context=c:a.pendingContext=c,a=Ii(v,b),a.payload={element:o},p=p===void 0?null:p,p!==null&&(a.callback=p),o=ps(g,a,b),o!==null&&(Ar(o,g,b,v),Nh(o,g,b)),b}function rd(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Ow(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<a?c:a}}function ig(o,a){Ow(o,a),(o=o.alternate)&&Ow(o,a)}function Ck(){return null}var Nw=typeof reportError=="function"?reportError:function(o){console.error(o)};function sg(o){this._internalRoot=o}id.prototype.render=sg.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(t(409));nd(o,a,null,null)},id.prototype.unmount=sg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;Io(function(){nd(null,o,null,null)}),a[Ei]=null}};function id(o){this._internalRoot=o}id.prototype.unstable_scheduleHydration=function(o){if(o){var a=ih();o={blockedOn:null,target:o,priority:a};for(var c=0;c<Ur.length&&a!==0&&a<Ur[c].priority;c++);Ur.splice(c,0,o),c===0&&ah(o)}};function og(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function sd(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Dw(){}function xk(o,a,c,p,g){if(g){if(typeof p=="function"){var v=p;p=function(){var q=rd(b);v.call(q)}}var b=Pw(a,p,o,0,null,!1,!1,"",Dw);return o._reactRootContainer=b,o[Ei]=b.current,gu(o.nodeType===8?o.parentNode:o),Io(),b}for(;g=o.lastChild;)o.removeChild(g);if(typeof p=="function"){var D=p;p=function(){var q=rd(F);D.call(q)}}var F=rg(o,0,!1,null,null,!1,!1,"",Dw);return o._reactRootContainer=F,o[Ei]=F.current,gu(o.nodeType===8?o.parentNode:o),Io(function(){nd(a,F,c,p)}),F}function od(o,a,c,p,g){var v=c._reactRootContainer;if(v){var b=v;if(typeof g=="function"){var D=g;g=function(){var F=rd(b);D.call(F)}}nd(a,b,o,g)}else b=xk(c,a,o,g,p);return rd(b)}nh=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var c=es(a.pendingLanes);c!==0&&(rs(a,c|1),Tn(a,nt()),(qe&6)===0&&(Wa=nt()+500,ds()))}break;case 13:Io(function(){var p=Si(o,1);if(p!==null){var g=hn();Ar(p,o,1,g)}}),ig(o,1)}},ga=function(o){if(o.tag===13){var a=Si(o,134217728);if(a!==null){var c=hn();Ar(a,o,134217728,c)}ig(o,134217728)}},rh=function(o){if(o.tag===13){var a=ys(o),c=Si(o,a);if(c!==null){var p=hn();Ar(c,o,a,p)}ig(o,a)}},ih=function(){return Be},sh=function(o,a){var c=Be;try{return Be=o,a()}finally{Be=c}},aa=function(o,a,c){switch(a){case"input":if(Mr(o,c),a=c.name,c.type==="radio"&&a!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==o&&p.form===o.form){var g=bh(p);if(!g)throw Error(t(90));pt(p),Mr(p,g)}}}break;case"textarea":Vr(o,c);break;case"select":a=c.value,a!=null&&Jt(o,!!c.multiple,a,!1)}},io=Xm,Xl=Io;var kk={usingClientEntryPoint:!1,Events:[vu,Oa,bh,$r,Ql,Xm]},Nu={findFiberByHostInstance:_o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rk={bundleType:Nu.bundleType,version:Nu.version,rendererPackageName:Nu.rendererPackageName,rendererConfig:Nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=eu(o),o===null?null:o.stateNode},findFiberByHostInstance:Nu.findFiberByHostInstance||Ck,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{uo=ad.inject(Rk),Pn=ad}catch{}}return bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kk,bn.createPortal=function(o,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!og(a))throw Error(t(200));return Ak(o,a,null,c)},bn.createRoot=function(o,a){if(!og(o))throw Error(t(299));var c=!1,p="",g=Nw;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=rg(o,1,!1,null,null,c,!1,p,g),o[Ei]=a.current,gu(o.nodeType===8?o.parentNode:o),new sg(a)},bn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=eu(a),o=o===null?null:o.stateNode,o},bn.flushSync=function(o){return Io(o)},bn.hydrate=function(o,a,c){if(!sd(a))throw Error(t(200));return od(null,o,a,!0,c)},bn.hydrateRoot=function(o,a,c){if(!og(o))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,g=!1,v="",b=Nw;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(b=c.onRecoverableError)),a=Pw(a,null,o,1,c??null,g,!1,v,b),o[Ei]=a.current,gu(o),p)for(o=0;o<p.length;o++)c=p[o],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new id(a)},bn.render=function(o,a,c){if(!sd(a))throw Error(t(200));return od(null,o,a,!1,c)},bn.unmountComponentAtNode=function(o){if(!sd(o))throw Error(t(40));return o._reactRootContainer?(Io(function(){od(null,null,o,!1,function(){o._reactRootContainer=null,o[Ei]=null})}),!0):!1},bn.unstable_batchedUpdates=Xm,bn.unstable_renderSubtreeIntoContainer=function(o,a,c,p){if(!sd(c))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return od(o,a,c,!1,p)},bn.version="18.3.1-next-f1338f8080-20240426",bn}var Bw;function Uk(){if(Bw)return ug.exports;Bw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ug.exports=jk(),ug.exports}var zw;function Bk(){if(zw)return ld;zw=1;var n=Uk();return ld.createRoot=n.createRoot,ld.hydrateRoot=n.hydrateRoot,ld}var zk=Bk(),Mu={},Hw;function Hk(){if(Hw)return Mu;Hw=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.parse=l,Mu.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function l(E,T){const S=new s,I=E.length;if(I<2)return S;const A=(T==null?void 0:T.decode)||m;let R=0;do{const L=E.indexOf("=",R);if(L===-1)break;const U=E.indexOf(";",R),B=U===-1?I:U;if(L>B){R=E.lastIndexOf(";",L-1)+1;continue}const Q=u(E,R,L),Y=h(E,L,Q),P=E.slice(Q,Y);if(S[P]===void 0){let x=u(E,L+1,B),k=h(E,B,x);const N=A(E.slice(x,k));S[P]=N}R=B+1}while(R<I);return S}function u(E,T,S){do{const I=E.charCodeAt(T);if(I!==32&&I!==9)return T}while(++T<S);return S}function h(E,T,S){for(;T>S;){const I=E.charCodeAt(--T);if(I!==32&&I!==9)return T+1}return S}function f(E,T,S){const I=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const A=I(T);if(!e.test(A))throw new TypeError(`argument val is invalid: ${T}`);let R=E+"="+A;if(!S)return R;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);R+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);R+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);R+="; Path="+S.path}if(S.expires){if(!_(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);R+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(R+="; HttpOnly"),S.secure&&(R+="; Secure"),S.partitioned&&(R+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return R}function m(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return i.call(E)==="[object Date]"}return Mu}Hk();var Ww="popstate";function Wk(n={}){function e(r,i){let{pathname:s,search:l,hash:u}=r.location;return t_("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:mc(i)}return qk(e,t,null,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Kk(){return Math.random().toString(36).substring(2,10)}function Kw(n,e){return{usr:n.state,key:n.key,idx:e}}function t_(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Pl(e):e,state:t,key:e&&e.key||r||Kk()}}function mc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Pl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function qk(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u="POP",h=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function _(){u="POP";let A=m(),R=A==null?null:A-f;f=A,h&&h({action:u,location:I.location,delta:R})}function E(A,R){u="PUSH";let L=t_(I.location,A,R);f=m()+1;let U=Kw(L,f),B=I.createHref(L);try{l.pushState(U,"",B)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;i.location.assign(B)}s&&h&&h({action:u,location:I.location,delta:1})}function T(A,R){u="REPLACE";let L=t_(I.location,A,R);f=m();let U=Kw(L,f),B=I.createHref(L);l.replaceState(U,"",B),s&&h&&h({action:u,location:I.location,delta:0})}function S(A){return Gk(A)}let I={get action(){return u},get location(){return n(i,l)},listen(A){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Ww,_),h=A,()=>{i.removeEventListener(Ww,_),h=null}},createHref(A){return e(i,A)},createURL:S,encodeLocation(A){let R=S(A);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:E,replace:T,go(A){return l.go(A)}};return I}function Gk(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ct(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:mc(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function bS(n,e,t="/"){return Yk(n,e,t,!1)}function Yk(n,e,t,r){let i=typeof e=="string"?Pl(e):e,s=ji(i.pathname||"/",t);if(s==null)return null;let l=SS(n);Qk(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=aR(s);u=sR(l[h],f,r)}return u}function SS(n,e=[],t=[],r=""){let i=(s,l,u)=>{let h={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};h.relativePath.startsWith("/")&&(ct(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let f=Li([r,h.relativePath]),m=t.concat(h);s.children&&s.children.length>0&&(ct(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),SS(s.children,e,m,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:rR(f,s.index),routesMeta:m})};return n.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,l);else for(let h of IS(s.path))i(s,l,h)}),e}function IS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=IS(r.join("/")),u=[];return u.push(...l.map(h=>h===""?s:[s,h].join("/"))),i&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function Qk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:iR(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Xk=/^:[\w-]+$/,Jk=3,Zk=2,eR=1,tR=10,nR=-2,qw=n=>n==="*";function rR(n,e){let t=n.split("/"),r=t.length;return t.some(qw)&&(r+=nR),e&&(r+=Zk),t.filter(i=>!qw(i)).reduce((i,s)=>i+(Xk.test(s)?Jk:s===""?eR:tR),r)}function iR(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function sR(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",l=[];for(let u=0;u<r.length;++u){let h=r[u],f=u===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",_=of({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),E=h.route;if(!_&&f&&t&&!r[r.length-1].route.index&&(_=of({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:Li([s,_.pathname]),pathnameBase:hR(Li([s,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(s=Li([s,_.pathnameBase]))}return l}function of(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=oR(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:_},E)=>{if(m==="*"){let S=u[E]||"";l=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const T=u[E];return _&&!T?f[m]=void 0:f[m]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:n}}function oR(n,e=!1,t=!0){xr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function aR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ji(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function lR(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Pl(n):n;return{pathname:t?t.startsWith("/")?t:uR(t,e):e,search:dR(r),hash:fR(i)}}function uR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function dg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function q_(n){let e=cR(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function G_(n,e,t,r=!1){let i;typeof n=="string"?i=Pl(n):(i={...n},ct(!i.pathname||!i.pathname.includes("?"),dg("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),dg("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),dg("#","search","hash",i)));let s=n===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),_-=1;i.pathname=E.join("/")}u=_>=0?e[_]:"/"}let h=lR(i,u),f=l&&l!=="/"&&l.endsWith("/"),m=(s||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}var Li=n=>n.join("/").replace(/\/\/+/g,"/"),hR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),dR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,fR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function pR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var AS=["POST","PUT","PATCH","DELETE"];new Set(AS);var mR=["GET",...AS];new Set(mR);var Ol=W.createContext(null);Ol.displayName="DataRouter";var qf=W.createContext(null);qf.displayName="DataRouterState";var CS=W.createContext({isTransitioning:!1});CS.displayName="ViewTransition";var gR=W.createContext(new Map);gR.displayName="Fetchers";var _R=W.createContext(null);_R.displayName="Await";var Pr=W.createContext(null);Pr.displayName="Navigation";var kc=W.createContext(null);kc.displayName="Location";var di=W.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var Y_=W.createContext(null);Y_.displayName="RouteError";function yR(n,{relative:e}={}){ct(Nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=W.useContext(Pr),{hash:i,pathname:s,search:l}=Rc(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:Li([t,s])),r.createHref({pathname:u,search:l,hash:i})}function Nl(){return W.useContext(kc)!=null}function Gs(){return ct(Nl(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(kc).location}var xS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kS(n){W.useContext(Pr).static||W.useLayoutEffect(n)}function Gf(){let{isDataRoute:n}=W.useContext(di);return n?PR():vR()}function vR(){ct(Nl(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(Ol),{basename:e,navigator:t}=W.useContext(Pr),{matches:r}=W.useContext(di),{pathname:i}=Gs(),s=JSON.stringify(q_(r)),l=W.useRef(!1);return kS(()=>{l.current=!0}),W.useCallback((h,f={})=>{if(xr(l.current,xS),!l.current)return;if(typeof h=="number"){t.go(h);return}let m=G_(h,JSON.parse(s),i,f.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Li([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,s,i,n])}W.createContext(null);function Rc(n,{relative:e}={}){let{matches:t}=W.useContext(di),{pathname:r}=Gs(),i=JSON.stringify(q_(t));return W.useMemo(()=>G_(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function ER(n,e){return RS(n,e)}function RS(n,e,t,r){var R;ct(Nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=W.useContext(Pr),{matches:s}=W.useContext(di),l=s[s.length-1],u=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let L=m&&m.path||"";PS(h,!m||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let _=Gs(),E;if(e){let L=typeof e=="string"?Pl(e):e;ct(f==="/"||((R=L.pathname)==null?void 0:R.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${L.pathname}" was given in the \`location\` prop.`),E=L}else E=_;let T=E.pathname||"/",S=T;if(f!=="/"){let L=f.replace(/^\//,"").split("/");S="/"+T.replace(/^\//,"").split("/").slice(L.length).join("/")}let I=bS(n,{pathname:S});xr(m||I!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),xr(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=IR(I&&I.map(L=>Object.assign({},L,{params:Object.assign({},u,L.params),pathname:Li([f,i.encodeLocation?i.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?f:Li([f,i.encodeLocation?i.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),s,t,r);return e&&A?W.createElement(kc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},A):A}function wR(){let n=RR(),e=pR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:s},"ErrorBoundary")," or"," ",W.createElement("code",{style:s},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:i},t):null,l)}var TR=W.createElement(wR,null),bR=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(di.Provider,{value:this.props.routeContext},W.createElement(Y_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SR({routeContext:n,match:e,children:t}){let r=W.useContext(Ol);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(di.Provider,{value:n},t)}function IR(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let h=i.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);ct(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,u=-1;if(t)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:_}=t,E=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!_||_[f.route.id]===void 0);if(f.route.lazy||E){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,f,m)=>{let _,E=!1,T=null,S=null;t&&(_=s&&f.route.id?s[f.route.id]:void 0,T=f.route.errorElement||TR,l&&(u<0&&m===0?(PS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):u===m&&(E=!0,S=f.route.hydrateFallbackElement||null)));let I=e.concat(i.slice(0,m+1)),A=()=>{let R;return _?R=T:E?R=S:f.route.Component?R=W.createElement(f.route.Component,null):f.route.element?R=f.route.element:R=h,W.createElement(SR,{match:f,routeContext:{outlet:h,matches:I,isDataRoute:t!=null},children:R})};return t&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?W.createElement(bR,{location:t.location,revalidation:t.revalidation,component:T,error:_,children:A(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):A()},null)}function Q_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AR(n){let e=W.useContext(Ol);return ct(e,Q_(n)),e}function CR(n){let e=W.useContext(qf);return ct(e,Q_(n)),e}function xR(n){let e=W.useContext(di);return ct(e,Q_(n)),e}function X_(n){let e=xR(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function kR(){return X_("useRouteId")}function RR(){var r;let n=W.useContext(Y_),e=CR("useRouteError"),t=X_("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function PR(){let{router:n}=AR("useNavigate"),e=X_("useNavigate"),t=W.useRef(!1);return kS(()=>{t.current=!0}),W.useCallback(async(i,s={})=>{xr(t.current,xS),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var Gw={};function PS(n,e,t){!e&&!Gw[n]&&(Gw[n]=!0,xr(!1,t))}W.memo(OR);function OR({routes:n,future:e,state:t}){return RS(n,void 0,t,e)}function NR({to:n,replace:e,state:t,relative:r}){ct(Nl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=W.useContext(Pr);xr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=W.useContext(di),{pathname:l}=Gs(),u=Gf(),h=G_(n,q_(s),l,r==="path"),f=JSON.stringify(h);return W.useEffect(()=>{u(JSON.parse(f),{replace:e,state:t,relative:r})},[u,f,r,e,t]),null}function jd(n){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){ct(!Nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=W.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof t=="string"&&(t=Pl(t));let{pathname:h="/",search:f="",hash:m="",state:_=null,key:E="default"}=t,T=W.useMemo(()=>{let S=ji(h,l);return S==null?null:{location:{pathname:S,search:f,hash:m,state:_,key:E},navigationType:r}},[l,h,f,m,_,E,r]);return xr(T!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:W.createElement(Pr.Provider,{value:u},W.createElement(kc.Provider,{children:e,value:T}))}function MR({children:n,location:e}){return ER(n_(n),e)}function n_(n,e=[]){let t=[];return W.Children.forEach(n,(r,i)=>{if(!W.isValidElement(r))return;let s=[...e,i];if(r.type===W.Fragment){t.push.apply(t,n_(r.props.children,s));return}ct(r.type===jd,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=n_(r.props.children,s)),t.push(l)}),t}var Ud="get",Bd="application/x-www-form-urlencoded";function Yf(n){return n!=null&&typeof n.tagName=="string"}function LR(n){return Yf(n)&&n.tagName.toLowerCase()==="button"}function VR(n){return Yf(n)&&n.tagName.toLowerCase()==="form"}function FR(n){return Yf(n)&&n.tagName.toLowerCase()==="input"}function $R(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function jR(n,e){return n.button===0&&(!e||e==="_self")&&!$R(n)}var ud=null;function UR(){if(ud===null)try{new FormData(document.createElement("form"),0),ud=!1}catch{ud=!0}return ud}var BR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fg(n){return n!=null&&!BR.has(n)?(xr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bd}"`),null):n}function zR(n,e){let t,r,i,s,l;if(VR(n)){let u=n.getAttribute("action");r=u?ji(u,e):null,t=n.getAttribute("method")||Ud,i=fg(n.getAttribute("enctype"))||Bd,s=new FormData(n)}else if(LR(n)||FR(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(r=h?ji(h,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Ud,i=fg(n.getAttribute("formenctype"))||fg(u.getAttribute("enctype"))||Bd,s=new FormData(u,n),!UR()){let{name:f,type:m,value:_}=n;if(m==="image"){let E=f?`${f}.`:"";s.append(`${E}x`,"0"),s.append(`${E}y`,"0")}else f&&s.append(f,_)}}else{if(Yf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ud,r=null,i=Bd,l=n}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:l}}function J_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function HR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function KR(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await HR(s,t);return l.links?l.links():[]}return[]}));return QR(r.flat(1).filter(WR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Yw(n,e,t,r,i,s){let l=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,u=(h,f)=>{var m;return t[f].pathname!==h.pathname||((m=t[f].route.path)==null?void 0:m.endsWith("*"))&&t[f].params["*"]!==h.params["*"]};return s==="assets"?e.filter((h,f)=>l(h,f)||u(h,f)):s==="data"?e.filter((h,f)=>{var _;let m=r.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let E=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function qR(n,e,{includeHydrateFallback:t}={}){return GR(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function GR(n){return[...new Set(n)]}function YR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function QR(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(YR(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var XR=new Set([100,101,204,205]);function JR(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ji(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function OS(){let n=W.useContext(Ol);return J_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ZR(){let n=W.useContext(qf);return J_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Z_=W.createContext(void 0);Z_.displayName="FrameworkContext";function NS(){let n=W.useContext(Z_);return J_(n,"You must render this element inside a <HydratedRouter> element"),n}function eP(n,e){let t=W.useContext(Z_),[r,i]=W.useState(!1),[s,l]=W.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:m,onTouchStart:_}=e,E=W.useRef(null);W.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let I=R=>{R.forEach(L=>{l(L.isIntersecting)})},A=new IntersectionObserver(I,{threshold:.5});return E.current&&A.observe(E.current),()=>{A.disconnect()}}},[n]),W.useEffect(()=>{if(r){let I=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(I)}}},[r]);let T=()=>{i(!0)},S=()=>{i(!1),l(!1)};return t?n!=="intent"?[s,E,{}]:[s,E,{onFocus:Lu(u,T),onBlur:Lu(h,S),onMouseEnter:Lu(f,T),onMouseLeave:Lu(m,S),onTouchStart:Lu(_,T)}]:[!1,E,{}]}function Lu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function tP({page:n,...e}){let{router:t}=OS(),r=W.useMemo(()=>bS(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?W.createElement(rP,{page:n,matches:r,...e}):null}function nP(n){let{manifest:e,routeModules:t}=NS(),[r,i]=W.useState([]);return W.useEffect(()=>{let s=!1;return KR(n,e,t).then(l=>{s||i(l)}),()=>{s=!0}},[n,e,t]),r}function rP({page:n,matches:e,...t}){let r=Gs(),{manifest:i,routeModules:s}=NS(),{basename:l}=OS(),{loaderData:u,matches:h}=ZR(),f=W.useMemo(()=>Yw(n,e,h,i,r,"data"),[n,e,h,i,r]),m=W.useMemo(()=>Yw(n,e,h,i,r,"assets"),[n,e,h,i,r]),_=W.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,I=!1;if(e.forEach(R=>{var U;let L=i.routes[R.route.id];!L||!L.hasLoader||(!f.some(B=>B.route.id===R.route.id)&&R.route.id in u&&((U=s[R.route.id])!=null&&U.shouldRevalidate)||L.hasClientLoader?I=!0:S.add(R.route.id))}),S.size===0)return[];let A=JR(n,l);return I&&S.size>0&&A.searchParams.set("_routes",e.filter(R=>S.has(R.route.id)).map(R=>R.route.id).join(",")),[A.pathname+A.search]},[l,u,r,i,f,e,n,s]),E=W.useMemo(()=>qR(m,i),[m,i]),T=nP(m);return W.createElement(W.Fragment,null,_.map(S=>W.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),E.map(S=>W.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),T.map(({key:S,link:I})=>W.createElement("link",{key:S,...I})))}function iP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var DS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DS&&(window.__reactRouterVersion="7.6.2")}catch{}function sP({basename:n,children:e,window:t}){let r=W.useRef();r.current==null&&(r.current=Wk({window:t,v5Compat:!0}));let i=r.current,[s,l]=W.useState({action:i.action,location:i.location}),u=W.useCallback(h=>{W.startTransition(()=>l(h))},[l]);return W.useLayoutEffect(()=>i.listen(u),[i,u]),W.createElement(DR,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var MS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gc=W.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:u,target:h,to:f,preventScrollReset:m,viewTransition:_,...E},T){let{basename:S}=W.useContext(Pr),I=typeof f=="string"&&MS.test(f),A,R=!1;if(typeof f=="string"&&I&&(A=f,DS))try{let k=new URL(window.location.href),N=f.startsWith("//")?new URL(k.protocol+f):new URL(f),M=ji(N.pathname,S);N.origin===k.origin&&M!=null?f=M+N.search+N.hash:R=!0}catch{xr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=yR(f,{relative:i}),[U,B,Q]=eP(r,E),Y=uP(f,{replace:l,state:u,target:h,preventScrollReset:m,relative:i,viewTransition:_});function P(k){e&&e(k),k.defaultPrevented||Y(k)}let x=W.createElement("a",{...E,...Q,href:A||L,onClick:R||s?e:P,ref:iP(T,B),target:h,"data-discover":!I&&t==="render"?"true":void 0});return U&&!I?W.createElement(W.Fragment,null,x,W.createElement(tP,{page:L})):x});gc.displayName="Link";var oP=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:u,children:h,...f},m){let _=Rc(l,{relative:f.relative}),E=Gs(),T=W.useContext(qf),{navigator:S,basename:I}=W.useContext(Pr),A=T!=null&&pP(_)&&u===!0,R=S.encodeLocation?S.encodeLocation(_).pathname:_.pathname,L=E.pathname,U=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(L=L.toLowerCase(),U=U?U.toLowerCase():null,R=R.toLowerCase()),U&&I&&(U=ji(U,I)||U);const B=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let Q=L===R||!i&&L.startsWith(R)&&L.charAt(B)==="/",Y=U!=null&&(U===R||!i&&U.startsWith(R)&&U.charAt(R.length)==="/"),P={isActive:Q,isPending:Y,isTransitioning:A},x=Q?e:void 0,k;typeof r=="function"?k=r(P):k=[r,Q?"active":null,Y?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let N=typeof s=="function"?s(P):s;return W.createElement(gc,{...f,"aria-current":x,className:k,ref:m,style:N,to:l,viewTransition:u},typeof h=="function"?h(P):h)});oP.displayName="NavLink";var aP=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:l=Ud,action:u,onSubmit:h,relative:f,preventScrollReset:m,viewTransition:_,...E},T)=>{let S=dP(),I=fP(u,{relative:f}),A=l.toLowerCase()==="get"?"get":"post",R=typeof u=="string"&&MS.test(u),L=U=>{if(h&&h(U),U.defaultPrevented)return;U.preventDefault();let B=U.nativeEvent.submitter,Q=(B==null?void 0:B.getAttribute("formmethod"))||l;S(B||U.currentTarget,{fetcherKey:e,method:Q,navigate:t,replace:i,state:s,relative:f,preventScrollReset:m,viewTransition:_})};return W.createElement("form",{ref:T,method:A,action:I,onSubmit:r?h:L,...E,"data-discover":!R&&n==="render"?"true":void 0})});aP.displayName="Form";function lP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LS(n){let e=W.useContext(Ol);return ct(e,lP(n)),e}function uP(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let u=Gf(),h=Gs(),f=Rc(n,{relative:s});return W.useCallback(m=>{if(jR(m,e)){m.preventDefault();let _=t!==void 0?t:mc(h)===mc(f);u(n,{replace:_,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[h,u,f,t,r,e,n,i,s,l])}var cP=0,hP=()=>`__${String(++cP)}__`;function dP(){let{router:n}=LS("useSubmit"),{basename:e}=W.useContext(Pr),t=kR();return W.useCallback(async(r,i={})=>{let{action:s,method:l,encType:u,formData:h,body:f}=zR(r,e);if(i.navigate===!1){let m=i.fetcherKey||hP();await n.fetch(m,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function fP(n,{relative:e}={}){let{basename:t}=W.useContext(Pr),r=W.useContext(di);ct(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Rc(n||".",{relative:e})},l=Gs();if(n==null){s.search=l.search;let u=new URLSearchParams(s.search),h=u.getAll("index");if(h.some(m=>m==="")){u.delete("index"),h.filter(_=>_).forEach(_=>u.append("index",_));let m=u.toString();s.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Li([t,s.pathname])),mc(s)}function pP(n,e={}){let t=W.useContext(CS);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=LS("useViewTransitionState"),i=Rc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=ji(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=ji(t.nextLocation.pathname,r)||t.nextLocation.pathname;return of(i.pathname,l)!=null||of(i.pathname,s)!=null}[...XR];const mP=()=>{};var Qw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},gP=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],l=n[t++],u=n[t++],h=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const s=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},FS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],l=i+1<n.length,u=l?n[i+1]:0,h=i+2<n.length,f=h?n[i+2]:0,m=s>>2,_=(s&3)<<4|u>>4;let E=(u&15)<<2|f>>6,T=f&63;h||(T=64,l||(E=64)),r.push(t[m],t[_],t[E],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(VS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):gP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||f==null||_==null)throw new _P;const E=s<<2|u>>4;if(r.push(E),f!==64){const T=u<<4&240|f>>2;if(r.push(T),_!==64){const S=f<<6&192|_;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class _P extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yP=function(n){const e=VS(n);return FS.encodeByteArray(e,!0)},af=function(n){return yP(n).replace(/\./g,"")},$S=function(n){try{return FS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=()=>vP().__FIREBASE_DEFAULTS__,wP=()=>{if(typeof process>"u"||typeof Qw>"u")return;const n=Qw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},TP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&$S(n[1]);return e&&JSON.parse(e)},Qf=()=>{try{return mP()||EP()||wP()||TP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},jS=n=>{var e,t;return(t=(e=Qf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},bP=n=>{const e=jS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},US=()=>{var n;return(n=Qf())===null||n===void 0?void 0:n.config},BS=n=>{var e;return(e=Qf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(n){return n.endsWith(".cloudworkstations.dev")}async function zS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[af(JSON.stringify(t)),af(JSON.stringify(l)),""].join(".")}const ec={};function AP(){const n={prod:[],emulator:[]};for(const e of Object.keys(ec))ec[e]?n.emulator.push(e):n.prod.push(e);return n}function CP(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Xw=!1;function HS(n,e){if(typeof window>"u"||typeof document>"u"||!Pc(window.location.host)||ec[n]===e||ec[n]||Xw)return;ec[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",s=AP().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function u(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function h(E,T){E.setAttribute("width","24"),E.setAttribute("id",T),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function f(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Xw=!0,l()},E}function m(E,T){E.setAttribute("id",T),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=CP(r),T=t("text"),S=document.getElementById(T)||document.createElement("span"),I=t("learnmore"),A=document.getElementById(I)||document.createElement("a"),R=t("preprendIcon"),L=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const U=E.element;u(U),m(A,I);const B=f();h(L,R),U.append(L,S,A,B),document.body.appendChild(U)}s?(S.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function kP(){var n;const e=(n=Qf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function PP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OP(){const n=an();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function NP(){return!kP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KS(){try{return typeof indexedDB=="object"}catch{return!1}}function qS(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function DP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="FirebaseError";class Or extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=MP,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jo.prototype.create)}}class Jo{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?LP(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Or(i,u,r)}}function LP(n,e){return n.replace(VP,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const VP=/\{\$([^}]+)}/g;function FP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ui(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],l=e[i];if(Jw(s)&&Jw(l)){if(!Ui(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Jw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ku(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function $P(n,e){const t=new jP(n,e);return t.subscribe.bind(t)}class jP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");UP(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=pg),i.error===void 0&&(i.error=pg),i.complete===void 0&&(i.complete=pg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function pg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=1e3,zP=2,HP=4*60*60*1e3,WP=.5;function Zw(n,e=BP,t=zP){const r=e*Math.pow(t,n),i=Math.round(WP*r*(Math.random()-.5)*2);return Math.min(HP,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(n){return n&&n._delegate?n._delegate:n}class kr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new SP;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GP(e))try{this.getOrInitializeService({instanceIdentifier:Oo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oo){return this.instances.has(e)}getOptions(e=Oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Oo){return this.component?this.component.multipleInstances?e:Oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qP(n){return n===Oo?void 0:n}function GP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new KP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const QP={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},XP=je.INFO,JP={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},ZP=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=JP[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xf{constructor(e){this.name=e,this._logLevel=XP,this._logHandler=ZP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const eO=(n,e)=>e.some(t=>n instanceof t);let e0,t0;function tO(){return e0||(e0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nO(){return t0||(t0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GS=new WeakMap,r_=new WeakMap,YS=new WeakMap,mg=new WeakMap,ey=new WeakMap;function rO(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",l)},s=()=>{t(Ns(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&GS.set(t,n)}).catch(()=>{}),ey.set(e,n),e}function iO(n){if(r_.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",l),n.removeEventListener("abort",l)},s=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",l),n.addEventListener("abort",l)});r_.set(n,e)}let i_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return r_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||YS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ns(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function sO(n){i_=n(i_)}function oO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(gg(this),e,...t);return YS.set(r,e.sort?e.sort():[e]),Ns(r)}:nO().includes(n)?function(...e){return n.apply(gg(this),e),Ns(GS.get(this))}:function(...e){return Ns(n.apply(gg(this),e))}}function aO(n){return typeof n=="function"?oO(n):(n instanceof IDBTransaction&&iO(n),eO(n,tO())?new Proxy(n,i_):n)}function Ns(n){if(n instanceof IDBRequest)return rO(n);if(mg.has(n))return mg.get(n);const e=aO(n);return e!==n&&(mg.set(n,e),ey.set(e,n)),e}const gg=n=>ey.get(n);function QS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(n,e),u=Ns(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Ns(l.result),h.oldVersion,h.newVersion,Ns(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{s&&h.addEventListener("close",()=>s()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const lO=["get","getKey","getAll","getAllKeys","count"],uO=["put","add","delete","clear"],_g=new Map;function n0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(_g.get(e))return _g.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=uO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lO.includes(t)))return;const s=async function(l,...u){const h=this.transaction(l,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),i&&h.done]))[0]};return _g.set(e,s),s}sO(n=>({...n,get:(e,t,r)=>n0(e,t)||n.get(e,t,r),has:(e,t)=>!!n0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(hO(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function hO(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const s_="@firebase/app",r0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new Xf("@firebase/app"),dO="@firebase/app-compat",fO="@firebase/analytics-compat",pO="@firebase/analytics",mO="@firebase/app-check-compat",gO="@firebase/app-check",_O="@firebase/auth",yO="@firebase/auth-compat",vO="@firebase/database",EO="@firebase/data-connect",wO="@firebase/database-compat",TO="@firebase/functions",bO="@firebase/functions-compat",SO="@firebase/installations",IO="@firebase/installations-compat",AO="@firebase/messaging",CO="@firebase/messaging-compat",xO="@firebase/performance",kO="@firebase/performance-compat",RO="@firebase/remote-config",PO="@firebase/remote-config-compat",OO="@firebase/storage",NO="@firebase/storage-compat",DO="@firebase/firestore",MO="@firebase/ai",LO="@firebase/firestore-compat",VO="firebase",FO="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="[DEFAULT]",$O={[s_]:"fire-core",[dO]:"fire-core-compat",[pO]:"fire-analytics",[fO]:"fire-analytics-compat",[gO]:"fire-app-check",[mO]:"fire-app-check-compat",[_O]:"fire-auth",[yO]:"fire-auth-compat",[vO]:"fire-rtdb",[EO]:"fire-data-connect",[wO]:"fire-rtdb-compat",[TO]:"fire-fn",[bO]:"fire-fn-compat",[SO]:"fire-iid",[IO]:"fire-iid-compat",[AO]:"fire-fcm",[CO]:"fire-fcm-compat",[xO]:"fire-perf",[kO]:"fire-perf-compat",[RO]:"fire-rc",[PO]:"fire-rc-compat",[OO]:"fire-gcs",[NO]:"fire-gcs-compat",[DO]:"fire-fst",[LO]:"fire-fst-compat",[MO]:"fire-vertex","fire-js":"fire-js",[VO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new Map,jO=new Map,a_=new Map;function i0(n,e){try{n.container.addComponent(e)}catch(t){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ai(n){const e=n.name;if(a_.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;a_.set(e,n);for(const t of lf.values())i0(t,n);for(const t of jO.values())i0(t,n);return!0}function Zo(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ir(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new Jo("app","Firebase",UO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=FO;function XS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:o_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ds.create("bad-app-name",{appName:String(i)});if(t||(t=US()),!t)throw Ds.create("no-options");const s=lf.get(i);if(s){if(Ui(t,s.options)&&Ui(r,s.config))return s;throw Ds.create("duplicate-app",{appName:i})}const l=new YP(i);for(const h of a_.values())l.addComponent(h);const u=new BO(t,r,l);return lf.set(i,u),u}function ty(n=o_){const e=lf.get(n);if(!e&&n===o_&&US())return XS();if(!e)throw Ds.create("no-app",{appName:n});return e}function sr(n,e,t){var r;let i=(r=$O[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(u.join(" "));return}ai(new kr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO="firebase-heartbeat-database",HO=1,_c="firebase-heartbeat-store";let yg=null;function JS(){return yg||(yg=QS(zO,HO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(_c)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ds.create("idb-open",{originalErrorMessage:n.message})})),yg}async function WO(n){try{const t=(await JS()).transaction(_c),r=await t.objectStore(_c).get(ZS(n));return await t.done,r}catch(e){if(e instanceof Or)Bi.warn(e.message);else{const t=Ds.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bi.warn(t.message)}}}async function s0(n,e){try{const r=(await JS()).transaction(_c,"readwrite");await r.objectStore(_c).put(e,ZS(n)),await r.done}catch(t){if(t instanceof Or)Bi.warn(t.message);else{const r=Ds.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Bi.warn(r.message)}}}function ZS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=1024,qO=30;class GO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new QO(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=o0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>qO){const l=XO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Bi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=o0(),{heartbeatsToSend:r,unsentEntries:i}=YO(this._heartbeatsCache.heartbeats),s=af(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Bi.warn(t),""}}}function o0(){return new Date().toISOString().substring(0,10)}function YO(n,e=KO){const t=[];let r=n.slice();for(const i of n){const s=t.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),a0(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),a0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class QO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KS()?qS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await WO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return s0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return s0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function a0(n){return af(JSON.stringify({version:2,heartbeats:n})).length}function XO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(n){ai(new kr("platform-logger",e=>new cO(e),"PRIVATE")),ai(new kr("heartbeat",e=>new GO(e),"PRIVATE")),sr(s_,r0,n),sr(s_,r0,"esm2017"),sr("fire-js","")}JO("");function ny(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function eI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZO=eI,tI=new Jo("auth","Firebase",eI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new Xf("@firebase/auth");function eN(n,...e){uf.logLevel<=je.WARN&&uf.warn(`Auth (${Dl}): ${n}`,...e)}function zd(n,...e){uf.logLevel<=je.ERROR&&uf.error(`Auth (${Dl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(n,...e){throw ry(n,...e)}function ei(n,...e){return ry(n,...e)}function nI(n,e,t){const r=Object.assign(Object.assign({},ZO()),{[e]:t});return new Jo("auth","Firebase",r).create(e,{appName:n.name})}function Vi(n){return nI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ry(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return tI.create(n,...e)}function Oe(n,e,...t){if(!n)throw ry(e,...t)}function Oi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw zd(e),new Error(e)}function zi(n,e){n||Oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function tN(){return l0()==="http:"||l0()==="https:"}function l0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tN()||WS()||"connection"in navigator)?navigator.onLine:!0}function rN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t){this.shortDelay=e,this.longDelay=t,zi(t>e,"Short delay should be less than long delay!"),this.isMobile=xP()||PP()}get(){return nN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(n,e){zi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oN=new Nc(3e4,6e4);function Ys(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Gi(n,e,t,r,i={}){return iI(n,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=Oc(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:h},s);return RP()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Pc(n.emulatorConfig.host)&&(f.credentials="include"),rI.fetch()(await sI(n,n.config.apiHost,t,u),f)})}async function iI(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},iN),e);try{const i=new lN(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw cd(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw cd(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw cd(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw cd(n,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw nI(n,m,f);Rr(n,m)}}catch(i){if(i instanceof Or)throw i;Rr(n,"network-request-failed",{message:String(i)})}}async function Dc(n,e,t,r,i={}){const s=await Gi(n,e,t,r,i);return"mfaPendingCredential"in s&&Rr(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function sI(n,e,t,r){const i=`${e}${t}?${r}`,s=n,l=s.config.emulator?iy(n.config,i):`${n.config.apiScheme}://${i}`;return sN.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function aN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ei(this.auth,"network-request-failed")),oN.get())})}}function cd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ei(n,e,r);return i.customData._tokenResponse=t,i}function u0(n){return n!==void 0&&n.enterprise!==void 0}class uN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return aN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cN(n,e){return Gi(n,"GET","/v2/recaptchaConfig",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(n,e){return Gi(n,"POST","/v1/accounts:delete",e)}async function cf(n,e){return Gi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dN(n,e=!1){const t=Lt(n),r=await t.getIdToken(e),i=sy(r);Oe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:tc(vg(i.auth_time)),issuedAtTime:tc(vg(i.iat)),expirationTime:tc(vg(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function vg(n){return Number(n)*1e3}function sy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return zd("JWT malformed, contained fewer than 3 sections"),null;try{const i=$S(t);return i?JSON.parse(i):(zd("Failed to decode base64 JWT payload"),null)}catch(i){return zd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function c0(n){const e=sy(n);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Or&&fN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function fN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tc(this.lastLoginAt),this.creationTime=tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(n){var e;const t=n.auth,r=await n.getIdToken(),i=await fl(n,cf(t,{idToken:r}));Oe(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?oI(s.providerUserInfo):[],u=gN(n.providerData,l),h=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),m=h?f:!1,_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new u_(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,_)}async function mN(n){const e=Lt(n);await hf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gN(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oI(n){return n.map(e=>{var{providerId:t}=e,r=ny(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(n,e){const t=await iI(n,{},async()=>{const r=Oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=await sI(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",rI.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function yN(n,e){return Gi(n,"POST","/v2/accounts:revokeToken",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const t=c0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await _N(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new al;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Oe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Oe(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new al,this.toJSON())}_performRefresh(){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(n,e){Oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Cr{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=ny(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new u_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await fl(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return dN(this,e)}reload(){return mN(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await hf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(Vi(this.auth));const e=await this.getIdToken();return await fl(this,hN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,l,u,h,f,m;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(i=t.email)!==null&&i!==void 0?i:void 0,T=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,S=(l=t.photoURL)!==null&&l!==void 0?l:void 0,I=(u=t.tenantId)!==null&&u!==void 0?u:void 0,A=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,R=(f=t.createdAt)!==null&&f!==void 0?f:void 0,L=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:U,emailVerified:B,isAnonymous:Q,providerData:Y,stsTokenManager:P}=t;Oe(U&&P,e,"internal-error");const x=al.fromJSON(this.name,P);Oe(typeof U=="string",e,"internal-error"),Ts(_,e.name),Ts(E,e.name),Oe(typeof B=="boolean",e,"internal-error"),Oe(typeof Q=="boolean",e,"internal-error"),Ts(T,e.name),Ts(S,e.name),Ts(I,e.name),Ts(A,e.name),Ts(R,e.name),Ts(L,e.name);const k=new Cr({uid:U,auth:e,email:E,emailVerified:B,displayName:_,isAnonymous:Q,photoURL:S,phoneNumber:T,tenantId:I,stsTokenManager:x,createdAt:R,lastLoginAt:L});return Y&&Array.isArray(Y)&&(k.providerData=Y.map(N=>Object.assign({},N))),A&&(k._redirectEventId=A),k}static async _fromIdTokenResponse(e,t,r=!1){const i=new al;i.updateFromServerResponse(t);const s=new Cr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await hf(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Oe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?oI(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new al;u.updateFromIdToken(r);const h=new Cr({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new u_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=new Map;function Ni(n){zi(n instanceof Function,"Expected a class definition");let e=h0.get(n);return e?(zi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,h0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}aI.type="NONE";const d0=aI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(n,e,t){return`firebase:${n}:${e}:${t}`}class ll{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Hd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Hd("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await cf(this.auth,{idToken:e}).catch(()=>{});return t?Cr._fromGetAccountInfoResponse(this.auth,t,e):null}return Cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ll(Ni(d0),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Ni(d0);const l=Hd(r,e.config.apiKey,e.name);let u=null;for(const f of t)try{const m=await f._get(l);if(m){let _;if(typeof m=="string"){const E=await cf(e,{idToken:m}).catch(()=>{});if(!E)break;_=await Cr._fromGetAccountInfoResponse(e,E,m)}else _=Cr._fromJSON(e,m);f!==s&&(u=_),s=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new ll(s,e,r):(s=h[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new ll(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fI(e))return"Blackberry";if(pI(e))return"Webos";if(uI(e))return"Safari";if((e.includes("chrome/")||cI(e))&&!e.includes("edge/"))return"Chrome";if(dI(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lI(n=an()){return/firefox\//i.test(n)}function uI(n=an()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cI(n=an()){return/crios\//i.test(n)}function hI(n=an()){return/iemobile/i.test(n)}function dI(n=an()){return/android/i.test(n)}function fI(n=an()){return/blackberry/i.test(n)}function pI(n=an()){return/webos/i.test(n)}function oy(n=an()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function vN(n=an()){var e;return oy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function EN(){return OP()&&document.documentMode===10}function mI(n=an()){return oy(n)||dI(n)||pI(n)||fI(n)||/windows phone/i.test(n)||hI(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(n,e=[]){let t;switch(n){case"Browser":t=f0(an());break;case"Worker":t=`${f0(an())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Dl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,u)=>{try{const h=e(s);l(h)}catch(h){u(h)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(n,e={}){return Gi(n,"GET","/v2/passwordPolicy",Ys(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=6;class SN{constructor(e){var t,r,i,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:bN,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsUppercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p0(this),this.idTokenSubscription=new p0(this),this.beforeStateQueue=new wN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ni(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await ll.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await cf(this,{idToken:e}),r=await Cr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ir(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(i=h.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject(Vi(this));const t=e?Lt(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(Vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject(Vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TN(this),t=new SN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jo("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await yN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ni(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=await ll.create(this,[Ni(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&eN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ea(n){return Lt(n)}class p0{constructor(e){this.auth=e,this.observer=null,this.addObserver=$P(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AN(n){Jf=n}function _I(n){return Jf.loadJS(n)}function CN(){return Jf.recaptchaEnterpriseScript}function xN(){return Jf.gapiScript}function kN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class RN{constructor(){this.enterprise=new PN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class PN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ON="recaptcha-enterprise",yI="NO_RECAPTCHA";class NN{constructor(e){this.type=ON,this.auth=ea(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{cN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new uN(h);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,l(f.siteKey)}}).catch(h=>{u(h)})})}function i(s,l,u){const h=window.grecaptcha;u0(h)?h.enterprise.ready(()=>{h.enterprise.execute(s,{action:e}).then(f=>{l(f)}).catch(()=>{l(yI)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RN().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!t&&u0(window.grecaptcha))i(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=CN();h.length!==0&&(h+=u),_I(h).then(()=>{i(u,s,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function m0(n,e,t,r=!1,i=!1){const s=new NN(n);let l;if(i)l=yI;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function c_(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await m0(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await m0(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(n,e){const t=Zo(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(Ui(s,e??{}))return i;Rr(i,"already-initialized")}return t.initialize({options:e})}function MN(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ni);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function LN(n,e,t){const r=ea(n);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=vI(e),{host:l,port:u}=VN(e),h=u===null?"":`:${u}`,f={url:`${s}//${l}${h}/`},m=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(Ui(f,r.config.emulator)&&Ui(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Pc(l)?(zS(`${s}//${l}${h}`),HS("Auth",!0)):FN()}function vI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function VN(n){const e=vI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:g0(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:g0(l)}}}function g0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function FN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,t){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}async function $N(n,e){return Gi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(n,e){return Dc(n,"POST","/v1/accounts:signInWithPassword",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(n,e){return Dc(n,"POST","/v1/accounts:signInWithEmailLink",Ys(n,e))}async function BN(n,e){return Dc(n,"POST","/v1/accounts:signInWithEmailLink",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends ay{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new yc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new yc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return c_(e,t,"signInWithPassword",jN);case"emailLink":return UN(e,{email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return c_(e,r,"signUpPassword",$N);case"emailLink":return BN(e,{idToken:t,email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(n,e){return Dc(n,"POST","/v1/accounts:signInWithIdp",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="http://localhost";class Bo extends ay{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Bo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=ny(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Bo(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ul(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ul(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ul(e,t)}buildRequest(){const e={requestUri:zN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Oc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WN(n){const e=Wu(Ku(n)).link,t=e?Wu(Ku(e)).deep_link_id:null,r=Wu(Ku(n)).deep_link_id;return(r?Wu(Ku(r)).link:null)||r||t||e||n}class ly{constructor(e){var t,r,i,s,l,u;const h=Wu(Ku(e)),f=(t=h.apiKey)!==null&&t!==void 0?t:null,m=(r=h.oobCode)!==null&&r!==void 0?r:null,_=HN((i=h.mode)!==null&&i!==void 0?i:null);Oe(f&&m&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=m,this.continueUrl=(s=h.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=h.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=WN(e);try{return new ly(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.providerId=Ml.PROVIDER_ID}static credential(e,t){return yc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ly.parseLink(t);return Oe(r,"argument-error"),yc._fromEmailAndCode(e,r.code,r.tenantId)}}Ml.PROVIDER_ID="password";Ml.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ml.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends EI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Mc{constructor(){super("facebook.com")}static credential(e){return Bo._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.FACEBOOK_SIGN_IN_METHOD="facebook.com";Is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Bo._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return As.credential(t,r)}catch{return null}}}As.GOOGLE_SIGN_IN_METHOD="google.com";As.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Mc{constructor(){super("github.com")}static credential(e){return Bo._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.GITHUB_SIGN_IN_METHOD="github.com";Cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Mc{constructor(){super("twitter.com")}static credential(e,t){return Bo._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return xs.credential(t,r)}catch{return null}}}xs.TWITTER_SIGN_IN_METHOD="twitter.com";xs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(n,e){return Dc(n,"POST","/v1/accounts:signUp",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Cr._fromIdTokenResponse(e,r,i),l=_0(r);return new zo({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=_0(r);return new zo({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function _0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends Or{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,df.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new df(e,t,r,i)}}function wI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?df._fromErrorAndOperation(n,s,e,r):s})}async function qN(n,e,t=!1){const r=await fl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return zo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(n,e,t=!1){const{auth:r}=n;if(ir(r.app))return Promise.reject(Vi(r));const i="reauthenticate";try{const s=await fl(n,wI(r,i,e,n),t);Oe(s.idToken,r,"internal-error");const l=sy(s.idToken);Oe(l,r,"internal-error");const{sub:u}=l;return Oe(n.uid===u,r,"user-mismatch"),zo._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Rr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(n,e,t=!1){if(ir(n.app))return Promise.reject(Vi(n));const r="signIn",i=await wI(n,r,e),s=await zo._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function YN(n,e){return TI(ea(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(n){const e=ea(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QN(n,e,t){if(ir(n.app))return Promise.reject(Vi(n));const r=ea(n),l=await c_(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KN).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&bI(n),h}),u=await zo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function XN(n,e,t){return ir(n.app)?Promise.reject(Vi(n)):YN(Lt(n),Ml.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bI(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(n,e){return Gi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Lt(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await fl(r,JN(r.auth,s));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function eD(n,e,t,r){return Lt(n).onIdTokenChanged(e,t,r)}function tD(n,e,t){return Lt(n).beforeAuthStateChanged(e,t)}function SI(n,e,t,r){return Lt(n).onAuthStateChanged(e,t,r)}function II(n){return Lt(n).signOut()}const ff="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ff,"1"),this.storage.removeItem(ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=1e3,rD=10;class CI extends AI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);EN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,rD):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},nD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}CI.type="LOCAL";const iD=CI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI extends AI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}xI.type="SESSION";const kI=xI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Zf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async f=>f(t.origin,s)),h=await sD(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,h)=>{const f=uy("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const E=_;if(E.data.eventId===f)switch(E.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(E.data.response);break;default:clearTimeout(m),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return window}function aD(n){ti().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(){return typeof ti().WorkerGlobalScope<"u"&&typeof ti().importScripts=="function"}async function lD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function cD(){return RI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="firebaseLocalStorageDb",hD=1,pf="firebaseLocalStorage",OI="fbase_key";class Lc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ep(n,e){return n.transaction([pf],e?"readwrite":"readonly").objectStore(pf)}function dD(){const n=indexedDB.deleteDatabase(PI);return new Lc(n).toPromise()}function h_(){const n=indexedDB.open(PI,hD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(pf,{keyPath:OI})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(pf)?e(r):(r.close(),await dD(),e(await h_()))})})}async function y0(n,e,t){const r=ep(n,!0).put({[OI]:e,value:t});return new Lc(r).toPromise()}async function fD(n,e){const t=ep(n,!1).get(e),r=await new Lc(t).toPromise();return r===void 0?null:r.value}function v0(n,e){const t=ep(n,!0).delete(e);return new Lc(t).toPromise()}const pD=800,mD=3;class NI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await h_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>mD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zf._getInstance(cD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await lD(),!this.activeServiceWorker)return;this.sender=new oD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await h_();return await y0(e,ff,"1"),await v0(e,ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>y0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>fD(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>v0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ep(i,!1).getAll();return new Lc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NI.type="LOCAL";const gD=NI;new Nc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(n,e){return e?Ni(e):(Oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy extends ay{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ul(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ul(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yD(n){return TI(n.auth,new cy(n),n.bypassAuthState)}function vD(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),GN(t,new cy(n),n.bypassAuthState)}async function ED(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),qN(t,new cy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yD;case"linkViaPopup":case"linkViaRedirect":return ED;case"reauthViaPopup":case"reauthViaRedirect":return vD;default:Rr(this.auth,"internal-error")}}resolve(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=new Nc(2e3,1e4);class il extends DI{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,il.currentPopupAction&&il.currentPopupAction.cancel(),il.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const e=uy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,il.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wD.get())};e()}}il.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="pendingRedirect",Wd=new Map;class bD extends DI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Wd.get(this.auth._key());if(!e){try{const r=await SD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Wd.set(this.auth._key(),e)}return this.bypassAuthState||Wd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SD(n,e){const t=CD(e),r=AD(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function ID(n,e){Wd.set(n._key(),e)}function AD(n){return Ni(n._redirectPersistence)}function CD(n){return Hd(TD,n.config.apiKey,n.name)}async function xD(n,e,t=!1){if(ir(n.app))return Promise.reject(Vi(n));const r=ea(n),i=_D(r,e),l=await new bD(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=10*60*1e3;class RD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!MI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ei(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kD&&this.cachedEventUids.clear(),this.cachedEventUids.has(E0(e))}saveEventToCache(e){this.cachedEventUids.add(E0(e)),this.lastProcessedEventTime=Date.now()}}function E0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function MI({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(n,e={}){return Gi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DD=/^https?/;async function MD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await OD(n);for(const t of e)try{if(LD(t))return}catch{}Rr(n,"unauthorized-domain")}function LD(n){const e=l_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!DD.test(t))return!1;if(ND.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=new Nc(3e4,6e4);function w0(){const n=ti().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function FD(n){return new Promise((e,t)=>{var r,i,s;function l(){w0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w0(),t(ei(n,"network-request-failed"))},timeout:VD.get()})}if(!((i=(r=ti().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ti().gapi)===null||s===void 0)&&s.load)l();else{const u=kN("iframefcb");return ti()[u]=()=>{gapi.load?l():t(ei(n,"network-request-failed"))},_I(`${xN()}?onload=${u}`).catch(h=>t(h))}}).catch(e=>{throw Kd=null,e})}let Kd=null;function $D(n){return Kd=Kd||FD(n),Kd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=new Nc(5e3,15e3),UD="__/auth/iframe",BD="emulator/auth/iframe",zD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WD(n){const e=n.config;Oe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?iy(e,BD):`https://${n.config.authDomain}/${UD}`,r={apiKey:e.apiKey,appName:n.name,v:Dl},i=HD.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Oc(r).slice(1)}`}async function KD(n){const e=await $D(n),t=ti().gapi;return Oe(t,n,"internal-error"),e.open({where:document.body,url:WD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zD,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=ei(n,"network-request-failed"),u=ti().setTimeout(()=>{s(l)},jD.get());function h(){ti().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GD=500,YD=600,QD="_blank",XD="http://localhost";class T0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JD(n,e,t,r=GD,i=YD){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},qD),{width:r.toString(),height:i.toString(),top:s,left:l}),f=an().toLowerCase();t&&(u=cI(f)?QD:t),lI(f)&&(e=e||XD,h.scrollbars="yes");const m=Object.entries(h).reduce((E,[T,S])=>`${E}${T}=${S},`,"");if(vN(f)&&u!=="_self")return ZD(e||"",u),new T0(null);const _=window.open(e||"",u,m);Oe(_,n,"popup-blocked");try{_.focus()}catch{}return new T0(_)}function ZD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="__/auth/handler",tM="emulator/auth/handler",nM=encodeURIComponent("fac");async function b0(n,e,t,r,i,s){Oe(n.config.authDomain,n,"auth-domain-config-required"),Oe(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Dl,eventId:i};if(e instanceof EI){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",FP(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,_]of Object.entries({}))l[m]=_}if(e instanceof Mc){const m=e.getScopes().filter(_=>_!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await n._getAppCheckToken(),f=h?`#${nM}=${encodeURIComponent(h)}`:"";return`${rM(n)}?${Oc(u).slice(1)}${f}`}function rM({config:n}){return n.emulator?iy(n,tM):`https://${n.authDomain}/${eM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="webStorageSupport";class iM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kI,this._completeRedirectFn=xD,this._overrideRedirectResult=ID}async _openPopup(e,t,r,i){var s;zi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await b0(e,t,r,l_(),i);return JD(e,l,uy())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await b0(e,t,r,l_(),i);return aD(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(zi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await KD(e),r=new RD(e);return t.register("authEvent",i=>(Oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Eg,{type:Eg},i=>{var s;const l=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Eg];l!==void 0&&t(!!l),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=MD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return mI()||uI()||oy()}}const sM=iM;var S0="@firebase/auth",I0="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lM(n){ai(new kr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Oe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gI(n)},f=new IN(r,i,s,h);return MN(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ai(new kr("auth-internal",e=>{const t=ea(e.getProvider("auth").getImmediate());return(r=>new oM(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(S0,I0,aM(n)),sr(S0,I0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=5*60,cM=BS("authIdTokenMaxAge")||uM;let A0=null;const hM=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>cM)return;const i=t==null?void 0:t.token;A0!==i&&(A0=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function dM(n=ty()){const e=Zo(n,"auth");if(e.isInitialized())return e.getImmediate();const t=DN(n,{popupRedirectResolver:sM,persistence:[gD,iD,kI]}),r=BS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=hM(s.toString());tD(t,l,()=>l(t.currentUser)),eD(t,u=>l(u))}}const i=jS("auth");return i&&LN(t,`http://${i}`),t}function fM(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}AN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=ei("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",fM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lM("Browser");var pM="firebase",mM="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr(pM,mM,"app");const LI="@firebase/installations",hy="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=1e4,FI=`w:${hy}`,$I="FIS_v2",gM="https://firebaseinstallations.googleapis.com/v1",_M=60*60*1e3,yM="installations",vM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ho=new Jo(yM,vM,EM);function jI(n){return n instanceof Or&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI({projectId:n}){return`${gM}/projects/${n}/installations`}function BI(n){return{token:n.token,requestStatus:2,expiresIn:TM(n.expiresIn),creationTime:Date.now()}}async function zI(n,e){const r=(await e.json()).error;return Ho.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function HI({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function wM(n,{refreshToken:e}){const t=HI(n);return t.append("Authorization",bM(e)),t}async function WI(n){const e=await n();return e.status>=500&&e.status<600?n():e}function TM(n){return Number(n.replace("s","000"))}function bM(n){return`${$I} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=UI(n),i=HI(n),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const l={fid:t,authVersion:$I,appId:n.appId,sdkVersion:FI},u={method:"POST",headers:i,body:JSON.stringify(l)},h=await WI(()=>fetch(r,u));if(h.ok){const f=await h.json();return{fid:f.fid||t,registrationStatus:2,refreshToken:f.refreshToken,authToken:BI(f.authToken)}}else throw await zI("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=/^[cdef][\w-]{21}$/,d_="";function CM(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=xM(n);return AM.test(t)?t:d_}catch{return d_}}function xM(n){return IM(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=new Map;function GI(n,e){const t=tp(n);YI(t,e),kM(t,e)}function YI(n,e){const t=qI.get(n);if(t)for(const r of t)r(e)}function kM(n,e){const t=RM();t&&t.postMessage({key:n,fid:e}),PM()}let Do=null;function RM(){return!Do&&"BroadcastChannel"in self&&(Do=new BroadcastChannel("[Firebase] FID Change"),Do.onmessage=n=>{YI(n.data.key,n.data.fid)}),Do}function PM(){qI.size===0&&Do&&(Do.close(),Do=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM="firebase-installations-database",NM=1,Wo="firebase-installations-store";let wg=null;function dy(){return wg||(wg=QS(OM,NM,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Wo)}}})),wg}async function mf(n,e){const t=tp(n),i=(await dy()).transaction(Wo,"readwrite"),s=i.objectStore(Wo),l=await s.get(t);return await s.put(e,t),await i.done,(!l||l.fid!==e.fid)&&GI(n,e.fid),e}async function QI(n){const e=tp(n),r=(await dy()).transaction(Wo,"readwrite");await r.objectStore(Wo).delete(e),await r.done}async function np(n,e){const t=tp(n),i=(await dy()).transaction(Wo,"readwrite"),s=i.objectStore(Wo),l=await s.get(t),u=e(l);return u===void 0?await s.delete(t):await s.put(u,t),await i.done,u&&(!l||l.fid!==u.fid)&&GI(n,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fy(n){let e;const t=await np(n.appConfig,r=>{const i=DM(r),s=MM(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===d_?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function DM(n){const e=n||{fid:CM(),registrationStatus:0};return XI(e)}function MM(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ho.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=LM(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:VM(n)}:{installationEntry:e}}async function LM(n,e){try{const t=await SM(n,e);return mf(n.appConfig,t)}catch(t){throw jI(t)&&t.customData.serverCode===409?await QI(n.appConfig):await mf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function VM(n){let e=await C0(n.appConfig);for(;e.registrationStatus===1;)await KI(100),e=await C0(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await fy(n);return r||t}return e}function C0(n){return np(n,e=>{if(!e)throw Ho.create("installation-not-found");return XI(e)})}function XI(n){return FM(n)?{fid:n.fid,registrationStatus:0}:n}function FM(n){return n.registrationStatus===1&&n.registrationTime+VI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M({appConfig:n,heartbeatServiceProvider:e},t){const r=jM(n,t),i=wM(n,t),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const l={installation:{sdkVersion:FI,appId:n.appId}},u={method:"POST",headers:i,body:JSON.stringify(l)},h=await WI(()=>fetch(r,u));if(h.ok){const f=await h.json();return BI(f)}else throw await zI("Generate Auth Token",h)}function jM(n,{fid:e}){return`${UI(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function py(n,e=!1){let t;const r=await np(n.appConfig,s=>{if(!JI(s))throw Ho.create("not-registered");const l=s.authToken;if(!e&&zM(l))return s;if(l.requestStatus===1)return t=UM(n,e),s;{if(!navigator.onLine)throw Ho.create("app-offline");const u=WM(s);return t=BM(n,u),u}});return t?await t:r.authToken}async function UM(n,e){let t=await x0(n.appConfig);for(;t.authToken.requestStatus===1;)await KI(100),t=await x0(n.appConfig);const r=t.authToken;return r.requestStatus===0?py(n,e):r}function x0(n){return np(n,e=>{if(!JI(e))throw Ho.create("not-registered");const t=e.authToken;return KM(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function BM(n,e){try{const t=await $M(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await mf(n.appConfig,r),t}catch(t){if(jI(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await QI(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await mf(n.appConfig,r)}throw t}}function JI(n){return n!==void 0&&n.registrationStatus===2}function zM(n){return n.requestStatus===2&&!HM(n)}function HM(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+_M}function WM(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function KM(n){return n.requestStatus===1&&n.requestTime+VI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(n){const e=n,{installationEntry:t,registrationPromise:r}=await fy(e);return r?r.catch(console.error):py(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(n,e=!1){const t=n;return await YM(t),(await py(t,e)).token}async function YM(n){const{registrationPromise:e}=await fy(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(n){if(!n||!n.options)throw Tg("App Configuration");if(!n.name)throw Tg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Tg(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Tg(n){return Ho.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="installations",XM="installations-internal",JM=n=>{const e=n.getProvider("app").getImmediate(),t=QM(e),r=Zo(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},ZM=n=>{const e=n.getProvider("app").getImmediate(),t=Zo(e,ZI).getImmediate();return{getId:()=>qM(t),getToken:i=>GM(t,i)}};function e2(){ai(new kr(ZI,JM,"PUBLIC")),ai(new kr(XM,ZM,"PRIVATE"))}e2();sr(LI,hy);sr(LI,hy,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf="analytics",t2="firebase_id",n2="origin",r2=60*1e3,i2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",my="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn=new Xf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Un=new Jo("analytics","Analytics",s2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(n){if(!n.startsWith(my)){const e=Un.create("invalid-gtag-resource",{gtagURL:n});return Rn.warn(e.message),""}return n}function eA(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function a2(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function l2(n,e){const t=a2("firebase-js-sdk-policy",{createScriptURL:o2}),r=document.createElement("script"),i=`${my}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function u2(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function c2(n,e,t,r,i,s){const l=r[i];try{if(l)await e[l];else{const h=(await eA(t)).find(f=>f.measurementId===i);h&&await e[h.appId]}}catch(u){Rn.error(u)}n("config",i,s)}async function h2(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const u=await eA(t);for(const h of l){const f=u.find(_=>_.measurementId===h),m=f&&e[f.appId];if(m)s.push(m);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),n("event",r,i||{})}catch(s){Rn.error(s)}}function d2(n,e,t,r){async function i(s,...l){try{if(s==="event"){const[u,h]=l;await h2(n,e,t,u,h)}else if(s==="config"){const[u,h]=l;await c2(n,e,t,r,u,h)}else if(s==="consent"){const[u,h]=l;n("consent",u,h)}else if(s==="get"){const[u,h,f]=l;n("get",u,h,f)}else if(s==="set"){const[u]=l;n("set",u)}else n(s,...l)}catch(u){Rn.error(u)}}return i}function f2(n,e,t,r,i){let s=function(...l){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=d2(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}function p2(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(my)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=30,g2=1e3;class _2{constructor(e={},t=g2){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const tA=new _2;function y2(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function v2(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:y2(r)},s=i2.replace("{app-id}",t),l=await fetch(s,i);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();!((e=h.error)===null||e===void 0)&&e.message&&(u=h.error.message)}catch{}throw Un.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function E2(n,e=tA,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Un.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Un.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new b2;return setTimeout(async()=>{u.abort()},r2),nA({appId:r,apiKey:i,measurementId:s},l,u,e)}async function nA(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=tA){var s;const{appId:l,measurementId:u}=n;try{await w2(r,e)}catch(h){if(u)return Rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:u};throw h}try{const h=await v2(n);return i.deleteThrottleMetadata(l),h}catch(h){const f=h;if(!T2(f)){if(i.deleteThrottleMetadata(l),u)return Rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:u};throw h}const m=Number((s=f==null?void 0:f.customData)===null||s===void 0?void 0:s.httpStatus)===503?Zw(t,i.intervalMillis,m2):Zw(t,i.intervalMillis),_={throttleEndTimeMillis:Date.now()+m,backoffCount:t+1};return i.setThrottleMetadata(l,_),Rn.debug(`Calling attemptFetch again in ${m} millis`),nA(n,_,r,i)}}function w2(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Un.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function T2(n){if(!(n instanceof Or)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class b2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function S2(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const s=await e,l=Object.assign(Object.assign({},r),{send_to:s});n("event",t,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(){if(KS())try{await qS()}catch(n){return Rn.warn(Un.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Rn.warn(Un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function A2(n,e,t,r,i,s,l){var u;const h=E2(n);h.then(T=>{t[T.measurementId]=T.appId,n.options.measurementId&&T.measurementId!==n.options.measurementId&&Rn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>Rn.error(T)),e.push(h);const f=I2().then(T=>{if(T)return r.getId()}),[m,_]=await Promise.all([h,f]);p2(s)||l2(s,m.measurementId),i("js",new Date);const E=(u=l==null?void 0:l.config)!==null&&u!==void 0?u:{};return E[n2]="firebase",E.update=!0,_!=null&&(E[t2]=_),i("config",m.measurementId,E),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.app=e}_delete(){return delete nc[this.app.options.appId],Promise.resolve()}}let nc={},k0=[];const R0={};let bg="dataLayer",x2="gtag",P0,rA,O0=!1;function k2(){const n=[];if(WS()&&n.push("This is a browser extension environment."),DP()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Un.create("invalid-analytics-context",{errorInfo:e});Rn.warn(t.message)}}function R2(n,e,t){k2();const r=n.options.appId;if(!r)throw Un.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Un.create("no-api-key");if(nc[r]!=null)throw Un.create("already-exists",{id:r});if(!O0){u2(bg);const{wrappedGtag:s,gtagCore:l}=f2(nc,k0,R0,bg,x2);rA=s,P0=l,O0=!0}return nc[r]=A2(n,k0,R0,e,P0,bg,t),new C2(n)}function P2(n=ty()){n=Lt(n);const e=Zo(n,gf);return e.isInitialized()?e.getImmediate():O2(n)}function O2(n,e={}){const t=Zo(n,gf);if(t.isInitialized()){const i=t.getImmediate();if(Ui(e,t.getOptions()))return i;throw Un.create("already-initialized")}return t.initialize({options:e})}function N2(n,e,t,r){n=Lt(n),S2(rA,nc[n.app.options.appId],e,t,r).catch(i=>Rn.error(i))}const N0="@firebase/analytics",D0="0.10.16";function D2(){ai(new kr(gf,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return R2(r,i,t)},"PUBLIC")),ai(new kr("analytics-internal",n,"PRIVATE")),sr(N0,D0),sr(N0,D0,"esm2017");function n(e){try{const t=e.getProvider(gf).getImmediate();return{logEvent:(r,i,s)=>N2(t,r,i,s)}}catch(t){throw Un.create("interop-component-reg-failed",{reason:t})}}}D2();var M0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,iA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,x){function k(){}k.prototype=x.prototype,P.D=x.prototype,P.prototype=new k,P.prototype.constructor=P,P.C=function(N,M,V){for(var O=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)O[Me-2]=arguments[Me];return x.prototype[M].apply(N,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,x,k){k||(k=0);var N=Array(16);if(typeof x=="string")for(var M=0;16>M;++M)N[M]=x.charCodeAt(k++)|x.charCodeAt(k++)<<8|x.charCodeAt(k++)<<16|x.charCodeAt(k++)<<24;else for(M=0;16>M;++M)N[M]=x[k++]|x[k++]<<8|x[k++]<<16|x[k++]<<24;x=P.g[0],k=P.g[1],M=P.g[2];var V=P.g[3],O=x+(V^k&(M^V))+N[0]+3614090360&4294967295;x=k+(O<<7&4294967295|O>>>25),O=V+(M^x&(k^M))+N[1]+3905402710&4294967295,V=x+(O<<12&4294967295|O>>>20),O=M+(k^V&(x^k))+N[2]+606105819&4294967295,M=V+(O<<17&4294967295|O>>>15),O=k+(x^M&(V^x))+N[3]+3250441966&4294967295,k=M+(O<<22&4294967295|O>>>10),O=x+(V^k&(M^V))+N[4]+4118548399&4294967295,x=k+(O<<7&4294967295|O>>>25),O=V+(M^x&(k^M))+N[5]+1200080426&4294967295,V=x+(O<<12&4294967295|O>>>20),O=M+(k^V&(x^k))+N[6]+2821735955&4294967295,M=V+(O<<17&4294967295|O>>>15),O=k+(x^M&(V^x))+N[7]+4249261313&4294967295,k=M+(O<<22&4294967295|O>>>10),O=x+(V^k&(M^V))+N[8]+1770035416&4294967295,x=k+(O<<7&4294967295|O>>>25),O=V+(M^x&(k^M))+N[9]+2336552879&4294967295,V=x+(O<<12&4294967295|O>>>20),O=M+(k^V&(x^k))+N[10]+4294925233&4294967295,M=V+(O<<17&4294967295|O>>>15),O=k+(x^M&(V^x))+N[11]+2304563134&4294967295,k=M+(O<<22&4294967295|O>>>10),O=x+(V^k&(M^V))+N[12]+1804603682&4294967295,x=k+(O<<7&4294967295|O>>>25),O=V+(M^x&(k^M))+N[13]+4254626195&4294967295,V=x+(O<<12&4294967295|O>>>20),O=M+(k^V&(x^k))+N[14]+2792965006&4294967295,M=V+(O<<17&4294967295|O>>>15),O=k+(x^M&(V^x))+N[15]+1236535329&4294967295,k=M+(O<<22&4294967295|O>>>10),O=x+(M^V&(k^M))+N[1]+4129170786&4294967295,x=k+(O<<5&4294967295|O>>>27),O=V+(k^M&(x^k))+N[6]+3225465664&4294967295,V=x+(O<<9&4294967295|O>>>23),O=M+(x^k&(V^x))+N[11]+643717713&4294967295,M=V+(O<<14&4294967295|O>>>18),O=k+(V^x&(M^V))+N[0]+3921069994&4294967295,k=M+(O<<20&4294967295|O>>>12),O=x+(M^V&(k^M))+N[5]+3593408605&4294967295,x=k+(O<<5&4294967295|O>>>27),O=V+(k^M&(x^k))+N[10]+38016083&4294967295,V=x+(O<<9&4294967295|O>>>23),O=M+(x^k&(V^x))+N[15]+3634488961&4294967295,M=V+(O<<14&4294967295|O>>>18),O=k+(V^x&(M^V))+N[4]+3889429448&4294967295,k=M+(O<<20&4294967295|O>>>12),O=x+(M^V&(k^M))+N[9]+568446438&4294967295,x=k+(O<<5&4294967295|O>>>27),O=V+(k^M&(x^k))+N[14]+3275163606&4294967295,V=x+(O<<9&4294967295|O>>>23),O=M+(x^k&(V^x))+N[3]+4107603335&4294967295,M=V+(O<<14&4294967295|O>>>18),O=k+(V^x&(M^V))+N[8]+1163531501&4294967295,k=M+(O<<20&4294967295|O>>>12),O=x+(M^V&(k^M))+N[13]+2850285829&4294967295,x=k+(O<<5&4294967295|O>>>27),O=V+(k^M&(x^k))+N[2]+4243563512&4294967295,V=x+(O<<9&4294967295|O>>>23),O=M+(x^k&(V^x))+N[7]+1735328473&4294967295,M=V+(O<<14&4294967295|O>>>18),O=k+(V^x&(M^V))+N[12]+2368359562&4294967295,k=M+(O<<20&4294967295|O>>>12),O=x+(k^M^V)+N[5]+4294588738&4294967295,x=k+(O<<4&4294967295|O>>>28),O=V+(x^k^M)+N[8]+2272392833&4294967295,V=x+(O<<11&4294967295|O>>>21),O=M+(V^x^k)+N[11]+1839030562&4294967295,M=V+(O<<16&4294967295|O>>>16),O=k+(M^V^x)+N[14]+4259657740&4294967295,k=M+(O<<23&4294967295|O>>>9),O=x+(k^M^V)+N[1]+2763975236&4294967295,x=k+(O<<4&4294967295|O>>>28),O=V+(x^k^M)+N[4]+1272893353&4294967295,V=x+(O<<11&4294967295|O>>>21),O=M+(V^x^k)+N[7]+4139469664&4294967295,M=V+(O<<16&4294967295|O>>>16),O=k+(M^V^x)+N[10]+3200236656&4294967295,k=M+(O<<23&4294967295|O>>>9),O=x+(k^M^V)+N[13]+681279174&4294967295,x=k+(O<<4&4294967295|O>>>28),O=V+(x^k^M)+N[0]+3936430074&4294967295,V=x+(O<<11&4294967295|O>>>21),O=M+(V^x^k)+N[3]+3572445317&4294967295,M=V+(O<<16&4294967295|O>>>16),O=k+(M^V^x)+N[6]+76029189&4294967295,k=M+(O<<23&4294967295|O>>>9),O=x+(k^M^V)+N[9]+3654602809&4294967295,x=k+(O<<4&4294967295|O>>>28),O=V+(x^k^M)+N[12]+3873151461&4294967295,V=x+(O<<11&4294967295|O>>>21),O=M+(V^x^k)+N[15]+530742520&4294967295,M=V+(O<<16&4294967295|O>>>16),O=k+(M^V^x)+N[2]+3299628645&4294967295,k=M+(O<<23&4294967295|O>>>9),O=x+(M^(k|~V))+N[0]+4096336452&4294967295,x=k+(O<<6&4294967295|O>>>26),O=V+(k^(x|~M))+N[7]+1126891415&4294967295,V=x+(O<<10&4294967295|O>>>22),O=M+(x^(V|~k))+N[14]+2878612391&4294967295,M=V+(O<<15&4294967295|O>>>17),O=k+(V^(M|~x))+N[5]+4237533241&4294967295,k=M+(O<<21&4294967295|O>>>11),O=x+(M^(k|~V))+N[12]+1700485571&4294967295,x=k+(O<<6&4294967295|O>>>26),O=V+(k^(x|~M))+N[3]+2399980690&4294967295,V=x+(O<<10&4294967295|O>>>22),O=M+(x^(V|~k))+N[10]+4293915773&4294967295,M=V+(O<<15&4294967295|O>>>17),O=k+(V^(M|~x))+N[1]+2240044497&4294967295,k=M+(O<<21&4294967295|O>>>11),O=x+(M^(k|~V))+N[8]+1873313359&4294967295,x=k+(O<<6&4294967295|O>>>26),O=V+(k^(x|~M))+N[15]+4264355552&4294967295,V=x+(O<<10&4294967295|O>>>22),O=M+(x^(V|~k))+N[6]+2734768916&4294967295,M=V+(O<<15&4294967295|O>>>17),O=k+(V^(M|~x))+N[13]+1309151649&4294967295,k=M+(O<<21&4294967295|O>>>11),O=x+(M^(k|~V))+N[4]+4149444226&4294967295,x=k+(O<<6&4294967295|O>>>26),O=V+(k^(x|~M))+N[11]+3174756917&4294967295,V=x+(O<<10&4294967295|O>>>22),O=M+(x^(V|~k))+N[2]+718787259&4294967295,M=V+(O<<15&4294967295|O>>>17),O=k+(V^(M|~x))+N[9]+3951481745&4294967295,P.g[0]=P.g[0]+x&4294967295,P.g[1]=P.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,P.g[2]=P.g[2]+M&4294967295,P.g[3]=P.g[3]+V&4294967295}r.prototype.u=function(P,x){x===void 0&&(x=P.length);for(var k=x-this.blockSize,N=this.B,M=this.h,V=0;V<x;){if(M==0)for(;V<=k;)i(this,P,V),V+=this.blockSize;if(typeof P=="string"){for(;V<x;)if(N[M++]=P.charCodeAt(V++),M==this.blockSize){i(this,N),M=0;break}}else for(;V<x;)if(N[M++]=P[V++],M==this.blockSize){i(this,N),M=0;break}}this.h=M,this.o+=x},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var x=1;x<P.length-8;++x)P[x]=0;var k=8*this.o;for(x=P.length-8;x<P.length;++x)P[x]=k&255,k/=256;for(this.u(P),P=Array(16),x=k=0;4>x;++x)for(var N=0;32>N;N+=8)P[k++]=this.g[x]>>>N&255;return P};function s(P,x){var k=u;return Object.prototype.hasOwnProperty.call(k,P)?k[P]:k[P]=x(P)}function l(P,x){this.h=x;for(var k=[],N=!0,M=P.length-1;0<=M;M--){var V=P[M]|0;N&&V==x||(k[M]=V,N=!1)}this.g=k}var u={};function h(P){return-128<=P&&128>P?s(P,function(x){return new l([x|0],0>x?-1:0)}):new l([P|0],0>P?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return _;if(0>P)return A(f(-P));for(var x=[],k=1,N=0;P>=k;N++)x[N]=P/k|0,k*=4294967296;return new l(x,0)}function m(P,x){if(P.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P.charAt(0)=="-")return A(m(P.substring(1),x));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=f(Math.pow(x,8)),N=_,M=0;M<P.length;M+=8){var V=Math.min(8,P.length-M),O=parseInt(P.substring(M,M+V),x);8>V?(V=f(Math.pow(x,V)),N=N.j(V).add(f(O))):(N=N.j(k),N=N.add(f(O)))}return N}var _=h(0),E=h(1),T=h(16777216);n=l.prototype,n.m=function(){if(I(this))return-A(this).m();for(var P=0,x=1,k=0;k<this.g.length;k++){var N=this.i(k);P+=(0<=N?N:4294967296+N)*x,x*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(S(this))return"0";if(I(this))return"-"+A(this).toString(P);for(var x=f(Math.pow(P,6)),k=this,N="";;){var M=B(k,x).g;k=R(k,M.j(x));var V=((0<k.g.length?k.g[0]:k.h)>>>0).toString(P);if(k=M,S(k))return V+N;for(;6>V.length;)V="0"+V;N=V+N}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function S(P){if(P.h!=0)return!1;for(var x=0;x<P.g.length;x++)if(P.g[x]!=0)return!1;return!0}function I(P){return P.h==-1}n.l=function(P){return P=R(this,P),I(P)?-1:S(P)?0:1};function A(P){for(var x=P.g.length,k=[],N=0;N<x;N++)k[N]=~P.g[N];return new l(k,~P.h).add(E)}n.abs=function(){return I(this)?A(this):this},n.add=function(P){for(var x=Math.max(this.g.length,P.g.length),k=[],N=0,M=0;M<=x;M++){var V=N+(this.i(M)&65535)+(P.i(M)&65535),O=(V>>>16)+(this.i(M)>>>16)+(P.i(M)>>>16);N=O>>>16,V&=65535,O&=65535,k[M]=O<<16|V}return new l(k,k[k.length-1]&-2147483648?-1:0)};function R(P,x){return P.add(A(x))}n.j=function(P){if(S(this)||S(P))return _;if(I(this))return I(P)?A(this).j(A(P)):A(A(this).j(P));if(I(P))return A(this.j(A(P)));if(0>this.l(T)&&0>P.l(T))return f(this.m()*P.m());for(var x=this.g.length+P.g.length,k=[],N=0;N<2*x;N++)k[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<P.g.length;M++){var V=this.i(N)>>>16,O=this.i(N)&65535,Me=P.i(M)>>>16,Se=P.i(M)&65535;k[2*N+2*M]+=O*Se,L(k,2*N+2*M),k[2*N+2*M+1]+=V*Se,L(k,2*N+2*M+1),k[2*N+2*M+1]+=O*Me,L(k,2*N+2*M+1),k[2*N+2*M+2]+=V*Me,L(k,2*N+2*M+2)}for(N=0;N<x;N++)k[N]=k[2*N+1]<<16|k[2*N];for(N=x;N<2*x;N++)k[N]=0;return new l(k,0)};function L(P,x){for(;(P[x]&65535)!=P[x];)P[x+1]+=P[x]>>>16,P[x]&=65535,x++}function U(P,x){this.g=P,this.h=x}function B(P,x){if(S(x))throw Error("division by zero");if(S(P))return new U(_,_);if(I(P))return x=B(A(P),x),new U(A(x.g),A(x.h));if(I(x))return x=B(P,A(x)),new U(A(x.g),x.h);if(30<P.g.length){if(I(P)||I(x))throw Error("slowDivide_ only works with positive integers.");for(var k=E,N=x;0>=N.l(P);)k=Q(k),N=Q(N);var M=Y(k,1),V=Y(N,1);for(N=Y(N,2),k=Y(k,2);!S(N);){var O=V.add(N);0>=O.l(P)&&(M=M.add(k),V=O),N=Y(N,1),k=Y(k,1)}return x=R(P,M.j(x)),new U(M,x)}for(M=_;0<=P.l(x);){for(k=Math.max(1,Math.floor(P.m()/x.m())),N=Math.ceil(Math.log(k)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),V=f(k),O=V.j(x);I(O)||0<O.l(P);)k-=N,V=f(k),O=V.j(x);S(V)&&(V=E),M=M.add(V),P=R(P,O)}return new U(M,P)}n.A=function(P){return B(this,P).h},n.and=function(P){for(var x=Math.max(this.g.length,P.g.length),k=[],N=0;N<x;N++)k[N]=this.i(N)&P.i(N);return new l(k,this.h&P.h)},n.or=function(P){for(var x=Math.max(this.g.length,P.g.length),k=[],N=0;N<x;N++)k[N]=this.i(N)|P.i(N);return new l(k,this.h|P.h)},n.xor=function(P){for(var x=Math.max(this.g.length,P.g.length),k=[],N=0;N<x;N++)k[N]=this.i(N)^P.i(N);return new l(k,this.h^P.h)};function Q(P){for(var x=P.g.length+1,k=[],N=0;N<x;N++)k[N]=P.i(N)<<1|P.i(N-1)>>>31;return new l(k,P.h)}function Y(P,x){var k=x>>5;x%=32;for(var N=P.g.length-k,M=[],V=0;V<N;V++)M[V]=0<x?P.i(V+k)>>>x|P.i(V+k+1)<<32-x:P.i(V+k);return new l(M,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iA=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,Ms=l}).apply(typeof M0<"u"?M0:typeof self<"u"?self:typeof window<"u"?window:{});var hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sA,qu,oA,qd,f_,aA,lA,uA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,w){return d==Array.prototype||d==Object.prototype||(d[y]=w.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof hd=="object"&&hd];for(var y=0;y<d.length;++y){var w=d[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function i(d,y){if(y)e:{var w=r;d=d.split(".");for(var C=0;C<d.length-1;C++){var z=d[C];if(!(z in w))break e;w=w[z]}d=d[d.length-1],C=w[d],y=y(C),y!=C&&y!=null&&e(w,d,{configurable:!0,writable:!0,value:y})}}function s(d,y){d instanceof String&&(d+="");var w=0,C=!1,z={next:function(){if(!C&&w<d.length){var G=w++;return{value:y(G,d[G]),done:!1}}return C=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}i("Array.prototype.values",function(d){return d||function(){return s(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function f(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function m(d,y,w){return d.call.apply(d.bind,arguments)}function _(d,y,w){if(!d)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,C),d.apply(y,z)}}return function(){return d.apply(y,arguments)}}function E(d,y,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:_,E.apply(null,arguments)}function T(d,y){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),d.apply(this,C)}}function S(d,y){function w(){}w.prototype=y.prototype,d.aa=y.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(C,z,G){for(var ue=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)ue[Je-2]=arguments[Je];return y.prototype[z].apply(C,ue)}}function I(d){const y=d.length;if(0<y){const w=Array(y);for(let C=0;C<y;C++)w[C]=d[C];return w}return[]}function A(d,y){for(let w=1;w<arguments.length;w++){const C=arguments[w];if(h(C)){const z=d.length||0,G=C.length||0;d.length=z+G;for(let ue=0;ue<G;ue++)d[z+ue]=C[ue]}else d.push(C)}}class R{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(d){return/^[\s\xa0]*$/.test(d)}function U(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function B(d){return B[" "](d),d}B[" "]=function(){};var Q=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function Y(d,y,w){for(const C in d)y.call(w,d[C],C,d)}function P(d,y){for(const w in d)y.call(void 0,d[w],w,d)}function x(d){const y={};for(const w in d)y[w]=d[w];return y}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(d,y){let w,C;for(let z=1;z<arguments.length;z++){C=arguments[z];for(w in C)d[w]=C[w];for(let G=0;G<k.length;G++)w=k[G],Object.prototype.hasOwnProperty.call(C,w)&&(d[w]=C[w])}}function M(d){var y=1;d=d.split(":");const w=[];for(;0<y&&d.length;)w.push(d.shift()),y--;return d.length&&w.push(d.join(":")),w}function V(d){u.setTimeout(()=>{throw d},0)}function O(){var d=ce;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class Me{constructor(){this.h=this.g=null}add(y,w){const C=Se.get();C.set(y,w),this.h?this.h.next=C:this.g=C,this.h=C}}var Se=new R(()=>new we,d=>d.reset());class we{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,re=!1,ce=new Me,le=()=>{const d=u.Promise.resolve(void 0);ge=()=>{d.then(j)}};var j=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(w){V(w)}var y=Se;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}re=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};u.addEventListener("test",w,y),u.removeEventListener("test",w,y)}catch{}return d}();function be(d,y){if(fe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,C=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(Q){e:{try{B(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else w=="mouseover"?y=d.fromElement:w=="mouseout"&&(y=d.toElement);this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ae[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&be.aa.h.call(this)}}S(be,fe);var ae={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),he=0;function Re(d,y,w,C,z){this.listener=d,this.proxy=null,this.src=y,this.type=w,this.capture=!!C,this.ha=z,this.key=++he,this.da=this.fa=!1}function Ke(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ze(d){this.src=d,this.g={},this.h=0}Ze.prototype.add=function(d,y,w,C,z){var G=d.toString();d=this.g[G],d||(d=this.g[G]=[],this.h++);var ue=Xt(d,y,C,z);return-1<ue?(y=d[ue],w||(y.fa=!1)):(y=new Re(y,this.src,G,!!C,z),y.fa=w,d.push(y)),y};function pt(d,y){var w=y.type;if(w in d.g){var C=d.g[w],z=Array.prototype.indexOf.call(C,y,void 0),G;(G=0<=z)&&Array.prototype.splice.call(C,z,1),G&&(Ke(y),d.g[w].length==0&&(delete d.g[w],d.h--))}}function Xt(d,y,w,C){for(var z=0;z<d.length;++z){var G=d[z];if(!G.da&&G.listener==y&&G.capture==!!w&&G.ha==C)return z}return-1}var Vt="closure_lm_"+(1e6*Math.random()|0),mn={};function Dr(d,y,w,C,z){if(Array.isArray(y)){for(var G=0;G<y.length;G++)Dr(d,y[G],w,C,z);return null}return w=Xi(w),d&&d[ve]?d.K(y,w,f(C)?!!C.capture:!1,z):Mr(d,y,w,!1,C,z)}function Mr(d,y,w,C,z,G){if(!y)throw Error("Invalid event type");var ue=f(z)?!!z.capture:!!z,Je=fi(d);if(Je||(d[Vt]=Je=new Ze(d)),w=Je.add(y,w,C,ue,G),w.proxy)return w;if(C=Qi(),w.proxy=C,C.src=d,C.listener=w,d.addEventListener)Te||(z=ue),z===void 0&&(z=!1),d.addEventListener(y.toString(),C,z);else if(d.attachEvent)d.attachEvent(Jt(y.toString()),C);else if(d.addListener&&d.removeListener)d.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Qi(){function d(w){return y.call(d.src,d.listener,w)}const y=Lr;return d}function hr(d,y,w,C,z){if(Array.isArray(y))for(var G=0;G<y.length;G++)hr(d,y[G],w,C,z);else C=f(C)?!!C.capture:!!C,w=Xi(w),d&&d[ve]?(d=d.i,y=String(y).toString(),y in d.g&&(G=d.g[y],w=Xt(G,w,C,z),-1<w&&(Ke(G[w]),Array.prototype.splice.call(G,w,1),G.length==0&&(delete d.g[y],d.h--)))):d&&(d=fi(d))&&(y=d.g[y.toString()],d=-1,y&&(d=Xt(y,w,C,z)),(w=-1<d?y[d]:null)&&xt(w))}function xt(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[ve])pt(y.i,d);else{var w=d.type,C=d.proxy;y.removeEventListener?y.removeEventListener(w,C,d.capture):y.detachEvent?y.detachEvent(Jt(w),C):y.addListener&&y.removeListener&&y.removeListener(C),(w=fi(y))?(pt(w,d),w.h==0&&(w.src=null,y[Vt]=null)):Ke(d)}}}function Jt(d){return d in mn?mn[d]:mn[d]="on"+d}function Lr(d,y){if(d.da)d=!0;else{y=new be(y,this);var w=d.listener,C=d.ha||d.src;d.fa&&xt(d),d=w.call(C,y)}return d}function fi(d){return d=d[Vt],d instanceof Ze?d:null}var Vr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xi(d){return typeof d=="function"?d:(d[Vr]||(d[Vr]=function(y){return d.handleEvent(y)}),d[Vr])}function mt(){J.call(this),this.i=new Ze(this),this.M=this,this.F=null}S(mt,J),mt.prototype[ve]=!0,mt.prototype.removeEventListener=function(d,y,w,C){hr(this,d,y,w,C)};function gt(d,y){var w,C=d.F;if(C)for(w=[];C;C=C.F)w.push(C);if(d=d.M,C=y.type||y,typeof y=="string")y=new fe(y,d);else if(y instanceof fe)y.target=y.target||d;else{var z=y;y=new fe(C,d),N(y,z)}if(z=!0,w)for(var G=w.length-1;0<=G;G--){var ue=y.g=w[G];z=Kn(ue,C,!0,y)&&z}if(ue=y.g=d,z=Kn(ue,C,!0,y)&&z,z=Kn(ue,C,!1,y)&&z,w)for(G=0;G<w.length;G++)ue=y.g=w[G],z=Kn(ue,C,!1,y)&&z}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var w=d.g[y],C=0;C<w.length;C++)Ke(w[C]);delete d.g[y],d.h--}}this.F=null},mt.prototype.K=function(d,y,w,C){return this.i.add(String(d),y,!1,w,C)},mt.prototype.L=function(d,y,w,C){return this.i.add(String(d),y,!0,w,C)};function Kn(d,y,w,C){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,G=0;G<y.length;++G){var ue=y[G];if(ue&&!ue.da&&ue.capture==w){var Je=ue.listener,kt=ue.ha||ue.src;ue.fa&&pt(d.i,ue),z=Je.call(kt,C)!==!1&&z}}return z&&!C.defaultPrevented}function Hl(d,y,w){if(typeof d=="function")w&&(d=E(d,w));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:u.setTimeout(d,y||0)}function Ji(d){d.g=Hl(()=>{d.g=null,d.i&&(d.i=!1,Ji(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class to extends J{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ji(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function no(d){J.call(this),this.h=d,this.g={}}S(no,J);var Wl=[];function Kl(d){Y(d.g,function(y,w){this.g.hasOwnProperty(w)&&xt(y)},d),d.g={}}no.prototype.N=function(){no.aa.N.call(this),Kl(this)},no.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ql=u.JSON.stringify,Gl=u.JSON.parse,Yl=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function ro(){}ro.prototype.h=null;function oa(d){return d.h||(d.h=d.i())}function aa(){}var qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fr(){fe.call(this,"d")}S(Fr,fe);function la(){fe.call(this,"c")}S(la,fe);var $r={},Ql=null;function io(){return Ql=Ql||new mt}$r.La="serverreachability";function Xl(d){fe.call(this,$r.La,d)}S(Xl,fe);function pi(d){const y=io();gt(y,new Xl(y))}$r.STAT_EVENT="statevent";function Jl(d,y){fe.call(this,$r.STAT_EVENT,d),this.stat=y}S(Jl,fe);function Et(d){const y=io();gt(y,new Jl(y,d))}$r.Ma="timingevent";function ua(d,y){fe.call(this,$r.Ma,d),this.size=y}S(ua,fe);function dr(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},y)}function so(){this.g=!0}so.prototype.xa=function(){this.g=!1};function oo(d,y,w,C,z,G){d.info(function(){if(d.g)if(G)for(var ue="",Je=G.split("&"),kt=0;kt<Je.length;kt++){var ze=Je[kt].split("=");if(1<ze.length){var Ft=ze[0];ze=ze[1];var St=Ft.split("_");ue=2<=St.length&&St[1]=="type"?ue+(Ft+"="+ze+"&"):ue+(Ft+"=redacted&")}}else ue=null;else ue=G;return"XMLHTTP REQ ("+C+") [attempt "+z+"]: "+y+`
`+w+`
`+ue})}function ca(d,y,w,C,z,G,ue){d.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+z+"]: "+y+`
`+w+`
`+G+" "+ue})}function fr(d,y,w,C){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+Mp(d,w)+(C?" "+C:"")})}function Zl(d,y){d.info(function(){return"TIMEOUT: "+y})}so.prototype.info=function(){};function Mp(d,y){if(!d.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var C=w[d];if(!(2>C.length)){var z=C[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ue=1;ue<z.length;ue++)z[ue]=""}}}}return ql(w)}catch{return y}}var ha={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pr;function ao(){}S(ao,ro),ao.prototype.g=function(){return new XMLHttpRequest},ao.prototype.i=function(){return{}},pr=new ao;function mr(d,y,w,C){this.j=d,this.i=y,this.l=w,this.R=C||1,this.U=new no(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yc}function Yc(){this.i=null,this.g="",this.h=!1}var eu={},da={};function fa(d,y,w){d.L=1,d.v=rs(On(y)),d.m=w,d.P=!0,tu(d,null)}function tu(d,y){d.F=Date.now(),nt(d),d.A=On(d.v);var w=d.A,C=d.R;Array.isArray(C)||(C=[String(C)]),ss(w.i,"t",C),d.C=0,w=d.j.J,d.h=new Yc,d.g=fh(d.j,w?y:null,!d.m),0<d.O&&(d.M=new to(E(d.Y,d,d.g),d.O)),y=d.U,w=d.g,C=d.ca;var z="readystatechange";Array.isArray(z)||(z&&(Wl[0]=z.toString()),z=Wl);for(var G=0;G<z.length;G++){var ue=Dr(w,z[G],C||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=d.H?x(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),pi(),oo(d.i,d.u,d.A,d.l,d.R,d.m)}mr.prototype.ca=function(d){d=d.target;const y=this.M;y&&_n(d)==3?y.j():this.Y(d)},mr.prototype.Y=function(d){try{if(d==this.g)e:{const St=_n(this.g);var y=this.g.Ba();const Qn=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||au(this.g)))){this.J||St!=4||y==7||(y==8||0>=Qn?pi(3):pi(2)),lo(this);var w=this.g.Z();this.X=w;t:if(Qc(this)){var C=au(this.g);d="";var z=C.length,G=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gn(this),Zi(this);var ue="";break t}this.h.i=new u.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,d+=this.h.i.decode(C[y],{stream:!(G&&y==z-1)});C.length=0,this.h.g+=d,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=w==200,ca(this.i,this.u,this.A,this.l,this.R,St,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,kt=this.g;if((Je=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Je)){var ze=Je;break t}}ze=null}if(w=ze)fr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nu(this,w);else{this.o=!1,this.s=3,Et(12),Gn(this),Zi(this);break e}}if(this.P){w=!0;let Dn;for(;!this.J&&this.C<ue.length;)if(Dn=Lp(this,ue),Dn==da){St==4&&(this.s=4,Et(14),w=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==eu){this.s=4,Et(15),fr(this.i,this.l,ue,"[Invalid Chunk]"),w=!1;break}else fr(this.i,this.l,Dn,null),nu(this,Dn);if(Qc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||ue.length!=0||this.h.h||(this.s=1,Et(16),w=!1),this.o=this.o&&w,!w)fr(this.i,this.l,ue,"[Invalid Chunked Response]"),Gn(this),Zi(this);else if(0<ue.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),uu(Ft),Ft.M=!0,Et(11))}}else fr(this.i,this.l,ue,null),nu(this,ue);St==4&&Gn(this),this.o&&!this.J&&(St==4?Sa(this.j,this):(this.o=!1,nt(this)))}else va(this.g),w==400&&0<ue.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),Gn(this),Zi(this)}}}catch{}finally{}};function Qc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Lp(d,y){var w=d.C,C=y.indexOf(`
`,w);return C==-1?da:(w=Number(y.substring(w,C)),isNaN(w)?eu:(C+=1,C+w>y.length?da:(y=y.slice(C,C+w),d.C=C+w,y)))}mr.prototype.cancel=function(){this.J=!0,Gn(this)};function nt(d){d.S=Date.now()+d.I,Xc(d,d.I)}function Xc(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=dr(E(d.ba,d),y)}function lo(d){d.B&&(u.clearTimeout(d.B),d.B=null)}mr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Zl(this.i,this.A),this.L!=2&&(pi(),Et(17)),Gn(this),this.s=2,Zi(this)):Xc(this,this.S-d)};function Zi(d){d.j.G==0||d.J||Sa(d.j,d)}function Gn(d){lo(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,Kl(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function nu(d,y){try{var w=d.j;if(w.G!=0&&(w.g==d||ln(w.h,d))){if(!d.K&&ln(w.h,d)&&w.G==3){try{var C=w.Da.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var z=C;if(z[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)ba(w),Er(w);else break e;Ta(w),Et(18)}}else w.za=z[1],0<w.za-w.T&&37500>z[2]&&w.F&&w.v==0&&!w.C&&(w.C=dr(E(w.Za,w),6e3));if(1>=Zc(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else vi(w,11)}else if((d.K||w.g==d)&&ba(w),!L(y))for(z=w.Da.g.parse(y),y=0;y<z.length;y++){let ze=z[y];if(w.T=ze[0],ze=ze[1],w.G==2)if(ze[0]=="c"){w.K=ze[1],w.ia=ze[2];const Ft=ze[3];Ft!=null&&(w.la=Ft,w.j.info("VER="+w.la));const St=ze[4];St!=null&&(w.Aa=St,w.j.info("SVER="+w.Aa));const Qn=ze[5];Qn!=null&&typeof Qn=="number"&&0<Qn&&(C=1.5*Qn,w.L=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const Dn=d.g;if(Dn){const go=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(go){var G=C.h;G.g||go.indexOf("spdy")==-1&&go.indexOf("quic")==-1&&go.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ru(G,G.h),G.h=null))}if(C.D){const Aa=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(C.ya=Aa,et(C.I,C.D,Aa))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),C=w;var ue=d;if(C.qa=dh(C,C.J?C.ia:null,C.W),ue.K){eh(C.h,ue);var Je=ue,kt=C.L;kt&&(Je.I=kt),Je.B&&(lo(Je),nt(Je)),C.g=ue}else mo(C);0<w.i.length&&zr(w)}else ze[0]!="stop"&&ze[0]!="close"||vi(w,7);else w.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?vi(w,7):Wt(w):ze[0]!="noop"&&w.l&&w.l.ta(ze),w.v=0)}}pi(4)}catch{}}var Jc=class{constructor(d,y){this.g=d,this.map=y}};function uo(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Zc(d){return d.h?1:d.g?d.g.size:0}function ln(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function ru(d,y){d.g?d.g.add(y):d.h=y}function eh(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}uo.prototype.cancel=function(){if(this.i=th(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function th(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const w of d.g.values())y=y.concat(w.D);return y}return I(d.i)}function pa(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var y=[],w=d.length,C=0;C<w;C++)y.push(d[C]);return y}y=[],w=0;for(C in d)y[w++]=d[C];return y}function ma(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var y=[];d=d.length;for(var w=0;w<d;w++)y.push(w);return y}y=[],w=0;for(const C in d)y[w++]=C;return y}}}function es(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var w=ma(d),C=pa(d),z=C.length,G=0;G<z;G++)y.call(void 0,C[G],w&&w[G],d)}var co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vp(d,y){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var C=d[w].indexOf("="),z=null;if(0<=C){var G=d[w].substring(0,C);z=d[w].substring(C+1)}else G=d[w];y(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function mi(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof mi){this.h=d.h,ho(this,d.j),this.o=d.o,this.g=d.g,ts(this,d.s),this.l=d.l;var y=d.i,w=new jr;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),ns(this,w),this.m=d.m}else d&&(y=String(d).match(co))?(this.h=!1,ho(this,y[1]||"",!0),this.o=Be(y[2]||""),this.g=Be(y[3]||"",!0),ts(this,y[4]),this.l=Be(y[5]||"",!0),ns(this,y[6]||"",!0),this.m=Be(y[7]||"")):(this.h=!1,this.i=new jr(null,this.h))}mi.prototype.toString=function(){var d=[],y=this.j;y&&d.push(is(y,ga,!0),":");var w=this.g;return(w||y=="file")&&(d.push("//"),(y=this.o)&&d.push(is(y,ga,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(is(w,w.charAt(0)=="/"?ih:rh,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",is(w,iu)),d.join("")};function On(d){return new mi(d)}function ho(d,y,w){d.j=w?Be(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function ts(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function ns(d,y,w){y instanceof jr?(d.i=y,Ur(d.i,d.h)):(w||(y=is(y,sh)),d.i=new jr(y,d.h))}function et(d,y,w){d.i.set(y,w)}function rs(d){return et(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Be(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function is(d,y,w){return typeof d=="string"?(d=encodeURI(d).replace(y,nh),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function nh(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ga=/[#\/\?@]/g,rh=/[#\?:]/g,ih=/[#\?]/g,sh=/[#\?@]/g,iu=/#/g;function jr(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Ht(d){d.g||(d.g=new Map,d.h=0,d.i&&Vp(d.i,function(y,w){d.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}n=jr.prototype,n.add=function(d,y){Ht(this),this.i=null,d=Yn(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(y),this.h+=1,this};function gr(d,y){Ht(d),y=Yn(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function _r(d,y){return Ht(d),y=Yn(d,y),d.g.has(y)}n.forEach=function(d,y){Ht(this),this.g.forEach(function(w,C){w.forEach(function(z){d.call(y,z,C,this)},this)},this)},n.na=function(){Ht(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let C=0;C<y.length;C++){const z=d[C];for(let G=0;G<z.length;G++)w.push(y[C])}return w},n.V=function(d){Ht(this);let y=[];if(typeof d=="string")_r(this,d)&&(y=y.concat(this.g.get(Yn(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)y=y.concat(d[w])}return y},n.set=function(d,y){return Ht(this),this.i=null,d=Yn(this,d),_r(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},n.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function ss(d,y,w){gr(d,y),0<w.length&&(d.i=null,d.g.set(Yn(d,y),I(w)),d.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var C=y[w];const G=encodeURIComponent(String(C)),ue=this.V(C);for(C=0;C<ue.length;C++){var z=G;ue[C]!==""&&(z+="="+encodeURIComponent(String(ue[C]))),d.push(z)}}return this.i=d.join("&")};function Yn(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function Ur(d,y){y&&!d.j&&(Ht(d),d.i=null,d.g.forEach(function(w,C){var z=C.toLowerCase();C!=z&&(gr(this,C),ss(this,z,w))},d)),d.j=y}function Fp(d,y){const w=new so;if(u.Image){const C=new Image;C.onload=T(gn,w,"TestLoadImage: loaded",!0,y,C),C.onerror=T(gn,w,"TestLoadImage: error",!1,y,C),C.onabort=T(gn,w,"TestLoadImage: abort",!1,y,C),C.ontimeout=T(gn,w,"TestLoadImage: timeout",!1,y,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=d}else y(!1)}function oh(d,y){const w=new so,C=new AbortController,z=setTimeout(()=>{C.abort(),gn(w,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:C.signal}).then(G=>{clearTimeout(z),G.ok?gn(w,"TestPingServer: ok",!0,y):gn(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),gn(w,"TestPingServer: error",!1,y)})}function gn(d,y,w,C,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),C(w)}catch{}}function $p(){this.g=new Yl}function ah(d,y,w){const C=w||"";try{es(d,function(z,G){let ue=z;f(z)&&(ue=ql(z)),y.push(C+G+"="+encodeURIComponent(ue))})}catch(z){throw y.push(C+"type="+encodeURIComponent("_badmap")),z}}function gi(d){this.l=d.Ub||null,this.j=d.eb||!1}S(gi,ro),gi.prototype.g=function(){return new fo(this.l,this.j)},gi.prototype.i=function(d){return function(){return d}}({});function fo(d,y){mt.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(fo,mt),n=fo.prototype,n.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,vr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||u).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,vr(this)),this.g&&(this.readyState=3,vr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lh(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function lh(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?yr(this):vr(this),this.readyState==3&&lh(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,yr(this))},n.Qa=function(d){this.g&&(this.response=d,yr(this))},n.ga=function(){this.g&&yr(this)};function yr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,vr(d)}n.setRequestHeader=function(d,y){this.u.append(d,y)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=y.next();return d.join(`\r
`)};function vr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function _i(d){let y="";return Y(d,function(w,C){y+=C,y+=":",y+=w,y+=`\r
`}),y}function os(d,y,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=_i(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):et(d,y,w))}function at(d){mt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(at,mt);var jp=/^https?$/i,su=["POST","PUT"];n=at.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,y,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pr.g(),this.v=this.o?oa(this.o):oa(pr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(G){po(this,G);return}if(d=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var z in C)w.set(z,C[z]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const G of C.keys())w.set(G,C.get(G));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(G=>G.toLowerCase()=="content-type"),z=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(su,y,void 0))||C||z||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ue]of w)this.g.setRequestHeader(G,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ya(this),this.u=!0,this.g.send(d),this.u=!1}catch(G){po(this,G)}};function po(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,_a(d),Nn(d)}function _a(d){d.A||(d.A=!0,gt(d,"complete"),gt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,gt(this,"complete"),gt(this,"abort"),Nn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nn(this,!0)),at.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ou(this):this.bb())},n.bb=function(){ou(this)};function ou(d){if(d.h&&typeof l<"u"&&(!d.v[1]||_n(d)!=4||d.Z()!=2)){if(d.u&&_n(d)==4)Hl(d.Ea,0,d);else if(gt(d,"readystatechange"),_n(d)==4){d.h=!1;try{const ue=d.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var C;if(C=ue===0){var z=String(d.D).match(co)[1]||null;!z&&u.self&&u.self.location&&(z=u.self.location.protocol.slice(0,-1)),C=!jp.test(z?z.toLowerCase():"")}w=C}if(w)gt(d,"complete"),gt(d,"success");else{d.m=6;try{var G=2<_n(d)?d.g.statusText:""}catch{G=""}d.l=G+" ["+d.Z()+"]",_a(d)}}finally{Nn(d)}}}}function Nn(d,y){if(d.g){ya(d);const w=d.g,C=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||gt(d,"ready");try{w.onreadystatechange=C}catch{}}}function ya(d){d.I&&(u.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function _n(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Gl(y)}};function au(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function va(d){const y={};d=(d.g&&2<=_n(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<d.length;C++){if(L(d[C]))continue;var w=M(d[C]);const z=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const G=y[z]||[];y[z]=G,G.push(w)}P(y,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Br(d,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||y}function lu(d){this.Aa=0,this.i=[],this.j=new so,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Br("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Br("baseRetryDelayMs",5e3,d),this.cb=Br("retryDelaySeedMs",1e4,d),this.Wa=Br("forwardChannelMaxRetries",2,d),this.wa=Br("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new uo(d&&d.concurrentRequestLimit),this.Da=new $p,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=lu.prototype,n.la=8,n.G=1,n.connect=function(d,y,w,C){Et(0),this.W=d,this.H=y||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.I=dh(this,null,this.W),zr(this)};function Wt(d){if(Ea(d),d.G==3){var y=d.U++,w=On(d.I);if(et(w,"SID",d.K),et(w,"RID",y),et(w,"TYPE","terminate"),yi(d,w),y=new mr(d,d.j,y),y.L=2,y.v=rs(On(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&u.Image&&(new Image().src=y.v,w=!0),w||(y.g=fh(y.j,null),y.g.ea(y.v)),y.F=Date.now(),nt(y)}hh(d)}function Er(d){d.g&&(uu(d),d.g.cancel(),d.g=null)}function Ea(d){Er(d),d.u&&(u.clearTimeout(d.u),d.u=null),ba(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function zr(d){if(!Pn(d.h)&&!d.s){d.s=!0;var y=d.Ga;ge||le(),re||(ge(),re=!0),ce.add(y,d),d.B=0}}function Up(d,y){return Zc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=dr(E(d.Ga,d,y),ch(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const z=new mr(this,this.j,d);let G=this.o;if(this.S&&(G?(G=x(G),N(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(y+=C,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=as(this,z,y),w=On(this.I),et(w,"RID",d),et(w,"CVER",22),this.D&&et(w,"X-HTTP-Session-Id",this.D),yi(this,w),G&&(this.O?y="headers="+encodeURIComponent(String(_i(G)))+"&"+y:this.m&&os(w,this.m,G)),ru(this.h,z),this.Ua&&et(w,"TYPE","init"),this.P?(et(w,"$req",y),et(w,"SID","null"),z.T=!0,fa(z,w,null)):fa(z,w,y),this.G=2}}else this.G==3&&(d?wa(this,d):this.i.length==0||Pn(this.h)||wa(this))};function wa(d,y){var w;y?w=y.l:w=d.U++;const C=On(d.I);et(C,"SID",d.K),et(C,"RID",w),et(C,"AID",d.T),yi(d,C),d.m&&d.o&&os(C,d.m,d.o),w=new mr(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),y&&(d.i=y.D.concat(d.i)),y=as(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),ru(d.h,w),fa(w,C,y)}function yi(d,y){d.H&&Y(d.H,function(w,C){et(y,C,w)}),d.l&&es({},function(w,C){et(y,C,w)})}function as(d,y,w){w=Math.min(d.i.length,w);var C=d.l?E(d.l.Na,d.l,d):null;e:{var z=d.i;let G=-1;for(;;){const ue=["count="+w];G==-1?0<w?(G=z[0].g,ue.push("ofs="+G)):G=0:ue.push("ofs="+G);let Je=!0;for(let kt=0;kt<w;kt++){let ze=z[kt].g;const Ft=z[kt].map;if(ze-=G,0>ze)G=Math.max(0,z[kt].g-100),Je=!1;else try{ah(Ft,ue,"req"+ze+"_")}catch{C&&C(Ft)}}if(Je){C=ue.join("&");break e}}}return d=d.i.splice(0,w),y.D=d,C}function mo(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;ge||le(),re||(ge(),re=!0),ce.add(y,d),d.v=0}}function Ta(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=dr(E(d.Fa,d),ch(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,uh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=dr(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),Er(this),uh(this))};function uu(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function uh(d){d.g=new mr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=On(d.qa);et(y,"RID","rpc"),et(y,"SID",d.K),et(y,"AID",d.T),et(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&et(y,"TO",d.ja),et(y,"TYPE","xmlhttp"),yi(d,y),d.m&&d.o&&os(y,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=rs(On(y)),w.m=null,w.P=!0,tu(w,d)}n.Za=function(){this.C!=null&&(this.C=null,Er(this),Ta(this),Et(19))};function ba(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function Sa(d,y){var w=null;if(d.g==y){ba(d),uu(d),d.g=null;var C=2}else if(ln(d.h,y))w=y.D,eh(d.h,y),C=1;else return;if(d.G!=0){if(y.o)if(C==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var z=d.B;C=io(),gt(C,new ua(C,w)),zr(d)}else mo(d);else if(z=y.s,z==3||z==0&&0<y.X||!(C==1&&Up(d,y)||C==2&&Ta(d)))switch(w&&0<w.length&&(y=d.h,y.i=y.i.concat(w)),z){case 1:vi(d,5);break;case 4:vi(d,10);break;case 3:vi(d,6);break;default:vi(d,2)}}}function ch(d,y){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*y}function vi(d,y){if(d.j.info("Error code "+y),y==2){var w=E(d.fb,d),C=d.Xa;const z=!C;C=new mi(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ho(C,"https"),rs(C),z?Fp(C.toString(),w):oh(C.toString(),w)}else Et(2);d.G=0,d.l&&d.l.sa(y),hh(d),Ea(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function hh(d){if(d.G=0,d.ka=[],d.l){const y=th(d.h);(y.length!=0||d.i.length!=0)&&(A(d.ka,y),A(d.ka,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.ra()}}function dh(d,y,w){var C=w instanceof mi?On(w):new mi(w);if(C.g!="")y&&(C.g=y+"."+C.g),ts(C,C.s);else{var z=u.location;C=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var G=new mi(null);C&&ho(G,C),y&&(G.g=y),z&&ts(G,z),w&&(G.l=w),C=G}return w=d.D,y=d.ya,w&&y&&et(C,w,y),et(C,"VER",d.la),yi(d,C),C}function fh(d,y,w){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new at(new gi({eb:w})):new at(d.pa),y.Ha(d.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}n=cu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ia(){}Ia.prototype.g=function(d,y){return new un(d,y)};function un(d,y){mt.call(this),this.g=new lu(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!L(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!L(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Hr(this)}S(un,mt),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Wt(this.g)},un.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=ql(d),d=w);y.i.push(new Jc(y.Ya++,d)),y.G==3&&zr(y)},un.prototype.N=function(){this.g.l=null,delete this.j,Wt(this.g),delete this.g,un.aa.N.call(this)};function ph(d){Fr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const w in y){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}S(ph,Fr);function mh(){la.call(this),this.status=1}S(mh,la);function Hr(d){this.g=d}S(Hr,cu),Hr.prototype.ua=function(){gt(this.g,"a")},Hr.prototype.ta=function(d){gt(this.g,new ph(d))},Hr.prototype.sa=function(d){gt(this.g,new mh)},Hr.prototype.ra=function(){gt(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,uA=function(){return new Ia},lA=function(){return io()},aA=$r,f_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ha.NO_ERROR=0,ha.TIMEOUT=8,ha.HTTP_ERROR=6,qd=ha,Gc.COMPLETE="complete",oA=Gc,aa.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",mt.prototype.listen=mt.prototype.K,qu=aa,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,sA=at}).apply(typeof hd<"u"?hd:typeof self<"u"?self:typeof window<"u"?window:{});const L0="@firebase/firestore",V0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new Xf("@firebase/firestore");function Xa(){return Ko.logLevel}function pe(n,...e){if(Ko.logLevel<=je.DEBUG){const t=e.map(gy);Ko.debug(`Firestore (${Ll}): ${n}`,...t)}}function Hi(n,...e){if(Ko.logLevel<=je.ERROR){const t=e.map(gy);Ko.error(`Firestore (${Ll}): ${n}`,...t)}}function pl(n,...e){if(Ko.logLevel<=je.WARN){const t=e.map(gy);Ko.warn(`Firestore (${Ll}): ${n}`,...t)}}function gy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,cA(n,r,t)}function cA(n,e,t){let r=`FIRESTORE (${Ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Hi(r),new Error(r)}function Xe(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||cA(e,i,r)}function Ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Or{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class M2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(sn.UNAUTHENTICATED))}shutdown(){}}class L2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class V2{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let s=new Ls;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ls,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=s;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},u=h=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ls)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string",31837,{l:r}),new hA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class F2{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $2{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new F2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class F0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ir(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0,3512);const r=s=>{s.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new F0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new F0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=U2(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function Fe(n,e){return n<e?-1:n>e?1:0}function p_(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Fe(r,i);{const s=dA(),l=B2(s.encode($0(n,t)),s.encode($0(e,t)));return l!==0?l:Fe(r,i)}}t+=r>65535?2:1}return Fe(n.length,e.length)}function $0(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function B2(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Fe(n[t],e[t]);return Fe(n.length,e.length)}function ml(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=-62135596800,U0=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*U0);return new Dt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<j0)throw new xe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U0}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-j0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new Dt(0,0))}static max(){return new Le(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="__name__";class Jr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ne(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ne(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Jr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=Jr.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Fe(e.length,t.length)}static compareSegments(e,t){const r=Jr.isNumericId(e),i=Jr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Jr.extractNumericId(e).compare(Jr.extractNumericId(t)):p_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ms.fromString(e.substring(4,e.length-2))}}class yt extends Jr{construct(e,t,r){return new yt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new yt(t)}static emptyPath(){return new yt([])}}const z2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Jr{construct(e,t,r){return new Yt(e,t,r)}static isValidIdentifier(e){return z2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B0}static keyField(){return new Yt([B0])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new xe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new xe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new xe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new xe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(t)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(yt.fromString(e))}static fromName(e){return new ke(yt.fromString(e).popFirst(5))}static empty(){return new ke(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new yt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=-1;function H2(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Le.fromTimestamp(r===1e9?new Dt(t+1,0):new Dt(t,r));return new Fs(i,ke.empty(),e)}function W2(n){return new Fs(n.readTime,n.key,vc)}class Fs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Fs(Le.min(),ke.empty(),vc)}static max(){return new Fs(Le.max(),ke.empty(),vc)}}function K2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ke.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class G2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==q2)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,r)=>{t(e)})}static reject(e){return new Z((t,r)=>{r(e)})}static waitFor(e){return new Z((t,r)=>{let i=0,s=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++s,l&&s===i&&t()},h=>r(h))}),l=!0,s===i&&t()})}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next(i=>i?Z.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new Z((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let h=0;h<s;h++){const f=h;t(e[f]).next(m=>{l[f]=m,++u,u===s&&r(l)},m=>i(m))}})}static doWhile(e,t){return new Z((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function Y2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}rp.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=-1;function ip(n){return n==null}function _f(n){return n===0&&1/n==-1/0}function Q2(n){return typeof n=="number"&&Number.isInteger(n)&&!_f(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="";function X2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=z0(e)),e=J2(n.get(t),e);return z0(e)}function J2(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case pA:t+="";break;default:t+=s}}return t}function z0(n){return n+pA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function mA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dd(this.root,e,this.comparator,!1)}getReverseIterator(){return new dd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dd(this.root,e,this.comparator,!0)}}class dd{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Gt.RED,this.left=i??Gt.EMPTY,this.right=s??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Gt(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new W0(this.data.getIterator())}getIteratorFrom(e){return new W0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class W0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new $n([])}unionWith(e){let t=new Mt(Yt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new $n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new gA("Invalid base64 string: "+s):s}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const Z2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(n){if(Xe(!!n,39018),typeof n=="string"){let e=0;const t=Z2.exec(n);if(Xe(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(n.seconds),nanos:Tt(n.nanos)}}function Tt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function js(n){return typeof n=="string"?Qt.fromBase64String(n):Qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="server_timestamp",yA="__type__",vA="__previous_value__",EA="__local_write_time__";function yy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[yA])===null||t===void 0?void 0:t.stringValue)===_A}function sp(n){const e=n.mapValue.fields[vA];return yy(e)?sp(e):e}function Ec(n){const e=$s(n.mapValue.fields[EA].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,t,r,i,s,l,u,h,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=m}}const yf="(default)";class wc{constructor(e,t){this.projectId=e,this.database=t||yf}static empty(){return new wc("","")}get isDefaultDatabase(){return this.database===yf}isEqual(e){return e instanceof wc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="__type__",tL="__max__",fd={mapValue:{}},TA="__vector__",vf="value";function Us(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yy(n)?4:rL(n)?9007199254740991:nL(n)?10:11:Ne(28295,{value:n})}function li(n,e){if(n===e)return!0;const t=Us(n);if(t!==Us(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ec(n).isEqual(Ec(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=$s(i.timestampValue),u=$s(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return js(i.bytesValue).isEqual(js(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Tt(i.geoPointValue.latitude)===Tt(s.geoPointValue.latitude)&&Tt(i.geoPointValue.longitude)===Tt(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Tt(i.integerValue)===Tt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Tt(i.doubleValue),u=Tt(s.doubleValue);return l===u?_f(l)===_f(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return ml(n.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(H0(l)!==H0(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!li(l[h],u[h])))return!1;return!0}(n,e);default:return Ne(52216,{left:n})}}function Tc(n,e){return(n.values||[]).find(t=>li(t,e))!==void 0}function gl(n,e){if(n===e)return 0;const t=Us(n),r=Us(e);if(t!==r)return Fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return function(s,l){const u=Tt(s.integerValue||s.doubleValue),h=Tt(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return K0(n.timestampValue,e.timestampValue);case 4:return K0(Ec(n),Ec(e));case 5:return p_(n.stringValue,e.stringValue);case 6:return function(s,l){const u=js(s),h=js(l);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(s,l){const u=s.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const m=Fe(u[f],h[f]);if(m!==0)return m}return Fe(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,l){const u=Fe(Tt(s.latitude),Tt(l.latitude));return u!==0?u:Fe(Tt(s.longitude),Tt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return q0(n.arrayValue,e.arrayValue);case 10:return function(s,l){var u,h,f,m;const _=s.fields||{},E=l.fields||{},T=(u=_[vf])===null||u===void 0?void 0:u.arrayValue,S=(h=E[vf])===null||h===void 0?void 0:h.arrayValue,I=Fe(((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0,((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0);return I!==0?I:q0(T,S)}(n.mapValue,e.mapValue);case 11:return function(s,l){if(s===fd.mapValue&&l===fd.mapValue)return 0;if(s===fd.mapValue)return 1;if(l===fd.mapValue)return-1;const u=s.fields||{},h=Object.keys(u),f=l.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let _=0;_<h.length&&_<m.length;++_){const E=p_(h[_],m[_]);if(E!==0)return E;const T=gl(u[h[_]],f[m[_]]);if(T!==0)return T}return Fe(h.length,m.length)}(n.mapValue,e.mapValue);default:throw Ne(23264,{Pe:t})}}function K0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);const t=$s(n),r=$s(e),i=Fe(t.seconds,r.seconds);return i!==0?i:Fe(t.nanos,r.nanos)}function q0(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=gl(t[i],r[i]);if(s)return s}return Fe(t.length,r.length)}function _l(n){return m_(n)}function m_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=$s(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return js(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ke.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=m_(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${m_(t.fields[l])}`;return i+"}"}(n.mapValue):Ne(61005,{value:n})}function Gd(n){switch(Us(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sp(n);return e?16+Gd(e):16;case 5:return 2*n.stringValue.length;case 6:return js(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Gd(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Qs(r.fields,(s,l)=>{i+=s.length+Gd(l)}),i}(n.mapValue);default:throw Ne(13486,{value:n})}}function g_(n){return!!n&&"integerValue"in n}function vy(n){return!!n&&"arrayValue"in n}function G0(n){return!!n&&"nullValue"in n}function Y0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yd(n){return!!n&&"mapValue"in n}function nL(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[wA])===null||t===void 0?void 0:t.stringValue)===TA}function rc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Qs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=rc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function rL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===tL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Yd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rc(t)}setAll(e){let t=Yt.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=rc(l):i.push(u.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Yd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Yd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Qs(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Cn(rc(this.value))}}function bA(n){const e=[];return Qs(n.fields,(t,r)=>{const i=new Yt([t]);if(Yd(r)){const s=bA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,t,r,i,s,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new on(e,0,Le.min(),Le.min(),Le.min(),Cn.empty(),0)}static newFoundDocument(e,t,r,i){return new on(e,1,t,Le.min(),r,i,0)}static newNoDocument(e,t){return new on(e,2,t,Le.min(),Le.min(),Cn.empty(),0)}static newUnknownDocument(e,t){return new on(e,3,t,Le.min(),Le.min(),Cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t){this.position=e,this.inclusive=t}}function Q0(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],l=n.position[i];if(s.field.isKeyField()?r=ke.comparator(ke.fromName(l.referenceValue),t.key):r=gl(l,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function X0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!li(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,t="asc"){this.field=e,this.dir=t}}function iL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{}class Ot extends SA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new oL(e,t,r):t==="array-contains"?new uL(e,r):t==="in"?new cL(e,r):t==="not-in"?new hL(e,r):t==="array-contains-any"?new dL(e,r):new Ot(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new aL(e,r):new lL(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(gl(t,this.value)):t!==null&&Us(this.value)===Us(t)&&this.matchesComparison(gl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends SA{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ui(e,t)}matches(e){return IA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function IA(n){return n.op==="and"}function AA(n){return sL(n)&&IA(n)}function sL(n){for(const e of n.filters)if(e instanceof ui)return!1;return!0}function __(n){if(n instanceof Ot)return n.field.canonicalString()+n.op.toString()+_l(n.value);if(AA(n))return n.filters.map(e=>__(e)).join(",");{const e=n.filters.map(t=>__(t)).join(",");return`${n.op}(${e})`}}function CA(n,e){return n instanceof Ot?function(r,i){return i instanceof Ot&&r.op===i.op&&r.field.isEqual(i.field)&&li(r.value,i.value)}(n,e):n instanceof ui?function(r,i){return i instanceof ui&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,l,u)=>s&&CA(l,i.filters[u]),!0):!1}(n,e):void Ne(19439)}function xA(n){return n instanceof Ot?function(t){return`${t.field.canonicalString()} ${t.op} ${_l(t.value)}`}(n):n instanceof ui?function(t){return t.op.toString()+" {"+t.getFilters().map(xA).join(" ,")+"}"}(n):"Filter"}class oL extends Ot{constructor(e,t,r){super(e,t,r),this.key=ke.fromName(r.referenceValue)}matches(e){const t=ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class aL extends Ot{constructor(e,t){super(e,"in",t),this.keys=kA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class lL extends Ot{constructor(e,t){super(e,"not-in",t),this.keys=kA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ke.fromName(r.referenceValue))}class uL extends Ot{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vy(t)&&Tc(t.arrayValue,this.value)}}class cL extends Ot{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Tc(this.value.arrayValue,t)}}class hL extends Ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Tc(this.value.arrayValue,t)}}class dL extends Ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Tc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,t=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.Ie=null}}function J0(n,e=null,t=[],r=[],i=null,s=null,l=null){return new fL(n,e,t,r,i,s,l)}function Ey(n){const e=Ve(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>__(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ip(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>_l(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>_l(r)).join(",")),e.Ie=t}return e.Ie}function wy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!iL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!CA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!X0(n.startAt,e.startAt)&&X0(n.endAt,e.endAt)}function y_(n){return ke.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,t=null,r=[],i=[],s=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function pL(n,e,t,r,i,s,l,u){return new op(n,e,t,r,i,s,l,u)}function Ty(n){return new op(n)}function Z0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function mL(n){return n.collectionGroup!==null}function ic(n){const e=Ve(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Mt(Yt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new wf(s,r))}),t.has(Yt.keyField().canonicalString())||e.Ee.push(new wf(Yt.keyField(),r))}return e.Ee}function ni(n){const e=Ve(n);return e.de||(e.de=gL(e,ic(n))),e.de}function gL(n,e){if(n.limitType==="F")return J0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new wf(i.field,s)});const t=n.endAt?new Ef(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ef(n.startAt.position,n.startAt.inclusive):null;return J0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function v_(n,e,t){return new op(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ap(n,e){return wy(ni(n),ni(e))&&n.limitType===e.limitType}function RA(n){return`${Ey(ni(n))}|lt:${n.limitType}`}function Ja(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>xA(i)).join(", ")}]`),ip(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>_l(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>_l(i)).join(",")),`Target(${r})`}(ni(n))}; limitType=${n.limitType})`}function lp(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ke.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of ic(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,h){const f=Q0(l,u,h);return l.inclusive?f<=0:f<0}(r.startAt,ic(r),i)||r.endAt&&!function(l,u,h){const f=Q0(l,u,h);return l.inclusive?f>=0:f>0}(r.endAt,ic(r),i))}(n,e)}function _L(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function PA(n){return(e,t)=>{let r=!1;for(const i of ic(n)){const s=yL(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function yL(n,e,t){const r=n.field.isKeyField()?ke.comparator(e.key,t.key):function(s,l,u){const h=l.data.field(s),f=u.data.field(s);return h!==null&&f!==null?gl(h,f):Ne(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return mA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=new ft(ke.comparator);function Wi(){return vL}const OA=new ft(ke.comparator);function Gu(...n){let e=OA;for(const t of n)e=e.insert(t.key,t);return e}function NA(n){let e=OA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Mo(){return sc()}function DA(){return sc()}function sc(){return new ta(n=>n.toString(),(n,e)=>n.isEqual(e))}const EL=new ft(ke.comparator),wL=new Mt(ke.comparator);function Ue(...n){let e=wL;for(const t of n)e=e.add(t);return e}const TL=new Mt(Fe);function bL(){return TL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_f(e)?"-0":e}}function MA(n){return{integerValue:""+n}}function SL(n,e){return Q2(e)?MA(e):by(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(){this._=void 0}}function IL(n,e,t){return n instanceof Tf?function(i,s){const l={fields:{[yA]:{stringValue:_A},[EA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&yy(s)&&(s=sp(s)),s&&(l.fields[vA]=s),{mapValue:l}}(t,e):n instanceof yl?VA(n,e):n instanceof bc?FA(n,e):function(i,s){const l=LA(i,s),u=eT(l)+eT(i.Re);return g_(l)&&g_(i.Re)?MA(u):by(i.serializer,u)}(n,e)}function AL(n,e,t){return n instanceof yl?VA(n,e):n instanceof bc?FA(n,e):t}function LA(n,e){return n instanceof bf?function(r){return g_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Tf extends up{}class yl extends up{constructor(e){super(),this.elements=e}}function VA(n,e){const t=$A(e);for(const r of n.elements)t.some(i=>li(i,r))||t.push(r);return{arrayValue:{values:t}}}class bc extends up{constructor(e){super(),this.elements=e}}function FA(n,e){let t=$A(e);for(const r of n.elements)t=t.filter(i=>!li(i,r));return{arrayValue:{values:t}}}class bf extends up{constructor(e,t){super(),this.serializer=e,this.Re=t}}function eT(n){return Tt(n.integerValue||n.doubleValue)}function $A(n){return vy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,t){this.field=e,this.transform=t}}function xL(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof yl&&i instanceof yl||r instanceof bc&&i instanceof bc?ml(r.elements,i.elements,li):r instanceof bf&&i instanceof bf?li(r.Re,i.Re):r instanceof Tf&&i instanceof Tf}(n.transform,e.transform)}class kL{constructor(e,t){this.version=e,this.transformResults=t}}class ri{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class cp{}function jA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new BA(n.key,ri.none()):new Vc(n.key,n.data,ri.none());{const t=n.data,r=Cn.empty();let i=new Mt(Yt.comparator);for(let s of e.fields)if(!i.has(s)){let l=t.field(s);l===null&&s.length>1&&(s=s.popLast(),l=t.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new Xs(n.key,r,new $n(i.toArray()),ri.none())}}function RL(n,e,t){n instanceof Vc?function(i,s,l){const u=i.value.clone(),h=nT(i.fieldTransforms,s,l.transformResults);u.setAll(h),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Xs?function(i,s,l){if(!Qd(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=nT(i.fieldTransforms,s,l.transformResults),h=s.data;h.setAll(UA(i)),h.setAll(u),s.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function oc(n,e,t,r){return n instanceof Vc?function(s,l,u,h){if(!Qd(s.precondition,l))return u;const f=s.value.clone(),m=rT(s.fieldTransforms,h,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof Xs?function(s,l,u,h){if(!Qd(s.precondition,l))return u;const f=rT(s.fieldTransforms,h,l),m=l.data;return m.setAll(UA(s)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(s,l,u){return Qd(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function PL(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=LA(r.transform,i||null);s!=null&&(t===null&&(t=Cn.empty()),t.set(r.field,s))}return t||null}function tT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ml(r,i,(s,l)=>xL(s,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Vc extends cp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xs extends cp{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function UA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function nT(n,e,t){const r=new Map;Xe(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const s=n[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,AL(l,u,t[i]))}return r}function rT(n,e,t){const r=new Map;for(const i of n){const s=i.transform,l=t.data.field(i.field);r.set(i.field,IL(s,l,e))}return r}class BA extends cp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OL extends cp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&RL(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=oc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=oc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=DA();return this.mutations.forEach(i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=t.has(i.key)?null:u;const h=jA(l,u);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(Le.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,(t,r)=>tT(t,r))&&ml(this.baseMutations,e.baseMutations,(t,r)=>tT(t,r))}}class Sy{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Xe(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return EL}();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new Sy(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,He;function LL(n){switch(n){case se.OK:return Ne(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ne(15467,{code:n})}}function zA(n){if(n===void 0)return Hi("GRPC error has no .code"),se.UNKNOWN;switch(n){case At.OK:return se.OK;case At.CANCELLED:return se.CANCELLED;case At.UNKNOWN:return se.UNKNOWN;case At.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case At.INTERNAL:return se.INTERNAL;case At.UNAVAILABLE:return se.UNAVAILABLE;case At.UNAUTHENTICATED:return se.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case At.NOT_FOUND:return se.NOT_FOUND;case At.ALREADY_EXISTS:return se.ALREADY_EXISTS;case At.PERMISSION_DENIED:return se.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case At.ABORTED:return se.ABORTED;case At.OUT_OF_RANGE:return se.OUT_OF_RANGE;case At.UNIMPLEMENTED:return se.UNIMPLEMENTED;case At.DATA_LOSS:return se.DATA_LOSS;default:return Ne(39323,{code:n})}}(He=At||(At={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=new Ms([4294967295,4294967295],0);function iT(n){const e=dA().encode(n),t=new iA;return t.update(e),new Uint8Array(t.digest())}function sT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ms([t,r],0),new Ms([i,s],0)]}class Iy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Yu(`Invalid padding: ${t}`);if(r<0)throw new Yu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Yu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ms.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Ms.fromNumber(r)));return i.compare(VL)===1&&(i=new Ms([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=iT(e),[r,i]=sT(t);for(let s=0;s<this.hashCount;s++){const l=this.we(r,i,s);if(!this.be(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new Iy(s,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.pe===0)return;const t=iT(e),[r,i]=sT(t);for(let s=0;s<this.hashCount;s++){const l=this.we(r,i,s);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Fc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new hp(Le.min(),i,new ft(Fe),Wi(),Ue())}}class Fc{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Fc(r,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class HA{constructor(e,t){this.targetId=e,this.Ce=t}}class WA{constructor(e,t,r=Qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class oT{constructor(){this.Fe=0,this.Me=aT(),this.xe=Qt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ue(),t=Ue(),r=Ue();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ne(38017,{changeType:s})}}),new Fc(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=aT()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Xe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class FL{constructor(e){this.ze=e,this.je=new Map,this.He=Wi(),this.Je=pd(),this.Ye=pd(),this.Ze=new ft(Fe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Ne(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const s=i.target;if(y_(s))if(r===0){const l=new ke(s.path);this.tt(t,l,on.newNoDocument(l,Le.min()))}else Xe(r===1,20013,{expectedCount:r});else{const l=this.ut(t);if(l!==r){const u=this.ct(e),h=u?this.lt(u,e,l):1;if(h!==0){this.st(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,f)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let l,u;try{l=js(r).toUint8Array()}catch(h){if(h instanceof gA)return pl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Iy(l,i,s)}catch(h){return pl(h instanceof Yu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.pe===0?null:u}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.tt(t,s,null),i++)}),i}It(e){const t=new Map;this.je.forEach((s,l)=>{const u=this._t(l);if(u){if(s.current&&y_(u.target)){const h=new ke(u.target.path);this.Et(h).has(l)||this.dt(l,h)||this.tt(l,h,on.newNoDocument(h,e))}s.Le&&(t.set(l,s.qe()),s.Qe())}});let r=Ue();this.Ye.forEach((s,l)=>{let u=!0;l.forEachWhile(h=>{const f=this._t(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.He.forEach((s,l)=>l.setReadTime(e));const i=new hp(e,t,this.Ze,this.He,r);return this.He=Wi(),this.Je=pd(),this.Ye=pd(),this.Ze=new ft(Fe),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new oT,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Mt(Fe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Mt(Fe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new oT),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function pd(){return new ft(ke.comparator)}function aT(){return new ft(ke.comparator)}const $L={asc:"ASCENDING",desc:"DESCENDING"},jL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UL={and:"AND",or:"OR"};class BL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function E_(n,e){return n.useProto3Json||ip(e)?e:{value:e}}function Sf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function zL(n,e){return Sf(n,e.toTimestamp())}function ii(n){return Xe(!!n,49232),Le.fromTimestamp(function(t){const r=$s(t);return new Dt(r.seconds,r.nanos)}(n))}function Ay(n,e){return w_(n,e).canonicalString()}function w_(n,e){const t=function(i){return new yt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function qA(n){const e=yt.fromString(n);return Xe(JA(e),10190,{key:e.toString()}),e}function T_(n,e){return Ay(n.databaseId,e.path)}function Sg(n,e){const t=qA(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ke(YA(t))}function GA(n,e){return Ay(n.databaseId,e)}function HL(n){const e=qA(n);return e.length===4?yt.emptyPath():YA(e)}function b_(n){return new yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function YA(n){return Xe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function lT(n,e,t){return{name:T_(n,e),fields:t.value.mapValue.fields}}function WL(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ne(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,m){return f.useProto3Json?(Xe(m===void 0||typeof m=="string",58123),Qt.fromBase64String(m||"")):(Xe(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Qt.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(f){const m=f.code===void 0?se.UNKNOWN:zA(f.code);return new xe(m,f.message||"")}(l);t=new WA(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Sg(n,r.document.name),s=ii(r.document.updateTime),l=r.document.createTime?ii(r.document.createTime):Le.min(),u=new Cn({mapValue:{fields:r.document.fields}}),h=on.newFoundDocument(i,s,l,u),f=r.targetIds||[],m=r.removedTargetIds||[];t=new Xd(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Sg(n,r.document),s=r.readTime?ii(r.readTime):Le.min(),l=on.newNoDocument(i,s),u=r.removedTargetIds||[];t=new Xd([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Sg(n,r.document),s=r.removedTargetIds||[];t=new Xd([],s,i,null)}else{if(!("filter"in e))return Ne(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new ML(i,s),u=r.targetId;t=new HA(u,l)}}return t}function KL(n,e){let t;if(e instanceof Vc)t={update:lT(n,e.key,e.value)};else if(e instanceof BA)t={delete:T_(n,e.key)};else if(e instanceof Xs)t={update:lT(n,e.key,e.data),updateMask:tV(e.fieldMask)};else{if(!(e instanceof OL))return Ne(16599,{ft:e.type});t={verify:T_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,l){const u=l.transform;if(u instanceof Tf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof yl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof bc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof bf)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw Ne(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:zL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ne(27497)}(n,e.precondition)),t}function qL(n,e){return n&&n.length>0?(Xe(e!==void 0,14353),n.map(t=>function(i,s){let l=i.updateTime?ii(i.updateTime):ii(s);return l.isEqual(Le.min())&&(l=ii(s)),new kL(l,i.transformResults||[])}(t,e))):[]}function GL(n,e){return{documents:[GA(n,e.path)]}}function YL(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=GA(n,i);const s=function(f){if(f.length!==0)return XA(ui.create(f,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const l=function(f){if(f.length!==0)return f.map(m=>function(E){return{field:Za(E.field),direction:JL(E.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=E_(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:t,parent:i}}function QL(n){let e=HL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Xe(r===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];t.where&&(s=function(_){const E=QA(_);return E instanceof ui&&AA(E)?E.getFilters():[E]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(E=>function(S){return new wf(el(S.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(E))}(t.orderBy));let u=null;t.limit&&(u=function(_){let E;return E=typeof _=="object"?_.value:_,ip(E)?null:E}(t.limit));let h=null;t.startAt&&(h=function(_){const E=!!_.before,T=_.values||[];return new Ef(T,E)}(t.startAt));let f=null;return t.endAt&&(f=function(_){const E=!_.before,T=_.values||[];return new Ef(T,E)}(t.endAt)),pL(e,i,l,s,u,"F",h,f)}function XL(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function QA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=el(t.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=el(t.unaryFilter.field);return Ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=el(t.unaryFilter.field);return Ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=el(t.unaryFilter.field);return Ot.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ot.create(el(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ui.create(t.compositeFilter.filters.map(r=>QA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}}(t.compositeFilter.op))}(n):Ne(30097,{filter:n})}function JL(n){return $L[n]}function ZL(n){return jL[n]}function eV(n){return UL[n]}function Za(n){return{fieldPath:n.canonicalString()}}function el(n){return Yt.fromServerFormat(n.fieldPath)}function XA(n){return n instanceof Ot?function(t){if(t.op==="=="){if(Y0(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NAN"}};if(G0(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Y0(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NOT_NAN"}};if(G0(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(t.field),op:ZL(t.op),value:t.value}}}(n):n instanceof ui?function(t){const r=t.getFilters().map(i=>XA(i));return r.length===1?r[0]:{compositeFilter:{op:eV(t.op),filters:r}}}(n):Ne(54877,{filter:n})}function tV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function JA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,t,r,i,s=Le.min(),l=Le.min(),u=Qt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.wt=e}}function rV(n){const e=QL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?v_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.Cn=new sV}addToCollectionParentIndex(e,t){return this.Cn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(Fs.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class sV{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Mt(yt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mt(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZA=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(ZA,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new vl(0)}static lr(){return new vl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="LruGarbageCollector",oV=1048576;function hT([n,e],[t,r]){const i=Fe(n,t);return i===0?Fe(e,r):i}class aV{constructor(e){this.Er=e,this.buffer=new Mt(hT),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();hT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){pe(cT,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Fl(t)?pe(cT,"Ignoring IndexedDB error during garbage collection: ",t):await Vl(t)}await this.mr(3e5)})}}class uV{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(rp.le);const r=new aV(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(uT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uT):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,s,l,u,h,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,u=Date.now(),this.removeTargets(e,r,t))).next(_=>(s=_,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(f=Date.now(),Xa()<=je.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(h-u)+`ms
	Removed ${_} documents in `+(f-h)+`ms
Total Duration: ${f-m}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:_})))}}function cV(n,e){return new uV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(){this.changes=new ta(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&oc(r.mutation,i,$n.empty(),Dt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ue()){const i=Mo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let l=Gu();return s.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Mo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ue()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let s=Wi();const l=sc(),u=function(){return sc()}();return t.forEach((h,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof Xs)?s=s.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),oc(m.mutation,f,m.mutation.getFieldMask(),Dt.now())):l.set(f.key,$n.empty())}),this.recalculateAndSaveOverlays(e,s).next(h=>(h.forEach((f,m)=>l.set(f,m)),t.forEach((f,m)=>{var _;return u.set(f,new dV(m,(_=l.get(f))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(e,t){const r=sc();let i=new ft((l,u)=>l-u),s=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(h=>{const f=t.get(h);if(f===null)return;let m=r.get(h)||$n.empty();m=u.applyToLocalView(f,m),r.set(h,m);const _=(i.get(u.batchId)||Ue()).add(h);i=i.insert(u.batchId,_)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,m=h.value,_=DA();m.forEach(E=>{if(!s.has(E)){const T=jA(t.get(E),r.get(E));T!==null&&_.set(E,T),s=s.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,_))}return Z.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return ke.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):mL(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Z.resolve(Mo());let u=vc,h=s;return l.next(f=>Z.forEach(f,(m,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),s.get(m)?Z.resolve():this.remoteDocumentCache.getEntry(e,m).next(E=>{h=h.insert(m,E)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,h,f,Ue())).next(m=>({batchId:u,changes:NA(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ke(t)).next(r=>{let i=Gu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let l=Gu();return this.indexManager.getCollectionParents(e,s).next(u=>Z.forEach(u,h=>{const f=function(_,E){return new op(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(m=>{m.forEach((_,E)=>{l=l.insert(_,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(l=>{s.forEach((h,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,on.newInvalidDocument(m)))});let u=Gu();return l.forEach((h,f)=>{const m=s.get(h);m!==void 0&&oc(m.mutation,f,$n.empty(),Dt.now()),lp(t,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return Z.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ii(i.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:rV(i.bundledQuery),readTime:ii(i.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(){this.overlays=new ft(ke.comparator),this.Qr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Mo();return Z.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.St(e,t,s)}),Z.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const i=Mo(),s=t.length+1,l=new ke(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===s&&h.largestBatchId>r&&i.set(h.getKey(),h)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new ft((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let m=s.get(f.largestBatchId);m===null&&(m=Mo(),s=s.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=Mo(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,m)=>u.set(f,m)),!(u.size()>=i)););return Z.resolve(u)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new DL(t,r));let s=this.Qr.get(t);s===void 0&&(s=Ue(),this.Qr.set(t,s)),this.Qr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(){this.$r=new Mt(Bt.Ur),this.Kr=new Mt(Bt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new Bt(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Bt(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new ke(new yt([])),r=new Bt(t,e),i=new Bt(t,e+1),s=[];return this.Kr.forEachInRange([r,i],l=>{this.zr(l),s.push(l.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ke(new yt([])),r=new Bt(t,e),i=new Bt(t,e+1);let s=Ue();return this.Kr.forEachInRange([r,i],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new Bt(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ke.comparator(e.key,t.key)||Fe(e.Zr,t.Zr)}static Wr(e,t){return Fe(e.Zr,t.Zr)||ke.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Mt(Bt.Ur)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new NL(s,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Xr=this.Xr.add(new Bt(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Z.resolve(l)}lookupMutationBatch(e,t){return Z.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),s=i<0?0:i;return Z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?_y:this.nr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Bt(t,0),i=new Bt(t,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],l=>{const u=this.ei(l.Zr);s.push(u)}),Z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mt(Fe);return t.forEach(i=>{const s=new Bt(i,0),l=new Bt(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,l],u=>{r=r.add(u.Zr)})}),Z.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;ke.isDocumentKey(s)||(s=s.child(""));const l=new Bt(new ke(s),0);let u=new Mt(Fe);return this.Xr.forEachWhile(h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(h.Zr)),!0)},l),Z.resolve(this.ni(u))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Xe(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return Z.forEach(t.mutations,i=>{const s=new Bt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new Bt(t,0),i=this.Xr.firstAfterOrEqual(r);return Z.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.ii=e,this.docs=function(){return new ft(ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,l=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():on.newInvalidDocument(t))}getEntries(e,t){let r=Wi();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():on.newInvalidDocument(i))}),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Wi();const l=t.path,u=new ke(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||K2(W2(m),r)<=0||(i.has(m.key)||lp(t,m))&&(s=s.insert(m.key,m.mutableCopy()))}return Z.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ne(9500)}si(e,t){return Z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new vV(this)}getSize(e){return Z.resolve(this.size)}}class vV extends hV{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),Z.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e){this.persistence=e,this.oi=new ta(t=>Ey(t),wy),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this._i=0,this.ai=new Cy,this.targetCount=0,this.ui=vl.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),Z.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new vl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Tr(t),Z.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.oi.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.oi.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),Z.waitFor(s).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(l=>{s.push(i.markPotentiallyOrphaned(e,l))}),Z.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,t){this.ci={},this.overlays={},this.li=new rp(0),this.hi=!1,this.hi=!0,this.Pi=new gV,this.referenceDelegate=e(this),this.Ti=new EV(this),this.indexManager=new iV,this.remoteDocumentCache=function(i){return new yV(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new nV(t),this.Ei=new pV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new _V(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const i=new wV(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,t){return Z.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class wV extends G2{constructor(e){super(),this.currentSequenceNumber=e}}class xy{constructor(e){this.persistence=e,this.Vi=new Cy,this.mi=null}static fi(e){return new xy(e)}get gi(){if(this.mi)return this.mi;throw Ne(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.gi,r=>{const i=ke.fromPath(r);return this.pi(e,i).next(s=>{s||t.removeEntry(i,Le.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return Z.or([()=>Z.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class If{constructor(e,t){this.persistence=e,this.yi=new ta(r=>X2(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=cV(this,t)}static fi(e,t){return new If(e,t)}di(){}Ai(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return Z.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?Z.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,l=>this.Dr(e,l,t).next(u=>{u||(r++,s.removeEntry(l,Le.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),Z.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Gd(e.data.value)),t}Dr(e,t,r){return Z.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return Z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=Ue(),i=Ue();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ky(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return NP()?8:Y2(an())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ws(e,t).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.bs(e,t,i,r).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new TV;return this.Ss(e,t,l).next(u=>{if(s.result=u,this.fs)return this.Ds(e,t,l,u.size)})}).next(()=>s.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Xa()<=je.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Ja(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Z.resolve()):(Xa()<=je.DEBUG&&pe("QueryEngine","Query:",Ja(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Xa()<=je.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Ja(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(t))):Z.resolve())}ws(e,t){if(Z0(t))return Z.resolve(null);let r=ni(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=v_(t,null,"F"),r=ni(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const l=Ue(...s);return this.ys.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const f=this.vs(t,u);return this.Cs(t,f,l,h.readTime)?this.ws(e,v_(t,null,"F")):this.Fs(e,f,t,h)}))})))}bs(e,t,r,i){return Z0(t)||i.isEqual(Le.min())?Z.resolve(null):this.ys.getDocuments(e,r).next(s=>{const l=this.vs(t,s);return this.Cs(t,l,r,i)?Z.resolve(null):(Xa()<=je.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ja(t)),this.Fs(e,l,t,H2(i,vc)).next(u=>u))})}vs(e,t){let r=new Mt(PA(e));return t.forEach((i,s)=>{lp(e,s)&&(r=r.add(s))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,t,r){return Xa()<=je.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Ja(t)),this.ys.getDocumentsMatchingQuery(e,t,Fs.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="LocalStore",SV=3e8;class IV{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new ft(Fe),this.Os=new ta(s=>Ey(s),wy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fV(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function AV(n,e,t,r){return new IV(n,e,t,r)}async function tC(n,e){const t=Ve(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const l=[],u=[];let h=Ue();for(const f of i){l.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of s){u.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return t.localDocuments.getDocuments(r,h).next(f=>({ks:f,removedBatchIds:l,addedBatchIds:u}))})})}function CV(n,e){const t=Ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Bs.newChangeBuffer({trackRemovals:!0});return function(u,h,f,m){const _=f.batch,E=_.keys();let T=Z.resolve();return E.forEach(S=>{T=T.next(()=>m.getEntry(h,S)).next(I=>{const A=f.docVersions.get(S);Xe(A!==null,48541),I.version.compareTo(A)<0&&(_.applyToRemoteDocument(I,f),I.isValidDocument()&&(I.setReadTime(f.commitVersion),m.addEntry(I)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(h,_))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=Ue();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function nC(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function xV(n,e){const t=Ve(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const u=[];e.targetChanges.forEach((m,_)=>{const E=i.get(_);if(!E)return;u.push(t.Ti.removeMatchingKeys(s,m.removedDocuments,_).next(()=>t.Ti.addMatchingKeys(s,m.addedDocuments,_)));let T=E.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(Qt.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),i=i.insert(_,T),function(I,A,R){return I.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=SV?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(E,T,m)&&u.push(t.Ti.updateTargetData(s,T))});let h=Wi(),f=Ue();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,m))}),u.push(kV(s,l,e.documentUpdates).next(m=>{h=m.qs,f=m.Qs})),!r.isEqual(Le.min())){const m=t.Ti.getLastRemoteSnapshotVersion(s).next(_=>t.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(m)}return Z.waitFor(u).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,h,f)).next(()=>h)}).then(s=>(t.xs=i,s))}function kV(n,e,t){let r=Ue(),i=Ue();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let l=Wi();return t.forEach((u,h)=>{const f=s.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(Le.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):pe(Ry,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{qs:l,Qs:i}})}function RV(n,e){const t=Ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=_y),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function PV(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(s=>s?(i=s,Z.resolve(i)):t.Ti.allocateTargetId(r).next(l=>(i=new ks(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function S_(n,e,t){const r=Ve(n),i=r.xs.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Fl(l))throw l;pe(Ry,`Failed to update sequence numbers for target ${e}: ${l}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function dT(n,e,t){const r=Ve(n);let i=Le.min(),s=Ue();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,m){const _=Ve(h),E=_.Os.get(m);return E!==void 0?Z.resolve(_.xs.get(E)):_.Ti.getTargetData(f,m)}(r,l,ni(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(l,u.targetId).next(h=>{s=h})}).next(()=>r.Ms.getDocumentsMatchingQuery(l,e,t?i:Le.min(),t?s:Ue())).next(u=>(OV(r,_L(e),u),{documents:u,$s:s})))}function OV(n,e,t){let r=n.Ns.get(e)||Le.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ns.set(e,r)}class fT{constructor(){this.activeTargetIds=bL()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NV{constructor(){this.xo=new fT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new fT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="ConnectivityMonitor";class mT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){pe(pT,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){pe(pT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let md=null;function I_(){return md===null?md=function(){return 268435456+Math.round(2147483648*Math.random())}():md++,"0x"+md.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="RestConnection",MV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LV{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===yf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,s){const l=I_(),u=this.jo(e,t.toUriEncodedString());pe(Ig,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,i,s);const{host:f}=new URL(u),m=Pc(f);return this.Jo(e,u,h,r,m).then(_=>(pe(Ig,`Received RPC '${e}' ${l}: `,_),_),_=>{throw pl(Ig,`RPC '${e}' ${l} failed with error: `,_,"url: ",u,"request:",r),_})}Yo(e,t,r,i,s,l){return this.zo(e,t,r,i,s)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ll}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,t){const r=MV[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class FV extends LV{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,s){const l=I_();return new Promise((u,h)=>{const f=new sA;f.setWithCredentials(!0),f.listenOnce(oA.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case qd.NO_ERROR:const _=f.getResponseJson();pe(rn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),u(_);break;case qd.TIMEOUT:pe(rn,`RPC '${e}' ${l} timed out`),h(new xe(se.DEADLINE_EXCEEDED,"Request time out"));break;case qd.HTTP_ERROR:const E=f.getStatus();if(pe(rn,`RPC '${e}' ${l} failed with status:`,E,"response text:",f.getResponseText()),E>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T==null?void 0:T.error;if(S&&S.status&&S.message){const I=function(R){const L=R.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(L)>=0?L:se.UNKNOWN}(S.status);h(new xe(I,S.message))}else h(new xe(se.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new xe(se.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{h_:e,streamId:l,P_:f.getLastErrorCode(),T_:f.getLastError()})}}finally{pe(rn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(i);pe(rn,`RPC '${e}' ${l} sending request:`,i),f.send(t,"POST",m,r,15)})}I_(e,t,r){const i=I_(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=uA(),u=lA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const m=s.join("");pe(rn,`Creating RPC '${e}' stream ${i}: ${m}`,h);const _=l.createWebChannel(m,h);this.E_(_);let E=!1,T=!1;const S=new VV({Zo:A=>{T?pe(rn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(E||(pe(rn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),E=!0),pe(rn,`RPC '${e}' stream ${i} sending:`,A),_.send(A))},Xo:()=>_.close()}),I=(A,R,L)=>{A.listen(R,U=>{try{L(U)}catch(B){setTimeout(()=>{throw B},0)}})};return I(_,qu.EventType.OPEN,()=>{T||(pe(rn,`RPC '${e}' stream ${i} transport opened.`),S.__())}),I(_,qu.EventType.CLOSE,()=>{T||(T=!0,pe(rn,`RPC '${e}' stream ${i} transport closed`),S.u_(),this.d_(_))}),I(_,qu.EventType.ERROR,A=>{T||(T=!0,pl(rn,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),S.u_(new xe(se.UNAVAILABLE,"The operation could not be completed")))}),I(_,qu.EventType.MESSAGE,A=>{var R;if(!T){const L=A.data[0];Xe(!!L,16349);const U=L,B=(U==null?void 0:U.error)||((R=U[0])===null||R===void 0?void 0:R.error);if(B){pe(rn,`RPC '${e}' stream ${i} received error:`,B);const Q=B.status;let Y=function(k){const N=At[k];if(N!==void 0)return zA(N)}(Q),P=B.message;Y===void 0&&(Y=se.INTERNAL,P="Unknown error status: "+Q+" with message "+B.message),T=!0,S.u_(new xe(Y,P)),_.close()}else pe(rn,`RPC '${e}' stream ${i} received:`,L),S.c_(L)}}),I(u,aA.STAT_EVENT,A=>{A.stat===f_.PROXY?pe(rn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===f_.NOPROXY&&pe(rn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Ag(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(n){return new BL(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,t,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="PersistentStream";class iC{constructor(e,t,r,i,s,l,u,h){this.xi=e,this.S_=r,this.D_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new rC(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Hi(t.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{const i=new xe(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){const r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return pe(gT,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(pe(gT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $V extends iC{constructor(e,t,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=WL(this.serializer,e),r=function(s){if(!("targetChange"in s))return Le.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Le.min():l.readTime?ii(l.readTime):Le.min()}(e);return this.listener.Y_(t,r)}Z_(e){const t={};t.database=b_(this.serializer),t.addTarget=function(s,l){let u;const h=l.target;if(u=y_(h)?{documents:GL(s,h)}:{query:YL(s,h).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=KA(s,l.resumeToken);const f=E_(s,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Le.min())>0){u.readTime=Sf(s,l.snapshotVersion.toTimestamp());const f=E_(s,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const r=XL(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){const t={};t.database=b_(this.serializer),t.removeTarget=e,this.Q_(t)}}class jV extends iC{constructor(e,t,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=qL(e.writeResults,e.commitTime),r=ii(e.commitTime);return this.listener.ra(r,t)}ia(){const e={};e.database=b_(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>KL(this.serializer,r))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{}class BV extends UV{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new xe(se.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.zo(e,w_(t,r),i,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xe(se.UNKNOWN,s.toString())})}Yo(e,t,r,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Yo(e,w_(t,r),i,l,u,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(se.UNKNOWN,l.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class zV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Hi(t),this.ua=!1):pe("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="RemoteStore";class HV{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(l=>{r.enqueueAndForget(async()=>{na(this)&&(pe(qo,"Restarting streams for network reachability change."),await async function(h){const f=Ve(h);f.da.add(4),await $c(f),f.Va.set("Unknown"),f.da.delete(4),await fp(f)}(this))})}),this.Va=new zV(r,i)}}async function fp(n){if(na(n))for(const e of n.Aa)await e(!0)}async function $c(n){for(const e of n.Aa)await e(!1)}function sC(n,e){const t=Ve(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Dy(t)?Ny(t):$l(t).N_()&&Oy(t,e))}function Py(n,e){const t=Ve(n),r=$l(t);t.Ea.delete(e),r.N_()&&oC(t,e),t.Ea.size===0&&(r.N_()?r.k_():na(t)&&t.Va.set("Unknown"))}function Oy(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$l(n).Z_(e)}function oC(n,e){n.ma.Ke(e),$l(n).X_(e)}function Ny(n){n.ma=new FL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),$l(n).start(),n.Va.ca()}function Dy(n){return na(n)&&!$l(n).O_()&&n.Ea.size>0}function na(n){return Ve(n).da.size===0}function aC(n){n.ma=void 0}async function WV(n){n.Va.set("Online")}async function KV(n){n.Ea.forEach((e,t)=>{Oy(n,e)})}async function qV(n,e){aC(n),Dy(n)?(n.Va.Pa(e),Ny(n)):n.Va.set("Unknown")}async function GV(n,e,t){if(n.Va.set("Online"),e instanceof WA&&e.state===2&&e.cause)try{await async function(i,s){const l=s.cause;for(const u of s.targetIds)i.Ea.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ea.delete(u),i.ma.removeTarget(u))}(n,e)}catch(r){pe(qo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Af(n,r)}else if(e instanceof Xd?n.ma.Xe(e):e instanceof HA?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Le.min()))try{const r=await nC(n.localStore);t.compareTo(r)>=0&&await function(s,l){const u=s.ma.It(l);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=s.Ea.get(f);m&&s.Ea.set(f,m.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,f)=>{const m=s.Ea.get(h);if(!m)return;s.Ea.set(h,m.withResumeToken(Qt.EMPTY_BYTE_STRING,m.snapshotVersion)),oC(s,h);const _=new ks(m.target,h,f,m.sequenceNumber);Oy(s,_)}),s.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){pe(qo,"Failed to raise snapshot:",r),await Af(n,r)}}async function Af(n,e,t){if(!Fl(e))throw e;n.da.add(1),await $c(n),n.Va.set("Offline"),t||(t=()=>nC(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(qo,"Retrying IndexedDB access"),await t(),n.da.delete(1),await fp(n)})}function lC(n,e){return e().catch(t=>Af(n,t,e))}async function pp(n){const e=Ve(n),t=Bs(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:_y;for(;YV(e);)try{const i=await RV(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,QV(e,i)}catch(i){await Af(e,i)}uC(e)&&cC(e)}function YV(n){return na(n)&&n.Ia.length<10}function QV(n,e){n.Ia.push(e);const t=Bs(n);t.N_()&&t.ea&&t.ta(e.mutations)}function uC(n){return na(n)&&!Bs(n).O_()&&n.Ia.length>0}function cC(n){Bs(n).start()}async function XV(n){Bs(n).ia()}async function JV(n){const e=Bs(n);for(const t of n.Ia)e.ta(t.mutations)}async function ZV(n,e,t){const r=n.Ia.shift(),i=Sy.from(r,e,t);await lC(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await pp(n)}async function eF(n,e){e&&Bs(n).ea&&await async function(r,i){if(function(l){return LL(l)&&l!==se.ABORTED}(i.code)){const s=r.Ia.shift();Bs(r).L_(),await lC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await pp(r)}}(n,e),uC(n)&&cC(n)}async function _T(n,e){const t=Ve(n);t.asyncQueue.verifyOperationInProgress(),pe(qo,"RemoteStore received new credentials");const r=na(t);t.da.add(3),await $c(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await fp(t)}async function tF(n,e){const t=Ve(n);e?(t.da.delete(2),await fp(t)):e||(t.da.add(2),await $c(t),t.Va.set("Unknown"))}function $l(n){return n.fa||(n.fa=function(t,r,i){const s=Ve(t);return s.oa(),new $V(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{e_:WV.bind(null,n),n_:KV.bind(null,n),i_:qV.bind(null,n),Y_:GV.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),Dy(n)?Ny(n):n.Va.set("Unknown")):(await n.fa.stop(),aC(n))})),n.fa}function Bs(n){return n.ga||(n.ga=function(t,r,i){const s=Ve(t);return s.oa(),new jV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:XV.bind(null,n),i_:eF.bind(null,n),na:JV.bind(null,n),ra:ZV.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await pp(n)):(await n.ga.stop(),n.Ia.length>0&&(pe(qo,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const l=Date.now()+r,u=new My(e,t,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ly(n,e){if(Hi("AsyncQueue",`${e}: ${n}`),Fl(n))return new xe(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{static emptySet(e){return new cl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ke.comparator(t.key,r.key):(t,r)=>ke.comparator(t.key,r.key),this.keyedMap=Gu(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new cl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this.pa=new ft(ke.comparator)}track(e){const t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Ne(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}}class El{constructor(e,t,r,i,s,l,u,h,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,s){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new El(e,t,cl.emptySet(t),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ap(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class rF{constructor(){this.queries=vT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Ve(t),s=i.queries;i.queries=vT(),s.forEach((l,u)=>{for(const h of u.Sa)h.onError(r)})})(this,new xe(se.ABORTED,"Firestore shutting down"))}}function vT(){return new ta(n=>RA(n),ap)}async function iF(n,e){const t=Ve(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.Da()&&e.va()&&(r=2):(s=new nF,r=e.va()?0:1);try{switch(r){case 0:s.ba=await t.onListen(i,!0);break;case 1:s.ba=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=Ly(l,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.Sa.push(e),e.Fa(t.onlineState),s.ba&&e.Ma(s.ba)&&Vy(t)}async function sF(n,e){const t=Ve(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.va()?0:1:!s.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function oF(n,e){const t=Ve(n);let r=!1;for(const i of e){const s=i.query,l=t.queries.get(s);if(l){for(const u of l.Sa)u.Ma(i)&&(r=!0);l.ba=i}}r&&Vy(t)}function aF(n,e,t){const r=Ve(n),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(t);r.queries.delete(e)}function Vy(n){n.Ca.forEach(e=>{e.next()})}var A_,ET;(ET=A_||(A_={})).xa="default",ET.Cache="cache";class lF{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new El(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==A_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.key=e}}class dC{constructor(e){this.key=e}}class uF{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.Za=PA(e),this.Xa=new cl(this.Za)}get eu(){return this.Ha}tu(e,t){const r=t?t.nu:new yT,i=t?t.Xa:this.Xa;let s=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,_)=>{const E=i.get(m),T=lp(this.query,_)?_:null,S=!!E&&this.mutatedKeys.has(E.key),I=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let A=!1;E&&T?E.data.isEqual(T.data)?S!==I&&(r.track({type:3,doc:T}),A=!0):this.ru(E,T)||(r.track({type:2,doc:T}),A=!0,(h&&this.Za(T,h)>0||f&&this.Za(T,f)<0)&&(u=!0)):!E&&T?(r.track({type:0,doc:T}),A=!0):E&&!T&&(r.track({type:1,doc:E}),A=!0,(h||f)&&(u=!0)),A&&(T?(l=l.add(T),s=I?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{Xa:l,nu:r,Cs:u,mutatedKeys:s}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const l=e.nu.wa();l.sort((m,_)=>function(T,S){const I=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Vt:A})}};return I(T)-I(S)}(m.type,_.type)||this.Za(m.doc,_.doc)),this.iu(r),i=i!=null&&i;const u=t&&!i?this.su():[],h=this.Ya.size===0&&this.current&&!i?1:0,f=h!==this.Ja;return this.Ja=h,l.length!==0||f?{snapshot:new El(this.query,e.Xa,s,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:u}:{ou:u}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new yT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new dC(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new hC(r))}),t}au(e){this.Ha=e.$s,this.Ya=Ue();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return El.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Fy="SyncEngine";class cF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class hF{constructor(e){this.key=e,this.cu=!1}}class dF{constructor(e,t,r,i,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new ta(u=>RA(u),ap),this.Pu=new Map,this.Tu=new Set,this.Iu=new ft(ke.comparator),this.Eu=new Map,this.du=new Cy,this.Au={},this.Ru=new Map,this.Vu=vl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function fF(n,e,t=!0){const r=yC(n);let i;const s=r.hu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.uu()):i=await fC(r,e,t,!0),i}async function pF(n,e){const t=yC(n);await fC(t,e,!0,!1)}async function fC(n,e,t,r){const i=await PV(n.localStore,ni(e)),s=i.targetId,l=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await mF(n,e,s,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&sC(n.remoteStore,i),u}async function mF(n,e,t,r,i){n.fu=(_,E,T)=>async function(I,A,R,L){let U=A.view.tu(R);U.Cs&&(U=await dT(I.localStore,A.query,!1).then(({documents:P})=>A.view.tu(P,U)));const B=L&&L.targetChanges.get(A.targetId),Q=L&&L.targetMismatches.get(A.targetId)!=null,Y=A.view.applyChanges(U,I.isPrimaryClient,B,Q);return TT(I,A.targetId,Y.ou),Y.snapshot}(n,_,E,T);const s=await dT(n.localStore,e,!0),l=new uF(e,s.$s),u=l.tu(s.documents),h=Fc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=l.applyChanges(u,n.isPrimaryClient,h);TT(n,t,f.ou);const m=new cF(e,t,l);return n.hu.set(e,m),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),f.snapshot}async function gF(n,e,t){const r=Ve(n),i=r.hu.get(e),s=r.Pu.get(i.targetId);if(s.length>1)return r.Pu.set(i.targetId,s.filter(l=>!ap(l,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await S_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Py(r.remoteStore,i.targetId),C_(r,i.targetId)}).catch(Vl)):(C_(r,i.targetId),await S_(r.localStore,i.targetId,!0))}async function _F(n,e){const t=Ve(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Py(t.remoteStore,r.targetId))}async function yF(n,e,t){const r=IF(n);try{const i=await function(l,u){const h=Ve(l),f=Dt.now(),m=u.reduce((T,S)=>T.add(S.key),Ue());let _,E;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let S=Wi(),I=Ue();return h.Bs.getEntries(T,m).next(A=>{S=A,S.forEach((R,L)=>{L.isValidDocument()||(I=I.add(R))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,S)).next(A=>{_=A;const R=[];for(const L of u){const U=PL(L,_.get(L.key).overlayedDocument);U!=null&&R.push(new Xs(L.key,U,bA(U.value.mapValue),ri.exists(!0)))}return h.mutationQueue.addMutationBatch(T,f,R,u)}).next(A=>{E=A;const R=A.applyToLocalDocumentSet(_,I);return h.documentOverlayCache.saveOverlays(T,A.batchId,R)})}).then(()=>({batchId:E.batchId,changes:NA(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,h){let f=l.Au[l.currentUser.toKey()];f||(f=new ft(Fe)),f=f.insert(u,h),l.Au[l.currentUser.toKey()]=f}(r,i.batchId,t),await jc(r,i.changes),await pp(r.remoteStore)}catch(i){const s=Ly(i,"Failed to persist write");t.reject(s)}}async function pC(n,e){const t=Ve(n);try{const r=await xV(t.localStore,e);e.targetChanges.forEach((i,s)=>{const l=t.Eu.get(s);l&&(Xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.cu=!0:i.modifiedDocuments.size>0?Xe(l.cu,14607):i.removedDocuments.size>0&&(Xe(l.cu,42227),l.cu=!1))}),await jc(t,r,e)}catch(r){await Vl(r)}}function wT(n,e,t){const r=Ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.hu.forEach((s,l)=>{const u=l.view.Fa(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const h=Ve(l);h.onlineState=u;let f=!1;h.queries.forEach((m,_)=>{for(const E of _.Sa)E.Fa(u)&&(f=!0)}),f&&Vy(h)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vF(n,e,t){const r=Ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Eu.get(e),s=i&&i.key;if(s){let l=new ft(ke.comparator);l=l.insert(s,on.newNoDocument(s,Le.min()));const u=Ue().add(s),h=new hp(Le.min(),new Map,new ft(Fe),l,u);await pC(r,h),r.Iu=r.Iu.remove(s),r.Eu.delete(e),$y(r)}else await S_(r.localStore,e,!1).then(()=>C_(r,e,t)).catch(Vl)}async function EF(n,e){const t=Ve(n),r=e.batch.batchId;try{const i=await CV(t.localStore,e);gC(t,r,null),mC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await jc(t,i)}catch(i){await Vl(i)}}async function wF(n,e,t){const r=Ve(n);try{const i=await function(l,u){const h=Ve(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return h.mutationQueue.lookupMutationBatch(f,u).next(_=>(Xe(_!==null,37113),m=_.keys(),h.mutationQueue.removeMutationBatch(f,_))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>h.localDocuments.getDocuments(f,m))})}(r.localStore,e);gC(r,e,t),mC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await jc(r,i)}catch(i){await Vl(i)}}function mC(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function gC(n,e,t){const r=Ve(n);let i=r.Au[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function C_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||_C(n,r)})}function _C(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(Py(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),$y(n))}function TT(n,e,t){for(const r of t)r instanceof hC?(n.du.addReference(r.key,e),TF(n,r)):r instanceof dC?(pe(Fy,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||_C(n,r.key)):Ne(19791,{pu:r})}function TF(n,e){const t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(pe(Fy,"New document in limbo: "+t),n.Tu.add(r),$y(n))}function $y(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new ke(yt.fromString(e)),r=n.Vu.next();n.Eu.set(r,new hF(t)),n.Iu=n.Iu.insert(t,r),sC(n.remoteStore,new ks(ni(Ty(t.path)),r,"TargetPurposeLimboResolution",rp.le))}}async function jc(n,e,t){const r=Ve(n),i=[],s=[],l=[];r.hu.isEmpty()||(r.hu.forEach((u,h)=>{l.push(r.fu(h,e,t).then(f=>{var m;if((f||t)&&r.isPrimaryClient){const _=f?!f.fromCache:(m=t==null?void 0:t.targetChanges.get(h.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(f){i.push(f);const _=ky.Rs(h.targetId,f);s.push(_)}}))}),await Promise.all(l),r.lu.Y_(i),await async function(h,f){const m=Ve(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Z.forEach(f,E=>Z.forEach(E.ds,T=>m.persistence.referenceDelegate.addReference(_,E.targetId,T)).next(()=>Z.forEach(E.As,T=>m.persistence.referenceDelegate.removeReference(_,E.targetId,T)))))}catch(_){if(!Fl(_))throw _;pe(Ry,"Failed to update sequence numbers: "+_)}for(const _ of f){const E=_.targetId;if(!_.fromCache){const T=m.xs.get(E),S=T.snapshotVersion,I=T.withLastLimboFreeSnapshotVersion(S);m.xs=m.xs.insert(E,I)}}}(r.localStore,s))}async function bF(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){pe(Fy,"User change. New user:",e.toKey());const r=await tC(t.localStore,e);t.currentUser=e,function(s,l){s.Ru.forEach(u=>{u.forEach(h=>{h.reject(new xe(se.CANCELLED,l))})}),s.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jc(t,r.ks)}}function SF(n,e){const t=Ve(n),r=t.Eu.get(e);if(r&&r.cu)return Ue().add(r.key);{let i=Ue();const s=t.Pu.get(e);if(!s)return i;for(const l of s){const u=t.hu.get(l);i=i.unionWith(u.view.eu)}return i}}function yC(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=pC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vF.bind(null,e),e.lu.Y_=oF.bind(null,e.eventManager),e.lu.gu=aF.bind(null,e.eventManager),e}function IF(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wF.bind(null,e),e}class Cf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return AV(this.persistence,new bV,e.initialUser,this.serializer)}Su(e){return new eC(xy.fi,this.serializer)}bu(e){return new NV}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cf.provider={build:()=>new Cf};class AF extends Cf{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Xe(this.persistence.referenceDelegate instanceof If,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lV(r,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new eC(r=>If.fi(r,t),this.serializer)}}class x_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bF.bind(null,this.syncEngine),await tF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rF}()}createDatastore(e){const t=dp(e.databaseInfo.databaseId),r=function(s){return new FV(s)}(e.databaseInfo);return function(s,l,u,h){return new BV(s,l,u,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,l,u){return new HV(r,i,s,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>wT(this.syncEngine,t,0),function(){return mT.C()?new mT:new DV}())}createSyncEngine(e,t){return function(i,s,l,u,h,f,m){const _=new dF(i,s,l,u,h,f);return m&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=Ve(i);pe(qo,"RemoteStore shutting down."),s.da.add(5),await $c(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}x_.provider={build:()=>new x_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="FirestoreClient";class xF{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=sn.UNAUTHENTICATED,this.clientId=fA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async l=>{pe(zs,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(pe(zs,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Ly(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cg(n,e){n.asyncQueue.verifyOperationInProgress(),pe(zs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await tC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function bT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await kF(n);pe(zs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>_T(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>_T(e.remoteStore,i)),n._onlineComponents=e}async function kF(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(zs,"Using user provided OfflineComponentProvider");try{await Cg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;pl("Error using user provided cache. Falling back to memory cache: "+t),await Cg(n,new Cf)}}else pe(zs,"Using default OfflineComponentProvider"),await Cg(n,new AF(void 0));return n._offlineComponents}async function vC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(zs,"Using user provided OnlineComponentProvider"),await bT(n,n._uninitializedComponentsProvider._online)):(pe(zs,"Using default OnlineComponentProvider"),await bT(n,new x_))),n._onlineComponents}function RF(n){return vC(n).then(e=>e.syncEngine)}async function PF(n){const e=await vC(n),t=e.eventManager;return t.onListen=fF.bind(null,e.syncEngine),t.onUnlisten=gF.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=pF.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_F.bind(null,e.syncEngine),t}function OF(n,e,t={}){const r=new Ls;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,u,h,f){const m=new CF({next:E=>{m.xu(),l.enqueueAndForget(()=>sF(s,_));const T=E.docs.has(u);!T&&E.fromCache?f.reject(new xe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&E.fromCache&&h&&h.source==="server"?f.reject(new xe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(E)},error:E=>f.reject(E)}),_=new lF(Ty(u.path),m,{includeMetadataChanges:!0,Qa:!0});return iF(s,_)}(await PF(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(n,e,t){if(!t)throw new xe(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function DF(n,e,t,r){if(e===!0&&r===!0)throw new xe(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function IT(n){if(!ke.isDocumentKey(n))throw new xe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ne(12329,{type:typeof n})}function Go(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jy(n);throw new xe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="firestore.googleapis.com",AT=!0;class CT{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wC,this.ssl=AT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:AT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oV)throw new xe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new xe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new xe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new xe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uy{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new M2;switch(r.type){case"firstParty":return new $2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=ST.get(t);r&&(pe("ComponentProvider","Removing Datastore"),ST.delete(t),r.terminate())}(this),Promise.resolve()}}function MF(n,e,t,r={}){var i;n=Go(n,Uy);const s=Pc(e),l=n._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;s&&(zS(`https://${h}`),HS("Firestore",!0)),l.host!==wC&&l.host!==h&&pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:h,ssl:s,emulatorOptions:r});if(!Ui(f,u)&&(n._setSettings(f),r.mockUserToken)){let m,_;if(typeof r.mockUserToken=="string")m=r.mockUserToken,_=sn.MOCK_USER;else{m=IP(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new xe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new sn(E)}n._authCredentials=new L2(new hA(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new By(this.firestore,e,this._query)}}class Bn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bn(this.firestore,e,this._key)}}class Sc extends By{constructor(e,t,r){super(e,t,Ty(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bn(this.firestore,null,new ke(e))}withConverter(e){return new Sc(this.firestore,e,this._path)}}function zy(n,e,...t){if(n=Lt(n),arguments.length===1&&(e=fA.newId()),NF("doc","path",e),n instanceof Uy){const r=yt.fromString(e,...t);return IT(r),new Bn(n,null,new ke(r))}{if(!(n instanceof Bn||n instanceof Sc))throw new xe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yt.fromString(e,...t));return IT(r),new Bn(n.firestore,n instanceof Sc?n.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="AsyncQueue";class kT{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new rC(this,"async_queue_retry"),this.rc=()=>{const r=Ag();r&&pe(xT,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const t=Ag();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Ag();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Ls;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Fl(e))throw e;pe(xT,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Hi("INTERNAL UNHANDLED ERROR: ",RT(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const i=My.createAndSchedule(this,e,t,r,s=>this.uc(s));return this.Zu.push(i),i}oc(){this.Xu&&Ne(47125,{cc:RT(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function RT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class mp extends Uy{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new kT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kT(e),this._firestoreClient=void 0,await e}}}function TC(n,e){const t=typeof n=="object"?n:ty(),r=typeof n=="string"?n:yf,i=Zo(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=bP("firestore");s&&MF(i,...s)}return i}function bC(n){if(n._terminated)throw new xe(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||LF(n),n._firestoreClient}function LF(n){var e,t,r;const i=n._freezeSettings(),s=function(u,h,f,m){return new eL(u,h,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,EC(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new xF(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wl(Qt.fromBase64String(e))}catch(t){throw new xe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wl(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=/^__.*__$/;class FF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vc(e,this.data,t,this.fieldTransforms)}}class SC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Xs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function IC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ic:n})}}class yp{constructor(e,t,r,i,s,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new yp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return xf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(IC(this.Ic)&&VF.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class $F{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||dp(e)}bc(e,t,r,i=!1){return new yp({Ic:e,methodName:t,wc:r,path:Yt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function AC(n){const e=n._freezeSettings(),t=dp(n._databaseId);return new $F(n._databaseId,!!e.ignoreUndefinedProperties,t)}function jF(n,e,t,r,i,s={}){const l=n.bc(s.merge||s.mergeFields?2:0,e,t,i);qy("Data must be an object, but it was:",l,r);const u=CC(r,l);let h,f;if(s.merge)h=new $n(l.fieldMask),f=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const _ of s.mergeFields){const E=k_(e,_,t);if(!l.contains(E))throw new xe(se.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);kC(m,E)||m.push(E)}h=new $n(m),f=l.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,f=l.fieldTransforms;return new FF(new Cn(u),h,f)}class vp extends _p{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vp}}function UF(n,e,t){return new yp({Ic:3,wc:e.settings.wc,methodName:n._methodName,Rc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ky extends _p{constructor(e,t){super(e),this.Sc=t}_toFieldTransform(e){const t=UF(this,e,!0),r=this.Sc.map(s=>Uc(s,t)),i=new yl(r);return new CL(e.path,i)}isEqual(e){return e instanceof Ky&&Ui(this.Sc,e.Sc)}}function BF(n,e,t,r){const i=n.bc(1,e,t);qy("Data must be an object, but it was:",i,r);const s=[],l=Cn.empty();Qs(r,(h,f)=>{const m=Gy(e,h,t);f=Lt(f);const _=i.mc(m);if(f instanceof vp)s.push(m);else{const E=Uc(f,_);E!=null&&(s.push(m),l.set(m,E))}});const u=new $n(s);return new SC(l,u,i.fieldTransforms)}function zF(n,e,t,r,i,s){const l=n.bc(1,e,t),u=[k_(e,r,t)],h=[i];if(s.length%2!=0)throw new xe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<s.length;E+=2)u.push(k_(e,s[E])),h.push(s[E+1]);const f=[],m=Cn.empty();for(let E=u.length-1;E>=0;--E)if(!kC(f,u[E])){const T=u[E];let S=h[E];S=Lt(S);const I=l.mc(T);if(S instanceof vp)f.push(T);else{const A=Uc(S,I);A!=null&&(f.push(T),m.set(T,A))}}const _=new $n(f);return new SC(m,_,l.fieldTransforms)}function Uc(n,e){if(xC(n=Lt(n)))return qy("Unsupported field value:",e,n),CC(n,e);if(n instanceof _p)return function(r,i){if(!IC(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const s=[];let l=0;for(const u of r){let h=Uc(u,i.fc(l));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),l++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Dt.fromDate(r);return{timestampValue:Sf(i.serializer,s)}}if(r instanceof Dt){const s=new Dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sf(i.serializer,s)}}if(r instanceof Hy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wl)return{bytesValue:KA(i.serializer,r._byteString)};if(r instanceof Bn){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ay(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Wy)return function(l,u){return{mapValue:{fields:{[wA]:{stringValue:TA},[vf]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.gc("VectorValues must only contain numeric values.");return by(u.serializer,f)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${jy(r)}`)}(n,e)}function CC(n,e){const t={};return mA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(n,(r,i)=>{const s=Uc(i,e.Ac(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function xC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Dt||n instanceof Hy||n instanceof wl||n instanceof Bn||n instanceof _p||n instanceof Wy)}function qy(n,e,t){if(!xC(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=jy(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function k_(n,e,t){if((e=Lt(e))instanceof gp)return e._internalPath;if(typeof e=="string")return Gy(n,e);throw xf("Field path arguments must be of type string or ",n,!1,void 0,t)}const HF=new RegExp("[~\\*/\\[\\]]");function Gy(n,e,t){if(e.search(HF)>=0)throw xf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gp(...e.split("."))._internalPath}catch{throw xf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xf(n,e,t,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(s||l)&&(h+=" (found",s&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new xe(se.INVALID_ARGUMENT,u+n+h)}function kC(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(PC("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class WF extends RC{data(){return super.data()}}function PC(n,e){return typeof e=="string"?Gy(n,e):e instanceof gp?e._internalPath:e._delegate._internalPath}class KF{convertValue(e,t="none"){switch(Us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Qs(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[vf].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Tt(l.doubleValue));return new Wy(s)}convertGeoPoint(e){return new Hy(Tt(e.latitude),Tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ec(e));default:return null}}convertTimestamp(e){const t=$s(e);return new Dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=yt.fromString(e);Xe(JA(r),9688,{name:e});const i=new wc(r.get(1),r.get(3)),s=new ke(r.popFirst(5));return i.isEqual(t)||Hi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class OC extends RC{constructor(e,t,r,i,s,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new YF(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(PC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class YF extends OC{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(n){n=Go(n,Bn);const e=Go(n.firestore,mp);return OF(bC(e),n._key).then(t=>ZF(e,n,t))}class QF extends KF{constructor(e){super(),this.firestore=e}convertBytes(e){return new wl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bn(this.firestore,null,t)}}function XF(n,e,t){n=Go(n,Bn);const r=Go(n.firestore,mp),i=qF(n.converter,e);return DC(r,[jF(AC(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,ri.none())])}function JF(n,e,t,...r){n=Go(n,Bn);const i=Go(n.firestore,mp),s=AC(i);let l;return l=typeof(e=Lt(e))=="string"||e instanceof gp?zF(s,"updateDoc",n._key,e,t,r):BF(s,"updateDoc",n._key,e),DC(i,[l.toMutation(n._key,ri.exists(!0))])}function DC(n,e){return function(r,i){const s=new Ls;return r.asyncQueue.enqueueAndForget(async()=>yF(await RF(r),i,s)),s.promise}(bC(n),e)}function ZF(n,e,t){const r=t.docs.get(e._key),i=new QF(n);return new OC(n,i,e._key,r,new GF(t.hasPendingWrites,t.fromCache),e.converter)}function e4(...n){return new Ky("arrayUnion",n)}(function(e,t=!0){(function(i){Ll=i})(Dl),ai(new kr("firestore",(r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new mp(new V2(r.getProvider("auth-internal")),new j2(l,r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new xe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wc(f.options.projectId,m)}(l,i),l);return s=Object.assign({useFetchStreams:t},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),sr(L0,V0,e),sr(L0,V0,"esm2017")})();const t4={apiKey:"AIzaSyAm40NnY5ft7ZJKSJEQQrQhGtXuuggn2j4",authDomain:"medtest-5eb10.firebaseapp.com",projectId:"medtest-5eb10",storageBucket:"medtest-5eb10.firebasestorage.app",messagingSenderId:"976951571415",appId:"1:976951571415:web:0d9a16e90af1073e755192",measurementId:"G-ZCDW1L7X89"},Yy=XS(t4);P2(Yy);const Tl=dM(Yy),MC=TC(Yy);var LC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},PT=Mi.createContext&&Mi.createContext(LC),n4=["attr","size","title"];function r4(n,e){if(n==null)return{};var t=i4(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function i4(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function kf(){return kf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},kf.apply(this,arguments)}function OT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Rf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OT(Object(t),!0).forEach(function(r){s4(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):OT(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function s4(n,e,t){return e=o4(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o4(n){var e=a4(n,"string");return typeof e=="symbol"?e:e+""}function a4(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function VC(n){return n&&n.map((e,t)=>Mi.createElement(e.tag,Rf({key:t},e.attr),VC(e.child)))}function Ep(n){return e=>Mi.createElement(l4,kf({attr:Rf({},n.attr)},e),VC(n.child))}function l4(n){var e=t=>{var{attr:r,size:i,title:s}=n,l=r4(n,n4),u=i||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Mi.createElement("svg",kf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:h,style:Rf(Rf({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&Mi.createElement("title",null,s),n.children)};return PT!==void 0?Mi.createElement(PT.Consumer,null,t=>e(t)):e(LC)}function u4(n){return Ep({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(n)}function c4(n){return Ep({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(n)}function h4(){const[n,e]=W.useState(""),[t,r]=W.useState(""),[i,s]=W.useState(""),[l,u]=W.useState(""),[h,f]=W.useState(""),m=Gf();W.useEffect(()=>{const T=SI(Tl,S=>{S&&m("/test",{replace:!0})});return()=>T()},[m]);const _=()=>{let T=!0;u(""),f("");const S=/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/;return n.trim()?S.test(n)||(u("Neplatný formát emailu."),T=!1):(u("Email je povinný."),T=!1),t?t.length<6&&(f("Heslo musí mať aspoň 6 znakov."),T=!1):(f("Heslo je povinné."),T=!1),T},E=async T=>{if(T.preventDefault(),s(""),!!_())try{const S=await XN(Tl,n,t);s("Prihlásenie bolo úspešné."),m("/test",{replace:!0})}catch(S){S.code==="auth/wrong-password"||S.code==="auth/user-not-found"||S.code==="auth/invalid-credential"?s("Neplatné prihlasovacie údaje!"):S.code==="auth/too-many-requests"?s("Príliš veľa pokusov. Skúste to znova neskôr."):s("Chyba pri prihlasovaní: "+S.message)}};return X.jsxs("div",{className:"container-fluid d-flex justify-content-center align-items-center vh-100 pageBG",children:[X.jsx("div",{children:X.jsx("img",{src:"/medTest/logoMED.svg",alt:"logoMED",className:"logoIMG2",height:100})}),X.jsx("div",{className:"card shadow-sm w-100 formCard",style:{maxWidth:"400px"},children:X.jsxs("div",{className:"card-body text-light",children:[X.jsx("h3",{className:"card-title text-center fw-bold mb-4",children:"Prihlásenie"}),i&&X.jsx("div",{className:"alert alert-info",children:i}),X.jsxs("form",{onSubmit:E,noValidate:!0,children:[X.jsxs("div",{className:"mb-3",children:[X.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),X.jsx("input",{type:"email",className:`form-control ${l?"is-invalid":""}`,id:"email",value:n,onChange:T=>e(T.target.value),required:!0}),l&&X.jsx("div",{className:"invalid-feedback",children:l})]}),X.jsxs("div",{className:"mb-3",children:[X.jsx("label",{htmlFor:"password",className:"form-label",children:"Heslo"}),X.jsx("input",{type:"password",className:`form-control ${h?"is-invalid":""}`,id:"password",value:t,onChange:T=>r(T.target.value),required:!0}),h&&X.jsx("div",{className:"invalid-feedback",children:h})]}),X.jsxs("button",{type:"submit",className:"btn btn-secondary w-100",children:[X.jsx(u4,{})," Prihlásiť sa"]})]}),X.jsxs("div",{className:"mt-3 text-center",children:[X.jsx("small",{className:"text-secondary p-2",children:" Chcem sa zaregistrovať:"}),X.jsx(gc,{to:"/register",className:"link-warning",children:"Zaregistruj sa!"})]})]})})]})}function d4(n){return Ep({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"},child:[]}]})(n)}function f4(n){return Ep({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function p4(){const[n,e]=W.useState(""),[t,r]=W.useState(""),[i,s]=W.useState(""),[l,u]=W.useState(""),[h,f]=W.useState(""),[m,_]=W.useState(!1),[E,T]=W.useState(""),[S,I]=W.useState(""),[A,R]=W.useState(""),[L,U]=W.useState(""),B=()=>{let Y=!0;T(""),I(""),R(""),U("");const P=/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/;return n.trim()?P.test(n)||(T("Neplatný formát emailu."),Y=!1):(T("Email je povinný."),Y=!1),t.trim()||(I("Meno je povinné."),Y=!1),i?i.length<6&&(R("Heslo musí mať aspoň 6 znakov."),Y=!1):(R("Heslo je povinné."),Y=!1),l?i!==l&&(U("Heslá sa nezhodujú."),Y=!1):(U("Potvrďte heslo."),Y=!1),Y},Q=async Y=>{if(Y.preventDefault(),f(""),!!B())try{const P=zy(MC,"whitelistEmails",n);if(!(await NC(P)).exists()){f("Tento e-mail nie je povolený na registráciu.");return}const N=(await QN(Tl,n,i)).user;await ZN(N,{displayName:t}),f("Registrácia bola úspešná, môžeš sa prihlásiť !"),document.getElementById("regForm").style.display="none",_(!0),await II(Tl)}catch(P){P.code==="auth/email-already-in-use"?f("Zadaný email už je registrovaný !"):P.code==="auth/invalid-email"?f("Neplatný formát emailu."):P.code==="auth/weak-password"?f("Heslo je príliš slabé."):f("Chyba pri registrácii: "+P.message)}};return X.jsxs("div",{className:"container-fluid d-flex justify-content-center align-items-center vh-100 pageBG",children:[X.jsx("div",{children:X.jsx("img",{src:"/medTest/logoMED.svg",alt:"logoMED",className:"logoIMG2",height:100})}),X.jsx("div",{className:"card shadow-sm w-100 formCard text-light",style:{maxWidth:"400px"},children:X.jsxs("div",{className:"card-body",children:[X.jsx("h3",{className:"card-title text-center mb-4 fw-bold",children:"Registrácia"}),h&&X.jsx("div",{className:"alert alert-info",children:h}),X.jsxs("form",{onSubmit:Q,id:"regForm",noValidate:!0,children:[X.jsxs("div",{className:"mb-3",children:[X.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),X.jsx("input",{type:"email",className:`form-control ${E?"is-invalid":""}`,id:"email",value:n,onChange:Y=>e(Y.target.value),required:!0}),E&&X.jsx("div",{className:"invalid-feedback",children:E})]}),X.jsxs("div",{className:"mb-3",children:[X.jsx("label",{htmlFor:"userName",className:"form-label",children:"Meno"}),X.jsx("input",{type:"text",className:`form-control ${S?"is-invalid":""}`,id:"userName",value:t,onChange:Y=>r(Y.target.value),required:!0}),S&&X.jsx("div",{className:"invalid-feedback",children:S})]}),X.jsxs("div",{className:"mb-3",children:[X.jsx("label",{htmlFor:"password",className:"form-label",children:"Heslo"}),X.jsx("input",{type:"password",className:`form-control ${A?"is-invalid":""}`,id:"password",value:i,onChange:Y=>s(Y.target.value),required:!0}),A&&X.jsx("div",{className:"invalid-feedback",children:A})]}),X.jsxs("div",{className:"mb-3",children:[X.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Zopakuj heslo"}),X.jsx("input",{type:"password",className:`form-control ${L?"is-invalid":""}`,id:"confirmPassword",value:l,onChange:Y=>u(Y.target.value),required:!0}),L&&X.jsx("div",{className:"invalid-feedback",children:L})]}),X.jsxs("button",{type:"submit",className:"btn btn-secondary w-100",children:[X.jsx(f4,{})," Registrovať sa"]})]}),X.jsx(gc,{to:"/",className:`${m?"d-block":"d-none"}`,children:X.jsx("button",{className:"btn btn-secondary w-100",children:"Prejsť na prihlásenie"})}),X.jsxs("div",{className:"mt-3 text-center",children:[X.jsx("small",{className:"p-2 text-secondary",children:"Už mám účet:"}),X.jsx(gc,{to:"/",className:"link-warning",children:"Prihlásiť sa!"})]})]})})]})}var fn="top",zn="bottom",Hn="right",pn="left",wp="auto",jl=[fn,zn,Hn,pn],Yo="start",bl="end",FC="clippingParents",Qy="viewport",tl="popper",$C="reference",R_=jl.reduce(function(n,e){return n.concat([e+"-"+Yo,e+"-"+bl])},[]),Xy=[].concat(jl,[wp]).reduce(function(n,e){return n.concat([e,e+"-"+Yo,e+"-"+bl])},[]),jC="beforeRead",UC="read",BC="afterRead",zC="beforeMain",HC="main",WC="afterMain",KC="beforeWrite",qC="write",GC="afterWrite",YC=[jC,UC,BC,zC,HC,WC,KC,qC,GC];function ci(n){return n?(n.nodeName||"").toLowerCase():null}function Wn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Qo(n){var e=Wn(n).Element;return n instanceof e||n instanceof Element}function or(n){var e=Wn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Jy(n){if(typeof ShadowRoot>"u")return!1;var e=Wn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function m4(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!or(s)||!ci(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(l){var u=i[l];u===!1?s.removeAttribute(l):s.setAttribute(l,u===!0?"":u)}))})}function g4(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},l=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),u=l.reduce(function(h,f){return h[f]="",h},{});!or(i)||!ci(i)||(Object.assign(i.style,u),Object.keys(s).forEach(function(h){i.removeAttribute(h)}))})}}const Zy={name:"applyStyles",enabled:!0,phase:"write",fn:m4,effect:g4,requires:["computeStyles"]};function si(n){return n.split("-")[0]}var jo=Math.max,Pf=Math.min,Sl=Math.round;function P_(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function QC(){return!/^((?!chrome|android).)*safari/i.test(P_())}function Il(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&or(n)&&(i=n.offsetWidth>0&&Sl(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&Sl(r.height)/n.offsetHeight||1);var l=Qo(n)?Wn(n):window,u=l.visualViewport,h=!QC()&&t,f=(r.left+(h&&u?u.offsetLeft:0))/i,m=(r.top+(h&&u?u.offsetTop:0))/s,_=r.width/i,E=r.height/s;return{width:_,height:E,top:m,right:f+_,bottom:m+E,left:f,x:f,y:m}}function ev(n){var e=Il(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function XC(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Jy(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ki(n){return Wn(n).getComputedStyle(n)}function _4(n){return["table","td","th"].indexOf(ci(n))>=0}function Js(n){return((Qo(n)?n.ownerDocument:n.document)||window.document).documentElement}function Tp(n){return ci(n)==="html"?n:n.assignedSlot||n.parentNode||(Jy(n)?n.host:null)||Js(n)}function NT(n){return!or(n)||Ki(n).position==="fixed"?null:n.offsetParent}function y4(n){var e=/firefox/i.test(P_()),t=/Trident/i.test(P_());if(t&&or(n)){var r=Ki(n);if(r.position==="fixed")return null}var i=Tp(n);for(Jy(i)&&(i=i.host);or(i)&&["html","body"].indexOf(ci(i))<0;){var s=Ki(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Bc(n){for(var e=Wn(n),t=NT(n);t&&_4(t)&&Ki(t).position==="static";)t=NT(t);return t&&(ci(t)==="html"||ci(t)==="body"&&Ki(t).position==="static")?e:t||y4(n)||e}function tv(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function ac(n,e,t){return jo(n,Pf(e,t))}function v4(n,e,t){var r=ac(n,e,t);return r>t?t:r}function JC(){return{top:0,right:0,bottom:0,left:0}}function ZC(n){return Object.assign({},JC(),n)}function ex(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var E4=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,ZC(typeof e!="number"?e:ex(e,jl))};function w4(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,l=t.modifiersData.popperOffsets,u=si(t.placement),h=tv(u),f=[pn,Hn].indexOf(u)>=0,m=f?"height":"width";if(!(!s||!l)){var _=E4(i.padding,t),E=ev(s),T=h==="y"?fn:pn,S=h==="y"?zn:Hn,I=t.rects.reference[m]+t.rects.reference[h]-l[h]-t.rects.popper[m],A=l[h]-t.rects.reference[h],R=Bc(s),L=R?h==="y"?R.clientHeight||0:R.clientWidth||0:0,U=I/2-A/2,B=_[T],Q=L-E[m]-_[S],Y=L/2-E[m]/2+U,P=ac(B,Y,Q),x=h;t.modifiersData[r]=(e={},e[x]=P,e.centerOffset=P-Y,e)}}function T4(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||XC(e.elements.popper,i)&&(e.elements.arrow=i))}const tx={name:"arrow",enabled:!0,phase:"main",fn:w4,effect:T4,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Al(n){return n.split("-")[1]}var b4={top:"auto",right:"auto",bottom:"auto",left:"auto"};function S4(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:Sl(t*i)/i||0,y:Sl(r*i)/i||0}}function DT(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,l=n.offsets,u=n.position,h=n.gpuAcceleration,f=n.adaptive,m=n.roundOffsets,_=n.isFixed,E=l.x,T=E===void 0?0:E,S=l.y,I=S===void 0?0:S,A=typeof m=="function"?m({x:T,y:I}):{x:T,y:I};T=A.x,I=A.y;var R=l.hasOwnProperty("x"),L=l.hasOwnProperty("y"),U=pn,B=fn,Q=window;if(f){var Y=Bc(t),P="clientHeight",x="clientWidth";if(Y===Wn(t)&&(Y=Js(t),Ki(Y).position!=="static"&&u==="absolute"&&(P="scrollHeight",x="scrollWidth")),Y=Y,i===fn||(i===pn||i===Hn)&&s===bl){B=zn;var k=_&&Y===Q&&Q.visualViewport?Q.visualViewport.height:Y[P];I-=k-r.height,I*=h?1:-1}if(i===pn||(i===fn||i===zn)&&s===bl){U=Hn;var N=_&&Y===Q&&Q.visualViewport?Q.visualViewport.width:Y[x];T-=N-r.width,T*=h?1:-1}}var M=Object.assign({position:u},f&&b4),V=m===!0?S4({x:T,y:I},Wn(t)):{x:T,y:I};if(T=V.x,I=V.y,h){var O;return Object.assign({},M,(O={},O[B]=L?"0":"",O[U]=R?"0":"",O.transform=(Q.devicePixelRatio||1)<=1?"translate("+T+"px, "+I+"px)":"translate3d("+T+"px, "+I+"px, 0)",O))}return Object.assign({},M,(e={},e[B]=L?I+"px":"",e[U]=R?T+"px":"",e.transform="",e))}function I4(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,s=t.adaptive,l=s===void 0?!0:s,u=t.roundOffsets,h=u===void 0?!0:u,f={placement:si(e.placement),variation:Al(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,DT(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:h})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,DT(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const nv={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:I4,data:{}};var gd={passive:!0};function A4(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,l=r.resize,u=l===void 0?!0:l,h=Wn(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&f.forEach(function(m){m.addEventListener("scroll",t.update,gd)}),u&&h.addEventListener("resize",t.update,gd),function(){s&&f.forEach(function(m){m.removeEventListener("scroll",t.update,gd)}),u&&h.removeEventListener("resize",t.update,gd)}}const rv={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:A4,data:{}};var C4={left:"right",right:"left",bottom:"top",top:"bottom"};function Jd(n){return n.replace(/left|right|bottom|top/g,function(e){return C4[e]})}var x4={start:"end",end:"start"};function MT(n){return n.replace(/start|end/g,function(e){return x4[e]})}function iv(n){var e=Wn(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function sv(n){return Il(Js(n)).left+iv(n).scrollLeft}function k4(n,e){var t=Wn(n),r=Js(n),i=t.visualViewport,s=r.clientWidth,l=r.clientHeight,u=0,h=0;if(i){s=i.width,l=i.height;var f=QC();(f||!f&&e==="fixed")&&(u=i.offsetLeft,h=i.offsetTop)}return{width:s,height:l,x:u+sv(n),y:h}}function R4(n){var e,t=Js(n),r=iv(n),i=(e=n.ownerDocument)==null?void 0:e.body,s=jo(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=jo(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+sv(n),h=-r.scrollTop;return Ki(i||t).direction==="rtl"&&(u+=jo(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:l,x:u,y:h}}function ov(n){var e=Ki(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function nx(n){return["html","body","#document"].indexOf(ci(n))>=0?n.ownerDocument.body:or(n)&&ov(n)?n:nx(Tp(n))}function lc(n,e){var t;e===void 0&&(e=[]);var r=nx(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=Wn(r),l=i?[s].concat(s.visualViewport||[],ov(r)?r:[]):r,u=e.concat(l);return i?u:u.concat(lc(Tp(l)))}function O_(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function P4(n,e){var t=Il(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function LT(n,e,t){return e===Qy?O_(k4(n,t)):Qo(e)?P4(e,t):O_(R4(Js(n)))}function O4(n){var e=lc(Tp(n)),t=["absolute","fixed"].indexOf(Ki(n).position)>=0,r=t&&or(n)?Bc(n):n;return Qo(r)?e.filter(function(i){return Qo(i)&&XC(i,r)&&ci(i)!=="body"}):[]}function N4(n,e,t,r){var i=e==="clippingParents"?O4(n):[].concat(e),s=[].concat(i,[t]),l=s[0],u=s.reduce(function(h,f){var m=LT(n,f,r);return h.top=jo(m.top,h.top),h.right=Pf(m.right,h.right),h.bottom=Pf(m.bottom,h.bottom),h.left=jo(m.left,h.left),h},LT(n,l,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function rx(n){var e=n.reference,t=n.element,r=n.placement,i=r?si(r):null,s=r?Al(r):null,l=e.x+e.width/2-t.width/2,u=e.y+e.height/2-t.height/2,h;switch(i){case fn:h={x:l,y:e.y-t.height};break;case zn:h={x:l,y:e.y+e.height};break;case Hn:h={x:e.x+e.width,y:u};break;case pn:h={x:e.x-t.width,y:u};break;default:h={x:e.x,y:e.y}}var f=i?tv(i):null;if(f!=null){var m=f==="y"?"height":"width";switch(s){case Yo:h[f]=h[f]-(e[m]/2-t[m]/2);break;case bl:h[f]=h[f]+(e[m]/2-t[m]/2);break}}return h}function Cl(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,s=t.strategy,l=s===void 0?n.strategy:s,u=t.boundary,h=u===void 0?FC:u,f=t.rootBoundary,m=f===void 0?Qy:f,_=t.elementContext,E=_===void 0?tl:_,T=t.altBoundary,S=T===void 0?!1:T,I=t.padding,A=I===void 0?0:I,R=ZC(typeof A!="number"?A:ex(A,jl)),L=E===tl?$C:tl,U=n.rects.popper,B=n.elements[S?L:E],Q=N4(Qo(B)?B:B.contextElement||Js(n.elements.popper),h,m,l),Y=Il(n.elements.reference),P=rx({reference:Y,element:U,placement:i}),x=O_(Object.assign({},U,P)),k=E===tl?x:Y,N={top:Q.top-k.top+R.top,bottom:k.bottom-Q.bottom+R.bottom,left:Q.left-k.left+R.left,right:k.right-Q.right+R.right},M=n.modifiersData.offset;if(E===tl&&M){var V=M[i];Object.keys(N).forEach(function(O){var Me=[Hn,zn].indexOf(O)>=0?1:-1,Se=[fn,zn].indexOf(O)>=0?"y":"x";N[O]+=V[Se]*Me})}return N}function D4(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,s=t.rootBoundary,l=t.padding,u=t.flipVariations,h=t.allowedAutoPlacements,f=h===void 0?Xy:h,m=Al(r),_=m?u?R_:R_.filter(function(S){return Al(S)===m}):jl,E=_.filter(function(S){return f.indexOf(S)>=0});E.length===0&&(E=_);var T=E.reduce(function(S,I){return S[I]=Cl(n,{placement:I,boundary:i,rootBoundary:s,padding:l})[si(I)],S},{});return Object.keys(T).sort(function(S,I){return T[S]-T[I]})}function M4(n){if(si(n)===wp)return[];var e=Jd(n);return[MT(n),e,MT(e)]}function L4(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,l=t.altAxis,u=l===void 0?!0:l,h=t.fallbackPlacements,f=t.padding,m=t.boundary,_=t.rootBoundary,E=t.altBoundary,T=t.flipVariations,S=T===void 0?!0:T,I=t.allowedAutoPlacements,A=e.options.placement,R=si(A),L=R===A,U=h||(L||!S?[Jd(A)]:M4(A)),B=[A].concat(U).reduce(function(Te,be){return Te.concat(si(be)===wp?D4(e,{placement:be,boundary:m,rootBoundary:_,padding:f,flipVariations:S,allowedAutoPlacements:I}):be)},[]),Q=e.rects.reference,Y=e.rects.popper,P=new Map,x=!0,k=B[0],N=0;N<B.length;N++){var M=B[N],V=si(M),O=Al(M)===Yo,Me=[fn,zn].indexOf(V)>=0,Se=Me?"width":"height",we=Cl(e,{placement:M,boundary:m,rootBoundary:_,altBoundary:E,padding:f}),ge=Me?O?Hn:pn:O?zn:fn;Q[Se]>Y[Se]&&(ge=Jd(ge));var re=Jd(ge),ce=[];if(s&&ce.push(we[V]<=0),u&&ce.push(we[ge]<=0,we[re]<=0),ce.every(function(Te){return Te})){k=M,x=!1;break}P.set(M,ce)}if(x)for(var le=S?3:1,j=function(be){var ae=B.find(function(ve){var he=P.get(ve);if(he)return he.slice(0,be).every(function(Re){return Re})});if(ae)return k=ae,"break"},J=le;J>0;J--){var fe=j(J);if(fe==="break")break}e.placement!==k&&(e.modifiersData[r]._skip=!0,e.placement=k,e.reset=!0)}}const ix={name:"flip",enabled:!0,phase:"main",fn:L4,requiresIfExists:["offset"],data:{_skip:!1}};function VT(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function FT(n){return[fn,Hn,zn,pn].some(function(e){return n[e]>=0})}function V4(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,l=Cl(e,{elementContext:"reference"}),u=Cl(e,{altBoundary:!0}),h=VT(l,r),f=VT(u,i,s),m=FT(h),_=FT(f);e.modifiersData[t]={referenceClippingOffsets:h,popperEscapeOffsets:f,isReferenceHidden:m,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":_})}const sx={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:V4};function F4(n,e,t){var r=si(n),i=[pn,fn].indexOf(r)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=s[0],u=s[1];return l=l||0,u=(u||0)*i,[pn,Hn].indexOf(r)>=0?{x:u,y:l}:{x:l,y:u}}function $4(n){var e=n.state,t=n.options,r=n.name,i=t.offset,s=i===void 0?[0,0]:i,l=Xy.reduce(function(m,_){return m[_]=F4(_,e.rects,s),m},{}),u=l[e.placement],h=u.x,f=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=h,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=l}const ox={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$4};function j4(n){var e=n.state,t=n.name;e.modifiersData[t]=rx({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const av={name:"popperOffsets",enabled:!0,phase:"read",fn:j4,data:{}};function U4(n){return n==="x"?"y":"x"}function B4(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=i===void 0?!0:i,l=t.altAxis,u=l===void 0?!1:l,h=t.boundary,f=t.rootBoundary,m=t.altBoundary,_=t.padding,E=t.tether,T=E===void 0?!0:E,S=t.tetherOffset,I=S===void 0?0:S,A=Cl(e,{boundary:h,rootBoundary:f,padding:_,altBoundary:m}),R=si(e.placement),L=Al(e.placement),U=!L,B=tv(R),Q=U4(B),Y=e.modifiersData.popperOffsets,P=e.rects.reference,x=e.rects.popper,k=typeof I=="function"?I(Object.assign({},e.rects,{placement:e.placement})):I,N=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(Y){if(s){var O,Me=B==="y"?fn:pn,Se=B==="y"?zn:Hn,we=B==="y"?"height":"width",ge=Y[B],re=ge+A[Me],ce=ge-A[Se],le=T?-x[we]/2:0,j=L===Yo?P[we]:x[we],J=L===Yo?-x[we]:-P[we],fe=e.elements.arrow,Te=T&&fe?ev(fe):{width:0,height:0},be=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:JC(),ae=be[Me],ve=be[Se],he=ac(0,P[we],Te[we]),Re=U?P[we]/2-le-he-ae-N.mainAxis:j-he-ae-N.mainAxis,Ke=U?-P[we]/2+le+he+ve+N.mainAxis:J+he+ve+N.mainAxis,Ze=e.elements.arrow&&Bc(e.elements.arrow),pt=Ze?B==="y"?Ze.clientTop||0:Ze.clientLeft||0:0,Xt=(O=M==null?void 0:M[B])!=null?O:0,Vt=ge+Re-Xt-pt,mn=ge+Ke-Xt,Dr=ac(T?Pf(re,Vt):re,ge,T?jo(ce,mn):ce);Y[B]=Dr,V[B]=Dr-ge}if(u){var Mr,Qi=B==="x"?fn:pn,hr=B==="x"?zn:Hn,xt=Y[Q],Jt=Q==="y"?"height":"width",Lr=xt+A[Qi],fi=xt-A[hr],Vr=[fn,pn].indexOf(R)!==-1,Xi=(Mr=M==null?void 0:M[Q])!=null?Mr:0,mt=Vr?Lr:xt-P[Jt]-x[Jt]-Xi+N.altAxis,gt=Vr?xt+P[Jt]+x[Jt]-Xi-N.altAxis:fi,Kn=T&&Vr?v4(mt,xt,gt):ac(T?mt:Lr,xt,T?gt:fi);Y[Q]=Kn,V[Q]=Kn-xt}e.modifiersData[r]=V}}const ax={name:"preventOverflow",enabled:!0,phase:"main",fn:B4,requiresIfExists:["offset"]};function z4(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function H4(n){return n===Wn(n)||!or(n)?iv(n):z4(n)}function W4(n){var e=n.getBoundingClientRect(),t=Sl(e.width)/n.offsetWidth||1,r=Sl(e.height)/n.offsetHeight||1;return t!==1||r!==1}function K4(n,e,t){t===void 0&&(t=!1);var r=or(e),i=or(e)&&W4(e),s=Js(e),l=Il(n,i,t),u={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(r||!r&&!t)&&((ci(e)!=="body"||ov(s))&&(u=H4(e)),or(e)?(h=Il(e,!0),h.x+=e.clientLeft,h.y+=e.clientTop):s&&(h.x=sv(s))),{x:l.left+u.scrollLeft-h.x,y:l.top+u.scrollTop-h.y,width:l.width,height:l.height}}function q4(n){var e=new Map,t=new Set,r=[];n.forEach(function(s){e.set(s.name,s)});function i(s){t.add(s.name);var l=[].concat(s.requires||[],s.requiresIfExists||[]);l.forEach(function(u){if(!t.has(u)){var h=e.get(u);h&&i(h)}}),r.push(s)}return n.forEach(function(s){t.has(s.name)||i(s)}),r}function G4(n){var e=q4(n);return YC.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function Y4(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function Q4(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var $T={placement:"bottom",modifiers:[],strategy:"absolute"};function jT(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function bp(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,s=i===void 0?$T:i;return function(u,h,f){f===void 0&&(f=s);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},$T,s),modifiersData:{},elements:{reference:u,popper:h},attributes:{},styles:{}},_=[],E=!1,T={state:m,setOptions:function(R){var L=typeof R=="function"?R(m.options):R;I(),m.options=Object.assign({},s,m.options,L),m.scrollParents={reference:Qo(u)?lc(u):u.contextElement?lc(u.contextElement):[],popper:lc(h)};var U=G4(Q4([].concat(r,m.options.modifiers)));return m.orderedModifiers=U.filter(function(B){return B.enabled}),S(),T.update()},forceUpdate:function(){if(!E){var R=m.elements,L=R.reference,U=R.popper;if(jT(L,U)){m.rects={reference:K4(L,Bc(U),m.options.strategy==="fixed"),popper:ev(U)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(N){return m.modifiersData[N.name]=Object.assign({},N.data)});for(var B=0;B<m.orderedModifiers.length;B++){if(m.reset===!0){m.reset=!1,B=-1;continue}var Q=m.orderedModifiers[B],Y=Q.fn,P=Q.options,x=P===void 0?{}:P,k=Q.name;typeof Y=="function"&&(m=Y({state:m,options:x,name:k,instance:T})||m)}}}},update:Y4(function(){return new Promise(function(A){T.forceUpdate(),A(m)})}),destroy:function(){I(),E=!0}};if(!jT(u,h))return T;T.setOptions(f).then(function(A){!E&&f.onFirstUpdate&&f.onFirstUpdate(A)});function S(){m.orderedModifiers.forEach(function(A){var R=A.name,L=A.options,U=L===void 0?{}:L,B=A.effect;if(typeof B=="function"){var Q=B({state:m,name:R,instance:T,options:U}),Y=function(){};_.push(Q||Y)}})}function I(){_.forEach(function(A){return A()}),_=[]}return T}}var X4=bp(),J4=[rv,av,nv,Zy],Z4=bp({defaultModifiers:J4}),e$=[rv,av,nv,Zy,ox,ix,ax,tx,sx],lv=bp({defaultModifiers:e$});const lx=Object.freeze(Object.defineProperty({__proto__:null,afterMain:WC,afterRead:BC,afterWrite:GC,applyStyles:Zy,arrow:tx,auto:wp,basePlacements:jl,beforeMain:zC,beforeRead:jC,beforeWrite:KC,bottom:zn,clippingParents:FC,computeStyles:nv,createPopper:lv,createPopperBase:X4,createPopperLite:Z4,detectOverflow:Cl,end:bl,eventListeners:rv,flip:ix,hide:sx,left:pn,main:HC,modifierPhases:YC,offset:ox,placements:Xy,popper:tl,popperGenerator:bp,popperOffsets:av,preventOverflow:ax,read:UC,reference:$C,right:Hn,start:Yo,top:fn,variationPlacements:R_,viewport:Qy,write:qC},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const bs=new Map,xg={set(n,e,t){bs.has(n)||bs.set(n,new Map);const r=bs.get(n);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,t)},get(n,e){return bs.has(n)&&bs.get(n).get(e)||null},remove(n,e){if(!bs.has(n))return;const t=bs.get(n);t.delete(e),t.size===0&&bs.delete(n)}},t$=1e6,n$=1e3,N_="transitionend",ux=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),r$=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),i$=n=>{do n+=Math.floor(Math.random()*t$);while(document.getElementById(n));return n},s$=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const r=Number.parseFloat(e),i=Number.parseFloat(t);return!r&&!i?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*n$)},cx=n=>{n.dispatchEvent(new Event(N_))},Fi=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),Hs=n=>Fi(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(ux(n)):null,Ul=n=>{if(!Fi(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const r=n.closest("summary");if(r&&r.parentNode!==t||r===null)return!1}return e},Ws=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",hx=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?hx(n.parentNode):null},Of=()=>{},zc=n=>{n.offsetHeight},dx=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,kg=[],o$=n=>{document.readyState==="loading"?(kg.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of kg)e()}),kg.push(n)):n()},ar=()=>document.documentElement.dir==="rtl",cr=n=>{o$(()=>{const e=dx();if(e){const t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},xn=(n,e=[],t=n)=>typeof n=="function"?n(...e):t,fx=(n,e,t=!0)=>{if(!t){xn(n);return}const i=s$(e)+5;let s=!1;const l=({target:u})=>{u===e&&(s=!0,e.removeEventListener(N_,l),xn(n))};e.addEventListener(N_,l),setTimeout(()=>{s||cx(e)},i)},uv=(n,e,t,r)=>{const i=n.length;let s=n.indexOf(e);return s===-1?!t&&r?n[i-1]:n[0]:(s+=t?1:-1,r&&(s=(s+i)%i),n[Math.max(0,Math.min(s,i-1))])},a$=/[^.]*(?=\..*)\.|.*/,l$=/\..*/,u$=/::\d+$/,Rg={};let UT=1;const px={mouseenter:"mouseover",mouseleave:"mouseout"},c$=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function mx(n,e){return e&&`${e}::${UT++}`||n.uidEvent||UT++}function gx(n){const e=mx(n);return n.uidEvent=e,Rg[e]=Rg[e]||{},Rg[e]}function h$(n,e){return function t(r){return cv(r,{delegateTarget:n}),t.oneOff&&ne.off(n,r.type,e),e.apply(n,[r])}}function d$(n,e,t){return function r(i){const s=n.querySelectorAll(e);for(let{target:l}=i;l&&l!==this;l=l.parentNode)for(const u of s)if(u===l)return cv(i,{delegateTarget:l}),r.oneOff&&ne.off(n,i.type,e,t),t.apply(l,[i])}}function _x(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function yx(n,e,t){const r=typeof e=="string",i=r?t:e||t;let s=vx(n);return c$.has(s)||(s=n),[r,i,s]}function BT(n,e,t,r,i){if(typeof e!="string"||!n)return;let[s,l,u]=yx(e,t,r);e in px&&(l=(S=>function(I){if(!I.relatedTarget||I.relatedTarget!==I.delegateTarget&&!I.delegateTarget.contains(I.relatedTarget))return S.call(this,I)})(l));const h=gx(n),f=h[u]||(h[u]={}),m=_x(f,l,s?t:null);if(m){m.oneOff=m.oneOff&&i;return}const _=mx(l,e.replace(a$,"")),E=s?d$(n,t,l):h$(n,l);E.delegationSelector=s?t:null,E.callable=l,E.oneOff=i,E.uidEvent=_,f[_]=E,n.addEventListener(u,E,s)}function D_(n,e,t,r,i){const s=_x(e[t],r,i);s&&(n.removeEventListener(t,s,!!i),delete e[t][s.uidEvent])}function f$(n,e,t,r){const i=e[t]||{};for(const[s,l]of Object.entries(i))s.includes(r)&&D_(n,e,t,l.callable,l.delegationSelector)}function vx(n){return n=n.replace(l$,""),px[n]||n}const ne={on(n,e,t,r){BT(n,e,t,r,!1)},one(n,e,t,r){BT(n,e,t,r,!0)},off(n,e,t,r){if(typeof e!="string"||!n)return;const[i,s,l]=yx(e,t,r),u=l!==e,h=gx(n),f=h[l]||{},m=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(f).length)return;D_(n,h,l,s,i?t:null);return}if(m)for(const _ of Object.keys(h))f$(n,h,_,e.slice(1));for(const[_,E]of Object.entries(f)){const T=_.replace(u$,"");(!u||e.includes(T))&&D_(n,h,l,E.callable,E.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const r=dx(),i=vx(e),s=e!==i;let l=null,u=!0,h=!0,f=!1;s&&r&&(l=r.Event(e,t),r(n).trigger(l),u=!l.isPropagationStopped(),h=!l.isImmediatePropagationStopped(),f=l.isDefaultPrevented());const m=cv(new Event(e,{bubbles:u,cancelable:!0}),t);return f&&m.preventDefault(),h&&n.dispatchEvent(m),m.defaultPrevented&&l&&l.preventDefault(),m}};function cv(n,e={}){for(const[t,r]of Object.entries(e))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get(){return r}})}return n}function zT(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function Pg(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const $i={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${Pg(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${Pg(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of t){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=zT(n.dataset[r])}return e},getDataAttribute(n,e){return zT(n.getAttribute(`data-bs-${Pg(e)}`))}};let Hc=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const r=Fi(t)?$i.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...Fi(t)?$i.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[r,i]of Object.entries(t)){const s=e[r],l=Fi(s)?"element":r$(s);if(!new RegExp(i).test(l))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${l}" but expected type "${i}".`)}}};const p$="5.3.3";class Nr extends Hc{constructor(e,t){super(),e=Hs(e),e&&(this._element=e,this._config=this._getConfig(t),xg.set(this._element,this.constructor.DATA_KEY,this))}dispose(){xg.remove(this._element,this.constructor.DATA_KEY),ne.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){fx(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return xg.get(Hs(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return p$}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Og=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>ux(t)).join(","):null},Ie={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!Ws(t)&&Ul(t))},getSelectorFromElement(n){const e=Og(n);return e&&Ie.findOne(e)?e:null},getElementFromSelector(n){const e=Og(n);return e?Ie.findOne(e):null},getMultipleElementsFromSelector(n){const e=Og(n);return e?Ie.find(e):[]}},Sp=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;ne.on(document,t,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Ws(this))return;const s=Ie.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(s)[e]()})},m$="alert",g$="bs.alert",Ex=`.${g$}`,_$=`close${Ex}`,y$=`closed${Ex}`,v$="fade",E$="show";class Ip extends Nr{static get NAME(){return m$}close(){if(ne.trigger(this._element,_$).defaultPrevented)return;this._element.classList.remove(E$);const t=this._element.classList.contains(v$);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),ne.trigger(this._element,y$),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=Ip.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Sp(Ip,"close");cr(Ip);const w$="button",T$="bs.button",b$=`.${T$}`,S$=".data-api",I$="active",HT='[data-bs-toggle="button"]',A$=`click${b$}${S$}`;class Ap extends Nr{static get NAME(){return w$}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(I$))}static jQueryInterface(e){return this.each(function(){const t=Ap.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}ne.on(document,A$,HT,n=>{n.preventDefault();const e=n.target.closest(HT);Ap.getOrCreateInstance(e).toggle()});cr(Ap);const C$="swipe",Bl=".bs.swipe",x$=`touchstart${Bl}`,k$=`touchmove${Bl}`,R$=`touchend${Bl}`,P$=`pointerdown${Bl}`,O$=`pointerup${Bl}`,N$="touch",D$="pen",M$="pointer-event",L$=40,V$={endCallback:null,leftCallback:null,rightCallback:null},F$={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Nf extends Hc{constructor(e,t){super(),this._element=e,!(!e||!Nf.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return V$}static get DefaultType(){return F$}static get NAME(){return C$}dispose(){ne.off(this._element,Bl)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),xn(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=L$)return;const t=e/this._deltaX;this._deltaX=0,t&&xn(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ne.on(this._element,P$,e=>this._start(e)),ne.on(this._element,O$,e=>this._end(e)),this._element.classList.add(M$)):(ne.on(this._element,x$,e=>this._start(e)),ne.on(this._element,k$,e=>this._move(e)),ne.on(this._element,R$,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===D$||e.pointerType===N$)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const $$="carousel",j$="bs.carousel",Zs=`.${j$}`,wx=".data-api",U$="ArrowLeft",B$="ArrowRight",z$=500,Vu="next",qa="prev",nl="left",Zd="right",H$=`slide${Zs}`,Ng=`slid${Zs}`,W$=`keydown${Zs}`,K$=`mouseenter${Zs}`,q$=`mouseleave${Zs}`,G$=`dragstart${Zs}`,Y$=`load${Zs}${wx}`,Q$=`click${Zs}${wx}`,Tx="carousel",_d="active",X$="slide",J$="carousel-item-end",Z$="carousel-item-start",e3="carousel-item-next",t3="carousel-item-prev",bx=".active",Sx=".carousel-item",n3=bx+Sx,r3=".carousel-item img",i3=".carousel-indicators",s3="[data-bs-slide], [data-bs-slide-to]",o3='[data-bs-ride="carousel"]',a3={[U$]:Zd,[B$]:nl},l3={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},u3={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Wc extends Nr{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ie.findOne(i3,this._element),this._addEventListeners(),this._config.ride===Tx&&this.cycle()}static get Default(){return l3}static get DefaultType(){return u3}static get NAME(){return $$}next(){this._slide(Vu)}nextWhenVisible(){!document.hidden&&Ul(this._element)&&this.next()}prev(){this._slide(qa)}pause(){this._isSliding&&cx(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){ne.one(this._element,Ng,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){ne.one(this._element,Ng,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const i=e>r?Vu:qa;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&ne.on(this._element,W$,e=>this._keydown(e)),this._config.pause==="hover"&&(ne.on(this._element,K$,()=>this.pause()),ne.on(this._element,q$,()=>this._maybeEnableCycle())),this._config.touch&&Nf.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of Ie.find(r3,this._element))ne.on(r,G$,i=>i.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(nl)),rightCallback:()=>this._slide(this._directionToOrder(Zd)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),z$+this._config.interval))}};this._swipeHelper=new Nf(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=a3[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=Ie.findOne(bx,this._indicatorsElement);t.classList.remove(_d),t.removeAttribute("aria-current");const r=Ie.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(_d),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const r=this._getActive(),i=e===Vu,s=t||uv(this._getItems(),r,i,this._config.wrap);if(s===r)return;const l=this._getItemIndex(s),u=T=>ne.trigger(this._element,T,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:l});if(u(H$).defaultPrevented||!r||!s)return;const f=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(l),this._activeElement=s;const m=i?Z$:J$,_=i?e3:t3;s.classList.add(_),zc(s),r.classList.add(m),s.classList.add(m);const E=()=>{s.classList.remove(m,_),s.classList.add(_d),r.classList.remove(_d,_,m),this._isSliding=!1,u(Ng)};this._queueCallback(E,r,this._isAnimated()),f&&this.cycle()}_isAnimated(){return this._element.classList.contains(X$)}_getActive(){return Ie.findOne(n3,this._element)}_getItems(){return Ie.find(Sx,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return ar()?e===nl?qa:Vu:e===nl?Vu:qa}_orderToDirection(e){return ar()?e===qa?nl:Zd:e===qa?Zd:nl}static jQueryInterface(e){return this.each(function(){const t=Wc.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ne.on(document,Q$,s3,function(n){const e=Ie.getElementFromSelector(this);if(!e||!e.classList.contains(Tx))return;n.preventDefault();const t=Wc.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){t.to(r),t._maybeEnableCycle();return}if($i.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});ne.on(window,Y$,()=>{const n=Ie.find(o3);for(const e of n)Wc.getOrCreateInstance(e)});cr(Wc);const c3="collapse",h3="bs.collapse",Kc=`.${h3}`,d3=".data-api",f3=`show${Kc}`,p3=`shown${Kc}`,m3=`hide${Kc}`,g3=`hidden${Kc}`,_3=`click${Kc}${d3}`,Dg="show",sl="collapse",yd="collapsing",y3="collapsed",v3=`:scope .${sl} .${sl}`,E3="collapse-horizontal",w3="width",T3="height",b3=".collapse.show, .collapse.collapsing",M_='[data-bs-toggle="collapse"]',S3={parent:null,toggle:!0},I3={parent:"(null|element)",toggle:"boolean"};class Ic extends Nr{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const r=Ie.find(M_);for(const i of r){const s=Ie.getSelectorFromElement(i),l=Ie.find(s).filter(u=>u===this._element);s!==null&&l.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return S3}static get DefaultType(){return I3}static get NAME(){return c3}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(b3).filter(u=>u!==this._element).map(u=>Ic.getOrCreateInstance(u,{toggle:!1}))),e.length&&e[0]._isTransitioning||ne.trigger(this._element,f3).defaultPrevented)return;for(const u of e)u.hide();const r=this._getDimension();this._element.classList.remove(sl),this._element.classList.add(yd),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(yd),this._element.classList.add(sl,Dg),this._element.style[r]="",ne.trigger(this._element,p3)},l=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()||ne.trigger(this._element,m3).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,zc(this._element),this._element.classList.add(yd),this._element.classList.remove(sl,Dg);for(const i of this._triggerArray){const s=Ie.getElementFromSelector(i);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(yd),this._element.classList.add(sl),ne.trigger(this._element,g3)};this._element.style[t]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Dg)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Hs(e.parent),e}_getDimension(){return this._element.classList.contains(E3)?w3:T3}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(M_);for(const t of e){const r=Ie.getElementFromSelector(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){const t=Ie.find(v3,this._config.parent);return Ie.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const r of e)r.classList.toggle(y3,!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const r=Ic.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}ne.on(document,_3,M_,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const e of Ie.getMultipleElementsFromSelector(this))Ic.getOrCreateInstance(e,{toggle:!1}).toggle()});cr(Ic);const WT="dropdown",A3="bs.dropdown",ra=`.${A3}`,hv=".data-api",C3="Escape",KT="Tab",x3="ArrowUp",qT="ArrowDown",k3=2,R3=`hide${ra}`,P3=`hidden${ra}`,O3=`show${ra}`,N3=`shown${ra}`,Ix=`click${ra}${hv}`,Ax=`keydown${ra}${hv}`,D3=`keyup${ra}${hv}`,rl="show",M3="dropup",L3="dropend",V3="dropstart",F3="dropup-center",$3="dropdown-center",Lo='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',j3=`${Lo}.${rl}`,ef=".dropdown-menu",U3=".navbar",B3=".navbar-nav",z3=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",H3=ar()?"top-end":"top-start",W3=ar()?"top-start":"top-end",K3=ar()?"bottom-end":"bottom-start",q3=ar()?"bottom-start":"bottom-end",G3=ar()?"left-start":"right-start",Y3=ar()?"right-start":"left-start",Q3="top",X3="bottom",J3={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Z3={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class oi extends Nr{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=Ie.next(this._element,ef)[0]||Ie.prev(this._element,ef)[0]||Ie.findOne(ef,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return J3}static get DefaultType(){return Z3}static get NAME(){return WT}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ws(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!ne.trigger(this._element,O3,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(B3))for(const r of[].concat(...document.body.children))ne.on(r,"mouseover",Of);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(rl),this._element.classList.add(rl),ne.trigger(this._element,N3,e)}}hide(){if(Ws(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!ne.trigger(this._element,R3,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))ne.off(r,"mouseover",Of);this._popper&&this._popper.destroy(),this._menu.classList.remove(rl),this._element.classList.remove(rl),this._element.setAttribute("aria-expanded","false"),$i.removeDataAttribute(this._menu,"popper"),ne.trigger(this._element,P3,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Fi(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${WT.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof lx>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Fi(this._config.reference)?e=Hs(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=lv(e,this._menu,t)}_isShown(){return this._menu.classList.contains(rl)}_getPlacement(){const e=this._parent;if(e.classList.contains(L3))return G3;if(e.classList.contains(V3))return Y3;if(e.classList.contains(F3))return Q3;if(e.classList.contains($3))return X3;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(M3)?t?W3:H3:t?q3:K3}_detectNavbar(){return this._element.closest(U3)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&($i.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...xn(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const r=Ie.find(z3,this._menu).filter(i=>Ul(i));r.length&&uv(r,t,e===qT,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=oi.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===k3||e.type==="keyup"&&e.key!==KT)return;const t=Ie.find(j3);for(const r of t){const i=oi.getInstance(r);if(!i||i._config.autoClose===!1)continue;const s=e.composedPath(),l=s.includes(i._menu);if(s.includes(i._element)||i._config.autoClose==="inside"&&!l||i._config.autoClose==="outside"&&l||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===KT||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const u={relatedTarget:i._element};e.type==="click"&&(u.clickEvent=e),i._completeHide(u)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),r=e.key===C3,i=[x3,qT].includes(e.key);if(!i&&!r||t&&!r)return;e.preventDefault();const s=this.matches(Lo)?this:Ie.prev(this,Lo)[0]||Ie.next(this,Lo)[0]||Ie.findOne(Lo,e.delegateTarget.parentNode),l=oi.getOrCreateInstance(s);if(i){e.stopPropagation(),l.show(),l._selectMenuItem(e);return}l._isShown()&&(e.stopPropagation(),l.hide(),s.focus())}}ne.on(document,Ax,Lo,oi.dataApiKeydownHandler);ne.on(document,Ax,ef,oi.dataApiKeydownHandler);ne.on(document,Ix,oi.clearMenus);ne.on(document,D3,oi.clearMenus);ne.on(document,Ix,Lo,function(n){n.preventDefault(),oi.getOrCreateInstance(this).toggle()});cr(oi);const Cx="backdrop",e6="fade",GT="show",YT=`mousedown.bs.${Cx}`,t6={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},n6={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class xx extends Hc{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return t6}static get DefaultType(){return n6}static get NAME(){return Cx}show(e){if(!this._config.isVisible){xn(e);return}this._append();const t=this._getElement();this._config.isAnimated&&zc(t),t.classList.add(GT),this._emulateAnimation(()=>{xn(e)})}hide(e){if(!this._config.isVisible){xn(e);return}this._getElement().classList.remove(GT),this._emulateAnimation(()=>{this.dispose(),xn(e)})}dispose(){this._isAppended&&(ne.off(this._element,YT),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(e6),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Hs(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),ne.on(e,YT,()=>{xn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){fx(e,this._getElement(),this._config.isAnimated)}}const r6="focustrap",i6="bs.focustrap",Df=`.${i6}`,s6=`focusin${Df}`,o6=`keydown.tab${Df}`,a6="Tab",l6="forward",QT="backward",u6={autofocus:!0,trapElement:null},c6={autofocus:"boolean",trapElement:"element"};class kx extends Hc{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return u6}static get DefaultType(){return c6}static get NAME(){return r6}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ne.off(document,Df),ne.on(document,s6,e=>this._handleFocusin(e)),ne.on(document,o6,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ne.off(document,Df))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const r=Ie.focusableChildren(t);r.length===0?t.focus():this._lastTabNavDirection===QT?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===a6&&(this._lastTabNavDirection=e.shiftKey?QT:l6)}}const XT=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",JT=".sticky-top",vd="padding-right",ZT="margin-right";class L_{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,vd,t=>t+e),this._setElementAttributes(XT,vd,t=>t+e),this._setElementAttributes(JT,ZT,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,vd),this._resetElementAttributes(XT,vd),this._resetElementAttributes(JT,ZT)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){const i=this.getWidth(),s=l=>{if(l!==this._element&&window.innerWidth>l.clientWidth+i)return;this._saveInitialAttribute(l,t);const u=window.getComputedStyle(l).getPropertyValue(t);l.style.setProperty(t,`${r(Number.parseFloat(u))}px`)};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,t){const r=e.style.getPropertyValue(t);r&&$i.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){const r=i=>{const s=$i.getDataAttribute(i,t);if(s===null){i.style.removeProperty(t);return}$i.removeDataAttribute(i,t),i.style.setProperty(t,s)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,t){if(Fi(e)){t(e);return}for(const r of Ie.find(e,this._element))t(r)}}const h6="modal",d6="bs.modal",lr=`.${d6}`,f6=".data-api",p6="Escape",m6=`hide${lr}`,g6=`hidePrevented${lr}`,Rx=`hidden${lr}`,Px=`show${lr}`,_6=`shown${lr}`,y6=`resize${lr}`,v6=`click.dismiss${lr}`,E6=`mousedown.dismiss${lr}`,w6=`keydown.dismiss${lr}`,T6=`click${lr}${f6}`,eb="modal-open",b6="fade",tb="show",Mg="modal-static",S6=".modal.show",I6=".modal-dialog",A6=".modal-body",C6='[data-bs-toggle="modal"]',x6={backdrop:!0,focus:!0,keyboard:!0},k6={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class xl extends Nr{constructor(e,t){super(e,t),this._dialog=Ie.findOne(I6,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new L_,this._addEventListeners()}static get Default(){return x6}static get DefaultType(){return k6}static get NAME(){return h6}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||ne.trigger(this._element,Px,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(eb),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||ne.trigger(this._element,m6).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(tb),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){ne.off(window,lr),ne.off(this._dialog,lr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new xx({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new kx({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=Ie.findOne(A6,this._dialog);t&&(t.scrollTop=0),zc(this._element),this._element.classList.add(tb);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ne.trigger(this._element,_6,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){ne.on(this._element,w6,e=>{if(e.key===p6){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),ne.on(window,y6,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ne.on(this._element,E6,e=>{ne.one(this._element,v6,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(eb),this._resetAdjustments(),this._scrollBar.reset(),ne.trigger(this._element,Rx)})}_isAnimated(){return this._element.classList.contains(b6)}_triggerBackdropTransition(){if(ne.trigger(this._element,g6).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(Mg)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Mg),this._queueCallback(()=>{this._element.classList.remove(Mg),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){const i=ar()?"paddingLeft":"paddingRight";this._element.style[i]=`${t}px`}if(!r&&e){const i=ar()?"paddingRight":"paddingLeft";this._element.style[i]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const r=xl.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}}ne.on(document,T6,C6,function(n){const e=Ie.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),ne.one(e,Px,i=>{i.defaultPrevented||ne.one(e,Rx,()=>{Ul(this)&&this.focus()})});const t=Ie.findOne(S6);t&&xl.getInstance(t).hide(),xl.getOrCreateInstance(e).toggle(this)});Sp(xl);cr(xl);const R6="offcanvas",P6="bs.offcanvas",Yi=`.${P6}`,Ox=".data-api",O6=`load${Yi}${Ox}`,N6="Escape",nb="show",rb="showing",ib="hiding",D6="offcanvas-backdrop",Nx=".offcanvas.show",M6=`show${Yi}`,L6=`shown${Yi}`,V6=`hide${Yi}`,sb=`hidePrevented${Yi}`,Dx=`hidden${Yi}`,F6=`resize${Yi}`,$6=`click${Yi}${Ox}`,j6=`keydown.dismiss${Yi}`,U6='[data-bs-toggle="offcanvas"]',B6={backdrop:!0,keyboard:!0,scroll:!1},z6={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ks extends Nr{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return B6}static get DefaultType(){return z6}static get NAME(){return R6}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||ne.trigger(this._element,M6,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new L_().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(rb);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(nb),this._element.classList.remove(rb),ne.trigger(this._element,L6,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||ne.trigger(this._element,V6).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(ib),this._backdrop.hide();const t=()=>{this._element.classList.remove(nb,ib),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new L_().reset(),ne.trigger(this._element,Dx)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){ne.trigger(this._element,sb);return}this.hide()},t=!!this._config.backdrop;return new xx({className:D6,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new kx({trapElement:this._element})}_addEventListeners(){ne.on(this._element,j6,e=>{if(e.key===N6){if(this._config.keyboard){this.hide();return}ne.trigger(this._element,sb)}})}static jQueryInterface(e){return this.each(function(){const t=Ks.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}ne.on(document,$6,U6,function(n){const e=Ie.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Ws(this))return;ne.one(e,Dx,()=>{Ul(this)&&this.focus()});const t=Ie.findOne(Nx);t&&t!==e&&Ks.getInstance(t).hide(),Ks.getOrCreateInstance(e).toggle(this)});ne.on(window,O6,()=>{for(const n of Ie.find(Nx))Ks.getOrCreateInstance(n).show()});ne.on(window,F6,()=>{for(const n of Ie.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&Ks.getOrCreateInstance(n).hide()});Sp(Ks);cr(Ks);const H6=/^aria-[\w-]*$/i,Mx={"*":["class","dir","id","lang","role",H6],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},W6=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),K6=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,q6=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?W6.has(t)?!!K6.test(n.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(t))};function G6(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const i=new window.DOMParser().parseFromString(n,"text/html"),s=[].concat(...i.body.querySelectorAll("*"));for(const l of s){const u=l.nodeName.toLowerCase();if(!Object.keys(e).includes(u)){l.remove();continue}const h=[].concat(...l.attributes),f=[].concat(e["*"]||[],e[u]||[]);for(const m of h)q6(m,f)||l.removeAttribute(m.nodeName)}return i.body.innerHTML}const Y6="TemplateFactory",Q6={allowList:Mx,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},X6={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},J6={entry:"(string|element|function|null)",selector:"(string|element)"};class Z6 extends Hc{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Q6}static get DefaultType(){return X6}static get NAME(){return Y6}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,s]of Object.entries(this._config.content))this._setContent(e,s,i);const t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},J6)}_setContent(e,t,r){const i=Ie.findOne(r,e);if(i){if(t=this._resolvePossibleFunction(t),!t){i.remove();return}if(Fi(t)){this._putElementInTemplate(Hs(t),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(t);return}i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?G6(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return xn(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const e5="tooltip",t5=new Set(["sanitize","allowList","sanitizeFn"]),Lg="fade",n5="modal",Ed="show",r5=".tooltip-inner",ob=`.${n5}`,ab="hide.bs.modal",Fu="hover",Vg="focus",i5="click",s5="manual",o5="hide",a5="hidden",l5="show",u5="shown",c5="inserted",h5="click",d5="focusin",f5="focusout",p5="mouseenter",m5="mouseleave",g5={AUTO:"auto",TOP:"top",RIGHT:ar()?"left":"right",BOTTOM:"bottom",LEFT:ar()?"right":"left"},_5={allowList:Mx,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},y5={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let Cp=class Lx extends Nr{constructor(e,t){if(typeof lx>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return _5}static get DefaultType(){return y5}static get NAME(){return e5}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),ne.off(this._element.closest(ob),ab,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=ne.trigger(this._element,this.constructor.eventName(l5)),r=(hx(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(i),ne.trigger(this._element,this.constructor.eventName(c5))),this._popper=this._createPopper(i),i.classList.add(Ed),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))ne.on(u,"mouseover",Of);const l=()=>{ne.trigger(this._element,this.constructor.eventName(u5)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(l,this.tip,this._isAnimated())}hide(){if(!this._isShown()||ne.trigger(this._element,this.constructor.eventName(o5)).defaultPrevented)return;if(this._getTipElement().classList.remove(Ed),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))ne.off(i,"mouseover",Of);this._activeTrigger[i5]=!1,this._activeTrigger[Vg]=!1,this._activeTrigger[Fu]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ne.trigger(this._element,this.constructor.eventName(a5)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Lg,Ed),t.classList.add(`bs-${this.constructor.NAME}-auto`);const r=i$(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(Lg),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Z6({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[r5]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Lg)}_isShown(){return this.tip&&this.tip.classList.contains(Ed)}_createPopper(e){const t=xn(this._config.placement,[this,e,this._element]),r=g5[t.toUpperCase()];return lv(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return xn(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...t,...xn(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")ne.on(this._element,this.constructor.eventName(h5),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(t!==s5){const r=t===Fu?this.constructor.eventName(p5):this.constructor.eventName(d5),i=t===Fu?this.constructor.eventName(m5):this.constructor.eventName(f5);ne.on(this._element,r,this._config.selector,s=>{const l=this._initializeOnDelegatedTarget(s);l._activeTrigger[s.type==="focusin"?Vg:Fu]=!0,l._enter()}),ne.on(this._element,i,this._config.selector,s=>{const l=this._initializeOnDelegatedTarget(s);l._activeTrigger[s.type==="focusout"?Vg:Fu]=l._element.contains(s.relatedTarget),l._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ne.on(this._element.closest(ob),ab,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=$i.getDataAttributes(this._element);for(const r of Object.keys(t))t5.has(r)&&delete t[r];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Hs(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=Lx.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};cr(Cp);const v5="popover",E5=".popover-header",w5=".popover-body",T5={...Cp.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},b5={...Cp.DefaultType,content:"(null|string|element|function)"};class dv extends Cp{static get Default(){return T5}static get DefaultType(){return b5}static get NAME(){return v5}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[E5]:this._getTitle(),[w5]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=dv.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}cr(dv);const S5="scrollspy",I5="bs.scrollspy",fv=`.${I5}`,A5=".data-api",C5=`activate${fv}`,lb=`click${fv}`,x5=`load${fv}${A5}`,k5="dropdown-item",Ga="active",R5='[data-bs-spy="scroll"]',Fg="[href]",P5=".nav, .list-group",ub=".nav-link",O5=".nav-item",N5=".list-group-item",D5=`${ub}, ${O5} > ${ub}, ${N5}`,M5=".dropdown",L5=".dropdown-toggle",V5={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},F5={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class xp extends Nr{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return V5}static get DefaultType(){return F5}static get NAME(){return S5}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Hs(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ne.off(this._config.target,lb),ne.on(this._config.target,lb,Fg,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const r=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=l=>this._targetLinks.get(`#${l.target.id}`),r=l=>{this._previousScrollData.visibleEntryTop=l.target.offsetTop,this._process(t(l))},i=(this._rootElement||document.documentElement).scrollTop,s=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const l of e){if(!l.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(l));continue}const u=l.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&u){if(r(l),!i)return;continue}!s&&!u&&r(l)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Ie.find(Fg,this._config.target);for(const t of e){if(!t.hash||Ws(t))continue;const r=Ie.findOne(decodeURI(t.hash),this._element);Ul(r)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Ga),this._activateParents(e),ne.trigger(this._element,C5,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(k5)){Ie.findOne(L5,e.closest(M5)).classList.add(Ga);return}for(const t of Ie.parents(e,P5))for(const r of Ie.prev(t,D5))r.classList.add(Ga)}_clearActiveClass(e){e.classList.remove(Ga);const t=Ie.find(`${Fg}.${Ga}`,e);for(const r of t)r.classList.remove(Ga)}static jQueryInterface(e){return this.each(function(){const t=xp.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ne.on(window,x5,()=>{for(const n of Ie.find(R5))xp.getOrCreateInstance(n)});cr(xp);const $5="tab",j5="bs.tab",ia=`.${j5}`,U5=`hide${ia}`,B5=`hidden${ia}`,z5=`show${ia}`,H5=`shown${ia}`,W5=`click${ia}`,K5=`keydown${ia}`,q5=`load${ia}`,G5="ArrowLeft",cb="ArrowRight",Y5="ArrowUp",hb="ArrowDown",$g="Home",db="End",Vo="active",fb="fade",jg="show",Q5="dropdown",Vx=".dropdown-toggle",X5=".dropdown-menu",Ug=`:not(${Vx})`,J5='.list-group, .nav, [role="tablist"]',Z5=".nav-item, .list-group-item",ej=`.nav-link${Ug}, .list-group-item${Ug}, [role="tab"]${Ug}`,Fx='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Bg=`${ej}, ${Fx}`,tj=`.${Vo}[data-bs-toggle="tab"], .${Vo}[data-bs-toggle="pill"], .${Vo}[data-bs-toggle="list"]`;class kl extends Nr{constructor(e){super(e),this._parent=this._element.closest(J5),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ne.on(this._element,K5,t=>this._keydown(t)))}static get NAME(){return $5}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),r=t?ne.trigger(t,U5,{relatedTarget:e}):null;ne.trigger(e,z5,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(Vo),this._activate(Ie.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(jg);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),ne.trigger(e,H5,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(fb))}_deactivate(e,t){if(!e)return;e.classList.remove(Vo),e.blur(),this._deactivate(Ie.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(jg);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),ne.trigger(e,B5,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(fb))}_keydown(e){if(![G5,cb,Y5,hb,$g,db].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(i=>!Ws(i));let r;if([$g,db].includes(e.key))r=t[e.key===$g?0:t.length-1];else{const i=[cb,hb].includes(e.key);r=uv(t,e.target,i,!0)}r&&(r.focus({preventScroll:!0}),kl.getOrCreateInstance(r).show())}_getChildren(){return Ie.find(Bg,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=Ie.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const r=this._getOuterElement(e);if(!r.classList.contains(Q5))return;const i=(s,l)=>{const u=Ie.findOne(s,r);u&&u.classList.toggle(l,t)};i(Vx,Vo),i(X5,jg),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(Vo)}_getInnerElement(e){return e.matches(Bg)?e:Ie.findOne(Bg,e)}_getOuterElement(e){return e.closest(Z5)||e}static jQueryInterface(e){return this.each(function(){const t=kl.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ne.on(document,W5,Fx,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Ws(this)&&kl.getOrCreateInstance(this).show()});ne.on(window,q5,()=>{for(const n of Ie.find(tj))kl.getOrCreateInstance(n)});cr(kl);const nj="toast",rj="bs.toast",eo=`.${rj}`,ij=`mouseover${eo}`,sj=`mouseout${eo}`,oj=`focusin${eo}`,aj=`focusout${eo}`,lj=`hide${eo}`,uj=`hidden${eo}`,cj=`show${eo}`,hj=`shown${eo}`,dj="fade",pb="hide",wd="show",Td="showing",fj={animation:"boolean",autohide:"boolean",delay:"number"},pj={animation:!0,autohide:!0,delay:5e3};class kp extends Nr{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return pj}static get DefaultType(){return fj}static get NAME(){return nj}show(){if(ne.trigger(this._element,cj).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(dj);const t=()=>{this._element.classList.remove(Td),ne.trigger(this._element,hj),this._maybeScheduleHide()};this._element.classList.remove(pb),zc(this._element),this._element.classList.add(wd,Td),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||ne.trigger(this._element,lj).defaultPrevented)return;const t=()=>{this._element.classList.add(pb),this._element.classList.remove(Td,wd),ne.trigger(this._element,uj)};this._element.classList.add(Td),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(wd),super.dispose()}isShown(){return this._element.classList.contains(wd)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){ne.on(this._element,ij,e=>this._onInteraction(e,!0)),ne.on(this._element,sj,e=>this._onInteraction(e,!1)),ne.on(this._element,oj,e=>this._onInteraction(e,!0)),ne.on(this._element,aj,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=kp.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Sp(kp);cr(kp);const mj=TC();function gj({mode:n,setMode:e,user:t}){var be;const[r,i]=W.useState(0),[s,l]=W.useState({}),[u,h]=W.useState([]),[f,m]=W.useState([]),[_,E]=W.useState([]),[T,S]=W.useState({}),[I,A]=W.useState({}),[R,L]=W.useState({min:1,max:1e3}),[U,B]=W.useState(!0),[Q,Y]=W.useState(!0),[P,x]=W.useState(0),[k,N]=W.useState(0),[M,V]=W.useState(!0),O=["A","B","C","D","E","F","G","H"],Me=(ae,ve,he)=>{fetch(`/medTest/assets/${ve}`).then(Re=>Re.text()).then(Re=>{const Ke=Re.split(`
`).reduce((Ze,pt)=>{if(pt.trim()==="")return Ze;const[Xt,Vt]=pt.trim().split(" ");return Ze[parseInt(Xt)]=Vt,Ze},{});he?l(Ke):E(Ke)}),fetch(`/medTest/assets/${ae}`).then(Re=>Re.text()).then(Re=>{var pt,Xt;const Ke=Re.split(`
`).filter(Vt=>Vt.trim()!==""),Ze=[];for(let Vt=0;Vt<Ke.length;Vt+=9){const mn=Ke.slice(Vt,Vt+9);if(mn.length!==9){console.log("Skipping block due to incorrect line count:",mn);continue}const Dr=mn[0].replace(/^\d+\.\s*/,""),Mr=((Xt=(pt=mn[0].match(/^\d+\./))==null?void 0:pt[0])==null?void 0:Xt.slice(0,-1))||"",Qi=mn.slice(1).reduce((hr,xt,Jt)=>{const Lr=String.fromCharCode(97+Jt);return hr[Lr]=xt.trim(),hr},{});Ze.push({number:Mr,q:Dr,...Qi})}he?h(Ze):m(Ze)})};W.useEffect(()=>{Me("B_otazky.txt","B_odpovede.txt",!0),Me("C_otazky.txt","C_odpovede.txt",!1),e(!0),document.body.style.background="#212529"},[]);const Se=()=>{e(ae=>!ae),n?document.body.style.background="#F8F9FA":document.body.style.background="#212529"},we=()=>{const ae=R.min===""?1:R.min,ve=R.max===""?1e3:R.max;if(U){let he;do he=Math.floor(Math.random()*(ve-ae+1))+ae;while(he-1===r);i(he-1)}else r>=ae-1&&r<=ve-1?r+1==ve?i(ae-1):i(r+1):i(ae-1);setTimeout(()=>{window.innerWidth>=1450?window.scrollTo({top:0,behavior:"smooth"}):window.innerWidth<=364?window.scrollTo({top:358,behavior:"smooth"}):window.scrollTo({top:308,behavior:"smooth"});const he=document.querySelector("h3"),Re=window.getComputedStyle(he),Ke=parseFloat(Re.marginTop);he.getBoundingClientRect().top+window.scrollY-Ke<=3?he.style.marginTop="1rem":he.style.marginTop="0"},20),S({}),A({}),V(!0)},ge=ae=>{S(ve=>({...ve,[ae]:!ve[ae]}))},re=()=>{const ae=(Q?s:_)[r+1]||"",ve={};let he=!0;O.forEach((Re,Ke)=>{const Ze=ae[Ke]==="S",pt=!!T[Re];Ze?(ve[Re]=pt?"correct":"missed",pt||(he=!1)):(ve[Re]=pt?"wrong":"neutral",pt&&(he=!1))}),Te(t.email,Q?"bio":"che",r+1,he),A(ve),fe()},ce=ae=>{const{name:ve,value:he}=ae.target;L(Re=>({...Re,[ve]:he===""?"":parseInt(he,10)}))},le=ae=>{let{name:ve,value:he}=ae.target;ve==="min"&&(he<1||he>=1e3)&&(he=1),ve==="max"&&(he<1||he>1e3)&&(he=1e3),R.min===R.max?(L({min:R.min,max:1e3}),ve==="max"&&(he=1e3)):R.min>R.max&&(L({min:R.min,max:1e3}),ve==="max"&&(he=1e3)),L(Re=>({...Re,[ve]:he===""?"":parseInt(he,10)}))},j=ae=>{ae.target.id=="btnradio1"?B(!0):B(!1)},J=ae=>{ae.target.id=="btnradio3"?Y(!0):Y(!1),S({}),A({}),i(0),V(!0)},fe=()=>{M&&(Q?x(P+1):N(k+1)),V(!1)};async function Te(ae,ve,he,Re){const Ke=zy(mj,"users",ae,"tests",ve),Ze={cisloOtazky:he,spravna:Re,timestamp:Date.now()};try{await JF(Ke,{odpovede:e4(Ze)}),console.log("Odpoveď uložená.")}catch(pt){pt.code==="not-found"?(await XF(Ke,{odpovede:[Ze]}),console.log("Dokument vytvorený a odpoveď uložená.")):console.error("Chyba pri ukladaní odpovede:",pt)}}return X.jsxs("div",{className:"d-flex flex-column mainContainer",children:[X.jsxs("div",{className:"input-group mb-3 rangeHolder ms-auto fixed-top mb-5 d-flex justify-content-center",children:[X.jsxs("div",{className:"d-flex mb-3 doubleMenu justify-content-center align-items-center m-0",children:[X.jsx("div",{className:"form-check form-switch modeWrapper",children:X.jsx("input",{className:"form-check-input toggler",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault",onChange:Se,checked:!!n})}),X.jsxs("div",{className:"btn-group",role:"group","aria-label":"Basic radio toggle button group",children:[X.jsx("input",{type:"radio",className:"btn-check",name:"btnradio",id:"btnradio3",defaultChecked:!0,onChange:J}),X.jsx("label",{className:"btn btn-outline-secondary",htmlFor:"btnradio3",children:"BIOLÓGIA"}),X.jsx("input",{type:"radio",className:"btn-check",name:"btnradio",id:"btnradio4",onChange:J}),X.jsx("label",{className:"btn btn-outline-secondary",htmlFor:"btnradio4",children:"CHÉMIA"})]})]}),X.jsxs("div",{className:"btn-group mb-3",role:"group","aria-label":"Basic radio toggle button group",children:[X.jsx("input",{type:"radio",className:"btn-check",name:"btnradio1",id:"btnradio1",defaultChecked:!0,onChange:j}),X.jsx("label",{className:"btn btn-outline-warning",htmlFor:"btnradio1",children:"Náhodný výber"}),X.jsx("input",{type:"radio",className:"btn-check",name:"btnradio1",id:"btnradio2",onChange:j}),X.jsx("label",{className:"btn btn-outline-warning",htmlFor:"btnradio2",children:"Podľa poradia"})]}),X.jsxs("div",{className:"d-flex rangeSizer mb-3",children:[X.jsx("span",{className:"input-group-text rozsahText",children:"Rozsah:"}),X.jsx("input",{type:"number",name:"min",value:R.min,onChange:ce,onBlur:le,className:"form-control borderForm",placeholder:"Od","aria-label":"Od"}),X.jsx("span",{className:"input-group-text",children:"-"}),X.jsx("input",{type:"number",name:"max",value:R.max,onChange:ce,onBlur:le,className:"form-control maxNmb",placeholder:"Do","aria-label":"Do"})]}),X.jsxs("div",{className:`d-flex rangeSizer p-2 border rounded align-items-center fs-6  ${n?"text-light border-secondary":" bg-transparent"}`,children:[X.jsxs("p",{className:"w-50 m-0",children:["BIO - ",P]}),X.jsxs("p",{className:"m-0",children:["CHE - ",k]})]})]}),X.jsx("div",{className:n?"text-light":"text-dark",children:u.length>0?X.jsxs(X.Fragment,{children:[X.jsx("h3",{dangerouslySetInnerHTML:{__html:`${r+1}. ${((be=(Q?u:f)[r])==null?void 0:be.q)||"Načítavam otázky..."}`}}),X.jsx("div",{className:"d-flex mt-4 flex-column",children:Object.entries((Q?u:f)[r]||{}).filter(([ae])=>ae!=="q"&&ae!=="number").map(([ae,ve])=>X.jsxs("div",{className:"form-check d-flex align-items-center p-1",children:[X.jsx("input",{className:`form-check-input me-2 hvrOption ${n?"border-0":"border-secondary"}`,type:"checkbox",id:`checkbox-${ae}`,checked:!!T[ae.toUpperCase()],onChange:()=>ge(ae.toUpperCase())}),X.jsx("label",{className:"form-check-label hvrOpt",htmlFor:`checkbox-${ae}`,style:{wordBreak:"break-word",backgroundColor:I[ae.toUpperCase()]==="correct"?"#5e9f58":I[ae.toUpperCase()]==="wrong"||I[ae.toUpperCase()]==="missed"?"#a84d4d":"transparent",color:I[ae.toUpperCase()]==="correct"||I[ae.toUpperCase()]==="wrong"||I[ae.toUpperCase()]==="missed"?"#fff":"",borderRadius:"5px",padding:"5px"},dangerouslySetInnerHTML:{__html:ve}})]},ae))})]}):X.jsx("h3",{children:"Načítavam otázky..."})}),X.jsx("button",{onClick:re,type:"button",className:"btn btn-secondary mt-5",children:"Vyhodnotiť"}),X.jsx("button",{onClick:we,type:"button",className:"btn mt-4 btn-warning",id:"resolve",children:"Ďalšia otázka"})]})}function _j(){return X.jsxs("div",{className:"ftr",children:[X.jsx("img",{src:"/medTest/logoMED.svg",alt:"logoMED",className:"logoIMG",height:100}),X.jsx("p",{className:"credentials",children:"©MB 2024/25."})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function qc(n){return n+.5|0}const Rs=(n,e,t)=>Math.max(Math.min(n,t),e);function Qu(n){return Rs(qc(n*2.55),0,255)}function Vs(n){return Rs(qc(n*255),0,255)}function Pi(n){return Rs(qc(n/2.55)/100,0,1)}function mb(n){return Rs(qc(n*100),0,100)}const rr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},V_=[..."0123456789ABCDEF"],yj=n=>V_[n&15],vj=n=>V_[(n&240)>>4]+V_[n&15],bd=n=>(n&240)>>4===(n&15),Ej=n=>bd(n.r)&&bd(n.g)&&bd(n.b)&&bd(n.a);function wj(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&rr[n[1]]*17,g:255&rr[n[2]]*17,b:255&rr[n[3]]*17,a:e===5?rr[n[4]]*17:255}:(e===7||e===9)&&(t={r:rr[n[1]]<<4|rr[n[2]],g:rr[n[3]]<<4|rr[n[4]],b:rr[n[5]]<<4|rr[n[6]],a:e===9?rr[n[7]]<<4|rr[n[8]]:255})),t}const Tj=(n,e)=>n<255?e(n):"";function bj(n){var e=Ej(n)?yj:vj;return n?"#"+e(n.r)+e(n.g)+e(n.b)+Tj(n.a,e):void 0}const Sj=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function $x(n,e,t){const r=e*Math.min(t,1-t),i=(s,l=(s+n/30)%12)=>t-r*Math.max(Math.min(l-3,9-l,1),-1);return[i(0),i(8),i(4)]}function Ij(n,e,t){const r=(i,s=(i+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function Aj(n,e,t){const r=$x(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function Cj(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function pv(n){const t=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(t,r,i),l=Math.min(t,r,i),u=(s+l)/2;let h,f,m;return s!==l&&(m=s-l,f=u>.5?m/(2-s-l):m/(s+l),h=Cj(t,r,i,m,s),h=h*60+.5),[h|0,f||0,u]}function mv(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Vs)}function gv(n,e,t){return mv($x,n,e,t)}function xj(n,e,t){return mv(Aj,n,e,t)}function kj(n,e,t){return mv(Ij,n,e,t)}function jx(n){return(n%360+360)%360}function Rj(n){const e=Sj.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?Qu(+e[5]):Vs(+e[5]));const i=jx(+e[2]),s=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=xj(i,s,l):e[1]==="hsv"?r=kj(i,s,l):r=gv(i,s,l),{r:r[0],g:r[1],b:r[2],a:t}}function Pj(n,e){var t=pv(n);t[0]=jx(t[0]+e),t=gv(t),n.r=t[0],n.g=t[1],n.b=t[2]}function Oj(n){if(!n)return;const e=pv(n),t=e[0],r=mb(e[1]),i=mb(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${Pi(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const gb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},_b={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Nj(){const n={},e=Object.keys(_b),t=Object.keys(gb);let r,i,s,l,u;for(r=0;r<e.length;r++){for(l=u=e[r],i=0;i<t.length;i++)s=t[i],u=u.replace(s,gb[s]);s=parseInt(_b[l],16),n[u]=[s>>16&255,s>>8&255,s&255]}return n}let Sd;function Dj(n){Sd||(Sd=Nj(),Sd.transparent=[0,0,0,0]);const e=Sd[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Mj=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Lj(n){const e=Mj.exec(n);let t=255,r,i,s;if(e){if(e[7]!==r){const l=+e[7];t=e[8]?Qu(l):Rs(l*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Qu(r):Rs(r,0,255)),i=255&(e[4]?Qu(i):Rs(i,0,255)),s=255&(e[6]?Qu(s):Rs(s,0,255)),{r,g:i,b:s,a:t}}}function Vj(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Pi(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const zg=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Ya=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Fj(n,e,t){const r=Ya(Pi(n.r)),i=Ya(Pi(n.g)),s=Ya(Pi(n.b));return{r:Vs(zg(r+t*(Ya(Pi(e.r))-r))),g:Vs(zg(i+t*(Ya(Pi(e.g))-i))),b:Vs(zg(s+t*(Ya(Pi(e.b))-s))),a:n.a+t*(e.a-n.a)}}function Id(n,e,t){if(n){let r=pv(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=gv(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function Ux(n,e){return n&&Object.assign(e||{},n)}function yb(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Vs(n[3]))):(e=Ux(n,{r:0,g:0,b:0,a:1}),e.a=Vs(e.a)),e}function $j(n){return n.charAt(0)==="r"?Lj(n):Rj(n)}class Ac{constructor(e){if(e instanceof Ac)return e;const t=typeof e;let r;t==="object"?r=yb(e):t==="string"&&(r=wj(e)||Dj(e)||$j(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Ux(this._rgb);return e&&(e.a=Pi(e.a)),e}set rgb(e){this._rgb=yb(e)}rgbString(){return this._valid?Vj(this._rgb):void 0}hexString(){return this._valid?bj(this._rgb):void 0}hslString(){return this._valid?Oj(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let s;const l=t===s?.5:t,u=2*l-1,h=r.a-i.a,f=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;s=1-f,r.r=255&f*r.r+s*i.r+.5,r.g=255&f*r.g+s*i.g+.5,r.b=255&f*r.b+s*i.b+.5,r.a=l*r.a+(1-l)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=Fj(this._rgb,e._rgb,t)),this}clone(){return new Ac(this.rgb)}alpha(e){return this._rgb.a=Vs(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=qc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Id(this._rgb,2,e),this}darken(e){return Id(this._rgb,2,-e),this}saturate(e){return Id(this._rgb,1,e),this}desaturate(e){return Id(this._rgb,1,-e),this}rotate(e){return Pj(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function xi(){}const jj=(()=>{let n=0;return()=>n++})();function bt(n){return n==null}function zt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function We(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function qi(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Yr(n,e){return qi(n)?n:e}function Qe(n,e){return typeof n>"u"?e:n}const Uj=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,Bx=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function tt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Ye(n,e,t,r){let i,s,l;if(zt(n))for(s=n.length,i=0;i<s;i++)e.call(t,n[i],i);else if(We(n))for(l=Object.keys(n),s=l.length,i=0;i<s;i++)e.call(t,n[l[i]],l[i])}function Mf(n,e){let t,r,i,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Lf(n){if(zt(n))return n.map(Lf);if(We(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=Lf(n[t[i]]);return e}return n}function zx(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Bj(n,e,t,r){if(!zx(n))return;const i=e[n],s=t[n];We(i)&&We(s)?hi(i,s,r):e[n]=Lf(s)}function hi(n,e,t){const r=zt(e)?e:[e],i=r.length;if(!We(n))return n;t=t||{};const s=t.merger||Bj;let l;for(let u=0;u<i;++u){if(l=r[u],!We(l))continue;const h=Object.keys(l);for(let f=0,m=h.length;f<m;++f)s(h[f],n,l,t)}return n}function uc(n,e){return hi(n,e,{merger:zj})}function zj(n,e,t){if(!zx(n))return;const r=e[n],i=t[n];We(r)&&We(i)?uc(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Lf(i))}const vb={"":n=>n,x:n=>n.x,y:n=>n.y};function Hj(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function Wj(n){const e=Hj(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function Cc(n,e){return(vb[e]||(vb[e]=Wj(e)))(n)}function _v(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Vf=n=>typeof n<"u",qs=n=>typeof n=="function",Eb=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function Kj(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ot=Math.PI,Ct=2*ot,Ff=Number.POSITIVE_INFINITY,qj=ot/180,Nt=ot/2,ko=ot/4,wb=ot*2/3,Tb=Math.sign;function Gj(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}function Yj(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function $f(n){return!Yj(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function Fo(n){return n*(ot/180)}function Qj(n){return n*(180/ot)}function Hx(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let s=Math.atan2(r,t);return s<-.5*ot&&(s+=Ct),{angle:s,distance:i}}function Xj(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Zr(n){return(n%Ct+Ct)%Ct}function jf(n,e,t,r){const i=Zr(n),s=Zr(e),l=Zr(t),u=Zr(s-i),h=Zr(l-i),f=Zr(i-s),m=Zr(i-l);return i===s||i===l||r&&s===l||u>h&&f<m}function jn(n,e,t){return Math.max(e,Math.min(t,n))}function Jj(n){return jn(n,-32768,32767)}function $o(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function yv(n,e,t){t=t||(l=>n[l]<e);let r=n.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,t(s)?i=s:r=s;return{lo:i,hi:r}}const F_=(n,e,t,r)=>yv(n,t,r?i=>{const s=n[i][e];return s<t||s===t&&n[i+1][e]===t}:i=>n[i][e]<t),Zj=(n,e,t)=>yv(n,t,r=>n[r][e]>=t);function eU(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const Wx=["push","pop","shift","splice","unshift"];function tU(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Wx.forEach(t=>{const r="_onData"+_v(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const l=i.apply(this,s);return n._chartjs.listeners.forEach(u=>{typeof u[r]=="function"&&u[r](...s)}),l}})})}function bb(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(Wx.forEach(s=>{delete n[s]}),delete n._chartjs)}function nU(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const Kx=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function qx(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,Kx.call(window,()=>{r=!1,n.apply(e,t)}))}}function rU(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const Gx=n=>n==="start"?"left":n==="end"?"right":"center",Fn=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,iU=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e,Ad=n=>n===0||n===1,Sb=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Ct/t)),Ib=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Ct/t)+1,cc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Nt)+1,easeOutSine:n=>Math.sin(n*Nt),easeInOutSine:n=>-.5*(Math.cos(ot*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Ad(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Ad(n)?n:Sb(n,.075,.3),easeOutElastic:n=>Ad(n)?n:Ib(n,.075,.3),easeInOutElastic(n){return Ad(n)?n:n<.5?.5*Sb(n*2,.1125,.45):.5+.5*Ib(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-cc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?cc.easeInBounce(n*2)*.5:cc.easeOutBounce(n*2-1)*.5+.5};function Yx(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Ab(n){return Yx(n)?n:new Ac(n)}function Hg(n){return Yx(n)?n:new Ac(n).saturate(.5).darken(.1).hexString()}const sU=["x","y","borderWidth","radius","tension"],oU=["color","borderColor","backgroundColor"];function aU(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:oU},numbers:{type:"number",properties:sU}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function lU(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Cb=new Map;function uU(n,e){e=e||{};const t=n+JSON.stringify(e);let r=Cb.get(t);return r||(r=new Intl.NumberFormat(n,e),Cb.set(t,r)),r}function cU(n,e,t){return uU(e,t).format(n)}const hU={values(n){return zt(n)?n:""+n}};var dU={formatters:hU};function fU(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:dU.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Xo=Object.create(null),$_=Object.create(null);function hc(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const s=t[r];n=n[s]||(n[s]=Object.create(null))}return n}function Wg(n,e,t){return typeof e=="string"?hi(hc(n,e),t):hi(hc(n,""),e)}class pU{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Hg(i.backgroundColor),this.hoverBorderColor=(r,i)=>Hg(i.borderColor),this.hoverColor=(r,i)=>Hg(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Wg(this,e,t)}get(e){return hc(this,e)}describe(e,t){return Wg($_,e,t)}override(e,t){return Wg(Xo,e,t)}route(e,t,r,i){const s=hc(this,e),l=hc(this,r),u="_"+t;Object.defineProperties(s,{[u]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[u],f=l[i];return We(h)?Object.assign({},f,h):Qe(h,f)},set(h){this[u]=h}}})}apply(e){e.forEach(t=>t(this))}}var vt=new pU({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[aU,lU,fU]);function mU(n){return!n||bt(n.size)||bt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function xb(n,e,t,r,i){let s=e[i];return s||(s=e[i]=n.measureText(i).width,t.push(i)),s>r&&(r=s),r}function Ro(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function kb(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function j_(n,e,t,r){Qx(n,e,t,r,null)}function Qx(n,e,t,r,i){let s,l,u,h,f,m,_,E;const T=e.pointStyle,S=e.rotation,I=e.radius;let A=(S||0)*qj;if(T&&typeof T=="object"&&(s=T.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(A),n.drawImage(T,-T.width/2,-T.height/2,T.width,T.height),n.restore();return}if(!(isNaN(I)||I<=0)){switch(n.beginPath(),T){default:i?n.ellipse(t,r,i/2,I,0,0,Ct):n.arc(t,r,I,0,Ct),n.closePath();break;case"triangle":m=i?i/2:I,n.moveTo(t+Math.sin(A)*m,r-Math.cos(A)*I),A+=wb,n.lineTo(t+Math.sin(A)*m,r-Math.cos(A)*I),A+=wb,n.lineTo(t+Math.sin(A)*m,r-Math.cos(A)*I),n.closePath();break;case"rectRounded":f=I*.516,h=I-f,l=Math.cos(A+ko)*h,_=Math.cos(A+ko)*(i?i/2-f:h),u=Math.sin(A+ko)*h,E=Math.sin(A+ko)*(i?i/2-f:h),n.arc(t-_,r-u,f,A-ot,A-Nt),n.arc(t+E,r-l,f,A-Nt,A),n.arc(t+_,r+u,f,A,A+Nt),n.arc(t-E,r+l,f,A+Nt,A+ot),n.closePath();break;case"rect":if(!S){h=Math.SQRT1_2*I,m=i?i/2:h,n.rect(t-m,r-h,2*m,2*h);break}A+=ko;case"rectRot":_=Math.cos(A)*(i?i/2:I),l=Math.cos(A)*I,u=Math.sin(A)*I,E=Math.sin(A)*(i?i/2:I),n.moveTo(t-_,r-u),n.lineTo(t+E,r-l),n.lineTo(t+_,r+u),n.lineTo(t-E,r+l),n.closePath();break;case"crossRot":A+=ko;case"cross":_=Math.cos(A)*(i?i/2:I),l=Math.cos(A)*I,u=Math.sin(A)*I,E=Math.sin(A)*(i?i/2:I),n.moveTo(t-_,r-u),n.lineTo(t+_,r+u),n.moveTo(t+E,r-l),n.lineTo(t-E,r+l);break;case"star":_=Math.cos(A)*(i?i/2:I),l=Math.cos(A)*I,u=Math.sin(A)*I,E=Math.sin(A)*(i?i/2:I),n.moveTo(t-_,r-u),n.lineTo(t+_,r+u),n.moveTo(t+E,r-l),n.lineTo(t-E,r+l),A+=ko,_=Math.cos(A)*(i?i/2:I),l=Math.cos(A)*I,u=Math.sin(A)*I,E=Math.sin(A)*(i?i/2:I),n.moveTo(t-_,r-u),n.lineTo(t+_,r+u),n.moveTo(t+E,r-l),n.lineTo(t-E,r+l);break;case"line":l=i?i/2:Math.cos(A)*I,u=Math.sin(A)*I,n.moveTo(t-l,r-u),n.lineTo(t+l,r+u);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(A)*(i?i/2:I),r+Math.sin(A)*I);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function vv(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Ev(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function wv(n){n.restore()}function gU(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),bt(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function _U(n,e,t,r,i){if(i.strikethrough||i.underline){const s=n.measureText(r),l=e-s.actualBoundingBoxLeft,u=e+s.actualBoundingBoxRight,h=t-s.actualBoundingBoxAscent,f=t+s.actualBoundingBoxDescent,m=i.strikethrough?(h+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(l,m),n.lineTo(u,m),n.stroke()}}function yU(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Uf(n,e,t,r,i,s={}){const l=zt(e)?e:[e],u=s.strokeWidth>0&&s.strokeColor!=="";let h,f;for(n.save(),n.font=i.string,gU(n,s),h=0;h<l.length;++h)f=l[h],s.backdrop&&yU(n,s.backdrop),u&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),bt(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(f,t,r,s.maxWidth)),n.fillText(f,t,r,s.maxWidth),_U(n,t,r,f,s),r+=Number(i.lineHeight);n.restore()}function Bf(n,e){const{x:t,y:r,w:i,h:s,radius:l}=e;n.arc(t+l.topLeft,r+l.topLeft,l.topLeft,1.5*ot,ot,!0),n.lineTo(t,r+s-l.bottomLeft),n.arc(t+l.bottomLeft,r+s-l.bottomLeft,l.bottomLeft,ot,Nt,!0),n.lineTo(t+i-l.bottomRight,r+s),n.arc(t+i-l.bottomRight,r+s-l.bottomRight,l.bottomRight,Nt,0,!0),n.lineTo(t+i,r+l.topRight),n.arc(t+i-l.topRight,r+l.topRight,l.topRight,0,-Nt,!0),n.lineTo(t+l.topLeft,r)}const vU=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,EU=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function wU(n,e){const t=(""+n).match(vU);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const TU=n=>+n||0;function Tv(n,e){const t={},r=We(e),i=r?Object.keys(e):e,s=We(n)?r?l=>Qe(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of i)t[l]=TU(s(l));return t}function Xx(n){return Tv(n,{top:"y",right:"x",bottom:"y",left:"x"})}function hl(n){return Tv(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ur(n){const e=Xx(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function dn(n,e){n=n||{},e=e||vt.font;let t=Qe(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=Qe(n.style,e.style);r&&!(""+r).match(EU)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Qe(n.family,e.family),lineHeight:wU(Qe(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Qe(n.weight,e.weight),string:""};return i.string=mU(i),i}function ut(n,e,t,r){let i,s,l;for(i=0,s=n.length;i<s;++i)if(l=n[i],l!==void 0&&(e!==void 0&&typeof l=="function"&&(l=l(e)),t!==void 0&&zt(l)&&(l=l[t%l.length]),l!==void 0))return l}function bU(n,e,t){const{min:r,max:i}=n,s=Bx(e,(i-r)/2),l=(u,h)=>t&&u===0?0:u+h;return{min:l(r,-Math.abs(s)),max:l(i,s)}}function zl(n,e){return Object.assign(Object.create(n),e)}function bv(n,e=[""],t,r,i=()=>n[0]){const s=t||n;typeof r>"u"&&(r=t1("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:r,_getTarget:i,override:u=>bv([u,...n],e,s,r)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return Zx(u,h,()=>PU(h,e,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return Pb(u).includes(h)},ownKeys(u){return Pb(u)},set(u,h,f){const m=u._storage||(u._storage=i());return u[h]=m[h]=f,delete u._keys,!0}})}function Rl(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:Jx(n,r),setContext:s=>Rl(n,s,t,r),override:s=>Rl(n.override(s),e,t,r)};return new Proxy(i,{deleteProperty(s,l){return delete s[l],delete n[l],!0},get(s,l,u){return Zx(s,l,()=>IU(s,l,u))},getOwnPropertyDescriptor(s,l){return s._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(s,l,u){return n[l]=u,delete s[l],!0}})}function Jx(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:qs(t)?t:()=>t,isIndexable:qs(r)?r:()=>r}}const SU=(n,e)=>n?n+_v(e):e,Sv=(n,e)=>We(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Zx(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function IU(n,e,t){const{_proxy:r,_context:i,_subProxy:s,_descriptors:l}=n;let u=r[e];return qs(u)&&l.isScriptable(e)&&(u=AU(e,u,n,t)),zt(u)&&u.length&&(u=CU(e,u,n,l.isIndexable)),Sv(e,u)&&(u=Rl(u,i,s&&s[e],l)),u}function AU(n,e,t,r){const{_proxy:i,_context:s,_subProxy:l,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=e(s,l||r);return u.delete(n),Sv(n,h)&&(h=Iv(i._scopes,i,n,h)),h}function CU(n,e,t,r){const{_proxy:i,_context:s,_subProxy:l,_descriptors:u}=t;if(typeof s.index<"u"&&r(n))return e[s.index%e.length];if(We(e[0])){const h=e,f=i._scopes.filter(m=>m!==h);e=[];for(const m of h){const _=Iv(f,i,n,m);e.push(Rl(_,s,l&&l[n],u))}}return e}function e1(n,e,t){return qs(n)?n(e,t):n}const xU=(n,e)=>n===!0?e:typeof n=="string"?Cc(e,n):void 0;function kU(n,e,t,r,i){for(const s of e){const l=xU(t,s);if(l){n.add(l);const u=e1(l._fallback,t,i);if(typeof u<"u"&&u!==t&&u!==r)return u}else if(l===!1&&typeof r<"u"&&t!==r)return null}return!1}function Iv(n,e,t,r){const i=e._rootScopes,s=e1(e._fallback,t,r),l=[...n,...i],u=new Set;u.add(r);let h=Rb(u,l,t,s||t,r);return h===null||typeof s<"u"&&s!==t&&(h=Rb(u,l,s,h,r),h===null)?!1:bv(Array.from(u),[""],i,s,()=>RU(e,t,r))}function Rb(n,e,t,r,i){for(;t;)t=kU(n,e,t,r,i);return t}function RU(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return zt(i)&&We(t)?t:i||{}}function PU(n,e,t,r){let i;for(const s of e)if(i=t1(SU(s,n),t),typeof i<"u")return Sv(n,i)?Iv(t,r,n,i):i}function t1(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function Pb(n){let e=n._keys;return e||(e=n._keys=OU(n._scopes)),e}function OU(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function Av(){return typeof window<"u"&&typeof document<"u"}function Cv(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function zf(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const Rp=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function NU(n,e){return Rp(n).getPropertyValue(e)}const DU=["top","right","bottom","left"];function Uo(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const s=DU[i];r[s]=parseFloat(n[e+"-"+s+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const MU=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function LU(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:s}=r;let l=!1,u,h;if(MU(i,s,n.target))u=i,h=s;else{const f=e.getBoundingClientRect();u=r.clientX-f.left,h=r.clientY-f.top,l=!0}return{x:u,y:h,box:l}}function No(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=Rp(t),s=i.boxSizing==="border-box",l=Uo(i,"padding"),u=Uo(i,"border","width"),{x:h,y:f,box:m}=LU(n,t),_=l.left+(m&&u.left),E=l.top+(m&&u.top);let{width:T,height:S}=e;return s&&(T-=l.width+u.width,S-=l.height+u.height),{x:Math.round((h-_)/T*t.width/r),y:Math.round((f-E)/S*t.height/r)}}function VU(n,e,t){let r,i;if(e===void 0||t===void 0){const s=n&&Cv(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const l=s.getBoundingClientRect(),u=Rp(s),h=Uo(u,"border","width"),f=Uo(u,"padding");e=l.width-f.width-h.width,t=l.height-f.height-h.height,r=zf(u.maxWidth,s,"clientWidth"),i=zf(u.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:r||Ff,maxHeight:i||Ff}}const Cd=n=>Math.round(n*10)/10;function FU(n,e,t,r){const i=Rp(n),s=Uo(i,"margin"),l=zf(i.maxWidth,n,"clientWidth")||Ff,u=zf(i.maxHeight,n,"clientHeight")||Ff,h=VU(n,e,t);let{width:f,height:m}=h;if(i.boxSizing==="content-box"){const E=Uo(i,"border","width"),T=Uo(i,"padding");f-=T.width+E.width,m-=T.height+E.height}return f=Math.max(0,f-s.width),m=Math.max(0,r?f/r:m-s.height),f=Cd(Math.min(f,l,h.maxWidth)),m=Cd(Math.min(m,u,h.maxHeight)),f&&!m&&(m=Cd(f/2)),(e!==void 0||t!==void 0)&&r&&h.height&&m>h.height&&(m=h.height,f=Cd(Math.floor(m*r))),{width:f,height:m}}function Ob(n,e,t){const r=e||1,i=Math.floor(n.height*r),s=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||l.height!==i||l.width!==s?(n.currentDevicePixelRatio=r,l.height=i,l.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const $U=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Av()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function Nb(n,e){const t=NU(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const jU=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},UU=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function dl(n,e,t){return n?jU(e,t):UU()}function n1(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function r1(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function xd(n,e,t){return n.options.clip?n[t]:e[t]}function BU(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:xd(t,e,"left"),right:xd(t,e,"right"),top:xd(r,e,"top"),bottom:xd(r,e,"bottom")}:e}function zU(n,e){const t=e._clip;if(t.disabled)return!1;const r=BU(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class HU{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const s=t.listeners[i],l=t.duration;s.forEach(u=>u({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(r-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Kx.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let l=s.length-1,u=!1,h;for(;l>=0;--l)h=s[l],h._active?(h._total>r.duration&&(r.duration=h._total),h.tick(e),u=!0):(s[l]=s[s.length-1],s.pop());u&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ki=new HU;const Db="transparent",WU={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=Ab(n||Db),i=r.valid&&Ab(e||Db);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class KU{constructor(e,t,r,i){const s=t[r];i=ut([e.to,i,s,e.from]);const l=ut([e.from,s,i]);this._active=!0,this._fn=e.fn||WU[e.type||typeof l],this._easing=cc[e.easing]||cc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=l,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,l=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=ut([e.to,t,i,e.from]),this._from=ut([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,s=this._from,l=this._loop,u=this._to;let h;if(this._active=s!==u&&(l||t<r),!this._active){this._target[i]=u,this._notify(!0);return}if(t<0){this._target[i]=s;return}h=t/r%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[i]=this._fn(s,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class i1{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!We(e))return;const t=Object.keys(vt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!We(s))return;const l={};for(const u of t)l[u]=s[u];(zt(s.properties)&&s.properties||[i]).forEach(u=>{(u===i||!r.has(u))&&r.set(u,l)})})}_animateOptions(e,t){const r=t.options,i=GU(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&qU(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),l=Object.keys(t),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){i.push(...this._animateOptions(e,t));continue}const m=t[f];let _=s[f];const E=r.get(f);if(_)if(E&&_.active()){_.update(E,m,u);continue}else _.cancel();if(!E||!E.duration){e[f]=m;continue}s[f]=_=new KU(E,e,f,m),i.push(_)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return ki.add(this._chart,r),!0}}function qU(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=n[r[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function GU(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Mb(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function YU(n,e,t){if(t===!1)return!1;const r=Mb(n,t),i=Mb(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function QU(n){let e,t,r,i;return We(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function s1(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)t.push(r[i].index);return t}function Lb(n,e,t,r={}){const i=n.keys,s=r.mode==="single";let l,u,h,f;if(e===null)return;let m=!1;for(l=0,u=i.length;l<u;++l){if(h=+i[l],h===t){if(m=!0,r.all)continue;break}f=n.values[h],qi(f)&&(s||e===0||Tb(e)===Tb(f))&&(e+=f)}return!m&&!r.all?0:e}function XU(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let h,f,m;for(h=0,f=l.length;h<f;++h)m=l[h],u[h]={[i]:m,[s]:n[m]};return u}function Kg(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function JU(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function ZU(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function eB(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function Vb(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=n[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function Fb(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:s,vScale:l,index:u}=r,h=s.axis,f=l.axis,m=JU(s,l,r),_=e.length;let E;for(let T=0;T<_;++T){const S=e[T],{[h]:I,[f]:A}=S,R=S._stacks||(S._stacks={});E=R[f]=eB(i,m,I),E[u]=A,E._top=Vb(E,l,!0,r.type),E._bottom=Vb(E,l,!1,r.type);const L=E._visualValues||(E._visualValues={});L[u]=A}}function qg(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function tB(n,e){return zl(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function nB(n,e,t){return zl(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function $u(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][t]===void 0)return;delete s[r][t],s[r]._visualValues!==void 0&&s[r]._visualValues[t]!==void 0&&delete s[r]._visualValues[t]}}}const Gg=n=>n==="reset"||n==="none",$b=(n,e)=>e?n:Object.assign({},n),rB=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:s1(t,!0),values:null};class dc{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Kg(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&$u(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(_,E,T,S)=>_==="x"?E:_==="r"?S:T,s=t.xAxisID=Qe(r.xAxisID,qg(e,"x")),l=t.yAxisID=Qe(r.yAxisID,qg(e,"y")),u=t.rAxisID=Qe(r.rAxisID,qg(e,"r")),h=t.indexAxis,f=t.iAxisID=i(h,s,l,u),m=t.vAxisID=i(h,l,s,u);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&bb(this._data,this),e._stacked&&$u(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(We(t)){const i=this._cachedMeta;this._data=XU(t,i)}else if(r!==t){if(r){bb(r,this);const i=this._cachedMeta;$u(i),i._parsed=[]}t&&Object.isExtensible(t)&&tU(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=t._stacked;t._stacked=Kg(t.vScale,t),t.stack!==r.stack&&(i=!0,$u(t),t.stack=r.stack),this._resyncElements(e),(i||s!==t._stacked)&&(Fb(this,t._parsed),t._stacked=Kg(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:l}=r,u=s.axis;let h=e===0&&t===i.length?!0:r._sorted,f=e>0&&r._parsed[e-1],m,_,E;if(this._parsing===!1)r._parsed=i,r._sorted=!0,E=i;else{zt(i[e])?E=this.parseArrayData(r,i,e,t):We(i[e])?E=this.parseObjectData(r,i,e,t):E=this.parsePrimitiveData(r,i,e,t);const T=()=>_[u]===null||f&&_[u]<f[u];for(m=0;m<t;++m)r._parsed[m+e]=_=E[m],h&&(T()&&(h=!1),f=_);r._sorted=h}l&&Fb(this,E)}parsePrimitiveData(e,t,r,i){const{iScale:s,vScale:l}=e,u=s.axis,h=l.axis,f=s.getLabels(),m=s===l,_=new Array(i);let E,T,S;for(E=0,T=i;E<T;++E)S=E+r,_[E]={[u]:m||s.parse(f[S],S),[h]:l.parse(t[S],S)};return _}parseArrayData(e,t,r,i){const{xScale:s,yScale:l}=e,u=new Array(i);let h,f,m,_;for(h=0,f=i;h<f;++h)m=h+r,_=t[m],u[h]={x:s.parse(_[0],m),y:l.parse(_[1],m)};return u}parseObjectData(e,t,r,i){const{xScale:s,yScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=new Array(i);let m,_,E,T;for(m=0,_=i;m<_;++m)E=m+r,T=t[E],f[m]={x:s.parse(Cc(T,u),E),y:l.parse(Cc(T,h),E)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,s=this._cachedMeta,l=t[e.axis],u={keys:s1(i,!0),values:t._stacks[e.axis]._visualValues};return Lb(u,l,s.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const s=r[t.axis];let l=s===null?NaN:s;const u=i&&r._stacks[t.axis];i&&u&&(i.values=u,l=Lb(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,l=i.length,u=this._getOtherScale(e),h=rB(t,r,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:_}=ZU(u);let E,T;function S(){T=i[E];const I=T[u.axis];return!qi(T[e.axis])||m>I||_<I}for(E=0;E<l&&!(!S()&&(this.updateRangeFromParsed(f,e,T,h),s));++E);if(s){for(E=l-1;E>=0;--E)if(!S()){this.updateRangeFromParsed(f,e,T,h);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,s,l;for(i=0,s=t.length;i<s;++i)l=t[i][e.axis],qi(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=QU(Qe(this.options.clip,YU(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],s=t.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||i.length-u,f=this.options.drawActiveElementsOnTop;let m;for(r.dataset&&r.dataset.draw(e,s,u,h),m=u;m<u+h;++m){const _=i[m];_.hidden||(_.active&&f?l.push(_):_.draw(e,s))}for(m=0;m<l.length;++m)l[m].draw(e,s)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];s=l.$context||(l.$context=nB(this.getContext(),e,l)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=tB(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",s=this._cachedDataOpts,l=e+"-"+t,u=s[l],h=this.enableOptionSharing&&Vf(r);if(u)return $b(u,h);const f=this.chart.config,m=f.datasetElementScopeKeys(this._type,e),_=i?[`${e}Hover`,"hover",e,""]:[e,""],E=f.getOptionScopes(this.getDataset(),m),T=Object.keys(vt.elements[e]),S=()=>this.getContext(r,i,t),I=f.resolveNamedOptions(E,T,S,_);return I.$shared&&(I.$shared=h,s[l]=Object.freeze($b(I,h))),I}_resolveAnimations(e,t,r){const i=this.chart,s=this._cachedDataOpts,l=`animation-${t}`,u=s[l];if(u)return u;let h;if(i.options.animation!==!1){const m=this.chart.config,_=m.datasetAnimationScopeKeys(this._type,t),E=m.getOptionScopes(this.getDataset(),_);h=m.createResolver(E,this.getContext(e,r,t))}const f=new i1(i,h&&h.animations);return h&&h._cacheable&&(s[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Gg(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(r),l=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,r),{sharedOptions:s,includeOptions:l}}updateElement(e,t,r,i){Gg(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!Gg(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const s=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[u,h,f]of this._syncList)this[u](h,f);this._syncList=[];const i=r.length,s=t.length,l=Math.min(s,i);l&&this.parse(0,l),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t,r=!0){const i=this._cachedMeta,s=i.data,l=e+t;let u;const h=f=>{for(f.length+=t,u=f.length-1;u>=l;u--)f[u]=f[u-t]};for(h(s),u=e;u<l;++u)s[u]=new this.dataElementType;this._parsing&&h(i._parsed),this.parse(e,t),r&&this.updateElements(s,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&$u(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Pe(dc,"defaults",{}),Pe(dc,"datasetElementType",null),Pe(dc,"dataElementType",null);function iB(n,e,t){let r=1,i=1,s=0,l=0;if(e<Ct){const u=n,h=u+e,f=Math.cos(u),m=Math.sin(u),_=Math.cos(h),E=Math.sin(h),T=(U,B,Q)=>jf(U,u,h,!0)?1:Math.max(B,B*t,Q,Q*t),S=(U,B,Q)=>jf(U,u,h,!0)?-1:Math.min(B,B*t,Q,Q*t),I=T(0,f,_),A=T(Nt,m,E),R=S(ot,f,_),L=S(ot+Nt,m,E);r=(I-R)/2,i=(A-L)/2,s=-(I+R)/2,l=-(A+L)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:l}}class Xu extends dc{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=h=>+r[h];if(We(r[e])){const{key:h="value"}=this._parsing;s=f=>+Cc(r[f],h)}let l,u;for(l=e,u=e+t;l<u;++l)i._parsed[l]=s(l)}}_getRotation(){return Fo(this.options.rotation-90)}_getCircumference(){return Fo(this.options.circumference)}_getRotationExtents(){let e=Ct,t=-Ct;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),l=i._getCircumference();e=Math.min(e,s),t=Math.max(t,s+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,s=i.data,l=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,u=Math.max((Math.min(r.width,r.height)-l)/2,0),h=Math.min(Uj(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:m,rotation:_}=this._getRotationExtents(),{ratioX:E,ratioY:T,offsetX:S,offsetY:I}=iB(_,m,h),A=(r.width-l)/E,R=(r.height-l)/T,L=Math.max(Math.min(A,R)/2,0),U=Bx(this.options.radius,L),B=Math.max(U*h,0),Q=(U-B)/this._getVisibleDatasetWeightTotal();this.offsetX=S*U,this.offsetY=I*U,i.total=this.calculateTotal(),this.outerRadius=U-Q*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Q*f,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Ct)}updateElements(e,t,r,i){const s=i==="reset",l=this.chart,u=l.chartArea,f=l.options.animation,m=(u.left+u.right)/2,_=(u.top+u.bottom)/2,E=s&&f.animateScale,T=E?0:this.innerRadius,S=E?0:this.outerRadius,{sharedOptions:I,includeOptions:A}=this._getSharedOptions(t,i);let R=this._getRotation(),L;for(L=0;L<t;++L)R+=this._circumference(L,s);for(L=t;L<t+r;++L){const U=this._circumference(L,s),B=e[L],Q={x:m+this.offsetX,y:_+this.offsetY,startAngle:R,endAngle:R+U,circumference:U,outerRadius:S,innerRadius:T};A&&(Q.options=I||this.resolveDataElementOptions(L,B.active?"active":i)),R+=U,this.updateElement(B,L,Q,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,i;for(i=0;i<t.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Ct*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=cU(t._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,s,l,u,h;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){l=r.getDatasetMeta(i),e=l.data,u=l.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)h=u.resolveDataElementOptions(i),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Qe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Pe(Xu,"id","doughnut"),Pe(Xu,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Pe(Xu,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Pe(Xu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((s,l)=>{const h=e.getDatasetMeta(0).controller.getStyle(l);return{text:s,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:i,lineWidth:h.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class U_ extends Xu{}Pe(U_,"id","pie"),Pe(U_,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Po(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class xv{constructor(e){Pe(this,"options");this.options=e||{}}static override(e){Object.assign(xv.prototype,e)}init(){}formats(){return Po()}parse(){return Po()}format(){return Po()}add(){return Po()}diff(){return Po()}startOf(){return Po()}endOf(){return Po()}}var sB={_date:xv};function oB(n,e,t,r){const{controller:i,data:s,_sorted:l}=n,u=i._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&s.length){const f=u._reversePixels?Zj:F_;if(r){if(i._sharedOptions){const m=s[0],_=typeof m.getRange=="function"&&m.getRange(e);if(_){const E=f(s,e,t-_),T=f(s,e,t+_);return{lo:E.lo,hi:T.hi}}}}else{const m=f(s,e,t);if(h){const{vScale:_}=i._cachedMeta,{_parsed:E}=n,T=E.slice(0,m.lo+1).reverse().findIndex(I=>!bt(I[_.axis]));m.lo-=Math.max(0,T);const S=E.slice(m.hi).findIndex(I=>!bt(I[_.axis]));m.hi+=Math.max(0,S)}return m}}return{lo:0,hi:s.length-1}}function Pp(n,e,t,r,i){const s=n.getSortedVisibleDatasetMetas(),l=t[e];for(let u=0,h=s.length;u<h;++u){const{index:f,data:m}=s[u],{lo:_,hi:E}=oB(s[u],e,l,i);for(let T=_;T<=E;++T){const S=m[T];S.skip||r(S,f,T)}}}function aB(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,l=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(l,2))}}function Yg(n,e,t,r,i){const s=[];return!i&&!n.isPointInArea(e)||Pp(n,t,e,function(u,h,f){!i&&!vv(u,n.chartArea,0)||u.inRange(e.x,e.y,r)&&s.push({element:u,datasetIndex:h,index:f})},!0),s}function lB(n,e,t,r){let i=[];function s(l,u,h){const{startAngle:f,endAngle:m}=l.getProps(["startAngle","endAngle"],r),{angle:_}=Hx(l,{x:e.x,y:e.y});jf(_,f,m)&&i.push({element:l,datasetIndex:u,index:h})}return Pp(n,t,e,s),i}function uB(n,e,t,r,i,s){let l=[];const u=aB(t);let h=Number.POSITIVE_INFINITY;function f(m,_,E){const T=m.inRange(e.x,e.y,i);if(r&&!T)return;const S=m.getCenterPoint(i);if(!(!!s||n.isPointInArea(S))&&!T)return;const A=u(e,S);A<h?(l=[{element:m,datasetIndex:_,index:E}],h=A):A===h&&l.push({element:m,datasetIndex:_,index:E})}return Pp(n,t,e,f),l}function Qg(n,e,t,r,i,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!r?lB(n,e,t,i):uB(n,e,t,r,i,s)}function jb(n,e,t,r,i){const s=[],l=t==="x"?"inXRange":"inYRange";let u=!1;return Pp(n,t,e,(h,f,m)=>{h[l]&&h[l](e[t],i)&&(s.push({element:h,datasetIndex:f,index:m}),u=u||h.inRange(e.x,e.y,i))}),r&&!u?[]:s}var cB={modes:{index(n,e,t,r){const i=No(e,n),s=t.axis||"x",l=t.includeInvisible||!1,u=t.intersect?Yg(n,i,s,r,l):Qg(n,i,s,!1,r,l),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const m=u[0].index,_=f.data[m];_&&!_.skip&&h.push({element:_,datasetIndex:f.index,index:m})}),h):[]},dataset(n,e,t,r){const i=No(e,n),s=t.axis||"xy",l=t.includeInvisible||!1;let u=t.intersect?Yg(n,i,s,r,l):Qg(n,i,s,!1,r,l);if(u.length>0){const h=u[0].datasetIndex,f=n.getDatasetMeta(h).data;u=[];for(let m=0;m<f.length;++m)u.push({element:f[m],datasetIndex:h,index:m})}return u},point(n,e,t,r){const i=No(e,n),s=t.axis||"xy",l=t.includeInvisible||!1;return Yg(n,i,s,r,l)},nearest(n,e,t,r){const i=No(e,n),s=t.axis||"xy",l=t.includeInvisible||!1;return Qg(n,i,s,t.intersect,r,l)},x(n,e,t,r){const i=No(e,n);return jb(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=No(e,n);return jb(n,i,"y",t.intersect,r)}}};const o1=["left","top","right","bottom"];function ju(n,e){return n.filter(t=>t.pos===e)}function Ub(n,e){return n.filter(t=>o1.indexOf(t.pos)===-1&&t.box.axis===e)}function Uu(n,e){return n.sort((t,r)=>{const i=e?r:t,s=e?t:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function hB(n){const e=[];let t,r,i,s,l,u;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:s,options:{stack:l,stackWeight:u=1}}=i,e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:l&&s+l,stackWeight:u});return e}function dB(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:s}=t;if(!r||!o1.includes(i))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=s}return e}function fB(n,e){const t=dB(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,l,u;for(s=0,l=n.length;s<l;++s){u=n[s];const{fullSize:h}=u.box,f=t[u.stack],m=f&&u.stackWeight/f.weight;u.horizontal?(u.width=m?m*r:h&&e.availableWidth,u.height=i):(u.width=r,u.height=m?m*i:h&&e.availableHeight)}return t}function pB(n){const e=hB(n),t=Uu(e.filter(f=>f.box.fullSize),!0),r=Uu(ju(e,"left"),!0),i=Uu(ju(e,"right")),s=Uu(ju(e,"top"),!0),l=Uu(ju(e,"bottom")),u=Ub(e,"x"),h=Ub(e,"y");return{fullSize:t,leftAndTop:r.concat(s),rightAndBottom:i.concat(h).concat(l).concat(u),chartArea:ju(e,"chartArea"),vertical:r.concat(i).concat(h),horizontal:s.concat(l).concat(u)}}function Bb(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function a1(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function mB(n,e,t,r){const{pos:i,box:s}=t,l=n.maxPadding;if(!We(i)){t.size&&(n[i]-=t.size);const _=r[t.stack]||{size:0,count:1};_.size=Math.max(_.size,t.horizontal?s.height:s.width),t.size=_.size/_.count,n[i]+=t.size}s.getPadding&&a1(l,s.getPadding());const u=Math.max(0,e.outerWidth-Bb(l,n,"left","right")),h=Math.max(0,e.outerHeight-Bb(l,n,"top","bottom")),f=u!==n.w,m=h!==n.h;return n.w=u,n.h=h,t.horizontal?{same:f,other:m}:{same:m,other:f}}function gB(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function _B(n,e){const t=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(l=>{s[l]=Math.max(e[l],t[l])}),s}return r(n?["left","right"]:["top","bottom"])}function Ju(n,e,t,r){const i=[];let s,l,u,h,f,m;for(s=0,l=n.length,f=0;s<l;++s){u=n[s],h=u.box,h.update(u.width||e.w,u.height||e.h,_B(u.horizontal,e));const{same:_,other:E}=mB(e,t,u,r);f|=_&&i.length,m=m||E,h.fullSize||i.push(u)}return f&&Ju(i,e,t,r)||m}function kd(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function zb(n,e,t,r){const i=t.padding;let{x:s,y:l}=e;for(const u of n){const h=u.box,f=r[u.stack]||{placed:0,weight:1},m=u.stackWeight/f.weight||1;if(u.horizontal){const _=e.w*m,E=f.size||h.height;Vf(f.start)&&(l=f.start),h.fullSize?kd(h,i.left,l,t.outerWidth-i.right-i.left,E):kd(h,e.left+f.placed,l,_,E),f.start=l,f.placed+=_,l=h.bottom}else{const _=e.h*m,E=f.size||h.width;Vf(f.start)&&(s=f.start),h.fullSize?kd(h,s,i.top,E,t.outerHeight-i.bottom-i.top):kd(h,s,e.top+f.placed,E,_),f.start=s,f.placed+=_,s=h.right}}e.x=s,e.y=l}var Ps={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=ur(n.options.layout.padding),s=Math.max(e-i.width,0),l=Math.max(t-i.height,0),u=pB(n.boxes),h=u.vertical,f=u.horizontal;Ye(n.boxes,I=>{typeof I.beforeLayout=="function"&&I.beforeLayout()});const m=h.reduce((I,A)=>A.box.options&&A.box.options.display===!1?I:I+1,0)||1,_=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:l,vBoxMaxWidth:s/2/m,hBoxMaxHeight:l/2}),E=Object.assign({},i);a1(E,ur(r));const T=Object.assign({maxPadding:E,w:s,h:l,x:i.left,y:i.top},i),S=fB(h.concat(f),_);Ju(u.fullSize,T,_,S),Ju(h,T,_,S),Ju(f,T,_,S)&&Ju(h,T,_,S),gB(T),zb(u.leftAndTop,T,_,S),T.x+=T.w,T.y+=T.h,zb(u.rightAndBottom,T,_,S),n.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},Ye(u.chartArea,I=>{const A=I.box;Object.assign(A,n.chartArea),A.update(T.w,T.h,{left:0,top:0,right:0,bottom:0})})}};class l1{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class yB extends l1{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const tf="$chartjs",vB={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Hb=n=>n===null||n==="";function EB(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[tf]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Hb(i)){const s=Nb(n,"width");s!==void 0&&(n.width=s)}if(Hb(r))if(n.style.height==="")n.height=n.width/(e||2);else{const s=Nb(n,"height");s!==void 0&&(n.height=s)}return n}const u1=$U?{passive:!0}:!1;function wB(n,e,t){n&&n.addEventListener(e,t,u1)}function TB(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,u1)}function bB(n,e){const t=vB[n.type]||n.type,{x:r,y:i}=No(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Hf(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function SB(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let l=!1;for(const u of s)l=l||Hf(u.addedNodes,r),l=l&&!Hf(u.removedNodes,r);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function IB(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let l=!1;for(const u of s)l=l||Hf(u.removedNodes,r),l=l&&!Hf(u.addedNodes,r);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const xc=new Map;let Wb=0;function c1(){const n=window.devicePixelRatio;n!==Wb&&(Wb=n,xc.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function AB(n,e){xc.size||window.addEventListener("resize",c1),xc.set(n,e)}function CB(n){xc.delete(n),xc.size||window.removeEventListener("resize",c1)}function xB(n,e,t){const r=n.canvas,i=r&&Cv(r);if(!i)return;const s=qx((u,h)=>{const f=i.clientWidth;t(u,h),f<i.clientWidth&&t()},window),l=new ResizeObserver(u=>{const h=u[0],f=h.contentRect.width,m=h.contentRect.height;f===0&&m===0||s(f,m)});return l.observe(i),AB(n,s),l}function Xg(n,e,t){t&&t.disconnect(),e==="resize"&&CB(n)}function kB(n,e,t){const r=n.canvas,i=qx(s=>{n.ctx!==null&&t(bB(s,n))},n);return wB(r,e,i),i}class RB extends l1{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(EB(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[tf])return!1;const r=t[tf].initial;["height","width"].forEach(s=>{const l=r[s];bt(l)?t.removeAttribute(s):t.setAttribute(s,l)});const i=r.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[tf],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),l={attach:SB,detach:IB,resize:xB}[t]||kB;i[t]=l(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:Xg,detach:Xg,resize:Xg}[t]||TB)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return FU(e,t,r,i)}isAttached(e){const t=e&&Cv(e);return!!(t&&t.isConnected)}}function PB(n){return!Av()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?yB:RB}var $d;let sa=($d=class{constructor(){Pe(this,"x");Pe(this,"y");Pe(this,"active",!1);Pe(this,"options");Pe(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return $f(this.x)&&$f(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},Pe($d,"defaults",{}),Pe($d,"defaultRoutes"),$d);function OB(n,e){const t=n.options.ticks,r=NB(n),i=Math.min(t.maxTicksLimit||r,r),s=t.major.enabled?MB(e):[],l=s.length,u=s[0],h=s[l-1],f=[];if(l>i)return LB(e,f,s,l/i),f;const m=DB(s,e,i);if(l>0){let _,E;const T=l>1?Math.round((h-u)/(l-1)):null;for(Rd(e,f,m,bt(T)?0:u-T,u),_=0,E=l-1;_<E;_++)Rd(e,f,m,s[_],s[_+1]);return Rd(e,f,m,h,bt(T)?e.length:h+T),f}return Rd(e,f,m),f}function NB(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function DB(n,e,t){const r=VB(n),i=e.length/t;if(!r)return Math.max(i,1);const s=Gj(r);for(let l=0,u=s.length-1;l<u;l++){const h=s[l];if(h>i)return h}return Math.max(i,1)}function MB(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function LB(n,e,t,r){let i=0,s=t[0],l;for(r=Math.ceil(r),l=0;l<n.length;l++)l===s&&(e.push(n[l]),i++,s=t[i*r])}function Rd(n,e,t,r,i){const s=Qe(r,0),l=Math.min(Qe(i,n.length),n.length);let u=0,h,f,m;for(t=Math.ceil(t),i&&(h=i-r,t=h/Math.floor(h/t)),m=s;m<0;)u++,m=Math.round(s+u*t);for(f=Math.max(s,0);f<l;f++)f===m&&(e.push(n[f]),u++,m=Math.round(s+u*t))}function VB(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const FB=n=>n==="left"?"right":n==="right"?"left":n,Kb=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,qb=(n,e)=>Math.min(e||n,n);function Gb(n,e){const t=[],r=n.length/e,i=n.length;let s=0;for(;s<i;s+=r)t.push(n[Math.floor(s)]);return t}function $B(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),s=n._startPixel,l=n._endPixel,u=1e-6;let h=n.getPixelForTick(i),f;if(!(t&&(r===1?f=Math.max(h-s,l-h):e===0?f=(n.getPixelForTick(1)-h)/2:f=(h-n.getPixelForTick(i-1))/2,h+=i<e?f:-f,h<s-u||h>l+u)))return h}function jB(n,e){Ye(n,t=>{const r=t.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[r[s]];r.splice(0,i)}})}function Bu(n){return n.drawTicks?n.tickLength:0}function Yb(n,e){if(!n.display)return 0;const t=dn(n.font,e),r=ur(n.padding);return(zt(n.text)?n.text.length:1)*t.lineHeight+r.height}function UB(n,e){return zl(n,{scale:e,type:"scale"})}function BB(n,e,t){return zl(n,{tick:t,index:e,type:"tick"})}function zB(n,e,t){let r=Gx(n);return(t&&e!=="right"||!t&&e==="right")&&(r=FB(r)),r}function HB(n,e,t,r){const{top:i,left:s,bottom:l,right:u,chart:h}=n,{chartArea:f,scales:m}=h;let _=0,E,T,S;const I=l-i,A=u-s;if(n.isHorizontal()){if(T=Fn(r,s,u),We(t)){const R=Object.keys(t)[0],L=t[R];S=m[R].getPixelForValue(L)+I-e}else t==="center"?S=(f.bottom+f.top)/2+I-e:S=Kb(n,t,e);E=u-s}else{if(We(t)){const R=Object.keys(t)[0],L=t[R];T=m[R].getPixelForValue(L)-A+e}else t==="center"?T=(f.left+f.right)/2-A+e:T=Kb(n,t,e);S=Fn(r,l,i),_=t==="left"?-Nt:Nt}return{titleX:T,titleY:S,maxWidth:E,rotation:_}}class Op extends sa{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=Yr(e,Number.POSITIVE_INFINITY),t=Yr(t,Number.NEGATIVE_INFINITY),r=Yr(r,Number.POSITIVE_INFINITY),i=Yr(i,Number.NEGATIVE_INFINITY),{min:Yr(e,r),max:Yr(t,i),minDefined:qi(e),maxDefined:qi(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),l;if(i&&s)return{min:t,max:r};const u=this.getMatchingVisibleMetas();for(let h=0,f=u.length;h<f;++h)l=u[h].controller.getMinMax(this,e),i||(t=Math.min(t,l.min)),s||(r=Math.max(r,l.max));return t=s&&t>r?r:t,r=i&&t>r?t:r,{min:Yr(t,Yr(r,t)),max:Yr(r,Yr(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){tt(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:s,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=bU(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?Gb(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=OB(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){tt(this.options.afterUpdate,[this])}beforeSetDimensions(){tt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){tt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),tt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){tt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=tt(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){tt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){tt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=qb(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation;let l=i,u,h,f;if(!this._isVisible()||!t.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const m=this._getLabelSizes(),_=m.widest.width,E=m.highest.height,T=jn(this.chart.width-_,0,this.maxWidth);u=e.offset?this.maxWidth/r:T/(r-1),_+6>u&&(u=T/(r-(e.offset?.5:1)),h=this.maxHeight-Bu(e.grid)-t.padding-Yb(e.title,this.chart.options.font),f=Math.sqrt(_*_+E*E),l=Qj(Math.min(Math.asin(jn((m.highest.height+6)/u,-1,1)),Math.asin(jn(h/f,-1,1))-Math.asin(jn(E/f,-1,1)))),l=Math.max(i,Math.min(s,l))),this.labelRotation=l}afterCalculateLabelRotation(){tt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){tt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:s}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=Yb(i,t.options.font);if(u?(e.width=this.maxWidth,e.height=Bu(s)+h):(e.height=this.maxHeight,e.width=Bu(s)+h),r.display&&this.ticks.length){const{first:f,last:m,widest:_,highest:E}=this._getLabelSizes(),T=r.padding*2,S=Fo(this.labelRotation),I=Math.cos(S),A=Math.sin(S);if(u){const R=r.mirror?0:A*_.width+I*E.height;e.height=Math.min(this.maxHeight,e.height+R+T)}else{const R=r.mirror?0:I*_.width+A*E.height;e.width=Math.min(this.maxWidth,e.width+R+T)}this._calculatePadding(f,m,A,I)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:s,padding:l},position:u}=this.options,h=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let E=0,T=0;h?f?(E=i*e.width,T=r*t.height):(E=r*e.height,T=i*t.width):s==="start"?T=t.width:s==="end"?E=e.width:s!=="inner"&&(E=e.width/2,T=t.width/2),this.paddingLeft=Math.max((E-m+l)*this.width/(this.width-m),0),this.paddingRight=Math.max((T-_+l)*this.width/(this.width-_),0)}else{let m=t.height/2,_=e.height/2;s==="start"?(m=0,_=e.height):s==="end"&&(m=t.height,_=0),this.paddingTop=m+l,this.paddingBottom=_+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){tt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)bt(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=Gb(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:s}=this,l=[],u=[],h=Math.floor(t/qb(t,r));let f=0,m=0,_,E,T,S,I,A,R,L,U,B,Q;for(_=0;_<t;_+=h){if(S=e[_].label,I=this._resolveTickFontOptions(_),i.font=A=I.string,R=s[A]=s[A]||{data:{},gc:[]},L=I.lineHeight,U=B=0,!bt(S)&&!zt(S))U=xb(i,R.data,R.gc,U,S),B=L;else if(zt(S))for(E=0,T=S.length;E<T;++E)Q=S[E],!bt(Q)&&!zt(Q)&&(U=xb(i,R.data,R.gc,U,Q),B+=L);l.push(U),u.push(B),f=Math.max(U,f),m=Math.max(B,m)}jB(s,t);const Y=l.indexOf(f),P=u.indexOf(m),x=k=>({width:l[k]||0,height:u[k]||0});return{first:x(0),last:x(t-1),widest:x(Y),highest:x(P),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Jj(this._alignToPixels?Ro(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=BB(this.getContext(),e,r))}return this.$context||(this.$context=UB(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Fo(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),l=e.autoSkipPadding||0,u=s?s.widest.width+l:0,h=s?s.highest.height+l:0;return this.isHorizontal()?h*r>u*i?u/r:h/i:h*i<u*r?h/r:u/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:s,position:l,border:u}=i,h=s.offset,f=this.isHorizontal(),_=this.ticks.length+(h?1:0),E=Bu(s),T=[],S=u.setContext(this.getContext()),I=S.display?S.width:0,A=I/2,R=function(we){return Ro(r,we,I)};let L,U,B,Q,Y,P,x,k,N,M,V,O;if(l==="top")L=R(this.bottom),P=this.bottom-E,k=L-A,M=R(e.top)+A,O=e.bottom;else if(l==="bottom")L=R(this.top),M=e.top,O=R(e.bottom)-A,P=L+A,k=this.top+E;else if(l==="left")L=R(this.right),Y=this.right-E,x=L-A,N=R(e.left)+A,V=e.right;else if(l==="right")L=R(this.left),N=e.left,V=R(e.right)-A,Y=L+A,x=this.left+E;else if(t==="x"){if(l==="center")L=R((e.top+e.bottom)/2+.5);else if(We(l)){const we=Object.keys(l)[0],ge=l[we];L=R(this.chart.scales[we].getPixelForValue(ge))}M=e.top,O=e.bottom,P=L+A,k=P+E}else if(t==="y"){if(l==="center")L=R((e.left+e.right)/2);else if(We(l)){const we=Object.keys(l)[0],ge=l[we];L=R(this.chart.scales[we].getPixelForValue(ge))}Y=L-A,x=Y-E,N=e.left,V=e.right}const Me=Qe(i.ticks.maxTicksLimit,_),Se=Math.max(1,Math.ceil(_/Me));for(U=0;U<_;U+=Se){const we=this.getContext(U),ge=s.setContext(we),re=u.setContext(we),ce=ge.lineWidth,le=ge.color,j=re.dash||[],J=re.dashOffset,fe=ge.tickWidth,Te=ge.tickColor,be=ge.tickBorderDash||[],ae=ge.tickBorderDashOffset;B=$B(this,U,h),B!==void 0&&(Q=Ro(r,B,ce),f?Y=x=N=V=Q:P=k=M=O=Q,T.push({tx1:Y,ty1:P,tx2:x,ty2:k,x1:N,y1:M,x2:V,y2:O,width:ce,color:le,borderDash:j,borderDashOffset:J,tickWidth:fe,tickColor:Te,tickBorderDash:be,tickBorderDashOffset:ae}))}return this._ticksLength=_,this._borderValue=L,T}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:s}=r,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:f,padding:m,mirror:_}=s,E=Bu(r.grid),T=E+m,S=_?-m:T,I=-Fo(this.labelRotation),A=[];let R,L,U,B,Q,Y,P,x,k,N,M,V,O="middle";if(i==="top")Y=this.bottom-S,P=this._getXAxisLabelAlignment();else if(i==="bottom")Y=this.top+S,P=this._getXAxisLabelAlignment();else if(i==="left"){const Se=this._getYAxisLabelAlignment(E);P=Se.textAlign,Q=Se.x}else if(i==="right"){const Se=this._getYAxisLabelAlignment(E);P=Se.textAlign,Q=Se.x}else if(t==="x"){if(i==="center")Y=(e.top+e.bottom)/2+T;else if(We(i)){const Se=Object.keys(i)[0],we=i[Se];Y=this.chart.scales[Se].getPixelForValue(we)+T}P=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")Q=(e.left+e.right)/2-T;else if(We(i)){const Se=Object.keys(i)[0],we=i[Se];Q=this.chart.scales[Se].getPixelForValue(we)}P=this._getYAxisLabelAlignment(E).textAlign}t==="y"&&(h==="start"?O="top":h==="end"&&(O="bottom"));const Me=this._getLabelSizes();for(R=0,L=u.length;R<L;++R){U=u[R],B=U.label;const Se=s.setContext(this.getContext(R));x=this.getPixelForTick(R)+s.labelOffset,k=this._resolveTickFontOptions(R),N=k.lineHeight,M=zt(B)?B.length:1;const we=M/2,ge=Se.color,re=Se.textStrokeColor,ce=Se.textStrokeWidth;let le=P;l?(Q=x,P==="inner"&&(R===L-1?le=this.options.reverse?"left":"right":R===0?le=this.options.reverse?"right":"left":le="center"),i==="top"?f==="near"||I!==0?V=-M*N+N/2:f==="center"?V=-Me.highest.height/2-we*N+N:V=-Me.highest.height+N/2:f==="near"||I!==0?V=N/2:f==="center"?V=Me.highest.height/2-we*N:V=Me.highest.height-M*N,_&&(V*=-1),I!==0&&!Se.showLabelBackdrop&&(Q+=N/2*Math.sin(I))):(Y=x,V=(1-M)*N/2);let j;if(Se.showLabelBackdrop){const J=ur(Se.backdropPadding),fe=Me.heights[R],Te=Me.widths[R];let be=V-J.top,ae=0-J.left;switch(O){case"middle":be-=fe/2;break;case"bottom":be-=fe;break}switch(P){case"center":ae-=Te/2;break;case"right":ae-=Te;break;case"inner":R===L-1?ae-=Te:R>0&&(ae-=Te/2);break}j={left:ae,top:be,width:Te+J.width,height:fe+J.height,color:Se.backdropColor}}A.push({label:B,font:k,textOffset:V,options:{rotation:I,color:ge,strokeColor:re,strokeWidth:ce,textAlign:le,textBaseline:O,translation:[Q,Y],backdrop:j}})}return A}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Fo(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,l=this._getLabelSizes(),u=e+s,h=l.widest.width;let f,m;return t==="left"?i?(m=this.right+s,r==="near"?f="left":r==="center"?(f="center",m+=h/2):(f="right",m+=h)):(m=this.right-u,r==="near"?f="right":r==="center"?(f="center",m-=h/2):(f="left",m=this.left)):t==="right"?i?(m=this.left+s,r==="near"?f="right":r==="center"?(f="center",m-=h/2):(f="left",m-=h)):(m=this.left+u,r==="near"?f="left":r==="center"?(f="center",m+=h/2):(f="right",m=this.right)):f="right",{textAlign:f,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:s,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,s,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,l;const u=(h,f,m)=>{!m.width||!m.color||(r.save(),r.lineWidth=m.width,r.strokeStyle=m.color,r.setLineDash(m.borderDash||[]),r.lineDashOffset=m.borderDashOffset,r.beginPath(),r.moveTo(h.x,h.y),r.lineTo(f.x,f.y),r.stroke(),r.restore())};if(t.display)for(s=0,l=i.length;s<l;++s){const h=i[s];t.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),l=r.display?s.width:0;if(!l)return;const u=i.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,m,_,E;this.isHorizontal()?(f=Ro(e,this.left,l)-l/2,m=Ro(e,this.right,u)+u/2,_=E=h):(_=Ro(e,this.top,l)-l/2,E=Ro(e,this.bottom,u)+u/2,f=m=h),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(f,_),t.lineTo(m,E),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Ev(r,i);const s=this.getLabelItems(e);for(const l of s){const u=l.options,h=l.font,f=l.label,m=l.textOffset;Uf(r,f,0,m,h,u)}i&&wv(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const s=dn(r.font),l=ur(r.padding),u=r.align;let h=s.lineHeight/2;t==="bottom"||t==="center"||We(t)?(h+=l.bottom,zt(r.text)&&(h+=s.lineHeight*(r.text.length-1))):h+=l.top;const{titleX:f,titleY:m,maxWidth:_,rotation:E}=HB(this,h,t,u);Uf(e,r.text,0,0,s,{color:r.color,maxWidth:_,rotation:E,textAlign:zB(u,t,i),textBaseline:"middle",translation:[f,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Qe(e.grid&&e.grid.z,-1),i=Qe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Op.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,l;for(s=0,l=t.length;s<l;++s){const u=t[s];u[r]===this.id&&(!e||u.type===e)&&i.push(u)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return dn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Pd{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;qB(t)&&(r=this.register(t));const i=this.items,s=e.id,l=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,WB(e,l,r),this.override&&vt.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in vt[i]&&(delete vt[i][r],this.override&&delete Xo[r])}}function WB(n,e,t){const r=hi(Object.create(null),[t?vt.get(t):{},vt.get(e),n.defaults]);vt.set(e,r),n.defaultRoutes&&KB(e,n.defaultRoutes),n.descriptors&&vt.describe(e,n.descriptors)}function KB(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),s=[n].concat(r).join("."),l=e[t].split("."),u=l.pop(),h=l.join(".");vt.route(s,i,h,u)})}function qB(n){return"id"in n&&"defaults"in n}class GB{constructor(){this.controllers=new Pd(dc,"datasets",!0),this.elements=new Pd(sa,"elements"),this.plugins=new Pd(Object,"plugins"),this.scales=new Pd(Op,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Ye(i,l=>{const u=r||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,t,r){const i=_v(e);tt(r["before"+i],[],r),t[e](r),tt(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Xr=new GB;class YB{constructor(){this._init=[]}notify(e,t,r,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),l=this._notify(s,e,t,r);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,r,i){i=i||{};for(const s of e){const l=s.plugin,u=l[r],h=[t,i,s.options];if(tt(u,h,l)===!1&&i.cancelable)return!1}return!0}invalidate(){bt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=Qe(r.options&&r.options.plugins,{}),s=QB(r);return i===!1&&!t?[]:JB(e,s,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(s,l)=>s.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function QB(n){const e={},t=[],r=Object.keys(Xr.plugins.items);for(let s=0;s<r.length;s++)t.push(Xr.getPlugin(r[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const l=i[s];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function XB(n,e){return!e&&n===!1?null:n===!0?{}:n}function JB(n,{plugins:e,localIds:t},r,i){const s=[],l=n.getContext();for(const u of e){const h=u.id,f=XB(r[h],i);f!==null&&s.push({plugin:u,options:ZB(n.config,{plugin:u,local:t[h]},f,l)})}return s}function ZB(n,{plugin:e,local:t},r,i){const s=n.pluginScopeKeys(e),l=n.getOptionScopes(r,s);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function B_(n,e){const t=vt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function ez(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function tz(n,e){return n===e?"_index_":"_value_"}function Qb(n){if(n==="x"||n==="y"||n==="r")return n}function nz(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function z_(n,...e){if(Qb(n))return n;for(const t of e){const r=t.axis||nz(t.position)||n.length>1&&Qb(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Xb(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function rz(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return Xb(n,"x",t[0])||Xb(n,"y",t[0])}return{}}function iz(n,e){const t=Xo[n.type]||{scales:{}},r=e.scales||{},i=B_(n.type,e),s=Object.create(null);return Object.keys(r).forEach(l=>{const u=r[l];if(!We(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=z_(l,u,rz(l,n),vt.scales[u.type]),f=tz(h,i),m=t.scales||{};s[l]=uc(Object.create(null),[{axis:h},u,m[h],m[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,h=l.indexAxis||B_(u,e),m=(Xo[u]||{}).scales||{};Object.keys(m).forEach(_=>{const E=ez(_,h),T=l[E+"AxisID"]||E;s[T]=s[T]||Object.create(null),uc(s[T],[{axis:E},r[T],m[_]])})}),Object.keys(s).forEach(l=>{const u=s[l];uc(u,[vt.scales[u.type],vt.scale])}),s}function h1(n){const e=n.options||(n.options={});e.plugins=Qe(e.plugins,{}),e.scales=iz(n,e)}function d1(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function sz(n){return n=n||{},n.data=d1(n.data),h1(n),n}const Jb=new Map,f1=new Set;function Od(n,e){let t=Jb.get(n);return t||(t=e(),Jb.set(n,t),f1.add(t)),t}const zu=(n,e,t)=>{const r=Cc(e,t);r!==void 0&&n.add(r)};class oz{constructor(e){this._config=sz(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=d1(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),h1(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Od(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Od(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Od(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return Od(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:s}=this,l=this._cachedScopes(e,r),u=l.get(t);if(u)return u;const h=new Set;t.forEach(m=>{e&&(h.add(e),m.forEach(_=>zu(h,e,_))),m.forEach(_=>zu(h,i,_)),m.forEach(_=>zu(h,Xo[s]||{},_)),m.forEach(_=>zu(h,vt,_)),m.forEach(_=>zu(h,$_,_))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),f1.has(t)&&l.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,Xo[t]||{},vt.datasets[t]||{},{type:t},vt,$_]}resolveNamedOptions(e,t,r,i=[""]){const s={$shared:!0},{resolver:l,subPrefixes:u}=Zb(this._resolverCache,e,i);let h=l;if(lz(l,t)){s.$shared=!1,r=qs(r)?r():r;const f=this.createResolver(e,r,u);h=Rl(l,r,f)}for(const f of t)s[f]=h[f];return s}createResolver(e,t,r=[""],i){const{resolver:s}=Zb(this._resolverCache,e,r);return We(t)?Rl(s,t,void 0,i):s}}function Zb(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let s=r.get(i);return s||(s={resolver:bv(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},r.set(i,s)),s}const az=n=>We(n)&&Object.getOwnPropertyNames(n).some(e=>qs(n[e]));function lz(n,e){const{isScriptable:t,isIndexable:r}=Jx(n);for(const i of e){const s=t(i),l=r(i),u=(l||s)&&n[i];if(s&&(qs(u)||az(u))||l&&zt(u))return!0}return!1}var uz="4.5.0";const cz=["top","bottom","left","right","chartArea"];function eS(n,e){return n==="top"||n==="bottom"||cz.indexOf(n)===-1&&e==="x"}function tS(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function nS(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),tt(t&&t.onComplete,[n],e)}function hz(n){const e=n.chart,t=e.options.animation;tt(t&&t.onProgress,[n],e)}function p1(n){return Av()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const nf={},rS=n=>{const e=p1(n);return Object.values(nf).filter(t=>t.canvas===e).pop()};function dz(n,e,t){const r=Object.keys(n);for(const i of r){const s=+i;if(s>=e){const l=n[i];delete n[i],(t>0||s>e)&&(n[s+t]=l)}}}function fz(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}var Ss;let Np=(Ss=class{static register(...e){Xr.add(...e),iS()}static unregister(...e){Xr.remove(...e),iS()}constructor(e,t){const r=this.config=new oz(t),i=p1(e),s=rS(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||PB(i)),this.platform.updateConfig(r);const u=this.platform.acquireContext(i,l.aspectRatio),h=u&&u.canvas,f=h&&h.height,m=h&&h.width;if(this.id=jj(),this.ctx=u,this.canvas=h,this.width=m,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new YB,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=rU(_=>this.update(_),l.resizeDelay||0),this._dataChanges=[],nf[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}ki.listen(this,"complete",nS),ki.listen(this,"progress",hz),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:s}=this;return bt(e)?t&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Xr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ob(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return kb(this.canvas,this.ctx),this}stop(){return ki.stop(this),this}resize(e,t){ki.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(i,e,t,s),u=r.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Ob(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),tt(r.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Ye(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((l,u)=>(l[u]=!1,l),{});let s=[];t&&(s=s.concat(Object.keys(t).map(l=>{const u=t[l],h=z_(l,u),f=h==="r",m=h==="x";return{options:u,dposition:f?"chartArea":m?"bottom":"left",dtype:f?"radialLinear":m?"category":"linear"}}))),Ye(s,l=>{const u=l.options,h=u.id,f=z_(h,u),m=Qe(u.type,l.dtype);(u.position===void 0||eS(u.position,f)!==eS(l.dposition))&&(u.position=l.dposition),i[h]=!0;let _=null;if(h in r&&r[h].type===m)_=r[h];else{const E=Xr.getScale(m);_=new E({id:h,type:m,ctx:this.ctx,chart:this}),r[_.id]=_}_.init(u,e)}),Ye(i,(l,u)=>{l||delete r[u]}),Ye(r,l=>{Ps.configure(this,l,l.options),Ps.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(tS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const s=t[r];let l=this.getDatasetMeta(r);const u=s.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=u,l.indexAxis=s.indexAxis||B_(u,this.options),l.order=s.order||0,l.index=r,l.label=""+s.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const h=Xr.getController(u),{datasetElementType:f,dataElementType:m}=vt.datasets[u];Object.assign(h,{dataElementType:Xr.getElement(m),datasetElementType:f&&Xr.getElement(f)}),l.controller=new h(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Ye(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,m=this.data.datasets.length;f<m;f++){const{controller:_}=this.getDatasetMeta(f),E=!i&&s.indexOf(_)===-1;_.buildOrUpdateElements(E),l=Math.max(+_.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),i||Ye(s,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(tS("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Ye(this.scales,e=>{Ps.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Eb(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of t){const l=r==="_removeElements"?-s:s;dz(e,i,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=s=>new Set(e.filter(l=>l[0]===s).map((l,u)=>u+","+l.splice(1).join(","))),i=r(0);for(let s=1;s<t;s++)if(!Eb(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ps.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Ye(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,qs(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ki.has(this)?this.attached&&!ki.running(this)&&ki.start(this):(this.draw(),nS({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,s;for(i=0,s=t.length;i<s;++i){const l=t[i];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=zU(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Ev(t,i),e.controller.draw(),i&&wv(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return vv(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const s=cB.modes[t];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=zl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),l=s.controller._resolveAnimations(void 0,i);Vf(t)?(s.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(s,{visible:r}),this.update(u=>u.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ki.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),kb(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete nf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(s,l)=>{t.addEventListener(this,s,l),e[s]=l},i=(s,l,u)=>{s.offsetX=l,s.offsetY=u,this._eventHandler(s)};Ye(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(h,f)=>{t.addEventListener(this,h,f),e[h]=f},i=(h,f)=>{e[h]&&(t.removeEventListener(this,h,f),delete e[h])},s=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const u=()=>{i("attach",u),this.attached=!0,this.resize(),r("resize",s),r("detach",l)};l=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",u)},t.isAttached(this.canvas)?u():l()}unbindEvents(){Ye(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Ye(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let s,l,u,h;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){l=e[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[i+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:s,index:l})=>{const u=this.getDatasetMeta(s);if(!u)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:u.data[l],index:l}});!Mf(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,s=(h,f)=>h.filter(m=>!f.some(_=>m.datasetIndex===_.datasetIndex&&m.index===_.index)),l=s(t,e),u=r?e:s(e,t);l.length&&this.updateHoverStyle(l,i.mode,!1),u.length&&i.mode&&this.updateHoverStyle(u,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:s}=this,l=t,u=this._getActiveElements(e,i,r,l),h=Kj(e),f=fz(e,this._lastEvent,r,h);r&&(this._lastEvent=null,tt(s.onHover,[e,u,this],this),h&&tt(s.onClick,[e,u,this],this));const m=!Mf(u,i);return(m||t)&&(this._active=u,this._updateHoverStyles(u,i,t)),this._lastEvent=f,m}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},Pe(Ss,"defaults",vt),Pe(Ss,"instances",nf),Pe(Ss,"overrides",Xo),Pe(Ss,"registry",Xr),Pe(Ss,"version",uz),Pe(Ss,"getChart",rS),Ss);function iS(){return Ye(Np.instances,n=>n._plugins.invalidate())}function pz(n,e,t){const{startAngle:r,x:i,y:s,outerRadius:l,innerRadius:u,options:h}=e,{borderWidth:f,borderJoinStyle:m}=h,_=Math.min(f/l,Zr(r-t));if(n.beginPath(),n.arc(i,s,l-f/2,r+_/2,t-_/2),u>0){const E=Math.min(f/u,Zr(r-t));n.arc(i,s,u+f/2,t-E/2,r+E/2,!0)}else{const E=Math.min(f/2,l*Zr(r-t));if(m==="round")n.arc(i,s,E,t-ot/2,r+ot/2,!0);else if(m==="bevel"){const T=2*E*E,S=-T*Math.cos(t+ot/2)+i,I=-T*Math.sin(t+ot/2)+s,A=T*Math.cos(r+ot/2)+i,R=T*Math.sin(r+ot/2)+s;n.lineTo(S,I),n.lineTo(A,R)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function mz(n,e,t){const{startAngle:r,pixelMargin:i,x:s,y:l,outerRadius:u,innerRadius:h}=e;let f=i/u;n.beginPath(),n.arc(s,l,u,r-f,t+f),h>i?(f=i/h,n.arc(s,l,h,t+f,r-f,!0)):n.arc(s,l,i,t+Nt,r-Nt),n.closePath(),n.clip()}function gz(n){return Tv(n,["outerStart","outerEnd","innerStart","innerEnd"])}function _z(n,e,t,r){const i=gz(n.options.borderRadius),s=(t-e)/2,l=Math.min(s,r*e/2),u=h=>{const f=(t-Math.min(s,h))*r/2;return jn(h,0,Math.min(s,f))};return{outerStart:u(i.outerStart),outerEnd:u(i.outerEnd),innerStart:jn(i.innerStart,0,l),innerEnd:jn(i.innerEnd,0,l)}}function Qa(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function Wf(n,e,t,r,i,s){const{x:l,y:u,startAngle:h,pixelMargin:f,innerRadius:m}=e,_=Math.max(e.outerRadius+r+t-f,0),E=m>0?m+r+t+f:0;let T=0;const S=i-h;if(r){const Se=m>0?m-r:0,we=_>0?_-r:0,ge=(Se+we)/2,re=ge!==0?S*ge/(ge+r):S;T=(S-re)/2}const I=Math.max(.001,S*_-t/ot)/_,A=(S-I)/2,R=h+A+T,L=i-A-T,{outerStart:U,outerEnd:B,innerStart:Q,innerEnd:Y}=_z(e,E,_,L-R),P=_-U,x=_-B,k=R+U/P,N=L-B/x,M=E+Q,V=E+Y,O=R+Q/M,Me=L-Y/V;if(n.beginPath(),s){const Se=(k+N)/2;if(n.arc(l,u,_,k,Se),n.arc(l,u,_,Se,N),B>0){const ce=Qa(x,N,l,u);n.arc(ce.x,ce.y,B,N,L+Nt)}const we=Qa(V,L,l,u);if(n.lineTo(we.x,we.y),Y>0){const ce=Qa(V,Me,l,u);n.arc(ce.x,ce.y,Y,L+Nt,Me+Math.PI)}const ge=(L-Y/E+(R+Q/E))/2;if(n.arc(l,u,E,L-Y/E,ge,!0),n.arc(l,u,E,ge,R+Q/E,!0),Q>0){const ce=Qa(M,O,l,u);n.arc(ce.x,ce.y,Q,O+Math.PI,R-Nt)}const re=Qa(P,R,l,u);if(n.lineTo(re.x,re.y),U>0){const ce=Qa(P,k,l,u);n.arc(ce.x,ce.y,U,R-Nt,k)}}else{n.moveTo(l,u);const Se=Math.cos(k)*_+l,we=Math.sin(k)*_+u;n.lineTo(Se,we);const ge=Math.cos(N)*_+l,re=Math.sin(N)*_+u;n.lineTo(ge,re)}n.closePath()}function yz(n,e,t,r,i){const{fullCircles:s,startAngle:l,circumference:u}=e;let h=e.endAngle;if(s){Wf(n,e,t,r,h,i);for(let f=0;f<s;++f)n.fill();isNaN(u)||(h=l+(u%Ct||Ct))}return Wf(n,e,t,r,h,i),n.fill(),h}function vz(n,e,t,r,i){const{fullCircles:s,startAngle:l,circumference:u,options:h}=e,{borderWidth:f,borderJoinStyle:m,borderDash:_,borderDashOffset:E,borderRadius:T}=h,S=h.borderAlign==="inner";if(!f)return;n.setLineDash(_||[]),n.lineDashOffset=E,S?(n.lineWidth=f*2,n.lineJoin=m||"round"):(n.lineWidth=f,n.lineJoin=m||"bevel");let I=e.endAngle;if(s){Wf(n,e,t,r,I,i);for(let A=0;A<s;++A)n.stroke();isNaN(u)||(I=l+(u%Ct||Ct))}S&&mz(n,e,I),h.selfJoin&&I-l>=ot&&T===0&&m!=="miter"&&pz(n,e,I),s||(Wf(n,e,t,r,I,i),n.stroke())}class ol extends sa{constructor(t){super();Pe(this,"circumference");Pe(this,"endAngle");Pe(this,"fullCircles");Pe(this,"innerRadius");Pe(this,"outerRadius");Pe(this,"pixelMargin");Pe(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.getProps(["x","y"],i),{angle:l,distance:u}=Hx(s,{x:t,y:r}),{startAngle:h,endAngle:f,innerRadius:m,outerRadius:_,circumference:E}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),T=(this.options.spacing+this.options.borderWidth)/2,S=Qe(E,f-h),I=jf(l,h,f)&&h!==f,A=S>=Ct||I,R=$o(u,m+T,_+T);return A&&R}getCenterPoint(t){const{x:r,y:i,startAngle:s,endAngle:l,innerRadius:u,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:m}=this.options,_=(s+l)/2,E=(u+h+m+f)/2;return{x:r+Math.cos(_)*E,y:i+Math.sin(_)*E}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:i}=this,s=(r.offset||0)/4,l=(r.spacing||0)/2,u=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>Ct?Math.floor(i/Ct):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*s,Math.sin(h)*s);const f=1-Math.sin(Math.min(ot,i||0)),m=s*f;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,yz(t,this,m,l,u),vz(t,this,m,l,u),t.restore()}}Pe(ol,"id","arc"),Pe(ol,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Pe(ol,"defaultRoutes",{backgroundColor:"backgroundColor"}),Pe(ol,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function sS(n,e,t,r){const i=n.options,{[t]:s}=n.getProps([t],r);return Math.abs(e-s)<i.radius+i.hitRadius}class rf extends sa{constructor(t){super();Pe(this,"parsed");Pe(this,"skip");Pe(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.options,{x:l,y:u}=this.getProps(["x","y"],i);return Math.pow(t-l,2)+Math.pow(r-u,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,r){return sS(this,t,"x",r)}inYRange(t,r){return sS(this,t,"y",r)}getCenterPoint(t){const{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const i=r&&t.borderWidth||0;return(r+i)*2}draw(t,r){const i=this.options;this.skip||i.radius<.1||!vv(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,j_(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Pe(rf,"id","point"),Pe(rf,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Pe(rf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function m1(n,e){const{x:t,y:r,base:i,width:s,height:l}=n.getProps(["x","y","base","width","height"],e);let u,h,f,m,_;return n.horizontal?(_=l/2,u=Math.min(t,i),h=Math.max(t,i),f=r-_,m=r+_):(_=s/2,u=t-_,h=t+_,f=Math.min(r,i),m=Math.max(r,i)),{left:u,top:f,right:h,bottom:m}}function Os(n,e,t,r){return n?0:jn(e,t,r)}function Ez(n,e,t){const r=n.options.borderWidth,i=n.borderSkipped,s=Xx(r);return{t:Os(i.top,s.top,0,t),r:Os(i.right,s.right,0,e),b:Os(i.bottom,s.bottom,0,t),l:Os(i.left,s.left,0,e)}}function wz(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,s=hl(i),l=Math.min(e,t),u=n.borderSkipped,h=r||We(i);return{topLeft:Os(!h||u.top||u.left,s.topLeft,0,l),topRight:Os(!h||u.top||u.right,s.topRight,0,l),bottomLeft:Os(!h||u.bottom||u.left,s.bottomLeft,0,l),bottomRight:Os(!h||u.bottom||u.right,s.bottomRight,0,l)}}function Tz(n){const e=m1(n),t=e.right-e.left,r=e.bottom-e.top,i=Ez(n,t/2,r/2),s=wz(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function Jg(n,e,t,r){const i=e===null,s=t===null,u=n&&!(i&&s)&&m1(n,r);return u&&(i||$o(e,u.left,u.right))&&(s||$o(t,u.top,u.bottom))}function bz(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Sz(n,e){n.rect(e.x,e.y,e.w,e.h)}function Zg(n,e,t={}){const r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-r,l=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+s,h:n.h+l,radius:n.radius}}class sf extends sa{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:l}=Tz(this),u=bz(l.radius)?Bf:Sz;e.save(),(l.w!==s.w||l.h!==s.h)&&(e.beginPath(),u(e,Zg(l,t,s)),e.clip(),u(e,Zg(s,-t,l)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),u(e,Zg(s,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return Jg(this,e,t,r)}inXRange(e,t){return Jg(this,e,null,t)}inYRange(e,t){return Jg(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Pe(sf,"id","bar"),Pe(sf,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Pe(sf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const oS=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},Iz=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class aS extends sa{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=tt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=dn(r.font),s=i.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=oS(r,s);let f,m;t.font=i.string,this.isHorizontal()?(f=this.maxWidth,m=this._fitRows(l,s,u,h)+10):(m=this.maxHeight,f=this._fitCols(l,i,u,h)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:s,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],m=i+u;let _=e;s.textAlign="left",s.textBaseline="middle";let E=-1,T=-m;return this.legendItems.forEach((S,I)=>{const A=r+t/2+s.measureText(S.text).width;(I===0||f[f.length-1]+A+2*u>l)&&(_+=m,f[f.length-(I>0?0:1)]=0,T+=m,E++),h[I]={left:0,top:T,row:E,width:A,height:i},f[f.length-1]+=A+u}),_}_fitCols(e,t,r,i){const{ctx:s,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],m=l-e;let _=u,E=0,T=0,S=0,I=0;return this.legendItems.forEach((A,R)=>{const{itemWidth:L,itemHeight:U}=Az(r,t,s,A,i);R>0&&T+U+2*u>m&&(_+=E+u,f.push({width:E,height:T}),S+=E+u,I++,E=T=0),h[R]={left:S,top:T,col:I,width:L,height:U},E=Math.max(E,L),T+=U+u}),_+=E,f.push({width:E,height:T}),_}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:s}}=this,l=dl(s,this.left,this.width);if(this.isHorizontal()){let u=0,h=Fn(r,this.left+i,this.right-this.lineWidths[u]);for(const f of t)u!==f.row&&(u=f.row,h=Fn(r,this.left+i,this.right-this.lineWidths[u])),f.top+=this.top+e+i,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+i}else{let u=0,h=Fn(r,this.top+e+i,this.bottom-this.columnSizes[u].height);for(const f of t)f.col!==u&&(u=f.col,h=Fn(r,this.top+e+i,this.bottom-this.columnSizes[u].height)),f.top=h,f.left+=this.left+i,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ev(e,this),this._draw(),wv(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:s,labels:l}=e,u=vt.color,h=dl(e.rtl,this.left,this.width),f=dn(l.font),{padding:m}=l,_=f.size,E=_/2;let T;this.drawTitle(),i.textAlign=h.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=f.string;const{boxWidth:S,boxHeight:I,itemHeight:A}=oS(l,_),R=function(Y,P,x){if(isNaN(S)||S<=0||isNaN(I)||I<0)return;i.save();const k=Qe(x.lineWidth,1);if(i.fillStyle=Qe(x.fillStyle,u),i.lineCap=Qe(x.lineCap,"butt"),i.lineDashOffset=Qe(x.lineDashOffset,0),i.lineJoin=Qe(x.lineJoin,"miter"),i.lineWidth=k,i.strokeStyle=Qe(x.strokeStyle,u),i.setLineDash(Qe(x.lineDash,[])),l.usePointStyle){const N={radius:I*Math.SQRT2/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:k},M=h.xPlus(Y,S/2),V=P+E;Qx(i,N,M,V,l.pointStyleWidth&&S)}else{const N=P+Math.max((_-I)/2,0),M=h.leftForLtr(Y,S),V=hl(x.borderRadius);i.beginPath(),Object.values(V).some(O=>O!==0)?Bf(i,{x:M,y:N,w:S,h:I,radius:V}):i.rect(M,N,S,I),i.fill(),k!==0&&i.stroke()}i.restore()},L=function(Y,P,x){Uf(i,x.text,Y,P+A/2,f,{strikethrough:x.hidden,textAlign:h.textAlign(x.textAlign)})},U=this.isHorizontal(),B=this._computeTitleHeight();U?T={x:Fn(s,this.left+m,this.right-r[0]),y:this.top+m+B,line:0}:T={x:this.left+m,y:Fn(s,this.top+B+m,this.bottom-t[0].height),line:0},n1(this.ctx,e.textDirection);const Q=A+m;this.legendItems.forEach((Y,P)=>{i.strokeStyle=Y.fontColor,i.fillStyle=Y.fontColor;const x=i.measureText(Y.text).width,k=h.textAlign(Y.textAlign||(Y.textAlign=l.textAlign)),N=S+E+x;let M=T.x,V=T.y;h.setWidth(this.width),U?P>0&&M+N+m>this.right&&(V=T.y+=Q,T.line++,M=T.x=Fn(s,this.left+m,this.right-r[T.line])):P>0&&V+Q>this.bottom&&(M=T.x=M+t[T.line].width+m,T.line++,V=T.y=Fn(s,this.top+B+m,this.bottom-t[T.line].height));const O=h.x(M);if(R(O,V,Y),M=iU(k,M+S+E,U?M+N:this.right,e.rtl),L(h.x(M),V,Y),U)T.x+=N+m;else if(typeof Y.text!="string"){const Me=f.lineHeight;T.y+=g1(Y,Me)+m}else T.y+=Q}),r1(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=dn(t.font),i=ur(t.padding);if(!t.display)return;const s=dl(e.rtl,this.left,this.width),l=this.ctx,u=t.position,h=r.size/2,f=i.top+h;let m,_=this.left,E=this.width;if(this.isHorizontal())E=Math.max(...this.lineWidths),m=this.top+f,_=Fn(e.align,_,this.right-E);else{const S=this.columnSizes.reduce((I,A)=>Math.max(I,A.height),0);m=f+Fn(e.align,this.top,this.bottom-S-e.labels.padding-this._computeTitleHeight())}const T=Fn(u,_,_+E);l.textAlign=s.textAlign(Gx(u)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=r.string,Uf(l,t.text,T,m,r)}_computeTitleHeight(){const e=this.options.title,t=dn(e.font),r=ur(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,s;if($o(e,this.left,this.right)&&$o(t,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],$o(e,i.left,i.left+i.width)&&$o(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!kz(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=Iz(i,r);i&&!s&&tt(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&tt(t.onHover,[e,r,this],this)}else r&&tt(t.onClick,[e,r,this],this)}}function Az(n,e,t,r,i){const s=Cz(r,n,e,t),l=xz(i,r,e.lineHeight);return{itemWidth:s,itemHeight:l}}function Cz(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((s,l)=>s.length>l.length?s:l)),e+t.size/2+r.measureText(i).width}function xz(n,e,t){let r=n;return typeof e.text!="string"&&(r=g1(e,t)),r}function g1(n,e){const t=n.text?n.text.length:0;return e*t}function kz(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var Rz={id:"legend",_element:aS,start(n,e,t){const r=n.legend=new aS({ctx:n.ctx,options:t,chart:n});Ps.configure(n,r,t),Ps.addBox(n,r)},stop(n){Ps.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;Ps.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:s,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(t?0:void 0),m=ur(f.borderWidth);return{text:e[h.index].label,fillStyle:f.backgroundColor,fontColor:s,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:f.borderColor,pointStyle:r||f.pointStyle,rotation:f.rotation,textAlign:i||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const Zu={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,s=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();r.add(h.x),i+=h.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((u,h)=>u+h)/r.size,y:i/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,l,u;for(s=0,l=n.length;s<l;++s){const h=n[s].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),m=Xj(e,f);m<i&&(i=m,u=h)}}if(u){const h=u.tooltipPosition();t=h.x,r=h.y}return{x:t,y:r}}};function Qr(n,e){return e&&(zt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Ri(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function Pz(n,e){const{element:t,datasetIndex:r,index:i}=e,s=n.getDatasetMeta(r).controller,{label:l,value:u}=s.getLabelAndValue(i);return{chart:n,label:l,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:u,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function lS(n,e){const t=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:l,boxHeight:u}=e,h=dn(e.bodyFont),f=dn(e.titleFont),m=dn(e.footerFont),_=s.length,E=i.length,T=r.length,S=ur(e.padding);let I=S.height,A=0,R=r.reduce((B,Q)=>B+Q.before.length+Q.lines.length+Q.after.length,0);if(R+=n.beforeBody.length+n.afterBody.length,_&&(I+=_*f.lineHeight+(_-1)*e.titleSpacing+e.titleMarginBottom),R){const B=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;I+=T*B+(R-T)*h.lineHeight+(R-1)*e.bodySpacing}E&&(I+=e.footerMarginTop+E*m.lineHeight+(E-1)*e.footerSpacing);let L=0;const U=function(B){A=Math.max(A,t.measureText(B).width+L)};return t.save(),t.font=f.string,Ye(n.title,U),t.font=h.string,Ye(n.beforeBody.concat(n.afterBody),U),L=e.displayColors?l+2+e.boxPadding:0,Ye(r,B=>{Ye(B.before,U),Ye(B.lines,U),Ye(B.after,U)}),L=0,t.font=m.string,Ye(n.footer,U),t.restore(),A+=S.width,{width:A,height:I}}function Oz(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function Nz(n,e,t,r){const{x:i,width:s}=r,l=t.caretSize+t.caretPadding;if(n==="left"&&i+s+l>e.width||n==="right"&&i-s-l<0)return!0}function Dz(n,e,t,r){const{x:i,width:s}=t,{width:l,chartArea:{left:u,right:h}}=n;let f="center";return r==="center"?f=i<=(u+h)/2?"left":"right":i<=s/2?f="left":i>=l-s/2&&(f="right"),Nz(f,n,e,t)&&(f="center"),f}function uS(n,e,t){const r=t.yAlign||e.yAlign||Oz(n,t);return{xAlign:t.xAlign||e.xAlign||Dz(n,e,t,r),yAlign:r}}function Mz(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function Lz(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function cS(n,e,t,r){const{caretSize:i,caretPadding:s,cornerRadius:l}=n,{xAlign:u,yAlign:h}=t,f=i+s,{topLeft:m,topRight:_,bottomLeft:E,bottomRight:T}=hl(l);let S=Mz(e,u);const I=Lz(e,h,f);return h==="center"?u==="left"?S+=f:u==="right"&&(S-=f):u==="left"?S-=Math.max(m,E)+i:u==="right"&&(S+=Math.max(_,T)+i),{x:jn(S,0,r.width-e.width),y:jn(I,0,r.height-e.height)}}function Nd(n,e,t){const r=ur(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function hS(n){return Qr([],Ri(n))}function Vz(n,e,t){return zl(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function dS(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const _1={beforeTitle:xi,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:xi,beforeBody:xi,beforeLabel:xi,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return bt(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:xi,afterBody:xi,beforeFooter:xi,footer:xi,afterFooter:xi};function Sn(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?_1[e].call(t,r):i}class H_ extends sa{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,s=new i1(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Vz(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=Sn(r,"beforeTitle",this,e),s=Sn(r,"title",this,e),l=Sn(r,"afterTitle",this,e);let u=[];return u=Qr(u,Ri(i)),u=Qr(u,Ri(s)),u=Qr(u,Ri(l)),u}getBeforeBody(e,t){return hS(Sn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return Ye(e,s=>{const l={before:[],lines:[],after:[]},u=dS(r,s);Qr(l.before,Ri(Sn(u,"beforeLabel",this,s))),Qr(l.lines,Sn(u,"label",this,s)),Qr(l.after,Ri(Sn(u,"afterLabel",this,s))),i.push(l)}),i}getAfterBody(e,t){return hS(Sn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=Sn(r,"beforeFooter",this,e),s=Sn(r,"footer",this,e),l=Sn(r,"afterFooter",this,e);let u=[];return u=Qr(u,Ri(i)),u=Qr(u,Ri(s)),u=Qr(u,Ri(l)),u}_createItems(e){const t=this._active,r=this.chart.data,i=[],s=[],l=[];let u=[],h,f;for(h=0,f=t.length;h<f;++h)u.push(Pz(this.chart,t[h]));return e.filter&&(u=u.filter((m,_,E)=>e.filter(m,_,E,r))),e.itemSort&&(u=u.sort((m,_)=>e.itemSort(m,_,r))),Ye(u,m=>{const _=dS(e.callbacks,m);i.push(Sn(_,"labelColor",this,m)),s.push(Sn(_,"labelPointStyle",this,m)),l.push(Sn(_,"labelTextColor",this,m))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=l,this.dataPoints=u,u}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let s,l=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const u=Zu[r.position].call(this,i,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const h=this._size=lS(this,r),f=Object.assign({},u,h),m=uS(this.chart,r,f),_=cS(r,f,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,s={opacity:1,x:_.x,y:_.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const s=this.getCaretPosition(e,r,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:s}=this,{caretSize:l,cornerRadius:u}=r,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:_}=hl(u),{x:E,y:T}=e,{width:S,height:I}=t;let A,R,L,U,B,Q;return s==="center"?(B=T+I/2,i==="left"?(A=E,R=A-l,U=B+l,Q=B-l):(A=E+S,R=A+l,U=B-l,Q=B+l),L=A):(i==="left"?R=E+Math.max(h,m)+l:i==="right"?R=E+S-Math.max(f,_)-l:R=this.caretX,s==="top"?(U=T,B=U-l,A=R-l,L=R+l):(U=T+I,B=U+l,A=R+l,L=R-l),Q=U),{x1:A,x2:R,x3:L,y1:U,y2:B,y3:Q}}drawTitle(e,t,r){const i=this.title,s=i.length;let l,u,h;if(s){const f=dl(r.rtl,this.x,this.width);for(e.x=Nd(this,r.titleAlign,r),t.textAlign=f.textAlign(r.titleAlign),t.textBaseline="middle",l=dn(r.titleFont),u=r.titleSpacing,t.fillStyle=r.titleColor,t.font=l.string,h=0;h<s;++h)t.fillText(i[h],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,h+1===s&&(e.y+=r.titleMarginBottom-u)}}_drawColorBox(e,t,r,i,s){const l=this.labelColors[r],u=this.labelPointStyles[r],{boxHeight:h,boxWidth:f}=s,m=dn(s.bodyFont),_=Nd(this,"left",s),E=i.x(_),T=h<m.lineHeight?(m.lineHeight-h)/2:0,S=t.y+T;if(s.usePointStyle){const I={radius:Math.min(f,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},A=i.leftForLtr(E,f)+f/2,R=S+h/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,j_(e,I,A,R),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,j_(e,I,A,R)}else{e.lineWidth=We(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const I=i.leftForLtr(E,f),A=i.leftForLtr(i.xPlus(E,1),f-2),R=hl(l.borderRadius);Object.values(R).some(L=>L!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Bf(e,{x:I,y:S,w:f,h,radius:R}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),Bf(e,{x:A,y:S+1,w:f-2,h:h-2,radius:R}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(I,S,f,h),e.strokeRect(I,S,f,h),e.fillStyle=l.backgroundColor,e.fillRect(A,S+1,f-2,h-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:s,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:f,boxPadding:m}=r,_=dn(r.bodyFont);let E=_.lineHeight,T=0;const S=dl(r.rtl,this.x,this.width),I=function(x){t.fillText(x,S.x(e.x+T),e.y+E/2),e.y+=E+s},A=S.textAlign(l);let R,L,U,B,Q,Y,P;for(t.textAlign=l,t.textBaseline="middle",t.font=_.string,e.x=Nd(this,A,r),t.fillStyle=r.bodyColor,Ye(this.beforeBody,I),T=u&&A!=="right"?l==="center"?f/2+m:f+2+m:0,B=0,Y=i.length;B<Y;++B){for(R=i[B],L=this.labelTextColors[B],t.fillStyle=L,Ye(R.before,I),U=R.lines,u&&U.length&&(this._drawColorBox(t,e,B,S,r),E=Math.max(_.lineHeight,h)),Q=0,P=U.length;Q<P;++Q)I(U[Q]),E=_.lineHeight;Ye(R.after,I)}T=0,E=_.lineHeight,Ye(this.afterBody,I),e.y-=s}drawFooter(e,t,r){const i=this.footer,s=i.length;let l,u;if(s){const h=dl(r.rtl,this.x,this.width);for(e.x=Nd(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=h.textAlign(r.footerAlign),t.textBaseline="middle",l=dn(r.footerFont),t.fillStyle=r.footerColor,t.font=l.string,u=0;u<s;++u)t.fillText(i[u],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:s,yAlign:l}=this,{x:u,y:h}=e,{width:f,height:m}=r,{topLeft:_,topRight:E,bottomLeft:T,bottomRight:S}=hl(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(u+_,h),l==="top"&&this.drawCaret(e,t,r,i),t.lineTo(u+f-E,h),t.quadraticCurveTo(u+f,h,u+f,h+E),l==="center"&&s==="right"&&this.drawCaret(e,t,r,i),t.lineTo(u+f,h+m-S),t.quadraticCurveTo(u+f,h+m,u+f-S,h+m),l==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(u+T,h+m),t.quadraticCurveTo(u,h+m,u,h+m-T),l==="center"&&s==="left"&&this.drawCaret(e,t,r,i),t.lineTo(u,h+_),t.quadraticCurveTo(u,h,u+_,h),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const l=Zu[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=lS(this,e),h=Object.assign({},l,this._size),f=uS(t,e,h),m=cS(e,h,f,t);(i._to!==m.x||s._to!==m.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=ur(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,t),n1(e,t.textDirection),s.y+=l.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),r1(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:u,index:h})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[h],index:h}}),s=!Mf(r,i),l=this._positionChanged(i,t);(s||l)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],l=this._getActiveElements(e,s,t,r),u=this._positionChanged(l,e),h=t||!Mf(l,s)||u;return h&&(this._active=l,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:r,caretY:i,options:s}=this,l=Zu[s.position].call(this,e,t);return l!==!1&&(r!==l.x||i!==l.y)}}Pe(H_,"positioners",Zu);var Fz={id:"tooltip",_element:H_,positioners:Zu,afterInit(n,e,t){t&&(n.tooltip=new H_({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:_1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Dp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},kn=Object.keys(Dp);function fS(n,e){return n-e}function pS(n,e){if(bt(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),qi(l)||(l=typeof r=="string"?t.parse(l,r):t.parse(l)),l===null?null:(i&&(l=i==="week"&&($f(s)||s===!0)?t.startOf(l,"isoWeek",s):t.startOf(l,i)),+l)}function mS(n,e,t,r){const i=kn.length;for(let s=kn.indexOf(n);s<i-1;++s){const l=Dp[kn[s]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(u*l.size))<=r)return kn[s]}return kn[i-1]}function $z(n,e,t,r,i){for(let s=kn.length-1;s>=kn.indexOf(t);s--){const l=kn[s];if(Dp[l].common&&n._adapter.diff(i,r,l)>=e-1)return l}return kn[t?kn.indexOf(t):0]}function jz(n){for(let e=kn.indexOf(n)+1,t=kn.length;e<t;++e)if(Dp[kn[e]].common)return kn[e]}function gS(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=yv(t,e),s=t[r]>=e?t[r]:t[i];n[s]=!0}}function Uz(n,e,t,r){const i=n._adapter,s=+i.startOf(e[0].value,r),l=e[e.length-1].value;let u,h;for(u=s;u<=l;u=+i.add(u,1,r))h=t[u],h>=0&&(e[h].major=!0);return e}function _S(n,e,t){const r=[],i={},s=e.length;let l,u;for(l=0;l<s;++l)u=e[l],i[u]=l,r.push({value:u,major:!1});return s===0||!t?r:Uz(n,r,i,t)}class Kf extends Op{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new sB._date(e.adapters.date);i.init(t),uc(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:pS(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:l,maxDefined:u}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(i=Math.min(i,f.min)),!u&&!isNaN(f.max)&&(s=Math.max(s,f.max))}(!l||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),i=qi(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),s=qi(s)&&!isNaN(s)?s:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,l=this.max,u=eU(i,s,l);return this._unit=t.unit||(r.autoSkip?mS(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):$z(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:jz(this._unit),this.initOffsets(i),e.reverse&&u.reverse(),_S(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=jn(t,0,l),r=jn(r,0,l),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,s=i.time,l=s.unit||mS(s.minUnit,t,r,this._getLabelCapacity(t)),u=Qe(i.ticks.stepSize,1),h=l==="week"?s.isoWeekday:!1,f=$f(h)||h===!0,m={};let _=t,E,T;if(f&&(_=+e.startOf(_,"isoWeek",h)),_=+e.startOf(_,f?"day":l),e.diff(r,t,l)>1e5*u)throw new Error(t+" and "+r+" are too far apart with stepSize of "+u+" "+l);const S=i.ticks.source==="data"&&this.getDataTimestamps();for(E=_,T=0;E<r;E=+e.add(E,u,l),T++)gS(m,E,S);return(E===r||i.bounds==="ticks"||T===1)&&gS(m,E,S),Object.keys(m).sort(fS).map(I=>+I)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,s=this._unit,l=t||i[s];return this._adapter.format(e,l)}_tickFormatFunction(e,t,r,i){const s=this.options,l=s.ticks.callback;if(l)return tt(l,[e,t,r],this);const u=s.time.displayFormats,h=this._unit,f=this._majorUnit,m=h&&u[h],_=f&&u[f],E=r[t],T=f&&_&&E&&E.major;return this._adapter.format(e,i||(T?_:m))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=Fo(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(i),l=Math.sin(i),u=this._resolveTickFontOptions(0).size;return{w:r*s+u*l,h:r*l+u*s}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,s=this._tickFormatFunction(e,0,_S(this,[e],this._majorUnit),i),l=this._getLabelSize(s),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(pS(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return nU(e.sort(fS))}}Pe(Kf,"id","time"),Pe(Kf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Dd(n,e,t){let r=0,i=n.length-1,s,l,u,h;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=F_(n,"pos",e)),{pos:s,time:u}=n[r],{pos:l,time:h}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=F_(n,"time",e)),{time:s,pos:u}=n[r],{time:l,pos:h}=n[i]);const f=l-s;return f?u+(h-u)*(e-s)/f:u}class yS extends Kf{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Dd(t,this.min),this._tableRange=Dd(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],s=[];let l,u,h,f,m;for(l=0,u=e.length;l<u;++l)f=e[l],f>=t&&f<=r&&i.push(f);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(l=0,u=i.length;l<u;++l)m=i[l+1],h=i[l-1],f=i[l],Math.round((m+h)/2)!==f&&s.push({time:f,pos:l/(u-1)});return s}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Dd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return Dd(this._table,r*this._tableRange+this._minPos,!0)}}Pe(yS,"id","timeseries"),Pe(yS,"defaults",Kf.defaults);const y1="label";function vS(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function Bz(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function v1(n,e){n.labels=e}function E1(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y1;const r=[];n.datasets=e.map(i=>{const s=n.datasets.find(l=>l[t]===i[t]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function zz(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y1;const t={labels:[],datasets:[]};return v1(t,n.labels),E1(t,n.datasets,e),t}function Hz(n,e){const{height:t=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:l,data:u,options:h,plugins:f=[],fallbackContent:m,updateMode:_,...E}=n,T=W.useRef(null),S=W.useRef(null),I=()=>{T.current&&(S.current=new Np(T.current,{type:l,data:zz(u,s),options:h&&{...h},plugins:f}),vS(e,S.current))},A=()=>{vS(e,null),S.current&&(S.current.destroy(),S.current=null)};return W.useEffect(()=>{!i&&S.current&&h&&Bz(S.current,h)},[i,h]),W.useEffect(()=>{!i&&S.current&&v1(S.current.config.data,u.labels)},[i,u.labels]),W.useEffect(()=>{!i&&S.current&&u.datasets&&E1(S.current.config.data,u.datasets,s)},[i,u.datasets]),W.useEffect(()=>{S.current&&(i?(A(),setTimeout(I)):S.current.update(_))},[i,h,u.labels,u.datasets,_]),W.useEffect(()=>{S.current&&(A(),setTimeout(I))},[l]),W.useEffect(()=>(I(),()=>A()),[]),Mi.createElement("canvas",{ref:T,role:"img",height:t,width:r,...E},m)}const Wz=W.forwardRef(Hz);function Kz(n,e){return Np.register(e),W.forwardRef((t,r)=>Mi.createElement(Wz,{...t,ref:r,type:n}))}const ES=Kz("pie",U_);/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var wS=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var n=window.screen;if(n)return(n.deviceXDPI||1)/(n.logicalXDPI||1)}return 1}(),fc={toTextLines:function(n){var e=[],t;for(n=[].concat(n);n.length;)t=n.pop(),typeof t=="string"?e.unshift.apply(e,t.split(`
`)):Array.isArray(t)?n.push.apply(n,t):bt(n)||e.unshift(""+t);return e},textSize:function(n,e,t){var r=[].concat(e),i=r.length,s=n.font,l=0,u;for(n.font=t.string,u=0;u<i;++u)l=Math.max(n.measureText(r[u]).width,l);return n.font=s,{height:i*t.lineHeight,width:l}},bound:function(n,e,t){return Math.max(n,Math.min(e,t))},arrayDiff:function(n,e){var t=n.slice(),r=[],i,s,l,u;for(i=0,l=e.length;i<l;++i)u=e[i],s=t.indexOf(u),s===-1?r.push([u,1]):t.splice(s,1);for(i=0,l=t.length;i<l;++i)r.push([t[i],-1]);return r},rasterize:function(n){return Math.round(n*wS)/wS}};function e_(n,e){var t=e.x,r=e.y;if(t===null)return{x:0,y:-1};if(r===null)return{x:1,y:0};var i=n.x-t,s=n.y-r,l=Math.sqrt(i*i+s*s);return{x:l?i/l:0,y:l?s/l:-1}}function qz(n,e,t,r,i){switch(i){case"center":t=r=0;break;case"bottom":t=0,r=1;break;case"right":t=1,r=0;break;case"left":t=-1,r=0;break;case"top":t=0,r=-1;break;case"start":t=-t,r=-r;break;case"end":break;default:i*=Math.PI/180,t=Math.cos(i),r=Math.sin(i);break}return{x:n,y:e,vx:t,vy:r}}var Gz=0,w1=1,T1=2,b1=4,S1=8;function Md(n,e,t){var r=Gz;return n<t.left?r|=w1:n>t.right&&(r|=T1),e<t.top?r|=S1:e>t.bottom&&(r|=b1),r}function Yz(n,e){for(var t=n.x0,r=n.y0,i=n.x1,s=n.y1,l=Md(t,r,e),u=Md(i,s,e),h,f,m;!(!(l|u)||l&u);)h=l||u,h&S1?(f=t+(i-t)*(e.top-r)/(s-r),m=e.top):h&b1?(f=t+(i-t)*(e.bottom-r)/(s-r),m=e.bottom):h&T1?(m=r+(s-r)*(e.right-t)/(i-t),f=e.right):h&w1&&(m=r+(s-r)*(e.left-t)/(i-t),f=e.left),h===l?(t=f,r=m,l=Md(t,r,e)):(i=f,s=m,u=Md(i,s,e));return{x0:t,x1:i,y0:r,y1:s}}function Ld(n,e){var t=e.anchor,r=n,i,s;return e.clamp&&(r=Yz(r,e.area)),t==="start"?(i=r.x0,s=r.y0):t==="end"?(i=r.x1,s=r.y1):(i=(r.x0+r.x1)/2,s=(r.y0+r.y1)/2),qz(i,s,n.vx,n.vy,e.align)}var Vd={arc:function(n,e){var t=(n.startAngle+n.endAngle)/2,r=Math.cos(t),i=Math.sin(t),s=n.innerRadius,l=n.outerRadius;return Ld({x0:n.x+r*s,y0:n.y+i*s,x1:n.x+r*l,y1:n.y+i*l,vx:r,vy:i},e)},point:function(n,e){var t=e_(n,e.origin),r=t.x*n.options.radius,i=t.y*n.options.radius;return Ld({x0:n.x-r,y0:n.y-i,x1:n.x+r,y1:n.y+i,vx:t.x,vy:t.y},e)},bar:function(n,e){var t=e_(n,e.origin),r=n.x,i=n.y,s=0,l=0;return n.horizontal?(r=Math.min(n.x,n.base),s=Math.abs(n.base-n.x)):(i=Math.min(n.y,n.base),l=Math.abs(n.base-n.y)),Ld({x0:r,y0:i+l,x1:r+s,y1:i,vx:t.x,vy:t.y},e)},fallback:function(n,e){var t=e_(n,e.origin);return Ld({x0:n.x,y0:n.y,x1:n.x+(n.width||0),y1:n.y+(n.height||0),vx:t.x,vy:t.y},e)}},Di=fc.rasterize;function Qz(n){var e=n.borderWidth||0,t=n.padding,r=n.size.height,i=n.size.width,s=-i/2,l=-r/2;return{frame:{x:s-t.left-e,y:l-t.top-e,w:i+t.width+e*2,h:r+t.height+e*2},text:{x:s,y:l,w:i,h:r}}}function Xz(n,e){var t=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!t)return null;if(t.xCenter!==void 0&&t.yCenter!==void 0)return{x:t.xCenter,y:t.yCenter};var r=t.getBasePixel();return n.horizontal?{x:r,y:null}:{x:null,y:r}}function Jz(n){return n instanceof ol?Vd.arc:n instanceof rf?Vd.point:n instanceof sf?Vd.bar:Vd.fallback}function Zz(n,e,t,r,i,s){var l=Math.PI/2;if(s){var u=Math.min(s,i/2,r/2),h=e+u,f=t+u,m=e+r-u,_=t+i-u;n.moveTo(e,f),h<m&&f<_?(n.arc(h,f,u,-Math.PI,-l),n.arc(m,f,u,-l,0),n.arc(m,_,u,0,l),n.arc(h,_,u,l,Math.PI)):h<m?(n.moveTo(h,t),n.arc(m,f,u,-l,l),n.arc(h,f,u,l,Math.PI+l)):f<_?(n.arc(h,f,u,-Math.PI,0),n.arc(h,_,u,0,Math.PI)):n.arc(h,f,u,-Math.PI,Math.PI),n.closePath(),n.moveTo(e,t)}else n.rect(e,t,r,i)}function e9(n,e,t){var r=t.backgroundColor,i=t.borderColor,s=t.borderWidth;!r&&(!i||!s)||(n.beginPath(),Zz(n,Di(e.x)+s/2,Di(e.y)+s/2,Di(e.w)-s,Di(e.h)-s,t.borderRadius),n.closePath(),r&&(n.fillStyle=r,n.fill()),i&&s&&(n.strokeStyle=i,n.lineWidth=s,n.lineJoin="miter",n.stroke()))}function t9(n,e,t){var r=t.lineHeight,i=n.w,s=n.x,l=n.y+r/2;return e==="center"?s+=i/2:(e==="end"||e==="right")&&(s+=i),{h:r,w:i,x:s,y:l}}function n9(n,e,t){var r=n.shadowBlur,i=t.stroked,s=Di(t.x),l=Di(t.y),u=Di(t.w);i&&n.strokeText(e,s,l,u),t.filled&&(r&&i&&(n.shadowBlur=0),n.fillText(e,s,l,u),r&&i&&(n.shadowBlur=r))}function r9(n,e,t,r){var i=r.textAlign,s=r.color,l=!!s,u=r.font,h=e.length,f=r.textStrokeColor,m=r.textStrokeWidth,_=f&&m,E;if(!(!h||!l&&!_))for(t=t9(t,i,u),n.font=u.string,n.textAlign=i,n.textBaseline="middle",n.shadowBlur=r.textShadowBlur,n.shadowColor=r.textShadowColor,l&&(n.fillStyle=s),_&&(n.lineJoin="round",n.lineWidth=m,n.strokeStyle=f),E=0,h=e.length;E<h;++E)n9(n,e[E],{stroked:_,filled:l,w:t.w,x:t.x,y:t.y+t.h*E})}var I1=function(n,e,t,r){var i=this;i._config=n,i._index=r,i._model=null,i._rects=null,i._ctx=e,i._el=t};hi(I1.prototype,{_modelize:function(n,e,t,r){var i=this,s=i._index,l=dn(ut([t.font,{}],r,s)),u=ut([t.color,vt.color],r,s);return{align:ut([t.align,"center"],r,s),anchor:ut([t.anchor,"center"],r,s),area:r.chart.chartArea,backgroundColor:ut([t.backgroundColor,null],r,s),borderColor:ut([t.borderColor,null],r,s),borderRadius:ut([t.borderRadius,0],r,s),borderWidth:ut([t.borderWidth,0],r,s),clamp:ut([t.clamp,!1],r,s),clip:ut([t.clip,!1],r,s),color:u,display:n,font:l,lines:e,offset:ut([t.offset,4],r,s),opacity:ut([t.opacity,1],r,s),origin:Xz(i._el,r),padding:ur(ut([t.padding,4],r,s)),positioner:Jz(i._el),rotation:ut([t.rotation,0],r,s)*(Math.PI/180),size:fc.textSize(i._ctx,e,l),textAlign:ut([t.textAlign,"start"],r,s),textShadowBlur:ut([t.textShadowBlur,0],r,s),textShadowColor:ut([t.textShadowColor,u],r,s),textStrokeColor:ut([t.textStrokeColor,u],r,s),textStrokeWidth:ut([t.textStrokeWidth,0],r,s)}},update:function(n){var e=this,t=null,r=null,i=e._index,s=e._config,l,u,h,f=ut([s.display,!0],n,i);f&&(l=n.dataset.data[i],u=Qe(tt(s.formatter,[l,n]),l),h=bt(u)?[]:fc.toTextLines(u),h.length&&(t=e._modelize(f,h,s,n),r=Qz(t))),e._model=t,e._rects=r},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(n,e){var t=this,r=n.ctx,i=t._model,s=t._rects,l;this.visible()&&(r.save(),i.clip&&(l=i.area,r.beginPath(),r.rect(l.left,l.top,l.right-l.left,l.bottom-l.top),r.clip()),r.globalAlpha=fc.bound(0,i.opacity,1),r.translate(Di(e.x),Di(e.y)),r.rotate(i.rotation),e9(r,s.frame,i),r9(r,i.lines,s.text,i),r.restore())}});var i9=Number.MIN_SAFE_INTEGER||-9007199254740991,s9=Number.MAX_SAFE_INTEGER||9007199254740991;function Hu(n,e,t){var r=Math.cos(t),i=Math.sin(t),s=e.x,l=e.y;return{x:s+r*(n.x-s)-i*(n.y-l),y:l+i*(n.x-s)+r*(n.y-l)}}function TS(n,e){var t=s9,r=i9,i=e.origin,s,l,u,h,f;for(s=0;s<n.length;++s)l=n[s],u=l.x-i.x,h=l.y-i.y,f=e.vx*u+e.vy*h,t=Math.min(t,f),r=Math.max(r,f);return{min:t,max:r}}function Fd(n,e){var t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);return{vx:(e.x-n.x)/i,vy:(e.y-n.y)/i,origin:n,ln:i}}var A1=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};hi(A1.prototype,{center:function(){var n=this._rect;return{x:n.x+n.w/2,y:n.y+n.h/2}},update:function(n,e,t){this._rotation=t,this._rect={x:e.x+n.x,y:e.y+n.y,w:e.w,h:e.h}},contains:function(n){var e=this,t=1,r=e._rect;return n=Hu(n,e.center(),-e._rotation),!(n.x<r.x-t||n.y<r.y-t||n.x>r.x+r.w+t*2||n.y>r.y+r.h+t*2)},intersects:function(n){var e=this._points(),t=n._points(),r=[Fd(e[0],e[1]),Fd(e[0],e[3])],i,s,l;for(this._rotation!==n._rotation&&r.push(Fd(t[0],t[1]),Fd(t[0],t[3])),i=0;i<r.length;++i)if(s=TS(e,r[i]),l=TS(t,r[i]),s.max<l.min||l.max<s.min)return!1;return!0},_points:function(){var n=this,e=n._rect,t=n._rotation,r=n.center();return[Hu({x:e.x,y:e.y},r,t),Hu({x:e.x+e.w,y:e.y},r,t),Hu({x:e.x+e.w,y:e.y+e.h},r,t),Hu({x:e.x,y:e.y+e.h},r,t)]}});function C1(n,e,t){var r=e.positioner(n,e),i=r.vx,s=r.vy;if(!i&&!s)return{x:r.x,y:r.y};var l=t.w,u=t.h,h=e.rotation,f=Math.abs(l/2*Math.cos(h))+Math.abs(u/2*Math.sin(h)),m=Math.abs(l/2*Math.sin(h))+Math.abs(u/2*Math.cos(h)),_=1/Math.max(Math.abs(i),Math.abs(s));return f*=i*_,m*=s*_,f+=e.offset*i,m+=e.offset*s,{x:r.x+f,y:r.y+m}}function o9(n,e){var t,r,i,s;for(t=n.length-1;t>=0;--t)for(i=n[t].$layout,r=t-1;r>=0&&i._visible;--r)s=n[r].$layout,s._visible&&i._box.intersects(s._box)&&e(i,s);return n}function a9(n){var e,t,r,i,s,l,u;for(e=0,t=n.length;e<t;++e)r=n[e],i=r.$layout,i._visible&&(u=new Proxy(r._el,{get:(h,f)=>h.getProps([f],!0)[f]}),s=r.geometry(),l=C1(u,r.model(),s),i._box.update(l,s,r.rotation()));return o9(n,function(h,f){var m=h._hidable,_=f._hidable;m&&_||_?f._visible=!1:m&&(h._visible=!1)})}var pc={prepare:function(n){var e=[],t,r,i,s,l;for(t=0,i=n.length;t<i;++t)for(r=0,s=n[t].length;r<s;++r)l=n[t][r],e.push(l),l.$layout={_box:new A1,_hidable:!1,_visible:!0,_set:t,_idx:l._index};return e.sort(function(u,h){var f=u.$layout,m=h.$layout;return f._idx===m._idx?m._set-f._set:m._idx-f._idx}),this.update(e),e},update:function(n){var e=!1,t,r,i,s,l;for(t=0,r=n.length;t<r;++t)i=n[t],s=i.model(),l=i.$layout,l._hidable=s&&s.display==="auto",l._visible=i.visible(),e|=l._hidable;e&&a9(n)},lookup:function(n,e){var t,r;for(t=n.length-1;t>=0;--t)if(r=n[t].$layout,r&&r._visible&&r._box.contains(e))return n[t];return null},draw:function(n,e){var t,r,i,s,l,u;for(t=0,r=e.length;t<r;++t)i=e[t],s=i.$layout,s._visible&&(l=i.geometry(),u=C1(i._el,i.model(),l),s._box.update(u,l,i.rotation()),i.draw(n,u))}},l9=function(n){if(bt(n))return null;var e=n,t,r,i;if(We(n))if(!bt(n.label))e=n.label;else if(!bt(n.r))e=n.r;else for(e="",t=Object.keys(n),i=0,r=t.length;i<r;++i)e+=(i!==0?", ":"")+t[i]+": "+n[t[i]];return""+e},u9={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:l9,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},In="$datalabels",x1="$default";function c9(n,e){var t=n.datalabels,r={},i=[],s,l;return t===!1?null:(t===!0&&(t={}),e=hi({},[e,t]),s=e.labels||{},l=Object.keys(s),delete e.labels,l.length?l.forEach(function(u){s[u]&&i.push(hi({},[e,s[u],{_key:u}]))}):i.push(e),r=i.reduce(function(u,h){return Ye(h.listeners||{},function(f,m){u[m]=u[m]||{},u[m][h._key||x1]=f}),delete h.listeners,u},{}),{labels:i,listeners:r})}function W_(n,e,t,r){if(e){var i=t.$context,s=t.$groups,l;e[s._set]&&(l=e[s._set][s._key],l&&tt(l,[i,r])===!0&&(n[In]._dirty=!0,t.update(i)))}}function h9(n,e,t,r,i){var s,l;!t&&!r||(t?r?t!==r&&(l=s=!0):l=!0:s=!0,l&&W_(n,e.leave,t,i),s&&W_(n,e.enter,r,i))}function d9(n,e){var t=n[In],r=t._listeners,i,s;if(!(!r.enter&&!r.leave)){if(e.type==="mousemove")s=pc.lookup(t._labels,e);else if(e.type!=="mouseout")return;i=t._hovered,t._hovered=s,h9(n,r,i,s,e)}}function f9(n,e){var t=n[In],r=t._listeners.click,i=r&&pc.lookup(t._labels,e);i&&W_(n,r,i,e)}var p9={id:"datalabels",defaults:u9,beforeInit:function(n){n[In]={_actives:[]}},beforeUpdate:function(n){var e=n[In];e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(n,e,t){var r=e.index,i=n[In],s=i._datasets[r]=[],l=n.isDatasetVisible(r),u=n.data.datasets[r],h=c9(u,t),f=e.meta.data||[],m=n.ctx,_,E,T,S,I,A,R,L;for(m.save(),_=0,T=f.length;_<T;++_)if(R=f[_],R[In]=[],l&&R&&n.getDataVisibility(_)&&!R.skip)for(E=0,S=h.labels.length;E<S;++E)I=h.labels[E],A=I._key,L=new I1(I,m,R,_),L.$groups={_set:r,_key:A||x1},L.$context={active:!1,chart:n,dataIndex:_,dataset:u,datasetIndex:r},L.update(L.$context),R[In].push(L),s.push(L);m.restore(),hi(i._listeners,h.listeners,{merger:function(U,B,Q){B[U]=B[U]||{},B[U][e.index]=Q[U],i._listened=!0}})},afterUpdate:function(n){n[In]._labels=pc.prepare(n[In]._datasets)},afterDatasetsDraw:function(n){pc.draw(n,n[In]._labels)},beforeEvent:function(n,e){if(n[In]._listened){var t=e.event;switch(t.type){case"mousemove":case"mouseout":d9(n,t);break;case"click":f9(n,t);break}}},afterEvent:function(n){var e=n[In],t=e._actives,r=e._actives=n.getActiveElements(),i=fc.arrayDiff(t,r),s,l,u,h,f,m,_;for(s=0,l=i.length;s<l;++s)if(f=i[s],f[1])for(_=f[0].element[In]||[],u=0,h=_.length;u<h;++u)m=_[u],m.$context.active=f[1]===1,m.update(m.$context);(e._dirty||i.length)&&(pc.update(e._labels),n.render()),delete e._dirty}};Np.register(ol,Fz,Rz,p9);function m9({email:n}){const[e,t]=W.useState({bio:{spravne:0,nespravne:0},che:{spravne:0,nespravne:0}});W.useEffect(()=>{async function s(){const l=["bio","che"],u={};for(const h of l){const f=zy(MC,"users",n,"tests",h),m=await NC(f);if(m.exists()){const _=m.data(),E=(_==null?void 0:_.odpovede)??[];let T=0,S=0;E.forEach(I=>{(I==null?void 0:I.spravna)===!0?T++:S++}),u[h]={spravne:T,nespravne:S}}else u[h]={spravne:0,nespravne:0}}t(u)}n&&s()},[n]);const r={labels:["Správne","Nesprávne"],datasets:[{label:"Bio odpovede",data:[e.bio.spravne,e.bio.nespravne],backgroundColor:["#43a047","#ef5350"],hoverOffset:25,offset:15}]},i={labels:["Správne","Nesprávne"],datasets:[{label:"Che odpovede",data:[e.che.spravne,e.che.nespravne],backgroundColor:["#43a047","#ef5350"],hoverOffset:25,offset:15}]};return X.jsx("div",{className:"modal fade",id:"scrollableModal",tabIndex:"-1","aria-labelledby":"scrollableModalLabel","aria-hidden":"true",children:X.jsx("div",{className:"modal-dialog modal-dialog-scrollable modal-xl",children:X.jsxs("div",{className:"modal-content modalStyle text-light",children:[X.jsxs("div",{className:"modal-header border-secondary",children:[X.jsx("h5",{className:"modal-title",id:"scrollableModalLabel",children:"Štatistika"}),X.jsx("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Zavrieť"})]}),X.jsxs("div",{className:"modal-body",children:[X.jsxs("div",{className:"text-center",children:[X.jsx("h6",{children:"Biológia"}),X.jsx("div",{className:"pieGraph",children:X.jsx(ES,{data:r,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:"white"}},datalabels:{color:"black",font:{weight:"bold",size:20},formatter:(s,l)=>s}}}})})]}),X.jsx("hr",{}),X.jsxs("div",{className:"text-center",children:[X.jsx("h6",{children:"Chémia"}),X.jsx("div",{className:"pieGraph",children:X.jsx(ES,{data:i,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:"white"}},datalabels:{color:"black",font:{weight:"bold",size:20},formatter:(s,l)=>s}}}})})]})]}),X.jsx("div",{className:"modal-footer border-secondary",children:X.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Zavrieť"})})]})})})}function g9({user:n}){const e=Gf(),[t,r]=W.useState(!1),i=async()=>{try{await II(Tl),e("/",{replace:!0})}catch(s){console.error("Chyba pri odhlaseni:",s)}};return X.jsxs("div",{children:[X.jsxs("div",{className:"loginMenu",children:[X.jsxs("h5",{className:"welcomeMsg pt-1 m-0",children:["Vitaj ",n.displayName]}),X.jsxs("button",{type:"button",className:`btn ${t?"btn-dark":"btn-light"} d-flex  align-items-center gap-1 ms-2`,onClick:i,children:[X.jsx(c4,{size:20}),"Odhlásiť sa"]}),X.jsx("button",{"data-bs-toggle":"modal","data-bs-target":"#scrollableModal",className:`btn ${t?"btn-dark":"btn-light"} d-flex  align-items-center gap-1 ms-2`,children:X.jsx(d4,{size:25})})]}),X.jsx(m9,{email:n.email}),X.jsx(gj,{mode:t,user:n,setMode:r}),X.jsx(_j,{})]})}function _9(){const[n,e]=W.useState(null),[t,r]=W.useState(!0);return W.useEffect(()=>SI(Tl,s=>{e(s),r(!1)}),[]),t?X.jsx("div",{children:"Načítavam..."}):X.jsxs(MR,{children:[X.jsx(jd,{path:"/",element:X.jsx(h4,{})}),X.jsx(jd,{path:"/register",element:X.jsx(p4,{})}),X.jsx(jd,{path:"/test",element:n?X.jsx(g9,{user:n}):X.jsx(NR,{to:"/",replace:!0})})]})}zk.createRoot(document.getElementById("root")).render(X.jsx(W.StrictMode,{children:X.jsx(sP,{basename:"/medTest",children:X.jsx(_9,{})})}));
