(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function eA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Mf={exports:{}},Pl={},Vf={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function tA(){if(Tv)return xe;Tv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),I=Symbol.iterator;function T(V){return V===null||typeof V!="object"?null:(V=I&&V[I]||V["@@iterator"],typeof V=="function"?V:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,F={};function L(V,K,ge){this.props=V,this.context=K,this.refs=F,this.updater=ge||k}L.prototype.isReactComponent={},L.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},L.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function H(){}H.prototype=L.prototype;function q(V,K,ge){this.props=V,this.context=K,this.refs=F,this.updater=ge||k}var X=q.prototype=new H;X.constructor=q,b(X,L.prototype),X.isPureReactComponent=!0;var Y=Array.isArray,ue=Object.prototype.hasOwnProperty,ne={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function S(V,K,ge){var se,he={},ce=null,we=null;if(K!=null)for(se in K.ref!==void 0&&(we=K.ref),K.key!==void 0&&(ce=""+K.key),K)ue.call(K,se)&&!P.hasOwnProperty(se)&&(he[se]=K[se]);var Re=arguments.length-2;if(Re===1)he.children=ge;else if(1<Re){for(var Oe=Array(Re),Ge=0;Ge<Re;Ge++)Oe[Ge]=arguments[Ge+2];he.children=Oe}if(V&&V.defaultProps)for(se in Re=V.defaultProps,Re)he[se]===void 0&&(he[se]=Re[se]);return{$$typeof:n,type:V,key:ce,ref:we,props:he,_owner:ne.current}}function A(V,K){return{$$typeof:n,type:V.type,key:K,ref:V.ref,props:V.props,_owner:V._owner}}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function x(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ge){return K[ge]})}var M=/\/+/g;function R(V,K){return typeof V=="object"&&V!==null&&V.key!=null?x(""+V.key):K.toString(36)}function He(V,K,ge,se,he){var ce=typeof V;(ce==="undefined"||ce==="boolean")&&(V=null);var we=!1;if(V===null)we=!0;else switch(ce){case"string":case"number":we=!0;break;case"object":switch(V.$$typeof){case n:case e:we=!0}}if(we)return we=V,he=he(we),V=se===""?"."+R(we,0):se,Y(he)?(ge="",V!=null&&(ge=V.replace(M,"$&/")+"/"),He(he,K,ge,"",function(Ge){return Ge})):he!=null&&(N(he)&&(he=A(he,ge+(!he.key||we&&we.key===he.key?"":(""+he.key).replace(M,"$&/")+"/")+V)),K.push(he)),1;if(we=0,se=se===""?".":se+":",Y(V))for(var Re=0;Re<V.length;Re++){ce=V[Re];var Oe=se+R(ce,Re);we+=He(ce,K,ge,Oe,he)}else if(Oe=T(V),typeof Oe=="function")for(V=Oe.call(V),Re=0;!(ce=V.next()).done;)ce=ce.value,Oe=se+R(ce,Re++),we+=He(ce,K,ge,Oe,he);else if(ce==="object")throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return we}function Ke(V,K,ge){if(V==null)return V;var se=[],he=0;return He(V,se,"","",function(ce){return K.call(ge,ce,he++)}),se}function Be(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(ge){(V._status===0||V._status===-1)&&(V._status=1,V._result=ge)},function(ge){(V._status===0||V._status===-1)&&(V._status=2,V._result=ge)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var Ne={current:null},ie={transition:null},me={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:ie,ReactCurrentOwner:ne};function ae(){throw Error("act(...) is not supported in production builds of React.")}return xe.Children={map:Ke,forEach:function(V,K,ge){Ke(V,function(){K.apply(this,arguments)},ge)},count:function(V){var K=0;return Ke(V,function(){K++}),K},toArray:function(V){return Ke(V,function(K){return K})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},xe.Component=L,xe.Fragment=t,xe.Profiler=o,xe.PureComponent=q,xe.StrictMode=i,xe.Suspense=p,xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,xe.act=ae,xe.cloneElement=function(V,K,ge){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var se=b({},V.props),he=V.key,ce=V.ref,we=V._owner;if(K!=null){if(K.ref!==void 0&&(ce=K.ref,we=ne.current),K.key!==void 0&&(he=""+K.key),V.type&&V.type.defaultProps)var Re=V.type.defaultProps;for(Oe in K)ue.call(K,Oe)&&!P.hasOwnProperty(Oe)&&(se[Oe]=K[Oe]===void 0&&Re!==void 0?Re[Oe]:K[Oe])}var Oe=arguments.length-2;if(Oe===1)se.children=ge;else if(1<Oe){Re=Array(Oe);for(var Ge=0;Ge<Oe;Ge++)Re[Ge]=arguments[Ge+2];se.children=Re}return{$$typeof:n,type:V.type,key:he,ref:ce,props:se,_owner:we}},xe.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},xe.createElement=S,xe.createFactory=function(V){var K=S.bind(null,V);return K.type=V,K},xe.createRef=function(){return{current:null}},xe.forwardRef=function(V){return{$$typeof:d,render:V}},xe.isValidElement=N,xe.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:Be}},xe.memo=function(V,K){return{$$typeof:_,type:V,compare:K===void 0?null:K}},xe.startTransition=function(V){var K=ie.transition;ie.transition={};try{V()}finally{ie.transition=K}},xe.unstable_act=ae,xe.useCallback=function(V,K){return Ne.current.useCallback(V,K)},xe.useContext=function(V){return Ne.current.useContext(V)},xe.useDebugValue=function(){},xe.useDeferredValue=function(V){return Ne.current.useDeferredValue(V)},xe.useEffect=function(V,K){return Ne.current.useEffect(V,K)},xe.useId=function(){return Ne.current.useId()},xe.useImperativeHandle=function(V,K,ge){return Ne.current.useImperativeHandle(V,K,ge)},xe.useInsertionEffect=function(V,K){return Ne.current.useInsertionEffect(V,K)},xe.useLayoutEffect=function(V,K){return Ne.current.useLayoutEffect(V,K)},xe.useMemo=function(V,K){return Ne.current.useMemo(V,K)},xe.useReducer=function(V,K,ge){return Ne.current.useReducer(V,K,ge)},xe.useRef=function(V){return Ne.current.useRef(V)},xe.useState=function(V){return Ne.current.useState(V)},xe.useSyncExternalStore=function(V,K,ge){return Ne.current.useSyncExternalStore(V,K,ge)},xe.useTransition=function(){return Ne.current.useTransition()},xe.version="18.3.1",xe}var Iv;function rm(){return Iv||(Iv=1,Vf.exports=tA()),Vf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function nA(){if(Sv)return Pl;Sv=1;var n=rm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,_){var y,I={},T=null,k=null;_!==void 0&&(T=""+_),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(k=p.ref);for(y in p)i.call(p,y)&&!a.hasOwnProperty(y)&&(I[y]=p[y]);if(d&&d.defaultProps)for(y in p=d.defaultProps,p)I[y]===void 0&&(I[y]=p[y]);return{$$typeof:e,type:d,key:T,ref:k,props:I,_owner:o.current}}return Pl.Fragment=t,Pl.jsx=c,Pl.jsxs=c,Pl}var Av;function rA(){return Av||(Av=1,Mf.exports=nA()),Mf.exports}var Q=rA(),B=rm();const zs=eA(B);var Dc={},Ff={exports:{}},on={},$f={exports:{}},Uf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function iA(){return Cv||(Cv=1,function(n){function e(ie,me){var ae=ie.length;ie.push(me);e:for(;0<ae;){var V=ae-1>>>1,K=ie[V];if(0<o(K,me))ie[V]=me,ie[ae]=K,ae=V;else break e}}function t(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var me=ie[0],ae=ie.pop();if(ae!==me){ie[0]=ae;e:for(var V=0,K=ie.length,ge=K>>>1;V<ge;){var se=2*(V+1)-1,he=ie[se],ce=se+1,we=ie[ce];if(0>o(he,ae))ce<K&&0>o(we,he)?(ie[V]=we,ie[ce]=ae,V=ce):(ie[V]=he,ie[se]=ae,V=se);else if(ce<K&&0>o(we,ae))ie[V]=we,ie[ce]=ae,V=ce;else break e}}return me}function o(ie,me){var ae=ie.sortIndex-me.sortIndex;return ae!==0?ae:ie.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],_=[],y=1,I=null,T=3,k=!1,b=!1,F=!1,L=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function X(ie){for(var me=t(_);me!==null;){if(me.callback===null)i(_);else if(me.startTime<=ie)i(_),me.sortIndex=me.expirationTime,e(p,me);else break;me=t(_)}}function Y(ie){if(F=!1,X(ie),!b)if(t(p)!==null)b=!0,Be(ue);else{var me=t(_);me!==null&&Ne(Y,me.startTime-ie)}}function ue(ie,me){b=!1,F&&(F=!1,H(S),S=-1),k=!0;var ae=T;try{for(X(me),I=t(p);I!==null&&(!(I.expirationTime>me)||ie&&!x());){var V=I.callback;if(typeof V=="function"){I.callback=null,T=I.priorityLevel;var K=V(I.expirationTime<=me);me=n.unstable_now(),typeof K=="function"?I.callback=K:I===t(p)&&i(p),X(me)}else i(p);I=t(p)}if(I!==null)var ge=!0;else{var se=t(_);se!==null&&Ne(Y,se.startTime-me),ge=!1}return ge}finally{I=null,T=ae,k=!1}}var ne=!1,P=null,S=-1,A=5,N=-1;function x(){return!(n.unstable_now()-N<A)}function M(){if(P!==null){var ie=n.unstable_now();N=ie;var me=!0;try{me=P(!0,ie)}finally{me?R():(ne=!1,P=null)}}else ne=!1}var R;if(typeof q=="function")R=function(){q(M)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,Ke=He.port2;He.port1.onmessage=M,R=function(){Ke.postMessage(null)}}else R=function(){L(M,0)};function Be(ie){P=ie,ne||(ne=!0,R())}function Ne(ie,me){S=L(function(){ie(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){b||k||(b=!0,Be(ue))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ie){switch(T){case 1:case 2:case 3:var me=3;break;default:me=T}var ae=T;T=me;try{return ie()}finally{T=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,me){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ae=T;T=ie;try{return me()}finally{T=ae}},n.unstable_scheduleCallback=function(ie,me,ae){var V=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?V+ae:V):ae=V,ie){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ae+K,ie={id:y++,callback:me,priorityLevel:ie,startTime:ae,expirationTime:K,sortIndex:-1},ae>V?(ie.sortIndex=ae,e(_,ie),t(p)===null&&ie===t(_)&&(F?(H(S),S=-1):F=!0,Ne(Y,ae-V))):(ie.sortIndex=K,e(p,ie),b||k||(b=!0,Be(ue))),ie},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(ie){var me=T;return function(){var ae=T;T=me;try{return ie.apply(this,arguments)}finally{T=ae}}}}(Uf)),Uf}var Rv;function sA(){return Rv||(Rv=1,$f.exports=iA()),$f.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function oA(){if(Pv)return on;Pv=1;var n=rm(),e=sA();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},I={};function T(r){return p.call(I,r)?!0:p.call(y,r)?!1:_.test(r)?I[r]=!0:(y[r]=!0,!1)}function k(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,s,l,h){if(s===null||typeof s>"u"||k(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function F(r,s,l,h,f,g,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=E}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){L[r]=new F(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];L[s]=new F(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){L[r]=new F(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){L[r]=new F(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){L[r]=new F(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){L[r]=new F(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){L[r]=new F(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){L[r]=new F(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){L[r]=new F(r,5,!1,r.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function q(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(H,q);L[s]=new F(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(H,q);L[s]=new F(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(H,q);L[s]=new F(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){L[r]=new F(r,1,!1,r.toLowerCase(),null,!1,!1)}),L.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){L[r]=new F(r,1,!1,r.toLowerCase(),null,!0,!0)});function X(r,s,l,h){var f=L.hasOwnProperty(s)?L[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b(s,l,f,h)&&(l=null),h||f===null?T(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,h=f.attributeNamespace,l===null?r.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var Y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ue=Symbol.for("react.element"),ne=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),x=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),He=Symbol.for("react.suspense_list"),Ke=Symbol.for("react.memo"),Be=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),ie=Symbol.iterator;function me(r){return r===null||typeof r!="object"?null:(r=ie&&r[ie]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Object.assign,V;function K(r){if(V===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);V=s&&s[1]||""}return`
`+V+r}var ge=!1;function se(r,s){if(!r||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(z){var h=z}Reflect.construct(r,[],s)}else{try{s.call()}catch(z){h=z}r.call(s.prototype)}else{try{throw Error()}catch(z){h=z}r()}}catch(z){if(z&&h&&typeof z.stack=="string"){for(var f=z.stack.split(`
`),g=h.stack.split(`
`),E=f.length-1,C=g.length-1;1<=E&&0<=C&&f[E]!==g[C];)C--;for(;1<=E&&0<=C;E--,C--)if(f[E]!==g[C]){if(E!==1||C!==1)do if(E--,C--,0>C||f[E]!==g[C]){var O=`
`+f[E].replace(" at new "," at ");return r.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",r.displayName)),O}while(1<=E&&0<=C);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?K(r):""}function he(r){switch(r.tag){case 5:return K(r.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return r=se(r.type,!1),r;case 11:return r=se(r.type.render,!1),r;case 1:return r=se(r.type,!0),r;default:return""}}function ce(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case ne:return"Portal";case A:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case He:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case x:return(r.displayName||"Context")+".Consumer";case N:return(r._context.displayName||"Context")+".Provider";case M:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ke:return s=r.displayName||null,s!==null?s:ce(r.type)||"Memo";case Be:s=r._payload,r=r._init;try{return ce(r(s))}catch{}}return null}function we(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Re(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Oe(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ge(r){var s=Oe(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){h=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Tt(r){r._valueTracker||(r._valueTracker=Ge(r))}function Pt(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=Oe(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function kt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Un(r,s){var l=s.checked;return ae({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function cr(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Re(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function hr(r,s){s=s.checked,s!=null&&X(r,"checked",s,!1)}function jn(r,s){hr(r,s);var l=Re(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?dr(r,s.type,l):s.hasOwnProperty("defaultValue")&&dr(r,s.type,Re(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function di(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function dr(r,s,l){(s!=="number"||kt(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var gt=Array.isArray;function Xt(r,s,l,h){if(r=r.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=s.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&h&&(r[l].defaultSelected=!0)}else{for(l=""+Re(l),s=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function fi(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Vr(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(gt(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Re(l)}}function fr(r,s){var l=Re(s.value),h=Re(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function pi(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function st(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ot(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?st(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var In,Fa=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(In=In||document.createElement("div"),In.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=In.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function mi(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ds=["Webkit","ms","Moz","O"];Object.keys(hs).forEach(function(r){ds.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),hs[s]=hs[r]})});function $a(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||hs.hasOwnProperty(r)&&hs[r]?(""+s).trim():s+"px"}function Ua(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,f=$a(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,f):r[l]=f}}var ja=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ba(r,s){if(s){if(ja[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function za(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fs=null;function oo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ao=null,Sn=null,pr=null;function lo(r){if(r=fl(r)){if(typeof ao!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Qu(s),ao(r.stateNode,r.type,s))}}function mr(r){Sn?pr?pr.push(r):pr=[r]:Sn=r}function Ha(){if(Sn){var r=Sn,s=pr;if(pr=Sn=null,lo(r),s)for(r=0;r<s.length;r++)lo(s[r])}}function ps(r,s){return r(s)}function Wa(){}var Fr=!1;function qa(r,s,l){if(Fr)return r(s,l);Fr=!0;try{return ps(r,s,l)}finally{Fr=!1,(Sn!==null||pr!==null)&&(Wa(),Ha())}}function ut(r,s){var l=r.stateNode;if(l===null)return null;var h=Qu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var uo=!1;if(d)try{var Bn={};Object.defineProperty(Bn,"passive",{get:function(){uo=!0}}),window.addEventListener("test",Bn,Bn),window.removeEventListener("test",Bn,Bn)}catch{uo=!1}function ms(r,s,l,h,f,g,E,C,O){var z=Array.prototype.slice.call(arguments,3);try{s.apply(l,z)}catch(Z){this.onError(Z)}}var gs=!1,co=null,zn=!1,Ka=null,ud={onError:function(r){gs=!0,co=r}};function ho(r,s,l,h,f,g,E,C,O){gs=!1,co=null,ms.apply(ud,arguments)}function Eu(r,s,l,h,f,g,E,C,O){if(ho.apply(this,arguments),gs){if(gs){var z=co;gs=!1,co=null}else throw Error(t(198));zn||(zn=!0,Ka=z)}}function Hn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function _s(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Wn(r){if(Hn(r)!==r)throw Error(t(188))}function wu(r){var s=r.alternate;if(!s){if(s=Hn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,h=s;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){l=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return Wn(f),r;if(g===h)return Wn(f),s;g=g.sibling}throw Error(t(188))}if(l.return!==h.return)l=f,h=g;else{for(var E=!1,C=f.child;C;){if(C===l){E=!0,l=f,h=g;break}if(C===h){E=!0,h=f,l=g;break}C=C.sibling}if(!E){for(C=g.child;C;){if(C===l){E=!0,l=g,h=f;break}if(C===h){E=!0,h=g,l=f;break}C=C.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function Ga(r){return r=wu(r),r!==null?fo(r):null}function fo(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=fo(r);if(s!==null)return s;r=r.sibling}return null}var po=e.unstable_scheduleCallback,Qa=e.unstable_cancelCallback,Tu=e.unstable_shouldYield,cd=e.unstable_requestPaint,Qe=e.unstable_now,Iu=e.unstable_getCurrentPriorityLevel,vs=e.unstable_ImmediatePriority,gi=e.unstable_UserBlockingPriority,An=e.unstable_NormalPriority,Ya=e.unstable_LowPriority,Su=e.unstable_IdlePriority,ys=null,hn=null;function Au(r){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(ys,r,void 0,(r.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:Ru,Xa=Math.log,Cu=Math.LN2;function Ru(r){return r>>>=0,r===0?32:31-(Xa(r)/Cu|0)|0}var mo=64,go=4194304;function _i(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Es(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,E=l&268435455;if(E!==0){var C=E&~f;C!==0?h=_i(C):(g&=E,g!==0&&(h=_i(g)))}else E=l&~f,E!==0?h=_i(E):g!==0&&(h=_i(g));if(h===0)return 0;if(s!==0&&s!==h&&(s&f)===0&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-Ht(s),f=1<<l,h|=r[l],s&=~f;return h}function hd(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $r(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var E=31-Ht(g),C=1<<E,O=f[E];O===-1?((C&l)===0||(C&h)!==0)&&(f[E]=hd(C,s)):O<=s&&(r.expiredLanes|=C),g&=~C}}function dn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ws(){var r=mo;return mo<<=1,(mo&4194240)===0&&(mo=64),r}function vi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function yi(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Ht(s),r[s]=l}function qe(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-Ht(l),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,l&=~g}}function Ei(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-Ht(l),f=1<<h;f&s|r[h]&s&&(r[h]|=s),l&=~f}}var Me=0;function wi(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Pu,_o,ku,Nu,bu,Ja=!1,gr=[],Nt=null,qn=null,Kn=null,Ti=new Map,Cn=new Map,_r=[],dd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ou(r,s){switch(r){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":Ti.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cn.delete(s.pointerId)}}function Jt(r,s,l,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=fl(s),s!==null&&_o(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function fd(r,s,l,h,f){switch(s){case"focusin":return Nt=Jt(Nt,r,s,l,h,f),!0;case"dragenter":return qn=Jt(qn,r,s,l,h,f),!0;case"mouseover":return Kn=Jt(Kn,r,s,l,h,f),!0;case"pointerover":var g=f.pointerId;return Ti.set(g,Jt(Ti.get(g)||null,r,s,l,h,f)),!0;case"gotpointercapture":return g=f.pointerId,Cn.set(g,Jt(Cn.get(g)||null,r,s,l,h,f)),!0}return!1}function xu(r){var s=Cs(r.target);if(s!==null){var l=Hn(s);if(l!==null){if(s=l.tag,s===13){if(s=_s(l),s!==null){r.blockedOn=s,bu(r.priority,function(){ku(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ur(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=vo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);fs=h,l.target.dispatchEvent(h),fs=null}else return s=fl(l),s!==null&&_o(s),r.blockedOn=l,!1;s.shift()}return!0}function Ts(r,s,l){Ur(r)&&l.delete(s)}function Du(){Ja=!1,Nt!==null&&Ur(Nt)&&(Nt=null),qn!==null&&Ur(qn)&&(qn=null),Kn!==null&&Ur(Kn)&&(Kn=null),Ti.forEach(Ts),Cn.forEach(Ts)}function Gn(r,s){r.blockedOn===s&&(r.blockedOn=null,Ja||(Ja=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Du)))}function Qn(r){function s(f){return Gn(f,r)}if(0<gr.length){Gn(gr[0],r);for(var l=1;l<gr.length;l++){var h=gr[l];h.blockedOn===r&&(h.blockedOn=null)}}for(Nt!==null&&Gn(Nt,r),qn!==null&&Gn(qn,r),Kn!==null&&Gn(Kn,r),Ti.forEach(s),Cn.forEach(s),l=0;l<_r.length;l++)h=_r[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<_r.length&&(l=_r[0],l.blockedOn===null);)xu(l),l.blockedOn===null&&_r.shift()}var jr=Y.ReactCurrentBatchConfig,Ii=!0;function Ze(r,s,l,h){var f=Me,g=jr.transition;jr.transition=null;try{Me=1,Za(r,s,l,h)}finally{Me=f,jr.transition=g}}function pd(r,s,l,h){var f=Me,g=jr.transition;jr.transition=null;try{Me=4,Za(r,s,l,h)}finally{Me=f,jr.transition=g}}function Za(r,s,l,h){if(Ii){var f=vo(r,s,l,h);if(f===null)Ad(r,s,h,Is,l),Ou(r,h);else if(fd(f,r,s,l,h))h.stopPropagation();else if(Ou(r,h),s&4&&-1<dd.indexOf(r)){for(;f!==null;){var g=fl(f);if(g!==null&&Pu(g),g=vo(r,s,l,h),g===null&&Ad(r,s,h,Is,l),g===f)break;f=g}f!==null&&h.stopPropagation()}else Ad(r,s,h,null,l)}}var Is=null;function vo(r,s,l,h){if(Is=null,r=oo(h),r=Cs(r),r!==null)if(s=Hn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=_s(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Is=r,null}function el(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Iu()){case vs:return 1;case gi:return 4;case An:case Ya:return 16;case Su:return 536870912;default:return 16}default:return 16}}var fn=null,yo=null,Zt=null;function tl(){if(Zt)return Zt;var r,s=yo,l=s.length,h,f="value"in fn?fn.value:fn.textContent,g=f.length;for(r=0;r<l&&s[r]===f[r];r++);var E=l-r;for(h=1;h<=E&&s[l-h]===f[g-h];h++);return Zt=f.slice(r,1<h?1-h:void 0)}function Eo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function vr(){return!0}function nl(){return!1}function bt(r){function s(l,h,f,g,E){this._reactName=l,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(l=r[C],this[C]=l?l(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?vr:nl,this.isPropagationStopped=nl,this}return ae(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),s}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=bt(Yn),yr=ae({},Yn,{view:0,detail:0}),md=bt(yr),To,Br,Si,Ss=ae({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Si&&(Si&&r.type==="mousemove"?(To=r.screenX-Si.screenX,Br=r.screenY-Si.screenY):Br=To=0,Si=r),To)},movementY:function(r){return"movementY"in r?r.movementY:Br}}),Io=bt(Ss),rl=ae({},Ss,{dataTransfer:0}),Lu=bt(rl),So=ae({},yr,{relatedTarget:0}),Ao=bt(So),Mu=ae({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),zr=bt(Mu),Vu=ae({},Yn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Fu=bt(Vu),$u=ae({},Yn,{data:0}),il=bt($u),Co={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Uu[r])?!!s[r]:!1}function Er(){return ju}var u=ae({},yr,{key:function(r){if(r.key){var s=Co[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Eo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Wt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(r){return r.type==="keypress"?Eo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Eo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=bt(u),v=ae({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=bt(v),$=ae({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),W=bt($),oe=ae({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),We=bt(oe),_t=ae({},Ss,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=bt(_t),It=[9,13,27,32],ft=d&&"CompositionEvent"in window,Rn=null;d&&"documentMode"in document&&(Rn=document.documentMode);var pn=d&&"TextEvent"in window&&!Rn,As=d&&(!ft||Rn&&8<Rn&&11>=Rn),Ro=" ",gg=!1;function _g(r,s){switch(r){case"keyup":return It.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Po=!1;function XI(r,s){switch(r){case"compositionend":return vg(s);case"keypress":return s.which!==32?null:(gg=!0,Ro);case"textInput":return r=s.data,r===Ro&&gg?null:r;default:return null}}function JI(r,s){if(Po)return r==="compositionend"||!ft&&_g(r,s)?(r=tl(),Zt=yo=fn=null,Po=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return As&&s.locale!=="ko"?null:s.data;default:return null}}var ZI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!ZI[r.type]:s==="textarea"}function Eg(r,s,l,h){mr(h),s=qu(s,"onChange"),0<s.length&&(l=new wo("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var sl=null,ol=null;function eS(r){Fg(r,0)}function Bu(r){var s=xo(r);if(Pt(s))return r}function tS(r,s){if(r==="change")return s}var wg=!1;if(d){var gd;if(d){var _d="oninput"in document;if(!_d){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),_d=typeof Tg.oninput=="function"}gd=_d}else gd=!1;wg=gd&&(!document.documentMode||9<document.documentMode)}function Ig(){sl&&(sl.detachEvent("onpropertychange",Sg),ol=sl=null)}function Sg(r){if(r.propertyName==="value"&&Bu(ol)){var s=[];Eg(s,ol,r,oo(r)),qa(eS,s)}}function nS(r,s,l){r==="focusin"?(Ig(),sl=s,ol=l,sl.attachEvent("onpropertychange",Sg)):r==="focusout"&&Ig()}function rS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Bu(ol)}function iS(r,s){if(r==="click")return Bu(s)}function sS(r,s){if(r==="input"||r==="change")return Bu(s)}function oS(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Xn=typeof Object.is=="function"?Object.is:oS;function al(r,s){if(Xn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var f=l[h];if(!p.call(s,f)||!Xn(r[f],s[f]))return!1}return!0}function Ag(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Cg(r,s){var l=Ag(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ag(l)}}function Rg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Rg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Pg(){for(var r=window,s=kt();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=kt(r.document)}return s}function vd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function aS(r){var s=Pg(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Rg(l.ownerDocument.documentElement,l)){if(h!==null&&vd(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=Cg(l,g);var E=Cg(l,h);f&&E&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var lS=d&&"documentMode"in document&&11>=document.documentMode,ko=null,yd=null,ll=null,Ed=!1;function kg(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ed||ko==null||ko!==kt(h)||(h=ko,"selectionStart"in h&&vd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ll&&al(ll,h)||(ll=h,h=qu(yd,"onSelect"),0<h.length&&(s=new wo("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=ko)))}function zu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var No={animationend:zu("Animation","AnimationEnd"),animationiteration:zu("Animation","AnimationIteration"),animationstart:zu("Animation","AnimationStart"),transitionend:zu("Transition","TransitionEnd")},wd={},Ng={};d&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Hu(r){if(wd[r])return wd[r];if(!No[r])return r;var s=No[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Ng)return wd[r]=s[l];return r}var bg=Hu("animationend"),Og=Hu("animationiteration"),xg=Hu("animationstart"),Dg=Hu("transitionend"),Lg=new Map,Mg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(r,s){Lg.set(r,s),a(s,[r])}for(var Td=0;Td<Mg.length;Td++){var Id=Mg[Td],uS=Id.toLowerCase(),cS=Id[0].toUpperCase()+Id.slice(1);Ai(uS,"on"+cS)}Ai(bg,"onAnimationEnd"),Ai(Og,"onAnimationIteration"),Ai(xg,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(Dg,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function Vg(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,Eu(h,s,void 0,r),r.currentTarget=null}function Fg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var E=h.length-1;0<=E;E--){var C=h[E],O=C.instance,z=C.currentTarget;if(C=C.listener,O!==g&&f.isPropagationStopped())break e;Vg(f,C,z),g=O}else for(E=0;E<h.length;E++){if(C=h[E],O=C.instance,z=C.currentTarget,C=C.listener,O!==g&&f.isPropagationStopped())break e;Vg(f,C,z),g=O}}}if(zn)throw r=Ka,zn=!1,Ka=null,r}function Xe(r,s){var l=s[bd];l===void 0&&(l=s[bd]=new Set);var h=r+"__bubble";l.has(h)||($g(s,r,2,!1),l.add(h))}function Sd(r,s,l){var h=0;s&&(h|=4),$g(l,r,h,s)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function cl(r){if(!r[Wu]){r[Wu]=!0,i.forEach(function(l){l!=="selectionchange"&&(hS.has(l)||Sd(l,!1,r),Sd(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Wu]||(s[Wu]=!0,Sd("selectionchange",!1,s))}}function $g(r,s,l,h){switch(el(s)){case 1:var f=Ze;break;case 4:f=pd;break;default:f=Za}l=f.bind(null,s,l,r),f=void 0,!uo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,l,{capture:!0,passive:f}):r.addEventListener(s,l,!0):f!==void 0?r.addEventListener(s,l,{passive:f}):r.addEventListener(s,l,!1)}function Ad(r,s,l,h,f){var g=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var C=h.stateNode.containerInfo;if(C===f||C.nodeType===8&&C.parentNode===f)break;if(E===4)for(E=h.return;E!==null;){var O=E.tag;if((O===3||O===4)&&(O=E.stateNode.containerInfo,O===f||O.nodeType===8&&O.parentNode===f))return;E=E.return}for(;C!==null;){if(E=Cs(C),E===null)return;if(O=E.tag,O===5||O===6){h=g=E;continue e}C=C.parentNode}}h=h.return}qa(function(){var z=g,Z=oo(l),te=[];e:{var J=Lg.get(r);if(J!==void 0){var de=wo,_e=r;switch(r){case"keypress":if(Eo(l)===0)break e;case"keydown":case"keyup":de=m;break;case"focusin":_e="focus",de=Ao;break;case"focusout":_e="blur",de=Ao;break;case"beforeblur":case"afterblur":de=Ao;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=W;break;case bg:case Og:case xg:de=zr;break;case Dg:de=We;break;case"scroll":de=md;break;case"wheel":de=Ve;break;case"copy":case"cut":case"paste":de=Fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=w}var ve=(s&4)!==0,ct=!ve&&r==="scroll",U=ve?J!==null?J+"Capture":null:J;ve=[];for(var D=z,j;D!==null;){j=D;var re=j.stateNode;if(j.tag===5&&re!==null&&(j=re,U!==null&&(re=ut(D,U),re!=null&&ve.push(hl(D,re,j)))),ct)break;D=D.return}0<ve.length&&(J=new de(J,_e,null,l,Z),te.push({event:J,listeners:ve}))}}if((s&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",de=r==="mouseout"||r==="pointerout",J&&l!==fs&&(_e=l.relatedTarget||l.fromElement)&&(Cs(_e)||_e[Hr]))break e;if((de||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,de?(_e=l.relatedTarget||l.toElement,de=z,_e=_e?Cs(_e):null,_e!==null&&(ct=Hn(_e),_e!==ct||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(de=null,_e=z),de!==_e)){if(ve=Io,re="onMouseLeave",U="onMouseEnter",D="mouse",(r==="pointerout"||r==="pointerover")&&(ve=w,re="onPointerLeave",U="onPointerEnter",D="pointer"),ct=de==null?J:xo(de),j=_e==null?J:xo(_e),J=new ve(re,D+"leave",de,l,Z),J.target=ct,J.relatedTarget=j,re=null,Cs(Z)===z&&(ve=new ve(U,D+"enter",_e,l,Z),ve.target=j,ve.relatedTarget=ct,re=ve),ct=re,de&&_e)t:{for(ve=de,U=_e,D=0,j=ve;j;j=bo(j))D++;for(j=0,re=U;re;re=bo(re))j++;for(;0<D-j;)ve=bo(ve),D--;for(;0<j-D;)U=bo(U),j--;for(;D--;){if(ve===U||U!==null&&ve===U.alternate)break t;ve=bo(ve),U=bo(U)}ve=null}else ve=null;de!==null&&Ug(te,J,de,ve,!1),_e!==null&&ct!==null&&Ug(te,ct,_e,ve,!0)}}e:{if(J=z?xo(z):window,de=J.nodeName&&J.nodeName.toLowerCase(),de==="select"||de==="input"&&J.type==="file")var ye=tS;else if(yg(J))if(wg)ye=sS;else{ye=rS;var Te=nS}else(de=J.nodeName)&&de.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ye=iS);if(ye&&(ye=ye(r,z))){Eg(te,ye,l,Z);break e}Te&&Te(r,J,z),r==="focusout"&&(Te=J._wrapperState)&&Te.controlled&&J.type==="number"&&dr(J,"number",J.value)}switch(Te=z?xo(z):window,r){case"focusin":(yg(Te)||Te.contentEditable==="true")&&(ko=Te,yd=z,ll=null);break;case"focusout":ll=yd=ko=null;break;case"mousedown":Ed=!0;break;case"contextmenu":case"mouseup":case"dragend":Ed=!1,kg(te,l,Z);break;case"selectionchange":if(lS)break;case"keydown":case"keyup":kg(te,l,Z)}var Ie;if(ft)e:{switch(r){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Po?_g(r,l)&&(Pe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&(As&&l.locale!=="ko"&&(Po||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Po&&(Ie=tl()):(fn=Z,yo="value"in fn?fn.value:fn.textContent,Po=!0)),Te=qu(z,Pe),0<Te.length&&(Pe=new il(Pe,r,null,l,Z),te.push({event:Pe,listeners:Te}),Ie?Pe.data=Ie:(Ie=vg(l),Ie!==null&&(Pe.data=Ie)))),(Ie=pn?XI(r,l):JI(r,l))&&(z=qu(z,"onBeforeInput"),0<z.length&&(Z=new il("onBeforeInput","beforeinput",null,l,Z),te.push({event:Z,listeners:z}),Z.data=Ie))}Fg(te,s)})}function hl(r,s,l){return{instance:r,listener:s,currentTarget:l}}function qu(r,s){for(var l=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=ut(r,l),g!=null&&h.unshift(hl(r,g,f)),g=ut(r,s),g!=null&&h.push(hl(r,g,f))),r=r.return}return h}function bo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Ug(r,s,l,h,f){for(var g=s._reactName,E=[];l!==null&&l!==h;){var C=l,O=C.alternate,z=C.stateNode;if(O!==null&&O===h)break;C.tag===5&&z!==null&&(C=z,f?(O=ut(l,g),O!=null&&E.unshift(hl(l,O,C))):f||(O=ut(l,g),O!=null&&E.push(hl(l,O,C)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var dS=/\r\n?/g,fS=/\u0000|\uFFFD/g;function jg(r){return(typeof r=="string"?r:""+r).replace(dS,`
`).replace(fS,"")}function Ku(r,s,l){if(s=jg(s),jg(r)!==s&&l)throw Error(t(425))}function Gu(){}var Cd=null,Rd=null;function Pd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var kd=typeof setTimeout=="function"?setTimeout:void 0,pS=typeof clearTimeout=="function"?clearTimeout:void 0,Bg=typeof Promise=="function"?Promise:void 0,mS=typeof queueMicrotask=="function"?queueMicrotask:typeof Bg<"u"?function(r){return Bg.resolve(null).then(r).catch(gS)}:kd;function gS(r){setTimeout(function(){throw r})}function Nd(r,s){var l=s,h=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(h===0){r.removeChild(f),Qn(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=f}while(l);Qn(s)}function Ci(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function zg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),wr="__reactFiber$"+Oo,dl="__reactProps$"+Oo,Hr="__reactContainer$"+Oo,bd="__reactEvents$"+Oo,_S="__reactListeners$"+Oo,vS="__reactHandles$"+Oo;function Cs(r){var s=r[wr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Hr]||l[wr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=zg(r);r!==null;){if(l=r[wr])return l;r=zg(r)}return s}r=l,l=r.parentNode}return null}function fl(r){return r=r[wr]||r[Hr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function xo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Qu(r){return r[dl]||null}var Od=[],Do=-1;function Ri(r){return{current:r}}function Je(r){0>Do||(r.current=Od[Do],Od[Do]=null,Do--)}function Ye(r,s){Do++,Od[Do]=r.current,r.current=s}var Pi={},Mt=Ri(Pi),en=Ri(!1),Rs=Pi;function Lo(r,s){var l=r.type.contextTypes;if(!l)return Pi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in l)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function tn(r){return r=r.childContextTypes,r!=null}function Yu(){Je(en),Je(Mt)}function Hg(r,s,l){if(Mt.current!==Pi)throw Error(t(168));Ye(Mt,s),Ye(en,l)}function Wg(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,we(r)||"Unknown",f));return ae({},l,h)}function Xu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Pi,Rs=Mt.current,Ye(Mt,r),Ye(en,en.current),!0}function qg(r,s,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=Wg(r,s,Rs),h.__reactInternalMemoizedMergedChildContext=r,Je(en),Je(Mt),Ye(Mt,r)):Je(en),Ye(en,l)}var Wr=null,Ju=!1,xd=!1;function Kg(r){Wr===null?Wr=[r]:Wr.push(r)}function yS(r){Ju=!0,Kg(r)}function ki(){if(!xd&&Wr!==null){xd=!0;var r=0,s=Me;try{var l=Wr;for(Me=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}Wr=null,Ju=!1}catch(f){throw Wr!==null&&(Wr=Wr.slice(r+1)),po(vs,ki),f}finally{Me=s,xd=!1}}return null}var Mo=[],Vo=0,Zu=null,ec=0,Pn=[],kn=0,Ps=null,qr=1,Kr="";function ks(r,s){Mo[Vo++]=ec,Mo[Vo++]=Zu,Zu=r,ec=s}function Gg(r,s,l){Pn[kn++]=qr,Pn[kn++]=Kr,Pn[kn++]=Ps,Ps=r;var h=qr;r=Kr;var f=32-Ht(h)-1;h&=~(1<<f),l+=1;var g=32-Ht(s)+f;if(30<g){var E=f-f%5;g=(h&(1<<E)-1).toString(32),h>>=E,f-=E,qr=1<<32-Ht(s)+f|l<<f|h,Kr=g+r}else qr=1<<g|l<<f|h,Kr=r}function Dd(r){r.return!==null&&(ks(r,1),Gg(r,1,0))}function Ld(r){for(;r===Zu;)Zu=Mo[--Vo],Mo[Vo]=null,ec=Mo[--Vo],Mo[Vo]=null;for(;r===Ps;)Ps=Pn[--kn],Pn[kn]=null,Kr=Pn[--kn],Pn[kn]=null,qr=Pn[--kn],Pn[kn]=null}var mn=null,gn=null,et=!1,Jn=null;function Qg(r,s){var l=xn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Yg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,mn=r,gn=Ci(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,mn=r,gn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Ps!==null?{id:qr,overflow:Kr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=xn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,mn=r,gn=null,!0):!1;default:return!1}}function Md(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Vd(r){if(et){var s=gn;if(s){var l=s;if(!Yg(r,s)){if(Md(r))throw Error(t(418));s=Ci(l.nextSibling);var h=mn;s&&Yg(r,s)?Qg(h,l):(r.flags=r.flags&-4097|2,et=!1,mn=r)}}else{if(Md(r))throw Error(t(418));r.flags=r.flags&-4097|2,et=!1,mn=r}}}function Xg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;mn=r}function tc(r){if(r!==mn)return!1;if(!et)return Xg(r),et=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Pd(r.type,r.memoizedProps)),s&&(s=gn)){if(Md(r))throw Jg(),Error(t(418));for(;s;)Qg(r,s),s=Ci(s.nextSibling)}if(Xg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){gn=Ci(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}gn=null}}else gn=mn?Ci(r.stateNode.nextSibling):null;return!0}function Jg(){for(var r=gn;r;)r=Ci(r.nextSibling)}function Fo(){gn=mn=null,et=!1}function Fd(r){Jn===null?Jn=[r]:Jn.push(r)}var ES=Y.ReactCurrentBatchConfig;function pl(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(E){var C=f.refs;E===null?delete C[g]:C[g]=E},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function nc(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Zg(r){var s=r._init;return s(r._payload)}function e_(r){function s(U,D){if(r){var j=U.deletions;j===null?(U.deletions=[D],U.flags|=16):j.push(D)}}function l(U,D){if(!r)return null;for(;D!==null;)s(U,D),D=D.sibling;return null}function h(U,D){for(U=new Map;D!==null;)D.key!==null?U.set(D.key,D):U.set(D.index,D),D=D.sibling;return U}function f(U,D){return U=Vi(U,D),U.index=0,U.sibling=null,U}function g(U,D,j){return U.index=j,r?(j=U.alternate,j!==null?(j=j.index,j<D?(U.flags|=2,D):j):(U.flags|=2,D)):(U.flags|=1048576,D)}function E(U){return r&&U.alternate===null&&(U.flags|=2),U}function C(U,D,j,re){return D===null||D.tag!==6?(D=Nf(j,U.mode,re),D.return=U,D):(D=f(D,j),D.return=U,D)}function O(U,D,j,re){var ye=j.type;return ye===P?Z(U,D,j.props.children,re,j.key):D!==null&&(D.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Be&&Zg(ye)===D.type)?(re=f(D,j.props),re.ref=pl(U,D,j),re.return=U,re):(re=Cc(j.type,j.key,j.props,null,U.mode,re),re.ref=pl(U,D,j),re.return=U,re)}function z(U,D,j,re){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=bf(j,U.mode,re),D.return=U,D):(D=f(D,j.children||[]),D.return=U,D)}function Z(U,D,j,re,ye){return D===null||D.tag!==7?(D=Vs(j,U.mode,re,ye),D.return=U,D):(D=f(D,j),D.return=U,D)}function te(U,D,j){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Nf(""+D,U.mode,j),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ue:return j=Cc(D.type,D.key,D.props,null,U.mode,j),j.ref=pl(U,null,D),j.return=U,j;case ne:return D=bf(D,U.mode,j),D.return=U,D;case Be:var re=D._init;return te(U,re(D._payload),j)}if(gt(D)||me(D))return D=Vs(D,U.mode,j,null),D.return=U,D;nc(U,D)}return null}function J(U,D,j,re){var ye=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return ye!==null?null:C(U,D,""+j,re);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ue:return j.key===ye?O(U,D,j,re):null;case ne:return j.key===ye?z(U,D,j,re):null;case Be:return ye=j._init,J(U,D,ye(j._payload),re)}if(gt(j)||me(j))return ye!==null?null:Z(U,D,j,re,null);nc(U,j)}return null}function de(U,D,j,re,ye){if(typeof re=="string"&&re!==""||typeof re=="number")return U=U.get(j)||null,C(D,U,""+re,ye);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case ue:return U=U.get(re.key===null?j:re.key)||null,O(D,U,re,ye);case ne:return U=U.get(re.key===null?j:re.key)||null,z(D,U,re,ye);case Be:var Te=re._init;return de(U,D,j,Te(re._payload),ye)}if(gt(re)||me(re))return U=U.get(j)||null,Z(D,U,re,ye,null);nc(D,re)}return null}function _e(U,D,j,re){for(var ye=null,Te=null,Ie=D,Pe=D=0,Ct=null;Ie!==null&&Pe<j.length;Pe++){Ie.index>Pe?(Ct=Ie,Ie=null):Ct=Ie.sibling;var ze=J(U,Ie,j[Pe],re);if(ze===null){Ie===null&&(Ie=Ct);break}r&&Ie&&ze.alternate===null&&s(U,Ie),D=g(ze,D,Pe),Te===null?ye=ze:Te.sibling=ze,Te=ze,Ie=Ct}if(Pe===j.length)return l(U,Ie),et&&ks(U,Pe),ye;if(Ie===null){for(;Pe<j.length;Pe++)Ie=te(U,j[Pe],re),Ie!==null&&(D=g(Ie,D,Pe),Te===null?ye=Ie:Te.sibling=Ie,Te=Ie);return et&&ks(U,Pe),ye}for(Ie=h(U,Ie);Pe<j.length;Pe++)Ct=de(Ie,U,Pe,j[Pe],re),Ct!==null&&(r&&Ct.alternate!==null&&Ie.delete(Ct.key===null?Pe:Ct.key),D=g(Ct,D,Pe),Te===null?ye=Ct:Te.sibling=Ct,Te=Ct);return r&&Ie.forEach(function(Fi){return s(U,Fi)}),et&&ks(U,Pe),ye}function ve(U,D,j,re){var ye=me(j);if(typeof ye!="function")throw Error(t(150));if(j=ye.call(j),j==null)throw Error(t(151));for(var Te=ye=null,Ie=D,Pe=D=0,Ct=null,ze=j.next();Ie!==null&&!ze.done;Pe++,ze=j.next()){Ie.index>Pe?(Ct=Ie,Ie=null):Ct=Ie.sibling;var Fi=J(U,Ie,ze.value,re);if(Fi===null){Ie===null&&(Ie=Ct);break}r&&Ie&&Fi.alternate===null&&s(U,Ie),D=g(Fi,D,Pe),Te===null?ye=Fi:Te.sibling=Fi,Te=Fi,Ie=Ct}if(ze.done)return l(U,Ie),et&&ks(U,Pe),ye;if(Ie===null){for(;!ze.done;Pe++,ze=j.next())ze=te(U,ze.value,re),ze!==null&&(D=g(ze,D,Pe),Te===null?ye=ze:Te.sibling=ze,Te=ze);return et&&ks(U,Pe),ye}for(Ie=h(U,Ie);!ze.done;Pe++,ze=j.next())ze=de(Ie,U,Pe,ze.value,re),ze!==null&&(r&&ze.alternate!==null&&Ie.delete(ze.key===null?Pe:ze.key),D=g(ze,D,Pe),Te===null?ye=ze:Te.sibling=ze,Te=ze);return r&&Ie.forEach(function(ZS){return s(U,ZS)}),et&&ks(U,Pe),ye}function ct(U,D,j,re){if(typeof j=="object"&&j!==null&&j.type===P&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case ue:e:{for(var ye=j.key,Te=D;Te!==null;){if(Te.key===ye){if(ye=j.type,ye===P){if(Te.tag===7){l(U,Te.sibling),D=f(Te,j.props.children),D.return=U,U=D;break e}}else if(Te.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Be&&Zg(ye)===Te.type){l(U,Te.sibling),D=f(Te,j.props),D.ref=pl(U,Te,j),D.return=U,U=D;break e}l(U,Te);break}else s(U,Te);Te=Te.sibling}j.type===P?(D=Vs(j.props.children,U.mode,re,j.key),D.return=U,U=D):(re=Cc(j.type,j.key,j.props,null,U.mode,re),re.ref=pl(U,D,j),re.return=U,U=re)}return E(U);case ne:e:{for(Te=j.key;D!==null;){if(D.key===Te)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){l(U,D.sibling),D=f(D,j.children||[]),D.return=U,U=D;break e}else{l(U,D);break}else s(U,D);D=D.sibling}D=bf(j,U.mode,re),D.return=U,U=D}return E(U);case Be:return Te=j._init,ct(U,D,Te(j._payload),re)}if(gt(j))return _e(U,D,j,re);if(me(j))return ve(U,D,j,re);nc(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,D!==null&&D.tag===6?(l(U,D.sibling),D=f(D,j),D.return=U,U=D):(l(U,D),D=Nf(j,U.mode,re),D.return=U,U=D),E(U)):l(U,D)}return ct}var $o=e_(!0),t_=e_(!1),rc=Ri(null),ic=null,Uo=null,$d=null;function Ud(){$d=Uo=ic=null}function jd(r){var s=rc.current;Je(rc),r._currentValue=s}function Bd(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function jo(r,s){ic=r,$d=Uo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(nn=!0),r.firstContext=null)}function Nn(r){var s=r._currentValue;if($d!==r)if(r={context:r,memoizedValue:s,next:null},Uo===null){if(ic===null)throw Error(t(308));Uo=r,ic.dependencies={lanes:0,firstContext:r}}else Uo=Uo.next=r;return s}var Ns=null;function zd(r){Ns===null?Ns=[r]:Ns.push(r)}function n_(r,s,l,h){var f=s.interleaved;return f===null?(l.next=l,zd(s)):(l.next=f.next,f.next=l),s.interleaved=l,Gr(r,h)}function Gr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Ni=!1;function Hd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r_(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Qr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function bi(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Ue&2)!==0){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,Gr(r,l)}return f=h.interleaved,f===null?(s.next=s,zd(h)):(s.next=f.next,f.next=s),h.interleaved=s,Gr(r,l)}function sc(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Ei(r,l)}}function i_(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?f=g=E:g=g.next=E,l=l.next}while(l!==null);g===null?f=g=s:g=g.next=s}else f=g=s;l={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function oc(r,s,l,h){var f=r.updateQueue;Ni=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var O=C,z=O.next;O.next=null,E===null?g=z:E.next=z,E=O;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,C=Z.lastBaseUpdate,C!==E&&(C===null?Z.firstBaseUpdate=z:C.next=z,Z.lastBaseUpdate=O))}if(g!==null){var te=f.baseState;E=0,Z=z=O=null,C=g;do{var J=C.lane,de=C.eventTime;if((h&J)===J){Z!==null&&(Z=Z.next={eventTime:de,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var _e=r,ve=C;switch(J=s,de=l,ve.tag){case 1:if(_e=ve.payload,typeof _e=="function"){te=_e.call(de,te,J);break e}te=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=ve.payload,J=typeof _e=="function"?_e.call(de,te,J):_e,J==null)break e;te=ae({},te,J);break e;case 2:Ni=!0}}C.callback!==null&&C.lane!==0&&(r.flags|=64,J=f.effects,J===null?f.effects=[C]:J.push(C))}else de={eventTime:de,lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Z===null?(z=Z=de,O=te):Z=Z.next=de,E|=J;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;J=C,C=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);if(Z===null&&(O=te),f.baseState=O,f.firstBaseUpdate=z,f.lastBaseUpdate=Z,s=f.shared.interleaved,s!==null){f=s;do E|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);xs|=E,r.lanes=E,r.memoizedState=te}}function s_(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=l,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var ml={},Tr=Ri(ml),gl=Ri(ml),_l=Ri(ml);function bs(r){if(r===ml)throw Error(t(174));return r}function Wd(r,s){switch(Ye(_l,s),Ye(gl,r),Ye(Tr,ml),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ot(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=ot(s,r)}Je(Tr),Ye(Tr,s)}function Bo(){Je(Tr),Je(gl),Je(_l)}function o_(r){bs(_l.current);var s=bs(Tr.current),l=ot(s,r.type);s!==l&&(Ye(gl,r),Ye(Tr,l))}function qd(r){gl.current===r&&(Je(Tr),Je(gl))}var nt=Ri(0);function ac(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Kd=[];function Gd(){for(var r=0;r<Kd.length;r++)Kd[r]._workInProgressVersionPrimary=null;Kd.length=0}var lc=Y.ReactCurrentDispatcher,Qd=Y.ReactCurrentBatchConfig,Os=0,rt=null,vt=null,St=null,uc=!1,vl=!1,yl=0,wS=0;function Vt(){throw Error(t(321))}function Yd(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Xn(r[l],s[l]))return!1;return!0}function Xd(r,s,l,h,f,g){if(Os=g,rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,lc.current=r===null||r.memoizedState===null?AS:CS,r=l(h,f),vl){g=0;do{if(vl=!1,yl=0,25<=g)throw Error(t(301));g+=1,St=vt=null,s.updateQueue=null,lc.current=RS,r=l(h,f)}while(vl)}if(lc.current=dc,s=vt!==null&&vt.next!==null,Os=0,St=vt=rt=null,uc=!1,s)throw Error(t(300));return r}function Jd(){var r=yl!==0;return yl=0,r}function Ir(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?rt.memoizedState=St=r:St=St.next=r,St}function bn(){if(vt===null){var r=rt.alternate;r=r!==null?r.memoizedState:null}else r=vt.next;var s=St===null?rt.memoizedState:St.next;if(s!==null)St=s,vt=r;else{if(r===null)throw Error(t(310));vt=r,r={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},St===null?rt.memoizedState=St=r:St=St.next=r}return St}function El(r,s){return typeof s=="function"?s(r):s}function Zd(r){var s=bn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=vt,f=h.baseQueue,g=l.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}h.baseQueue=f=g,l.pending=null}if(f!==null){g=f.next,h=h.baseState;var C=E=null,O=null,z=g;do{var Z=z.lane;if((Os&Z)===Z)O!==null&&(O=O.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),h=z.hasEagerState?z.eagerState:r(h,z.action);else{var te={lane:Z,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};O===null?(C=O=te,E=h):O=O.next=te,rt.lanes|=Z,xs|=Z}z=z.next}while(z!==null&&z!==g);O===null?E=h:O.next=C,Xn(h,s.memoizedState)||(nn=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=O,l.lastRenderedState=h}if(r=l.interleaved,r!==null){f=r;do g=f.lane,rt.lanes|=g,xs|=g,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function ef(r){var s=bn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,f=l.pending,g=s.memoizedState;if(f!==null){l.pending=null;var E=f=f.next;do g=r(g,E.action),E=E.next;while(E!==f);Xn(g,s.memoizedState)||(nn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,h]}function a_(){}function l_(r,s){var l=rt,h=bn(),f=s(),g=!Xn(h.memoizedState,f);if(g&&(h.memoizedState=f,nn=!0),h=h.queue,tf(h_.bind(null,l,h,r),[r]),h.getSnapshot!==s||g||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,wl(9,c_.bind(null,l,h,f,s),void 0,null),At===null)throw Error(t(349));(Os&30)!==0||u_(l,s,f)}return f}function u_(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function c_(r,s,l,h){s.value=l,s.getSnapshot=h,d_(s)&&f_(r)}function h_(r,s,l){return l(function(){d_(s)&&f_(r)})}function d_(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Xn(r,l)}catch{return!0}}function f_(r){var s=Gr(r,1);s!==null&&nr(s,r,1,-1)}function p_(r){var s=Ir();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:r},s.queue=r,r=r.dispatch=SS.bind(null,rt,r),[s.memoizedState,r]}function wl(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function m_(){return bn().memoizedState}function cc(r,s,l,h){var f=Ir();rt.flags|=r,f.memoizedState=wl(1|s,l,void 0,h===void 0?null:h)}function hc(r,s,l,h){var f=bn();h=h===void 0?null:h;var g=void 0;if(vt!==null){var E=vt.memoizedState;if(g=E.destroy,h!==null&&Yd(h,E.deps)){f.memoizedState=wl(s,l,g,h);return}}rt.flags|=r,f.memoizedState=wl(1|s,l,g,h)}function g_(r,s){return cc(8390656,8,r,s)}function tf(r,s){return hc(2048,8,r,s)}function __(r,s){return hc(4,2,r,s)}function v_(r,s){return hc(4,4,r,s)}function y_(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function E_(r,s,l){return l=l!=null?l.concat([r]):null,hc(4,4,y_.bind(null,s,r),l)}function nf(){}function w_(r,s){var l=bn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Yd(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function T_(r,s){var l=bn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Yd(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function I_(r,s,l){return(Os&21)===0?(r.baseState&&(r.baseState=!1,nn=!0),r.memoizedState=l):(Xn(l,s)||(l=ws(),rt.lanes|=l,xs|=l,r.baseState=!0),s)}function TS(r,s){var l=Me;Me=l!==0&&4>l?l:4,r(!0);var h=Qd.transition;Qd.transition={};try{r(!1),s()}finally{Me=l,Qd.transition=h}}function S_(){return bn().memoizedState}function IS(r,s,l){var h=Li(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},A_(r))C_(s,l);else if(l=n_(r,s,l,h),l!==null){var f=Kt();nr(l,r,h,f),R_(l,s,h)}}function SS(r,s,l){var h=Li(r),f={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(A_(r))C_(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,C=g(E,l);if(f.hasEagerState=!0,f.eagerState=C,Xn(C,E)){var O=s.interleaved;O===null?(f.next=f,zd(s)):(f.next=O.next,O.next=f),s.interleaved=f;return}}catch{}finally{}l=n_(r,s,f,h),l!==null&&(f=Kt(),nr(l,r,h,f),R_(l,s,h))}}function A_(r){var s=r.alternate;return r===rt||s!==null&&s===rt}function C_(r,s){vl=uc=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function R_(r,s,l){if((l&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Ei(r,l)}}var dc={readContext:Nn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},AS={readContext:Nn,useCallback:function(r,s){return Ir().memoizedState=[r,s===void 0?null:s],r},useContext:Nn,useEffect:g_,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,cc(4194308,4,y_.bind(null,s,r),l)},useLayoutEffect:function(r,s){return cc(4194308,4,r,s)},useInsertionEffect:function(r,s){return cc(4,2,r,s)},useMemo:function(r,s){var l=Ir();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=Ir();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=IS.bind(null,rt,r),[h.memoizedState,r]},useRef:function(r){var s=Ir();return r={current:r},s.memoizedState=r},useState:p_,useDebugValue:nf,useDeferredValue:function(r){return Ir().memoizedState=r},useTransition:function(){var r=p_(!1),s=r[0];return r=TS.bind(null,r[1]),Ir().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=rt,f=Ir();if(et){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),At===null)throw Error(t(349));(Os&30)!==0||u_(h,s,l)}f.memoizedState=l;var g={value:l,getSnapshot:s};return f.queue=g,g_(h_.bind(null,h,g,r),[r]),h.flags|=2048,wl(9,c_.bind(null,h,g,l,s),void 0,null),l},useId:function(){var r=Ir(),s=At.identifierPrefix;if(et){var l=Kr,h=qr;l=(h&~(1<<32-Ht(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=yl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=wS++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},CS={readContext:Nn,useCallback:w_,useContext:Nn,useEffect:tf,useImperativeHandle:E_,useInsertionEffect:__,useLayoutEffect:v_,useMemo:T_,useReducer:Zd,useRef:m_,useState:function(){return Zd(El)},useDebugValue:nf,useDeferredValue:function(r){var s=bn();return I_(s,vt.memoizedState,r)},useTransition:function(){var r=Zd(El)[0],s=bn().memoizedState;return[r,s]},useMutableSource:a_,useSyncExternalStore:l_,useId:S_,unstable_isNewReconciler:!1},RS={readContext:Nn,useCallback:w_,useContext:Nn,useEffect:tf,useImperativeHandle:E_,useInsertionEffect:__,useLayoutEffect:v_,useMemo:T_,useReducer:ef,useRef:m_,useState:function(){return ef(El)},useDebugValue:nf,useDeferredValue:function(r){var s=bn();return vt===null?s.memoizedState=r:I_(s,vt.memoizedState,r)},useTransition:function(){var r=ef(El)[0],s=bn().memoizedState;return[r,s]},useMutableSource:a_,useSyncExternalStore:l_,useId:S_,unstable_isNewReconciler:!1};function Zn(r,s){if(r&&r.defaultProps){s=ae({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function rf(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:ae({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var fc={isMounted:function(r){return(r=r._reactInternals)?Hn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=Kt(),f=Li(r),g=Qr(h,f);g.payload=s,l!=null&&(g.callback=l),s=bi(r,g,f),s!==null&&(nr(s,r,f,h),sc(s,r,f))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=Kt(),f=Li(r),g=Qr(h,f);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=bi(r,g,f),s!==null&&(nr(s,r,f,h),sc(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Kt(),h=Li(r),f=Qr(l,h);f.tag=2,s!=null&&(f.callback=s),s=bi(r,f,h),s!==null&&(nr(s,r,h,l),sc(s,r,h))}};function P_(r,s,l,h,f,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,E):s.prototype&&s.prototype.isPureReactComponent?!al(l,h)||!al(f,g):!0}function k_(r,s,l){var h=!1,f=Pi,g=s.contextType;return typeof g=="object"&&g!==null?g=Nn(g):(f=tn(s)?Rs:Mt.current,h=s.contextTypes,g=(h=h!=null)?Lo(r,f):Pi),s=new s(l,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=fc,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function N_(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&fc.enqueueReplaceState(s,s.state,null)}function sf(r,s,l,h){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},Hd(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Nn(g):(g=tn(s)?Rs:Mt.current,f.context=Lo(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(rf(r,s,g,l),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&fc.enqueueReplaceState(f,f.state,null),oc(r,l,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function zo(r,s){try{var l="",h=s;do l+=he(h),h=h.return;while(h);var f=l}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function of(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function af(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var PS=typeof WeakMap=="function"?WeakMap:Map;function b_(r,s,l){l=Qr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){Ec||(Ec=!0,Tf=h),af(r,s)},l}function O_(r,s,l){l=Qr(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;l.payload=function(){return h(f)},l.callback=function(){af(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){af(r,s),typeof h!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function x_(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new PS;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(l)||(f.add(l),r=BS.bind(null,r,s,l),s.then(r,r))}function D_(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function L_(r,s,l,h,f){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Qr(-1,1),s.tag=2,bi(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var kS=Y.ReactCurrentOwner,nn=!1;function qt(r,s,l,h){s.child=r===null?t_(s,null,l,h):$o(s,r.child,l,h)}function M_(r,s,l,h,f){l=l.render;var g=s.ref;return jo(s,f),h=Xd(r,s,l,h,g,f),l=Jd(),r!==null&&!nn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Yr(r,s,f)):(et&&l&&Dd(s),s.flags|=1,qt(r,s,h,f),s.child)}function V_(r,s,l,h,f){if(r===null){var g=l.type;return typeof g=="function"&&!kf(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,F_(r,s,g,h,f)):(r=Cc(l.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&f)===0){var E=g.memoizedProps;if(l=l.compare,l=l!==null?l:al,l(E,h)&&r.ref===s.ref)return Yr(r,s,f)}return s.flags|=1,r=Vi(g,h),r.ref=s.ref,r.return=s,s.child=r}function F_(r,s,l,h,f){if(r!==null){var g=r.memoizedProps;if(al(g,h)&&r.ref===s.ref)if(nn=!1,s.pendingProps=h=g,(r.lanes&f)!==0)(r.flags&131072)!==0&&(nn=!0);else return s.lanes=r.lanes,Yr(r,s,f)}return lf(r,s,l,h,f)}function $_(r,s,l){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Wo,_n),_n|=l;else{if((l&1073741824)===0)return r=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ye(Wo,_n),_n|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:l,Ye(Wo,_n),_n|=h}else g!==null?(h=g.baseLanes|l,s.memoizedState=null):h=l,Ye(Wo,_n),_n|=h;return qt(r,s,f,l),s.child}function U_(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function lf(r,s,l,h,f){var g=tn(l)?Rs:Mt.current;return g=Lo(s,g),jo(s,f),l=Xd(r,s,l,h,g,f),h=Jd(),r!==null&&!nn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Yr(r,s,f)):(et&&h&&Dd(s),s.flags|=1,qt(r,s,l,f),s.child)}function j_(r,s,l,h,f){if(tn(l)){var g=!0;Xu(s)}else g=!1;if(jo(s,f),s.stateNode===null)mc(r,s),k_(s,l,h),sf(s,l,h,f),h=!0;else if(r===null){var E=s.stateNode,C=s.memoizedProps;E.props=C;var O=E.context,z=l.contextType;typeof z=="object"&&z!==null?z=Nn(z):(z=tn(l)?Rs:Mt.current,z=Lo(s,z));var Z=l.getDerivedStateFromProps,te=typeof Z=="function"||typeof E.getSnapshotBeforeUpdate=="function";te||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==h||O!==z)&&N_(s,E,h,z),Ni=!1;var J=s.memoizedState;E.state=J,oc(s,h,E,f),O=s.memoizedState,C!==h||J!==O||en.current||Ni?(typeof Z=="function"&&(rf(s,l,Z,h),O=s.memoizedState),(C=Ni||P_(s,l,C,h,J,O,z))?(te||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=O),E.props=h,E.state=O,E.context=z,h=C):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,r_(r,s),C=s.memoizedProps,z=s.type===s.elementType?C:Zn(s.type,C),E.props=z,te=s.pendingProps,J=E.context,O=l.contextType,typeof O=="object"&&O!==null?O=Nn(O):(O=tn(l)?Rs:Mt.current,O=Lo(s,O));var de=l.getDerivedStateFromProps;(Z=typeof de=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==te||J!==O)&&N_(s,E,h,O),Ni=!1,J=s.memoizedState,E.state=J,oc(s,h,E,f);var _e=s.memoizedState;C!==te||J!==_e||en.current||Ni?(typeof de=="function"&&(rf(s,l,de,h),_e=s.memoizedState),(z=Ni||P_(s,l,z,h,J,_e,O)||!1)?(Z||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,_e,O),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,_e,O)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||C===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=_e),E.props=h,E.state=_e,E.context=O,h=z):(typeof E.componentDidUpdate!="function"||C===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),h=!1)}return uf(r,s,l,h,g,f)}function uf(r,s,l,h,f,g){U_(r,s);var E=(s.flags&128)!==0;if(!h&&!E)return f&&qg(s,l,!1),Yr(r,s,g);h=s.stateNode,kS.current=s;var C=E&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&E?(s.child=$o(s,r.child,null,g),s.child=$o(s,null,C,g)):qt(r,s,C,g),s.memoizedState=h.state,f&&qg(s,l,!0),s.child}function B_(r){var s=r.stateNode;s.pendingContext?Hg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Hg(r,s.context,!1),Wd(r,s.containerInfo)}function z_(r,s,l,h,f){return Fo(),Fd(f),s.flags|=256,qt(r,s,l,h),s.child}var cf={dehydrated:null,treeContext:null,retryLane:0};function hf(r){return{baseLanes:r,cachePool:null,transitions:null}}function H_(r,s,l){var h=s.pendingProps,f=nt.current,g=!1,E=(s.flags&128)!==0,C;if((C=E)||(C=r!==null&&r.memoizedState===null?!1:(f&2)!==0),C?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Ye(nt,f&1),r===null)return Vd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=h.children,r=h.fallback,g?(h=s.mode,g=s.child,E={mode:"hidden",children:E},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=E):g=Rc(E,h,0,null),r=Vs(r,h,l,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=hf(l),s.memoizedState=cf,r):df(s,E));if(f=r.memoizedState,f!==null&&(C=f.dehydrated,C!==null))return NS(r,s,E,h,C,f,l);if(g){g=h.fallback,E=s.mode,f=r.child,C=f.sibling;var O={mode:"hidden",children:h.children};return(E&1)===0&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=O,s.deletions=null):(h=Vi(f,O),h.subtreeFlags=f.subtreeFlags&14680064),C!==null?g=Vi(C,g):(g=Vs(g,E,l,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,E=r.child.memoizedState,E=E===null?hf(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=r.childLanes&~l,s.memoizedState=cf,h}return g=r.child,r=g.sibling,h=Vi(g,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function df(r,s){return s=Rc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function pc(r,s,l,h){return h!==null&&Fd(h),$o(s,r.child,null,l),r=df(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function NS(r,s,l,h,f,g,E){if(l)return s.flags&256?(s.flags&=-257,h=of(Error(t(422))),pc(r,s,E,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=Rc({mode:"visible",children:h.children},f,0,null),g=Vs(g,f,E,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,(s.mode&1)!==0&&$o(s,r.child,null,E),s.child.memoizedState=hf(E),s.memoizedState=cf,g);if((s.mode&1)===0)return pc(r,s,E,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var C=h.dgst;return h=C,g=Error(t(419)),h=of(g,h,void 0),pc(r,s,E,h)}if(C=(E&r.childLanes)!==0,nn||C){if(h=At,h!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|E))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Gr(r,f),nr(h,r,f,-1))}return Pf(),h=of(Error(t(421))),pc(r,s,E,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=zS.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,gn=Ci(f.nextSibling),mn=s,et=!0,Jn=null,r!==null&&(Pn[kn++]=qr,Pn[kn++]=Kr,Pn[kn++]=Ps,qr=r.id,Kr=r.overflow,Ps=s),s=df(s,h.children),s.flags|=4096,s)}function W_(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Bd(r.return,s,l)}function ff(r,s,l,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=l,g.tailMode=f)}function q_(r,s,l){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(qt(r,s,h.children,l),h=nt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&W_(r,l,s);else if(r.tag===19)W_(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ye(nt,h),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)r=l.alternate,r!==null&&ac(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),ff(s,!1,f,l,g);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&ac(r)===null){s.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}ff(s,!0,l,null,g);break;case"together":ff(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function mc(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Yr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),xs|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Vi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Vi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function bS(r,s,l){switch(s.tag){case 3:B_(s),Fo();break;case 5:o_(s);break;case 1:tn(s.type)&&Xu(s);break;case 4:Wd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;Ye(rc,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ye(nt,nt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?H_(r,s,l):(Ye(nt,nt.current&1),r=Yr(r,s,l),r!==null?r.sibling:null);Ye(nt,nt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(r.flags&128)!==0){if(h)return q_(r,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ye(nt,nt.current),h)break;return null;case 22:case 23:return s.lanes=0,$_(r,s,l)}return Yr(r,s,l)}var K_,pf,G_,Q_;K_=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},pf=function(){},G_=function(r,s,l,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,bs(Tr.current);var g=null;switch(l){case"input":f=Un(r,f),h=Un(r,h),g=[];break;case"select":f=ae({},f,{value:void 0}),h=ae({},h,{value:void 0}),g=[];break;case"textarea":f=fi(r,f),h=fi(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Gu)}Ba(l,h);var E;l=null;for(z in f)if(!h.hasOwnProperty(z)&&f.hasOwnProperty(z)&&f[z]!=null)if(z==="style"){var C=f[z];for(E in C)C.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?g||(g=[]):(g=g||[]).push(z,null));for(z in h){var O=h[z];if(C=f!=null?f[z]:void 0,h.hasOwnProperty(z)&&O!==C&&(O!=null||C!=null))if(z==="style")if(C){for(E in C)!C.hasOwnProperty(E)||O&&O.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in O)O.hasOwnProperty(E)&&C[E]!==O[E]&&(l||(l={}),l[E]=O[E])}else l||(g||(g=[]),g.push(z,l)),l=O;else z==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,C=C?C.__html:void 0,O!=null&&C!==O&&(g=g||[]).push(z,O)):z==="children"?typeof O!="string"&&typeof O!="number"||(g=g||[]).push(z,""+O):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(O!=null&&z==="onScroll"&&Xe("scroll",r),g||C===O||(g=[])):(g=g||[]).push(z,O))}l&&(g=g||[]).push("style",l);var z=g;(s.updateQueue=z)&&(s.flags|=4)}},Q_=function(r,s,l,h){l!==h&&(s.flags|=4)};function Tl(r,s){if(!et)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ft(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function OS(r,s,l){var h=s.pendingProps;switch(Ld(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(s),null;case 1:return tn(s.type)&&Yu(),Ft(s),null;case 3:return h=s.stateNode,Bo(),Je(en),Je(Mt),Gd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(tc(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Jn!==null&&(Af(Jn),Jn=null))),pf(r,s),Ft(s),null;case 5:qd(s);var f=bs(_l.current);if(l=s.type,r!==null&&s.stateNode!=null)G_(r,s,l,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Ft(s),null}if(r=bs(Tr.current),tc(s)){h=s.stateNode,l=s.type;var g=s.memoizedProps;switch(h[wr]=s,h[dl]=g,r=(s.mode&1)!==0,l){case"dialog":Xe("cancel",h),Xe("close",h);break;case"iframe":case"object":case"embed":Xe("load",h);break;case"video":case"audio":for(f=0;f<ul.length;f++)Xe(ul[f],h);break;case"source":Xe("error",h);break;case"img":case"image":case"link":Xe("error",h),Xe("load",h);break;case"details":Xe("toggle",h);break;case"input":cr(h,g),Xe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},Xe("invalid",h);break;case"textarea":Vr(h,g),Xe("invalid",h)}Ba(l,g),f=null;for(var E in g)if(g.hasOwnProperty(E)){var C=g[E];E==="children"?typeof C=="string"?h.textContent!==C&&(g.suppressHydrationWarning!==!0&&Ku(h.textContent,C,r),f=["children",C]):typeof C=="number"&&h.textContent!==""+C&&(g.suppressHydrationWarning!==!0&&Ku(h.textContent,C,r),f=["children",""+C]):o.hasOwnProperty(E)&&C!=null&&E==="onScroll"&&Xe("scroll",h)}switch(l){case"input":Tt(h),di(h,g,!0);break;case"textarea":Tt(h),pi(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Gu)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=st(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=E.createElement(l,{is:h.is}):(r=E.createElement(l),l==="select"&&(E=r,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):r=E.createElementNS(r,l),r[wr]=s,r[dl]=h,K_(r,s,!1,!1),s.stateNode=r;e:{switch(E=za(l,h),l){case"dialog":Xe("cancel",r),Xe("close",r),f=h;break;case"iframe":case"object":case"embed":Xe("load",r),f=h;break;case"video":case"audio":for(f=0;f<ul.length;f++)Xe(ul[f],r);f=h;break;case"source":Xe("error",r),f=h;break;case"img":case"image":case"link":Xe("error",r),Xe("load",r),f=h;break;case"details":Xe("toggle",r),f=h;break;case"input":cr(r,h),f=Un(r,h),Xe("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=ae({},h,{value:void 0}),Xe("invalid",r);break;case"textarea":Vr(r,h),f=fi(r,h),Xe("invalid",r);break;default:f=h}Ba(l,f),C=f;for(g in C)if(C.hasOwnProperty(g)){var O=C[g];g==="style"?Ua(r,O):g==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Fa(r,O)):g==="children"?typeof O=="string"?(l!=="textarea"||O!=="")&&mi(r,O):typeof O=="number"&&mi(r,""+O):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?O!=null&&g==="onScroll"&&Xe("scroll",r):O!=null&&X(r,g,O,E))}switch(l){case"input":Tt(r),di(r,h,!1);break;case"textarea":Tt(r),pi(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Re(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?Xt(r,!!h.multiple,g,!1):h.defaultValue!=null&&Xt(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Gu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ft(s),null;case 6:if(r&&s.stateNode!=null)Q_(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=bs(_l.current),bs(Tr.current),tc(s)){if(h=s.stateNode,l=s.memoizedProps,h[wr]=s,(g=h.nodeValue!==l)&&(r=mn,r!==null))switch(r.tag){case 3:Ku(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ku(h.nodeValue,l,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[wr]=s,s.stateNode=h}return Ft(s),null;case 13:if(Je(nt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(et&&gn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Jg(),Fo(),s.flags|=98560,g=!1;else if(g=tc(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[wr]=s}else Fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ft(s),g=!1}else Jn!==null&&(Af(Jn),Jn=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(nt.current&1)!==0?yt===0&&(yt=3):Pf())),s.updateQueue!==null&&(s.flags|=4),Ft(s),null);case 4:return Bo(),pf(r,s),r===null&&cl(s.stateNode.containerInfo),Ft(s),null;case 10:return jd(s.type._context),Ft(s),null;case 17:return tn(s.type)&&Yu(),Ft(s),null;case 19:if(Je(nt),g=s.memoizedState,g===null)return Ft(s),null;if(h=(s.flags&128)!==0,E=g.rendering,E===null)if(h)Tl(g,!1);else{if(yt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=ac(r),E!==null){for(s.flags|=128,Tl(g,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)g=l,r=h,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,r=E.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ye(nt,nt.current&1|2),s.child}r=r.sibling}g.tail!==null&&Qe()>qo&&(s.flags|=128,h=!0,Tl(g,!1),s.lanes=4194304)}else{if(!h)if(r=ac(E),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Tl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!et)return Ft(s),null}else 2*Qe()-g.renderingStartTime>qo&&l!==1073741824&&(s.flags|=128,h=!0,Tl(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(l=g.last,l!==null?l.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Qe(),s.sibling=null,l=nt.current,Ye(nt,h?l&1|2:l&1),s):(Ft(s),null);case 22:case 23:return Rf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(_n&1073741824)!==0&&(Ft(s),s.subtreeFlags&6&&(s.flags|=8192)):Ft(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function xS(r,s){switch(Ld(s),s.tag){case 1:return tn(s.type)&&Yu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Bo(),Je(en),Je(Mt),Gd(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return qd(s),null;case 13:if(Je(nt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Fo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Je(nt),null;case 4:return Bo(),null;case 10:return jd(s.type._context),null;case 22:case 23:return Rf(),null;case 24:return null;default:return null}}var gc=!1,$t=!1,DS=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Ho(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){at(r,s,h)}else l.current=null}function mf(r,s,l){try{l()}catch(h){at(r,s,h)}}var Y_=!1;function LS(r,s){if(Cd=Ii,r=Pg(),vd(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var E=0,C=-1,O=-1,z=0,Z=0,te=r,J=null;t:for(;;){for(var de;te!==l||f!==0&&te.nodeType!==3||(C=E+f),te!==g||h!==0&&te.nodeType!==3||(O=E+h),te.nodeType===3&&(E+=te.nodeValue.length),(de=te.firstChild)!==null;)J=te,te=de;for(;;){if(te===r)break t;if(J===l&&++z===f&&(C=E),J===g&&++Z===h&&(O=E),(de=te.nextSibling)!==null)break;te=J,J=te.parentNode}te=de}l=C===-1||O===-1?null:{start:C,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(Rd={focusedElem:r,selectionRange:l},Ii=!1,pe=s;pe!==null;)if(s=pe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,pe=r;else for(;pe!==null;){s=pe;try{var _e=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var ve=_e.memoizedProps,ct=_e.memoizedState,U=s.stateNode,D=U.getSnapshotBeforeUpdate(s.elementType===s.type?ve:Zn(s.type,ve),ct);U.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){at(s,s.return,re)}if(r=s.sibling,r!==null){r.return=s.return,pe=r;break}pe=s.return}return _e=Y_,Y_=!1,_e}function Il(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&mf(s,l,g)}f=f.next}while(f!==h)}}function _c(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function gf(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function X_(r){var s=r.alternate;s!==null&&(r.alternate=null,X_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[wr],delete s[dl],delete s[bd],delete s[_S],delete s[vS])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function J_(r){return r.tag===5||r.tag===3||r.tag===4}function Z_(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||J_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function _f(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Gu));else if(h!==4&&(r=r.child,r!==null))for(_f(r,s,l),r=r.sibling;r!==null;)_f(r,s,l),r=r.sibling}function vf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(vf(r,s,l),r=r.sibling;r!==null;)vf(r,s,l),r=r.sibling}var Ot=null,er=!1;function Oi(r,s,l){for(l=l.child;l!==null;)ev(r,s,l),l=l.sibling}function ev(r,s,l){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(ys,l)}catch{}switch(l.tag){case 5:$t||Ho(l,s);case 6:var h=Ot,f=er;Ot=null,Oi(r,s,l),Ot=h,er=f,Ot!==null&&(er?(r=Ot,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Ot.removeChild(l.stateNode));break;case 18:Ot!==null&&(er?(r=Ot,l=l.stateNode,r.nodeType===8?Nd(r.parentNode,l):r.nodeType===1&&Nd(r,l),Qn(r)):Nd(Ot,l.stateNode));break;case 4:h=Ot,f=er,Ot=l.stateNode.containerInfo,er=!0,Oi(r,s,l),Ot=h,er=f;break;case 0:case 11:case 14:case 15:if(!$t&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,E=g.destroy;g=g.tag,E!==void 0&&((g&2)!==0||(g&4)!==0)&&mf(l,s,E),f=f.next}while(f!==h)}Oi(r,s,l);break;case 1:if(!$t&&(Ho(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(C){at(l,s,C)}Oi(r,s,l);break;case 21:Oi(r,s,l);break;case 22:l.mode&1?($t=(h=$t)||l.memoizedState!==null,Oi(r,s,l),$t=h):Oi(r,s,l);break;default:Oi(r,s,l)}}function tv(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new DS),s.forEach(function(h){var f=HS.bind(null,r,h);l.has(h)||(l.add(h),h.then(f,f))})}}function tr(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var f=l[h];try{var g=r,E=s,C=E;e:for(;C!==null;){switch(C.tag){case 5:Ot=C.stateNode,er=!1;break e;case 3:Ot=C.stateNode.containerInfo,er=!0;break e;case 4:Ot=C.stateNode.containerInfo,er=!0;break e}C=C.return}if(Ot===null)throw Error(t(160));ev(g,E,f),Ot=null,er=!1;var O=f.alternate;O!==null&&(O.return=null),f.return=null}catch(z){at(f,s,z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)nv(s,r),s=s.sibling}function nv(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(tr(s,r),Sr(r),h&4){try{Il(3,r,r.return),_c(3,r)}catch(ve){at(r,r.return,ve)}try{Il(5,r,r.return)}catch(ve){at(r,r.return,ve)}}break;case 1:tr(s,r),Sr(r),h&512&&l!==null&&Ho(l,l.return);break;case 5:if(tr(s,r),Sr(r),h&512&&l!==null&&Ho(l,l.return),r.flags&32){var f=r.stateNode;try{mi(f,"")}catch(ve){at(r,r.return,ve)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,E=l!==null?l.memoizedProps:g,C=r.type,O=r.updateQueue;if(r.updateQueue=null,O!==null)try{C==="input"&&g.type==="radio"&&g.name!=null&&hr(f,g),za(C,E);var z=za(C,g);for(E=0;E<O.length;E+=2){var Z=O[E],te=O[E+1];Z==="style"?Ua(f,te):Z==="dangerouslySetInnerHTML"?Fa(f,te):Z==="children"?mi(f,te):X(f,Z,te,z)}switch(C){case"input":jn(f,g);break;case"textarea":fr(f,g);break;case"select":var J=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var de=g.value;de!=null?Xt(f,!!g.multiple,de,!1):J!==!!g.multiple&&(g.defaultValue!=null?Xt(f,!!g.multiple,g.defaultValue,!0):Xt(f,!!g.multiple,g.multiple?[]:"",!1))}f[dl]=g}catch(ve){at(r,r.return,ve)}}break;case 6:if(tr(s,r),Sr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(ve){at(r,r.return,ve)}}break;case 3:if(tr(s,r),Sr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Qn(s.containerInfo)}catch(ve){at(r,r.return,ve)}break;case 4:tr(s,r),Sr(r);break;case 13:tr(s,r),Sr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(wf=Qe())),h&4&&tv(r);break;case 22:if(Z=l!==null&&l.memoizedState!==null,r.mode&1?($t=(z=$t)||Z,tr(s,r),$t=z):tr(s,r),Sr(r),h&8192){if(z=r.memoizedState!==null,(r.stateNode.isHidden=z)&&!Z&&(r.mode&1)!==0)for(pe=r,Z=r.child;Z!==null;){for(te=pe=Z;pe!==null;){switch(J=pe,de=J.child,J.tag){case 0:case 11:case 14:case 15:Il(4,J,J.return);break;case 1:Ho(J,J.return);var _e=J.stateNode;if(typeof _e.componentWillUnmount=="function"){h=J,l=J.return;try{s=h,_e.props=s.memoizedProps,_e.state=s.memoizedState,_e.componentWillUnmount()}catch(ve){at(h,l,ve)}}break;case 5:Ho(J,J.return);break;case 22:if(J.memoizedState!==null){sv(te);continue}}de!==null?(de.return=J,pe=de):sv(te)}Z=Z.sibling}e:for(Z=null,te=r;;){if(te.tag===5){if(Z===null){Z=te;try{f=te.stateNode,z?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(C=te.stateNode,O=te.memoizedProps.style,E=O!=null&&O.hasOwnProperty("display")?O.display:null,C.style.display=$a("display",E))}catch(ve){at(r,r.return,ve)}}}else if(te.tag===6){if(Z===null)try{te.stateNode.nodeValue=z?"":te.memoizedProps}catch(ve){at(r,r.return,ve)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===r)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===r)break e;for(;te.sibling===null;){if(te.return===null||te.return===r)break e;Z===te&&(Z=null),te=te.return}Z===te&&(Z=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:tr(s,r),Sr(r),h&4&&tv(r);break;case 21:break;default:tr(s,r),Sr(r)}}function Sr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(J_(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(mi(f,""),h.flags&=-33);var g=Z_(r);vf(r,g,f);break;case 3:case 4:var E=h.stateNode.containerInfo,C=Z_(r);_f(r,C,E);break;default:throw Error(t(161))}}catch(O){at(r,r.return,O)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function MS(r,s,l){pe=r,rv(r)}function rv(r,s,l){for(var h=(r.mode&1)!==0;pe!==null;){var f=pe,g=f.child;if(f.tag===22&&h){var E=f.memoizedState!==null||gc;if(!E){var C=f.alternate,O=C!==null&&C.memoizedState!==null||$t;C=gc;var z=$t;if(gc=E,($t=O)&&!z)for(pe=f;pe!==null;)E=pe,O=E.child,E.tag===22&&E.memoizedState!==null?ov(f):O!==null?(O.return=E,pe=O):ov(f);for(;g!==null;)pe=g,rv(g),g=g.sibling;pe=f,gc=C,$t=z}iv(r)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,pe=g):iv(r)}}function iv(r){for(;pe!==null;){var s=pe;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:$t||_c(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!$t)if(l===null)h.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:Zn(s.type,l.memoizedProps);h.componentDidUpdate(f,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&s_(s,g,h);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}s_(s,E,l)}break;case 5:var C=s.stateNode;if(l===null&&s.flags&4){l=C;var O=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&l.focus();break;case"img":O.src&&(l.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var z=s.alternate;if(z!==null){var Z=z.memoizedState;if(Z!==null){var te=Z.dehydrated;te!==null&&Qn(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}$t||s.flags&512&&gf(s)}catch(J){at(s,s.return,J)}}if(s===r){pe=null;break}if(l=s.sibling,l!==null){l.return=s.return,pe=l;break}pe=s.return}}function sv(r){for(;pe!==null;){var s=pe;if(s===r){pe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,pe=l;break}pe=s.return}}function ov(r){for(;pe!==null;){var s=pe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{_c(4,s)}catch(O){at(s,l,O)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(O){at(s,f,O)}}var g=s.return;try{gf(s)}catch(O){at(s,g,O)}break;case 5:var E=s.return;try{gf(s)}catch(O){at(s,E,O)}}}catch(O){at(s,s.return,O)}if(s===r){pe=null;break}var C=s.sibling;if(C!==null){C.return=s.return,pe=C;break}pe=s.return}}var VS=Math.ceil,vc=Y.ReactCurrentDispatcher,yf=Y.ReactCurrentOwner,On=Y.ReactCurrentBatchConfig,Ue=0,At=null,pt=null,xt=0,_n=0,Wo=Ri(0),yt=0,Sl=null,xs=0,yc=0,Ef=0,Al=null,rn=null,wf=0,qo=1/0,Xr=null,Ec=!1,Tf=null,xi=null,wc=!1,Di=null,Tc=0,Cl=0,If=null,Ic=-1,Sc=0;function Kt(){return(Ue&6)!==0?Qe():Ic!==-1?Ic:Ic=Qe()}function Li(r){return(r.mode&1)===0?1:(Ue&2)!==0&&xt!==0?xt&-xt:ES.transition!==null?(Sc===0&&(Sc=ws()),Sc):(r=Me,r!==0||(r=window.event,r=r===void 0?16:el(r.type)),r)}function nr(r,s,l,h){if(50<Cl)throw Cl=0,If=null,Error(t(185));yi(r,l,h),((Ue&2)===0||r!==At)&&(r===At&&((Ue&2)===0&&(yc|=l),yt===4&&Mi(r,xt)),sn(r,h),l===1&&Ue===0&&(s.mode&1)===0&&(qo=Qe()+500,Ju&&ki()))}function sn(r,s){var l=r.callbackNode;$r(r,s);var h=Es(r,r===At?xt:0);if(h===0)l!==null&&Qa(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&Qa(l),s===1)r.tag===0?yS(lv.bind(null,r)):Kg(lv.bind(null,r)),mS(function(){(Ue&6)===0&&ki()}),l=null;else{switch(wi(h)){case 1:l=vs;break;case 4:l=gi;break;case 16:l=An;break;case 536870912:l=Su;break;default:l=An}l=gv(l,av.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function av(r,s){if(Ic=-1,Sc=0,(Ue&6)!==0)throw Error(t(327));var l=r.callbackNode;if(Ko()&&r.callbackNode!==l)return null;var h=Es(r,r===At?xt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=Ac(r,h);else{s=h;var f=Ue;Ue|=2;var g=cv();(At!==r||xt!==s)&&(Xr=null,qo=Qe()+500,Ls(r,s));do try{US();break}catch(C){uv(r,C)}while(!0);Ud(),vc.current=g,Ue=f,pt!==null?s=0:(At=null,xt=0,s=yt)}if(s!==0){if(s===2&&(f=dn(r),f!==0&&(h=f,s=Sf(r,f))),s===1)throw l=Sl,Ls(r,0),Mi(r,h),sn(r,Qe()),l;if(s===6)Mi(r,h);else{if(f=r.current.alternate,(h&30)===0&&!FS(f)&&(s=Ac(r,h),s===2&&(g=dn(r),g!==0&&(h=g,s=Sf(r,g))),s===1))throw l=Sl,Ls(r,0),Mi(r,h),sn(r,Qe()),l;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Ms(r,rn,Xr);break;case 3:if(Mi(r,h),(h&130023424)===h&&(s=wf+500-Qe(),10<s)){if(Es(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){Kt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=kd(Ms.bind(null,r,rn,Xr),s);break}Ms(r,rn,Xr);break;case 4:if(Mi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var E=31-Ht(h);g=1<<E,E=s[E],E>f&&(f=E),h&=~g}if(h=f,h=Qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*VS(h/1960))-h,10<h){r.timeoutHandle=kd(Ms.bind(null,r,rn,Xr),h);break}Ms(r,rn,Xr);break;case 5:Ms(r,rn,Xr);break;default:throw Error(t(329))}}}return sn(r,Qe()),r.callbackNode===l?av.bind(null,r):null}function Sf(r,s){var l=Al;return r.current.memoizedState.isDehydrated&&(Ls(r,s).flags|=256),r=Ac(r,s),r!==2&&(s=rn,rn=l,s!==null&&Af(s)),r}function Af(r){rn===null?rn=r:rn.push.apply(rn,r)}function FS(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var f=l[h],g=f.getSnapshot;f=f.value;try{if(!Xn(g(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Mi(r,s){for(s&=~Ef,s&=~yc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Ht(s),h=1<<l;r[l]=-1,s&=~h}}function lv(r){if((Ue&6)!==0)throw Error(t(327));Ko();var s=Es(r,0);if((s&1)===0)return sn(r,Qe()),null;var l=Ac(r,s);if(r.tag!==0&&l===2){var h=dn(r);h!==0&&(s=h,l=Sf(r,h))}if(l===1)throw l=Sl,Ls(r,0),Mi(r,s),sn(r,Qe()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ms(r,rn,Xr),sn(r,Qe()),null}function Cf(r,s){var l=Ue;Ue|=1;try{return r(s)}finally{Ue=l,Ue===0&&(qo=Qe()+500,Ju&&ki())}}function Ds(r){Di!==null&&Di.tag===0&&(Ue&6)===0&&Ko();var s=Ue;Ue|=1;var l=On.transition,h=Me;try{if(On.transition=null,Me=1,r)return r()}finally{Me=h,On.transition=l,Ue=s,(Ue&6)===0&&ki()}}function Rf(){_n=Wo.current,Je(Wo)}function Ls(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,pS(l)),pt!==null)for(l=pt.return;l!==null;){var h=l;switch(Ld(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Yu();break;case 3:Bo(),Je(en),Je(Mt),Gd();break;case 5:qd(h);break;case 4:Bo();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:jd(h.type._context);break;case 22:case 23:Rf()}l=l.return}if(At=r,pt=r=Vi(r.current,null),xt=_n=s,yt=0,Sl=null,Ef=yc=xs=0,rn=Al=null,Ns!==null){for(s=0;s<Ns.length;s++)if(l=Ns[s],h=l.interleaved,h!==null){l.interleaved=null;var f=h.next,g=l.pending;if(g!==null){var E=g.next;g.next=f,h.next=E}l.pending=h}Ns=null}return r}function uv(r,s){do{var l=pt;try{if(Ud(),lc.current=dc,uc){for(var h=rt.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}uc=!1}if(Os=0,St=vt=rt=null,vl=!1,yl=0,yf.current=null,l===null||l.return===null){yt=1,Sl=s,pt=null;break}e:{var g=r,E=l.return,C=l,O=s;if(s=xt,C.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var z=O,Z=C,te=Z.tag;if((Z.mode&1)===0&&(te===0||te===11||te===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var de=D_(E);if(de!==null){de.flags&=-257,L_(de,E,C,g,s),de.mode&1&&x_(g,z,s),s=de,O=z;var _e=s.updateQueue;if(_e===null){var ve=new Set;ve.add(O),s.updateQueue=ve}else _e.add(O);break e}else{if((s&1)===0){x_(g,z,s),Pf();break e}O=Error(t(426))}}else if(et&&C.mode&1){var ct=D_(E);if(ct!==null){(ct.flags&65536)===0&&(ct.flags|=256),L_(ct,E,C,g,s),Fd(zo(O,C));break e}}g=O=zo(O,C),yt!==4&&(yt=2),Al===null?Al=[g]:Al.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var U=b_(g,O,s);i_(g,U);break e;case 1:C=O;var D=g.type,j=g.stateNode;if((g.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(xi===null||!xi.has(j)))){g.flags|=65536,s&=-s,g.lanes|=s;var re=O_(g,C,s);i_(g,re);break e}}g=g.return}while(g!==null)}dv(l)}catch(ye){s=ye,pt===l&&l!==null&&(pt=l=l.return);continue}break}while(!0)}function cv(){var r=vc.current;return vc.current=dc,r===null?dc:r}function Pf(){(yt===0||yt===3||yt===2)&&(yt=4),At===null||(xs&268435455)===0&&(yc&268435455)===0||Mi(At,xt)}function Ac(r,s){var l=Ue;Ue|=2;var h=cv();(At!==r||xt!==s)&&(Xr=null,Ls(r,s));do try{$S();break}catch(f){uv(r,f)}while(!0);if(Ud(),Ue=l,vc.current=h,pt!==null)throw Error(t(261));return At=null,xt=0,yt}function $S(){for(;pt!==null;)hv(pt)}function US(){for(;pt!==null&&!Tu();)hv(pt)}function hv(r){var s=mv(r.alternate,r,_n);r.memoizedProps=r.pendingProps,s===null?dv(r):pt=s,yf.current=null}function dv(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=OS(l,s,_n),l!==null){pt=l;return}}else{if(l=xS(l,s),l!==null){l.flags&=32767,pt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{yt=6,pt=null;return}}if(s=s.sibling,s!==null){pt=s;return}pt=s=r}while(s!==null);yt===0&&(yt=5)}function Ms(r,s,l){var h=Me,f=On.transition;try{On.transition=null,Me=1,jS(r,s,l,h)}finally{On.transition=f,Me=h}return null}function jS(r,s,l,h){do Ko();while(Di!==null);if((Ue&6)!==0)throw Error(t(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(qe(r,g),r===At&&(pt=At=null,xt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||wc||(wc=!0,gv(An,function(){return Ko(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=On.transition,On.transition=null;var E=Me;Me=1;var C=Ue;Ue|=4,yf.current=null,LS(r,l),nv(l,r),aS(Rd),Ii=!!Cd,Rd=Cd=null,r.current=l,MS(l),cd(),Ue=C,Me=E,On.transition=g}else r.current=l;if(wc&&(wc=!1,Di=r,Tc=f),g=r.pendingLanes,g===0&&(xi=null),Au(l.stateNode),sn(r,Qe()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)f=s[l],h(f.value,{componentStack:f.stack,digest:f.digest});if(Ec)throw Ec=!1,r=Tf,Tf=null,r;return(Tc&1)!==0&&r.tag!==0&&Ko(),g=r.pendingLanes,(g&1)!==0?r===If?Cl++:(Cl=0,If=r):Cl=0,ki(),null}function Ko(){if(Di!==null){var r=wi(Tc),s=On.transition,l=Me;try{if(On.transition=null,Me=16>r?16:r,Di===null)var h=!1;else{if(r=Di,Di=null,Tc=0,(Ue&6)!==0)throw Error(t(331));var f=Ue;for(Ue|=4,pe=r.current;pe!==null;){var g=pe,E=g.child;if((pe.flags&16)!==0){var C=g.deletions;if(C!==null){for(var O=0;O<C.length;O++){var z=C[O];for(pe=z;pe!==null;){var Z=pe;switch(Z.tag){case 0:case 11:case 15:Il(8,Z,g)}var te=Z.child;if(te!==null)te.return=Z,pe=te;else for(;pe!==null;){Z=pe;var J=Z.sibling,de=Z.return;if(X_(Z),Z===z){pe=null;break}if(J!==null){J.return=de,pe=J;break}pe=de}}}var _e=g.alternate;if(_e!==null){var ve=_e.child;if(ve!==null){_e.child=null;do{var ct=ve.sibling;ve.sibling=null,ve=ct}while(ve!==null)}}pe=g}}if((g.subtreeFlags&2064)!==0&&E!==null)E.return=g,pe=E;else e:for(;pe!==null;){if(g=pe,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Il(9,g,g.return)}var U=g.sibling;if(U!==null){U.return=g.return,pe=U;break e}pe=g.return}}var D=r.current;for(pe=D;pe!==null;){E=pe;var j=E.child;if((E.subtreeFlags&2064)!==0&&j!==null)j.return=E,pe=j;else e:for(E=D;pe!==null;){if(C=pe,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:_c(9,C)}}catch(ye){at(C,C.return,ye)}if(C===E){pe=null;break e}var re=C.sibling;if(re!==null){re.return=C.return,pe=re;break e}pe=C.return}}if(Ue=f,ki(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(ys,r)}catch{}h=!0}return h}finally{Me=l,On.transition=s}}return!1}function fv(r,s,l){s=zo(l,s),s=b_(r,s,1),r=bi(r,s,1),s=Kt(),r!==null&&(yi(r,1,s),sn(r,s))}function at(r,s,l){if(r.tag===3)fv(r,r,l);else for(;s!==null;){if(s.tag===3){fv(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(xi===null||!xi.has(h))){r=zo(l,r),r=O_(s,r,1),s=bi(s,r,1),r=Kt(),s!==null&&(yi(s,1,r),sn(s,r));break}}s=s.return}}function BS(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=Kt(),r.pingedLanes|=r.suspendedLanes&l,At===r&&(xt&l)===l&&(yt===4||yt===3&&(xt&130023424)===xt&&500>Qe()-wf?Ls(r,0):Ef|=l),sn(r,s)}function pv(r,s){s===0&&((r.mode&1)===0?s=1:(s=go,go<<=1,(go&130023424)===0&&(go=4194304)));var l=Kt();r=Gr(r,s),r!==null&&(yi(r,s,l),sn(r,l))}function zS(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),pv(r,l)}function HS(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),pv(r,l)}var mv;mv=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||en.current)nn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return nn=!1,bS(r,s,l);nn=(r.flags&131072)!==0}else nn=!1,et&&(s.flags&1048576)!==0&&Gg(s,ec,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;mc(r,s),r=s.pendingProps;var f=Lo(s,Mt.current);jo(s,l),f=Xd(null,s,h,r,f,l);var g=Jd();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,tn(h)?(g=!0,Xu(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Hd(s),f.updater=fc,s.stateNode=f,f._reactInternals=s,sf(s,h,r,l),s=uf(null,s,h,!0,g,l)):(s.tag=0,et&&g&&Dd(s),qt(null,s,f,l),s=s.child),s;case 16:h=s.elementType;e:{switch(mc(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=qS(h),r=Zn(h,r),f){case 0:s=lf(null,s,h,r,l);break e;case 1:s=j_(null,s,h,r,l);break e;case 11:s=M_(null,s,h,r,l);break e;case 14:s=V_(null,s,h,Zn(h.type,r),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Zn(h,f),lf(r,s,h,f,l);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Zn(h,f),j_(r,s,h,f,l);case 3:e:{if(B_(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,f=g.element,r_(r,s),oc(s,h,null,l);var E=s.memoizedState;if(h=E.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=zo(Error(t(423)),s),s=z_(r,s,h,l,f);break e}else if(h!==f){f=zo(Error(t(424)),s),s=z_(r,s,h,l,f);break e}else for(gn=Ci(s.stateNode.containerInfo.firstChild),mn=s,et=!0,Jn=null,l=t_(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Fo(),h===f){s=Yr(r,s,l);break e}qt(r,s,h,l)}s=s.child}return s;case 5:return o_(s),r===null&&Vd(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,E=f.children,Pd(h,f)?E=null:g!==null&&Pd(h,g)&&(s.flags|=32),U_(r,s),qt(r,s,E,l),s.child;case 6:return r===null&&Vd(s),null;case 13:return H_(r,s,l);case 4:return Wd(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=$o(s,null,h,l):qt(r,s,h,l),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Zn(h,f),M_(r,s,h,f,l);case 7:return qt(r,s,s.pendingProps,l),s.child;case 8:return qt(r,s,s.pendingProps.children,l),s.child;case 12:return qt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,E=f.value,Ye(rc,h._currentValue),h._currentValue=E,g!==null)if(Xn(g.value,E)){if(g.children===f.children&&!en.current){s=Yr(r,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var C=g.dependencies;if(C!==null){E=g.child;for(var O=C.firstContext;O!==null;){if(O.context===h){if(g.tag===1){O=Qr(-1,l&-l),O.tag=2;var z=g.updateQueue;if(z!==null){z=z.shared;var Z=z.pending;Z===null?O.next=O:(O.next=Z.next,Z.next=O),z.pending=O}}g.lanes|=l,O=g.alternate,O!==null&&(O.lanes|=l),Bd(g.return,l,s),C.lanes|=l;break}O=O.next}}else if(g.tag===10)E=g.type===s.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=l,C=E.alternate,C!==null&&(C.lanes|=l),Bd(E,l,s),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}qt(r,s,f.children,l),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,jo(s,l),f=Nn(f),h=h(f),s.flags|=1,qt(r,s,h,l),s.child;case 14:return h=s.type,f=Zn(h,s.pendingProps),f=Zn(h.type,f),V_(r,s,h,f,l);case 15:return F_(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Zn(h,f),mc(r,s),s.tag=1,tn(h)?(r=!0,Xu(s)):r=!1,jo(s,l),k_(s,h,f),sf(s,h,f,l),uf(null,s,h,!0,r,l);case 19:return q_(r,s,l);case 22:return $_(r,s,l)}throw Error(t(156,s.tag))};function gv(r,s){return po(r,s)}function WS(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(r,s,l,h){return new WS(r,s,l,h)}function kf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function qS(r){if(typeof r=="function")return kf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===M)return 11;if(r===Ke)return 14}return 2}function Vi(r,s){var l=r.alternate;return l===null?(l=xn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Cc(r,s,l,h,f,g){var E=2;if(h=r,typeof r=="function")kf(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case P:return Vs(l.children,f,g,s);case S:E=8,f|=8;break;case A:return r=xn(12,l,s,f|2),r.elementType=A,r.lanes=g,r;case R:return r=xn(13,l,s,f),r.elementType=R,r.lanes=g,r;case He:return r=xn(19,l,s,f),r.elementType=He,r.lanes=g,r;case Ne:return Rc(l,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case N:E=10;break e;case x:E=9;break e;case M:E=11;break e;case Ke:E=14;break e;case Be:E=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=xn(E,l,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function Vs(r,s,l,h){return r=xn(7,r,h,s),r.lanes=l,r}function Rc(r,s,l,h){return r=xn(22,r,h,s),r.elementType=Ne,r.lanes=l,r.stateNode={isHidden:!1},r}function Nf(r,s,l){return r=xn(6,r,null,s),r.lanes=l,r}function bf(r,s,l){return s=xn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function KS(r,s,l,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vi(0),this.expirationTimes=vi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Of(r,s,l,h,f,g,E,C,O){return r=new KS(r,s,l,C,O),s===1?(s=1,g===!0&&(s|=8)):s=0,g=xn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hd(g),r}function GS(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function _v(r){if(!r)return Pi;r=r._reactInternals;e:{if(Hn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(tn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(tn(l))return Wg(r,l,s)}return s}function vv(r,s,l,h,f,g,E,C,O){return r=Of(l,h,!0,r,f,g,E,C,O),r.context=_v(null),l=r.current,h=Kt(),f=Li(l),g=Qr(h,f),g.callback=s??null,bi(l,g,f),r.current.lanes=f,yi(r,f,h),sn(r,h),r}function Pc(r,s,l,h){var f=s.current,g=Kt(),E=Li(f);return l=_v(l),s.context===null?s.context=l:s.pendingContext=l,s=Qr(g,E),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=bi(f,s,E),r!==null&&(nr(r,f,E,g),sc(r,f,E)),E}function kc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function yv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function xf(r,s){yv(r,s),(r=r.alternate)&&yv(r,s)}function QS(){return null}var Ev=typeof reportError=="function"?reportError:function(r){console.error(r)};function Df(r){this._internalRoot=r}Nc.prototype.render=Df.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Pc(r,s,null,null)},Nc.prototype.unmount=Df.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ds(function(){Pc(null,r,null,null)}),s[Hr]=null}};function Nc(r){this._internalRoot=r}Nc.prototype.unstable_scheduleHydration=function(r){if(r){var s=Nu();r={blockedOn:null,target:r,priority:s};for(var l=0;l<_r.length&&s!==0&&s<_r[l].priority;l++);_r.splice(l,0,r),l===0&&xu(r)}};function Lf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function bc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function wv(){}function YS(r,s,l,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var z=kc(E);g.call(z)}}var E=vv(s,h,r,0,null,!1,!1,"",wv);return r._reactRootContainer=E,r[Hr]=E.current,cl(r.nodeType===8?r.parentNode:r),Ds(),E}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var C=h;h=function(){var z=kc(O);C.call(z)}}var O=Of(r,0,!1,null,null,!1,!1,"",wv);return r._reactRootContainer=O,r[Hr]=O.current,cl(r.nodeType===8?r.parentNode:r),Ds(function(){Pc(s,O,l,h)}),O}function Oc(r,s,l,h,f){var g=l._reactRootContainer;if(g){var E=g;if(typeof f=="function"){var C=f;f=function(){var O=kc(E);C.call(O)}}Pc(s,E,r,f)}else E=YS(l,s,r,f,h);return kc(E)}Pu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=_i(s.pendingLanes);l!==0&&(Ei(s,l|1),sn(s,Qe()),(Ue&6)===0&&(qo=Qe()+500,ki()))}break;case 13:Ds(function(){var h=Gr(r,1);if(h!==null){var f=Kt();nr(h,r,1,f)}}),xf(r,1)}},_o=function(r){if(r.tag===13){var s=Gr(r,134217728);if(s!==null){var l=Kt();nr(s,r,134217728,l)}xf(r,134217728)}},ku=function(r){if(r.tag===13){var s=Li(r),l=Gr(r,s);if(l!==null){var h=Kt();nr(l,r,s,h)}xf(r,s)}},Nu=function(){return Me},bu=function(r,s){var l=Me;try{return Me=r,s()}finally{Me=l}},ao=function(r,s,l){switch(s){case"input":if(jn(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var f=Qu(h);if(!f)throw Error(t(90));Pt(h),jn(h,f)}}}break;case"textarea":fr(r,l);break;case"select":s=l.value,s!=null&&Xt(r,!!l.multiple,s,!1)}},ps=Cf,Wa=Ds;var XS={usingClientEntryPoint:!1,Events:[fl,xo,Qu,mr,Ha,Cf]},Rl={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JS={bundleType:Rl.bundleType,version:Rl.version,rendererPackageName:Rl.rendererPackageName,rendererConfig:Rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ga(r),r===null?null:r.stateNode},findFiberByHostInstance:Rl.findFiberByHostInstance||QS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{ys=xc.inject(JS),hn=xc}catch{}}return on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XS,on.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lf(s))throw Error(t(200));return GS(r,s,null,l)},on.createRoot=function(r,s){if(!Lf(r))throw Error(t(299));var l=!1,h="",f=Ev;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Of(r,1,!1,null,null,l,!1,h,f),r[Hr]=s.current,cl(r.nodeType===8?r.parentNode:r),new Df(s)},on.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Ga(s),r=r===null?null:r.stateNode,r},on.flushSync=function(r){return Ds(r)},on.hydrate=function(r,s,l){if(!bc(s))throw Error(t(200));return Oc(null,r,s,!0,l)},on.hydrateRoot=function(r,s,l){if(!Lf(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,f=!1,g="",E=Ev;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=vv(s,null,r,1,l??null,f,!1,g,E),r[Hr]=s.current,cl(r),h)for(r=0;r<h.length;r++)l=h[r],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new Nc(s)},on.render=function(r,s,l){if(!bc(s))throw Error(t(200));return Oc(null,r,s,!1,l)},on.unmountComponentAtNode=function(r){if(!bc(r))throw Error(t(40));return r._reactRootContainer?(Ds(function(){Oc(null,null,r,!1,function(){r._reactRootContainer=null,r[Hr]=null})}),!0):!1},on.unstable_batchedUpdates=Cf,on.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!bc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Oc(r,s,l,!1,h)},on.version="18.3.1-next-f1338f8080-20240426",on}var kv;function aA(){if(kv)return Ff.exports;kv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ff.exports=oA(),Ff.exports}var Nv;function lA(){if(Nv)return Dc;Nv=1;var n=aA();return Dc.createRoot=n.createRoot,Dc.hydrateRoot=n.hydrateRoot,Dc}var uA=lA(),kl={},bv;function cA(){if(bv)return kl;bv=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.parse=c,kl.serialize=_;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function c(T,k){const b=new a,F=T.length;if(F<2)return b;const L=(k==null?void 0:k.decode)||y;let H=0;do{const q=T.indexOf("=",H);if(q===-1)break;const X=T.indexOf(";",H),Y=X===-1?F:X;if(q>Y){H=T.lastIndexOf(";",q-1)+1;continue}const ue=d(T,H,q),ne=p(T,q,ue),P=T.slice(ue,ne);if(b[P]===void 0){let S=d(T,q+1,Y),A=p(T,Y,S);const N=L(T.slice(S,A));b[P]=N}H=Y+1}while(H<F);return b}function d(T,k,b){do{const F=T.charCodeAt(k);if(F!==32&&F!==9)return k}while(++k<b);return b}function p(T,k,b){for(;k>b;){const F=T.charCodeAt(--k);if(F!==32&&F!==9)return k+1}return b}function _(T,k,b){const F=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const L=F(k);if(!e.test(L))throw new TypeError(`argument val is invalid: ${k}`);let H=T+"="+L;if(!b)return H;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);H+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);H+="; Domain="+b.domain}if(b.path){if(!i.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);H+="; Path="+b.path}if(b.expires){if(!I(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);H+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(H+="; HttpOnly"),b.secure&&(H+="; Secure"),b.partitioned&&(H+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return H}function y(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function I(T){return o.call(T)==="[object Date]"}return kl}cA();var Ov="popstate";function hA(n={}){function e(i,o){let{pathname:a,search:c,hash:d}=i.location;return yp("",{pathname:a,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Kl(o)}return fA(e,t,null,n)}function tt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ir(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dA(){return Math.random().toString(36).substring(2,10)}function xv(n,e){return{usr:n.state,key:n.key,idx:e}}function yp(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ca(e):e,state:t,key:e&&e.key||i||dA()}}function Kl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ca(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function fA(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,d="POP",p=null,_=y();_==null&&(_=0,c.replaceState({...c.state,idx:_},""));function y(){return(c.state||{idx:null}).idx}function I(){d="POP";let L=y(),H=L==null?null:L-_;_=L,p&&p({action:d,location:F.location,delta:H})}function T(L,H){d="PUSH";let q=yp(F.location,L,H);_=y()+1;let X=xv(q,_),Y=F.createHref(q);try{c.pushState(X,"",Y)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(Y)}a&&p&&p({action:d,location:F.location,delta:1})}function k(L,H){d="REPLACE";let q=yp(F.location,L,H);_=y();let X=xv(q,_),Y=F.createHref(q);c.replaceState(X,"",Y),a&&p&&p({action:d,location:F.location,delta:0})}function b(L){return pA(L)}let F={get action(){return d},get location(){return n(o,c)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Ov,I),p=L,()=>{o.removeEventListener(Ov,I),p=null}},createHref(L){return e(o,L)},createURL:b,encodeLocation(L){let H=b(L);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:T,replace:k,go(L){return c.go(L)}};return F}function pA(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),tt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Kl(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function iw(n,e,t="/"){return mA(n,e,t,!1)}function mA(n,e,t,i){let o=typeof e=="string"?Ca(e):e,a=si(o.pathname||"/",t);if(a==null)return null;let c=sw(n);gA(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let _=RA(a);d=AA(c[p],_,i)}return d}function sw(n,e=[],t=[],i=""){let o=(a,c,d)=>{let p={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(tt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let _=ei([i,p.relativePath]),y=t.concat(p);a.children&&a.children.length>0&&(tt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),sw(a.children,e,y,_)),!(a.path==null&&!a.index)&&e.push({path:_,score:IA(_,a.index),routesMeta:y})};return n.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,c);else for(let p of ow(a.path))o(a,c,p)}),e}function ow(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=ow(i.join("/")),d=[];return d.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function gA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:SA(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var _A=/^:[\w-]+$/,vA=3,yA=2,EA=1,wA=10,TA=-2,Dv=n=>n==="*";function IA(n,e){let t=n.split("/"),i=t.length;return t.some(Dv)&&(i+=TA),e&&(i+=yA),t.filter(o=>!Dv(o)).reduce((o,a)=>o+(_A.test(a)?vA:a===""?EA:wA),i)}function SA(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function AA(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],_=d===i.length-1,y=a==="/"?e:e.slice(a.length)||"/",I=uh({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},y),T=p.route;if(!I&&_&&t&&!i[i.length-1].route.index&&(I=uh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!I)return null;Object.assign(o,I.params),c.push({params:o,pathname:ei([a,I.pathname]),pathnameBase:bA(ei([a,I.pathnameBase])),route:T}),I.pathnameBase!=="/"&&(a=ei([a,I.pathnameBase]))}return c}function uh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=CA(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((_,{paramName:y,isOptional:I},T)=>{if(y==="*"){let b=d[T]||"";c=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const k=d[T];return I&&!k?_[y]=void 0:_[y]=(k||"").replace(/%2F/g,"/"),_},{}),pathname:a,pathnameBase:c,pattern:n}}function CA(n,e=!1,t=!0){ir(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function RA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ir(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function si(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function PA(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Ca(n):n;return{pathname:t?t.startsWith("/")?t:kA(t,e):e,search:OA(i),hash:xA(o)}}function kA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function jf(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function im(n){let e=NA(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function sm(n,e,t,i=!1){let o;typeof n=="string"?o=Ca(n):(o={...n},tt(!o.pathname||!o.pathname.includes("?"),jf("?","pathname","search",o)),tt(!o.pathname||!o.pathname.includes("#"),jf("#","pathname","hash",o)),tt(!o.search||!o.search.includes("#"),jf("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,d;if(c==null)d=t;else{let I=e.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),I-=1;o.pathname=T.join("/")}d=I>=0?e[I]:"/"}let p=PA(o,d),_=c&&c!=="/"&&c.endsWith("/"),y=(a||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(_||y)&&(p.pathname+="/"),p}var ei=n=>n.join("/").replace(/\/\/+/g,"/"),bA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),OA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,xA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function DA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var aw=["POST","PUT","PATCH","DELETE"];new Set(aw);var LA=["GET",...aw];new Set(LA);var Ra=B.createContext(null);Ra.displayName="DataRouter";var Dh=B.createContext(null);Dh.displayName="DataRouterState";var lw=B.createContext({isTransitioning:!1});lw.displayName="ViewTransition";var MA=B.createContext(new Map);MA.displayName="Fetchers";var VA=B.createContext(null);VA.displayName="Await";var ar=B.createContext(null);ar.displayName="Navigation";var ru=B.createContext(null);ru.displayName="Location";var Mr=B.createContext({outlet:null,matches:[],isDataRoute:!1});Mr.displayName="Route";var om=B.createContext(null);om.displayName="RouteError";function FA(n,{relative:e}={}){tt(Pa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=B.useContext(ar),{hash:o,pathname:a,search:c}=iu(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:ei([t,a])),i.createHref({pathname:d,search:c,hash:o})}function Pa(){return B.useContext(ru)!=null}function os(){return tt(Pa(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(ru).location}var uw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cw(n){B.useContext(ar).static||B.useLayoutEffect(n)}function Lh(){let{isDataRoute:n}=B.useContext(Mr);return n?XA():$A()}function $A(){tt(Pa(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(Ra),{basename:e,navigator:t}=B.useContext(ar),{matches:i}=B.useContext(Mr),{pathname:o}=os(),a=JSON.stringify(im(i)),c=B.useRef(!1);return cw(()=>{c.current=!0}),B.useCallback((p,_={})=>{if(ir(c.current,uw),!c.current)return;if(typeof p=="number"){t.go(p);return}let y=sm(p,JSON.parse(a),o,_.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ei([e,y.pathname])),(_.replace?t.replace:t.push)(y,_.state,_)},[e,t,a,o,n])}B.createContext(null);function iu(n,{relative:e}={}){let{matches:t}=B.useContext(Mr),{pathname:i}=os(),o=JSON.stringify(im(t));return B.useMemo(()=>sm(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function UA(n,e){return hw(n,e)}function hw(n,e,t,i){var H;tt(Pa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=B.useContext(ar),{matches:a}=B.useContext(Mr),c=a[a.length-1],d=c?c.params:{},p=c?c.pathname:"/",_=c?c.pathnameBase:"/",y=c&&c.route;{let q=y&&y.path||"";dw(p,!y||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let I=os(),T;if(e){let q=typeof e=="string"?Ca(e):e;tt(_==="/"||((H=q.pathname)==null?void 0:H.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${q.pathname}" was given in the \`location\` prop.`),T=q}else T=I;let k=T.pathname||"/",b=k;if(_!=="/"){let q=_.replace(/^\//,"").split("/");b="/"+k.replace(/^\//,"").split("/").slice(q.length).join("/")}let F=iw(n,{pathname:b});ir(y||F!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),ir(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=WA(F&&F.map(q=>Object.assign({},q,{params:Object.assign({},d,q.params),pathname:ei([_,o.encodeLocation?o.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?_:ei([_,o.encodeLocation?o.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),a,t,i);return e&&L?B.createElement(ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},L):L}function jA(){let n=YA(),e=DA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:a},"ErrorBoundary")," or"," ",B.createElement("code",{style:a},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:o},t):null,c)}var BA=B.createElement(jA,null),zA=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?B.createElement(Mr.Provider,{value:this.props.routeContext},B.createElement(om.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HA({routeContext:n,match:e,children:t}){let i=B.useContext(Ra);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Mr.Provider,{value:n},t)}function WA(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let p=o.findIndex(_=>_.route.id&&(a==null?void 0:a[_.route.id])!==void 0);tt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let _=o[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=p),_.route.id){let{loaderData:y,errors:I}=t,T=_.route.loader&&!y.hasOwnProperty(_.route.id)&&(!I||I[_.route.id]===void 0);if(_.route.lazy||T){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,_,y)=>{let I,T=!1,k=null,b=null;t&&(I=a&&_.route.id?a[_.route.id]:void 0,k=_.route.errorElement||BA,c&&(d<0&&y===0?(dw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,b=null):d===y&&(T=!0,b=_.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,y+1)),L=()=>{let H;return I?H=k:T?H=b:_.route.Component?H=B.createElement(_.route.Component,null):_.route.element?H=_.route.element:H=p,B.createElement(HA,{match:_,routeContext:{outlet:p,matches:F,isDataRoute:t!=null},children:H})};return t&&(_.route.ErrorBoundary||_.route.errorElement||y===0)?B.createElement(zA,{location:t.location,revalidation:t.revalidation,component:k,error:I,children:L(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):L()},null)}function am(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qA(n){let e=B.useContext(Ra);return tt(e,am(n)),e}function KA(n){let e=B.useContext(Dh);return tt(e,am(n)),e}function GA(n){let e=B.useContext(Mr);return tt(e,am(n)),e}function lm(n){let e=GA(n),t=e.matches[e.matches.length-1];return tt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function QA(){return lm("useRouteId")}function YA(){var i;let n=B.useContext(om),e=KA("useRouteError"),t=lm("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function XA(){let{router:n}=qA("useNavigate"),e=lm("useNavigate"),t=B.useRef(!1);return cw(()=>{t.current=!0}),B.useCallback(async(o,a={})=>{ir(t.current,uw),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var Lv={};function dw(n,e,t){!e&&!Lv[n]&&(Lv[n]=!0,ir(!1,t))}B.memo(JA);function JA({routes:n,future:e,state:t}){return hw(n,void 0,t,e)}function ZA({to:n,replace:e,state:t,relative:i}){tt(Pa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(ar);ir(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=B.useContext(Mr),{pathname:c}=os(),d=Lh(),p=sm(n,im(a),c,i==="path"),_=JSON.stringify(p);return B.useEffect(()=>{d(JSON.parse(_),{replace:e,state:t,relative:i})},[d,_,i,e,t]),null}function Qc(n){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eC({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){tt(!Pa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=B.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof t=="string"&&(t=Ca(t));let{pathname:p="/",search:_="",hash:y="",state:I=null,key:T="default"}=t,k=B.useMemo(()=>{let b=si(p,c);return b==null?null:{location:{pathname:b,search:_,hash:y,state:I,key:T},navigationType:i}},[c,p,_,y,I,T,i]);return ir(k!=null,`<Router basename="${c}"> is not able to match the URL "${p}${_}${y}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:B.createElement(ar.Provider,{value:d},B.createElement(ru.Provider,{children:e,value:k}))}function tC({children:n,location:e}){return UA(Ep(n),e)}function Ep(n,e=[]){let t=[];return B.Children.forEach(n,(i,o)=>{if(!B.isValidElement(i))return;let a=[...e,o];if(i.type===B.Fragment){t.push.apply(t,Ep(i.props.children,a));return}tt(i.type===Qc,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Ep(i.props.children,a)),t.push(c)}),t}var Yc="get",Xc="application/x-www-form-urlencoded";function Mh(n){return n!=null&&typeof n.tagName=="string"}function nC(n){return Mh(n)&&n.tagName.toLowerCase()==="button"}function rC(n){return Mh(n)&&n.tagName.toLowerCase()==="form"}function iC(n){return Mh(n)&&n.tagName.toLowerCase()==="input"}function sC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function oC(n,e){return n.button===0&&(!e||e==="_self")&&!sC(n)}var Lc=null;function aC(){if(Lc===null)try{new FormData(document.createElement("form"),0),Lc=!1}catch{Lc=!0}return Lc}var lC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bf(n){return n!=null&&!lC.has(n)?(ir(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xc}"`),null):n}function uC(n,e){let t,i,o,a,c;if(rC(n)){let d=n.getAttribute("action");i=d?si(d,e):null,t=n.getAttribute("method")||Yc,o=Bf(n.getAttribute("enctype"))||Xc,a=new FormData(n)}else if(nC(n)||iC(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?si(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Yc,o=Bf(n.getAttribute("formenctype"))||Bf(d.getAttribute("enctype"))||Xc,a=new FormData(d,n),!aC()){let{name:_,type:y,value:I}=n;if(y==="image"){let T=_?`${_}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else _&&a.append(_,I)}}else{if(Mh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Yc,i=null,o=Xc,c=n}return a&&o==="text/plain"&&(c=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:c}}function um(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function cC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function dC(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await cC(a,t);return c.links?c.links():[]}return[]}));return gC(i.flat(1).filter(hC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Mv(n,e,t,i,o,a){let c=(p,_)=>t[_]?p.route.id!==t[_].route.id:!0,d=(p,_)=>{var y;return t[_].pathname!==p.pathname||((y=t[_].route.path)==null?void 0:y.endsWith("*"))&&t[_].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,_)=>c(p,_)||d(p,_)):a==="data"?e.filter((p,_)=>{var I;let y=i.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,_)||d(p,_))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((I=t[0])==null?void 0:I.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function fC(n,e,{includeHydrateFallback:t}={}){return pC(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function pC(n){return[...new Set(n)]}function mC(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function gC(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(mC(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _C=new Set([100,101,204,205]);function vC(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&si(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function fw(){let n=B.useContext(Ra);return um(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function yC(){let n=B.useContext(Dh);return um(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var cm=B.createContext(void 0);cm.displayName="FrameworkContext";function pw(){let n=B.useContext(cm);return um(n,"You must render this element inside a <HydratedRouter> element"),n}function EC(n,e){let t=B.useContext(cm),[i,o]=B.useState(!1),[a,c]=B.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:_,onMouseLeave:y,onTouchStart:I}=e,T=B.useRef(null);B.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let F=H=>{H.forEach(q=>{c(q.isIntersecting)})},L=new IntersectionObserver(F,{threshold:.5});return T.current&&L.observe(T.current),()=>{L.disconnect()}}},[n]),B.useEffect(()=>{if(i){let F=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(F)}}},[i]);let k=()=>{o(!0)},b=()=>{o(!1),c(!1)};return t?n!=="intent"?[a,T,{}]:[a,T,{onFocus:Nl(d,k),onBlur:Nl(p,b),onMouseEnter:Nl(_,k),onMouseLeave:Nl(y,b),onTouchStart:Nl(I,k)}]:[!1,T,{}]}function Nl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function wC({page:n,...e}){let{router:t}=fw(),i=B.useMemo(()=>iw(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?B.createElement(IC,{page:n,matches:i,...e}):null}function TC(n){let{manifest:e,routeModules:t}=pw(),[i,o]=B.useState([]);return B.useEffect(()=>{let a=!1;return dC(n,e,t).then(c=>{a||o(c)}),()=>{a=!0}},[n,e,t]),i}function IC({page:n,matches:e,...t}){let i=os(),{manifest:o,routeModules:a}=pw(),{basename:c}=fw(),{loaderData:d,matches:p}=yC(),_=B.useMemo(()=>Mv(n,e,p,o,i,"data"),[n,e,p,o,i]),y=B.useMemo(()=>Mv(n,e,p,o,i,"assets"),[n,e,p,o,i]),I=B.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let b=new Set,F=!1;if(e.forEach(H=>{var X;let q=o.routes[H.route.id];!q||!q.hasLoader||(!_.some(Y=>Y.route.id===H.route.id)&&H.route.id in d&&((X=a[H.route.id])!=null&&X.shouldRevalidate)||q.hasClientLoader?F=!0:b.add(H.route.id))}),b.size===0)return[];let L=vC(n,c);return F&&b.size>0&&L.searchParams.set("_routes",e.filter(H=>b.has(H.route.id)).map(H=>H.route.id).join(",")),[L.pathname+L.search]},[c,d,i,o,_,e,n,a]),T=B.useMemo(()=>fC(y,o),[y,o]),k=TC(y);return B.createElement(B.Fragment,null,I.map(b=>B.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),T.map(b=>B.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),k.map(({key:b,link:F})=>B.createElement("link",{key:b,...F})))}function SC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var mw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mw&&(window.__reactRouterVersion="7.6.2")}catch{}function AC({basename:n,children:e,window:t}){let i=B.useRef();i.current==null&&(i.current=hA({window:t,v5Compat:!0}));let o=i.current,[a,c]=B.useState({action:o.action,location:o.location}),d=B.useCallback(p=>{B.startTransition(()=>c(p))},[c]);return B.useLayoutEffect(()=>o.listen(d),[o,d]),B.createElement(eC,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var gw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gl=B.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:c,state:d,target:p,to:_,preventScrollReset:y,viewTransition:I,...T},k){let{basename:b}=B.useContext(ar),F=typeof _=="string"&&gw.test(_),L,H=!1;if(typeof _=="string"&&F&&(L=_,mw))try{let A=new URL(window.location.href),N=_.startsWith("//")?new URL(A.protocol+_):new URL(_),x=si(N.pathname,b);N.origin===A.origin&&x!=null?_=x+N.search+N.hash:H=!0}catch{ir(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=FA(_,{relative:o}),[X,Y,ue]=EC(i,T),ne=kC(_,{replace:c,state:d,target:p,preventScrollReset:y,relative:o,viewTransition:I});function P(A){e&&e(A),A.defaultPrevented||ne(A)}let S=B.createElement("a",{...T,...ue,href:L||q,onClick:H||a?e:P,ref:SC(k,Y),target:p,"data-discover":!F&&t==="render"?"true":void 0});return X&&!F?B.createElement(B.Fragment,null,S,B.createElement(wC,{page:q})):S});Gl.displayName="Link";var CC=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:d,children:p,..._},y){let I=iu(c,{relative:_.relative}),T=os(),k=B.useContext(Dh),{navigator:b,basename:F}=B.useContext(ar),L=k!=null&&DC(I)&&d===!0,H=b.encodeLocation?b.encodeLocation(I).pathname:I.pathname,q=T.pathname,X=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(q=q.toLowerCase(),X=X?X.toLowerCase():null,H=H.toLowerCase()),X&&F&&(X=si(X,F)||X);const Y=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let ue=q===H||!o&&q.startsWith(H)&&q.charAt(Y)==="/",ne=X!=null&&(X===H||!o&&X.startsWith(H)&&X.charAt(H.length)==="/"),P={isActive:ue,isPending:ne,isTransitioning:L},S=ue?e:void 0,A;typeof i=="function"?A=i(P):A=[i,ue?"active":null,ne?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(P):a;return B.createElement(Gl,{..._,"aria-current":S,className:A,ref:y,style:N,to:c,viewTransition:d},typeof p=="function"?p(P):p)});CC.displayName="NavLink";var RC=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:c=Yc,action:d,onSubmit:p,relative:_,preventScrollReset:y,viewTransition:I,...T},k)=>{let b=OC(),F=xC(d,{relative:_}),L=c.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&gw.test(d),q=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let Y=X.nativeEvent.submitter,ue=(Y==null?void 0:Y.getAttribute("formmethod"))||c;b(Y||X.currentTarget,{fetcherKey:e,method:ue,navigate:t,replace:o,state:a,relative:_,preventScrollReset:y,viewTransition:I})};return B.createElement("form",{ref:k,method:L,action:F,onSubmit:i?p:q,...T,"data-discover":!H&&n==="render"?"true":void 0})});RC.displayName="Form";function PC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _w(n){let e=B.useContext(Ra);return tt(e,PC(n)),e}function kC(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:c}={}){let d=Lh(),p=os(),_=iu(n,{relative:a});return B.useCallback(y=>{if(oC(y,e)){y.preventDefault();let I=t!==void 0?t:Kl(p)===Kl(_);d(n,{replace:I,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[p,d,_,t,i,e,n,o,a,c])}var NC=0,bC=()=>`__${String(++NC)}__`;function OC(){let{router:n}=_w("useSubmit"),{basename:e}=B.useContext(ar),t=QA();return B.useCallback(async(i,o={})=>{let{action:a,method:c,encType:d,formData:p,body:_}=uC(i,e);if(o.navigate===!1){let y=o.fetcherKey||bC();await n.fetch(y,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function xC(n,{relative:e}={}){let{basename:t}=B.useContext(ar),i=B.useContext(Mr);tt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...iu(n||".",{relative:e})},c=os();if(n==null){a.search=c.search;let d=new URLSearchParams(a.search),p=d.getAll("index");if(p.some(y=>y==="")){d.delete("index"),p.filter(I=>I).forEach(I=>d.append("index",I));let y=d.toString();a.search=y?`?${y}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ei([t,a.pathname])),Kl(a)}function DC(n,e={}){let t=B.useContext(lw);tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=_w("useViewTransitionState"),o=iu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=si(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=si(t.nextLocation.pathname,i)||t.nextLocation.pathname;return uh(o.pathname,c)!=null||uh(o.pathname,a)!=null}[..._C];const LC=()=>{};var Vv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},MC=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},yw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,_=p?n[o+2]:0,y=a>>2,I=(a&3)<<4|d>>4;let T=(d&15)<<2|_>>6,k=_&63;p||(k=64,c||(T=64)),i.push(t[y],t[I],t[T],t[k])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(vw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):MC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const _=o<n.length?t[n.charAt(o)]:64;++o;const I=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||_==null||I==null)throw new VC;const T=a<<2|d>>4;if(i.push(T),_!==64){const k=d<<4&240|_>>2;if(i.push(k),I!==64){const b=_<<6&192|I;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class VC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FC=function(n){const e=vw(n);return yw.encodeByteArray(e,!0)},ch=function(n){return FC(n).replace(/\./g,"")},Ew=function(n){try{return yw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=()=>$C().__FIREBASE_DEFAULTS__,jC=()=>{if(typeof process>"u"||typeof Vv>"u")return;const n=Vv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},BC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ew(n[1]);return e&&JSON.parse(e)},Vh=()=>{try{return LC()||UC()||jC()||BC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ww=n=>{var e,t;return(t=(e=Vh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},zC=n=>{const e=ww(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Tw=()=>{var n;return(n=Vh())===null||n===void 0?void 0:n.config},Iw=n=>{var e;return(e=Vh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(n){return n.endsWith(".cloudworkstations.dev")}async function Sw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ch(JSON.stringify(t)),ch(JSON.stringify(c)),""].join(".")}const Fl={};function qC(){const n={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?n.emulator.push(e):n.prod.push(e);return n}function KC(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Fv=!1;function Aw(n,e){if(typeof window>"u"||typeof document>"u"||!su(window.location.host)||Fl[n]===e||Fl[n]||Fv)return;Fl[n]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",a=qC().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,k){T.setAttribute("width","24"),T.setAttribute("id",k),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function _(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Fv=!0,c()},T}function y(T,k){T.setAttribute("id",k),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function I(){const T=KC(i),k=t("text"),b=document.getElementById(k)||document.createElement("span"),F=t("learnmore"),L=document.getElementById(F)||document.createElement("a"),H=t("preprendIcon"),q=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const X=T.element;d(X),y(L,F);const Y=_();p(q,H),X.append(q,b,L,Y),document.body.appendChild(X)}a?(b.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function QC(){var n;const e=(n=Vh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Cw(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function XC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JC(){const n=zt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ZC(){return!QC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Rw(){try{return typeof indexedDB=="object"}catch{return!1}}function Pw(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function e1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="FirebaseError";class lr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=t1,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eo.prototype.create)}}class eo{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?n1(a,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new lr(o,d,i)}}function n1(n,e){return n.replace(r1,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const r1=/\{\$([^}]+)}/g;function i1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Yi(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if($v(a)&&$v(c)){if(!Yi(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function $v(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function xl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Dl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function s1(n,e){const t=new o1(n,e);return t.subscribe.bind(t)}class o1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");a1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=zf),o.error===void 0&&(o.error=zf),o.complete===void 0&&(o.complete=zf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a1(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function zf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=1e3,u1=2,c1=4*60*60*1e3,h1=.5;function Uv(n,e=l1,t=u1){const i=e*Math.pow(t,n),o=Math.round(h1*i*(Math.random()-.5)*2);return Math.min(c1,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(n){return n&&n._delegate?n._delegate:n}class sr{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new HC;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p1(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:f1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f1(n){return n===Fs?void 0:n}function p1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new d1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const g1={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},_1=Le.INFO,v1={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},y1=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=v1[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fh{constructor(e){this.name=e,this._logLevel=_1,this._logHandler=y1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const E1=(n,e)=>e.some(t=>n instanceof t);let jv,Bv;function w1(){return jv||(jv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T1(){return Bv||(Bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kw=new WeakMap,wp=new WeakMap,Nw=new WeakMap,Hf=new WeakMap,hm=new WeakMap;function I1(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Ki(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&kw.set(t,n)}).catch(()=>{}),hm.set(e,n),e}function S1(n){if(wp.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});wp.set(n,e)}let Tp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return wp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Nw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ki(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function A1(n){Tp=n(Tp)}function C1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Wf(this),e,...t);return Nw.set(i,e.sort?e.sort():[e]),Ki(i)}:T1().includes(n)?function(...e){return n.apply(Wf(this),e),Ki(kw.get(this))}:function(...e){return Ki(n.apply(Wf(this),e))}}function R1(n){return typeof n=="function"?C1(n):(n instanceof IDBTransaction&&S1(n),E1(n,w1())?new Proxy(n,Tp):n)}function Ki(n){if(n instanceof IDBRequest)return I1(n);if(Hf.has(n))return Hf.get(n);const e=R1(n);return e!==n&&(Hf.set(n,e),hm.set(e,n)),e}const Wf=n=>hm.get(n);function bw(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),d=Ki(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Ki(c.result),p.oldVersion,p.newVersion,Ki(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),d}const P1=["get","getKey","getAll","getAllKeys","count"],k1=["put","add","delete","clear"],qf=new Map;function zv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(qf.get(e))return qf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=k1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||P1.includes(t)))return;const a=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let _=p.store;return i&&(_=_.index(d.shift())),(await Promise.all([_[t](...d),o&&p.done]))[0]};return qf.set(e,a),a}A1(n=>({...n,get:(e,t,i)=>zv(e,t)||n.get(e,t,i),has:(e,t)=>!!zv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(b1(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function b1(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ip="@firebase/app",Hv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new Fh("@firebase/app"),O1="@firebase/app-compat",x1="@firebase/analytics-compat",D1="@firebase/analytics",L1="@firebase/app-check-compat",M1="@firebase/app-check",V1="@firebase/auth",F1="@firebase/auth-compat",$1="@firebase/database",U1="@firebase/data-connect",j1="@firebase/database-compat",B1="@firebase/functions",z1="@firebase/functions-compat",H1="@firebase/installations",W1="@firebase/installations-compat",q1="@firebase/messaging",K1="@firebase/messaging-compat",G1="@firebase/performance",Q1="@firebase/performance-compat",Y1="@firebase/remote-config",X1="@firebase/remote-config-compat",J1="@firebase/storage",Z1="@firebase/storage-compat",eR="@firebase/firestore",tR="@firebase/ai",nR="@firebase/firestore-compat",rR="firebase",iR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="[DEFAULT]",sR={[Ip]:"fire-core",[O1]:"fire-core-compat",[D1]:"fire-analytics",[x1]:"fire-analytics-compat",[M1]:"fire-app-check",[L1]:"fire-app-check-compat",[V1]:"fire-auth",[F1]:"fire-auth-compat",[$1]:"fire-rtdb",[U1]:"fire-data-connect",[j1]:"fire-rtdb-compat",[B1]:"fire-fn",[z1]:"fire-fn-compat",[H1]:"fire-iid",[W1]:"fire-iid-compat",[q1]:"fire-fcm",[K1]:"fire-fcm-compat",[G1]:"fire-perf",[Q1]:"fire-perf-compat",[Y1]:"fire-rc",[X1]:"fire-rc-compat",[J1]:"fire-gcs",[Z1]:"fire-gcs-compat",[eR]:"fire-fst",[nR]:"fire-fst-compat",[tR]:"fire-vertex","fire-js":"fire-js",[rR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,oR=new Map,Ap=new Map;function Wv(n,e){try{n.container.addComponent(e)}catch(t){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Or(n){const e=n.name;if(Ap.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;Ap.set(e,n);for(const t of hh.values())Wv(t,n);for(const t of oR.values())Wv(t,n);return!0}function to(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Dn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new eo("app","Firebase",aR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=iR;function Ow(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Sp,automaticDataCollectionEnabled:!0},e),o=i.name;if(typeof o!="string"||!o)throw Gi.create("bad-app-name",{appName:String(o)});if(t||(t=Tw()),!t)throw Gi.create("no-options");const a=hh.get(o);if(a){if(Yi(t,a.options)&&Yi(i,a.config))return a;throw Gi.create("duplicate-app",{appName:o})}const c=new m1(o);for(const p of Ap.values())c.addComponent(p);const d=new lR(t,i,c);return hh.set(o,d),d}function dm(n=Sp){const e=hh.get(n);if(!e&&n===Sp&&Tw())return Ow();if(!e)throw Gi.create("no-app",{appName:n});return e}function Ln(n,e,t){var i;let o=(i=sR[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(d.join(" "));return}Or(new sr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="firebase-heartbeat-database",cR=1,Ql="firebase-heartbeat-store";let Kf=null;function xw(){return Kf||(Kf=bw(uR,cR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ql)}catch(t){console.warn(t)}}}}).catch(n=>{throw Gi.create("idb-open",{originalErrorMessage:n.message})})),Kf}async function hR(n){try{const t=(await xw()).transaction(Ql),i=await t.objectStore(Ql).get(Dw(n));return await t.done,i}catch(e){if(e instanceof lr)oi.warn(e.message);else{const t=Gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oi.warn(t.message)}}}async function qv(n,e){try{const i=(await xw()).transaction(Ql,"readwrite");await i.objectStore(Ql).put(e,Dw(n)),await i.done}catch(t){if(t instanceof lr)oi.warn(t.message);else{const i=Gi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});oi.warn(i.message)}}}function Dw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=1024,fR=30;class pR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gR(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Kv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>fR){const c=_R(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){oi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Kv(),{heartbeatsToSend:i,unsentEntries:o}=mR(this._heartbeatsCache.heartbeats),a=ch(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return oi.warn(t),""}}}function Kv(){return new Date().toISOString().substring(0,10)}function mR(n,e=dR){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),Gv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Gv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class gR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Rw()?Pw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await hR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return qv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return qv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Gv(n){return ch(JSON.stringify({version:2,heartbeats:n})).length}function _R(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(n){Or(new sr("platform-logger",e=>new N1(e),"PRIVATE")),Or(new sr("heartbeat",e=>new pR(e),"PRIVATE")),Ln(Ip,Hv,n),Ln(Ip,Hv,"esm2017"),Ln("fire-js","")}vR("");function fm(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function Lw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yR=Lw,Mw=new eo("auth","Firebase",Lw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Fh("@firebase/auth");function ER(n,...e){dh.logLevel<=Le.WARN&&dh.warn(`Auth (${ka}): ${n}`,...e)}function Jc(n,...e){dh.logLevel<=Le.ERROR&&dh.error(`Auth (${ka}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(n,...e){throw pm(n,...e)}function Rr(n,...e){return pm(n,...e)}function Vw(n,e,t){const i=Object.assign(Object.assign({},yR()),{[e]:t});return new eo("auth","Firebase",i).create(e,{appName:n.name})}function ti(n){return Vw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pm(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Mw.create(n,...e)}function Ce(n,e,...t){if(!n)throw pm(e,...t)}function Jr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Jc(e),new Error(e)}function ai(n,e){n||Jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function wR(){return Qv()==="http:"||Qv()==="https:"}function Qv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wR()||Cw()||"connection"in navigator)?navigator.onLine:!0}function IR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,t){this.shortDelay=e,this.longDelay=t,ai(t>e,"Short delay should be less than long delay!"),this.isMobile=GC()||XC()}get(){return TR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(n,e){ai(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CR=new au(3e4,6e4);function as(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ci(n,e,t,i,o={}){return $w(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const d=ou(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const _=Object.assign({method:e,headers:p},a);return YC()||(_.referrerPolicy="no-referrer"),n.emulatorConfig&&su(n.emulatorConfig.host)&&(_.credentials="include"),Fw.fetch()(await Uw(n,n.config.apiHost,t,d),_)})}async function $w(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},SR),e);try{const o=new PR(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Mc(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const d=a.ok?c.errorMessage:c.error.message,[p,_]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Mc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Mc(n,"user-disabled",c);const y=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Vw(n,y,_);or(n,y)}}catch(o){if(o instanceof lr)throw o;or(n,"network-request-failed",{message:String(o)})}}async function lu(n,e,t,i,o={}){const a=await ci(n,e,t,i,o);return"mfaPendingCredential"in a&&or(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function Uw(n,e,t,i){const o=`${e}${t}?${i}`,a=n,c=a.config.emulator?mm(n.config,o):`${n.config.apiScheme}://${o}`;return AR.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function RR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Rr(this.auth,"network-request-failed")),CR.get())})}}function Mc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Rr(n,e,i);return o.customData._tokenResponse=t,o}function Yv(n){return n!==void 0&&n.enterprise!==void 0}class kR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return RR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NR(n,e){return ci(n,"GET","/v2/recaptchaConfig",as(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(n,e){return ci(n,"POST","/v1/accounts:delete",e)}async function fh(n,e){return ci(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OR(n,e=!1){const t=Tn(n),i=await t.getIdToken(e),o=gm(i);Ce(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:$l(Gf(o.auth_time)),issuedAtTime:$l(Gf(o.iat)),expirationTime:$l(Gf(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Gf(n){return Number(n)*1e3}function gm(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ew(t);return o?JSON.parse(o):(Jc("Failed to decode base64 JWT payload"),null)}catch(o){return Jc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Xv(n){const e=gm(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof lr&&xR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function xR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(n){var e;const t=n.auth,i=await n.getIdToken(),o=await ca(n,fh(t,{idToken:i}));Ce(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?jw(a.providerUserInfo):[],d=MR(n.providerData,c),p=n.isAnonymous,_=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),y=p?_:!1,I={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Rp(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,I)}async function LR(n){const e=Tn(n);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MR(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function jw(n){return n.map(e=>{var{providerId:t}=e,i=fm(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(n,e){const t=await $w(n,{},async()=>{const i=ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=await Uw(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Fw.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function FR(n,e){return ci(n,"POST","/v2/accounts:revokeToken",as(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=Xv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await VR(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new sa;return i&&(Ce(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ce(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Ce(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sa,this.toJSON())}_performRefresh(){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class rr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=fm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Rp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await ca(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return OR(this,e)}reload(){return LR(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new rr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await ph(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(ti(this.auth));const e=await this.getIdToken();return await ca(this,bR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,d,p,_,y;const I=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,k=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,b=(c=t.photoURL)!==null&&c!==void 0?c:void 0,F=(d=t.tenantId)!==null&&d!==void 0?d:void 0,L=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,H=(_=t.createdAt)!==null&&_!==void 0?_:void 0,q=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:X,emailVerified:Y,isAnonymous:ue,providerData:ne,stsTokenManager:P}=t;Ce(X&&P,e,"internal-error");const S=sa.fromJSON(this.name,P);Ce(typeof X=="string",e,"internal-error"),$i(I,e.name),$i(T,e.name),Ce(typeof Y=="boolean",e,"internal-error"),Ce(typeof ue=="boolean",e,"internal-error"),$i(k,e.name),$i(b,e.name),$i(F,e.name),$i(L,e.name),$i(H,e.name),$i(q,e.name);const A=new rr({uid:X,auth:e,email:T,emailVerified:Y,displayName:I,isAnonymous:ue,photoURL:b,phoneNumber:k,tenantId:F,stsTokenManager:S,createdAt:H,lastLoginAt:q});return ne&&Array.isArray(ne)&&(A.providerData=ne.map(N=>Object.assign({},N))),L&&(A._redirectEventId=L),A}static async _fromIdTokenResponse(e,t,i=!1){const o=new sa;o.updateFromServerResponse(t);const a=new rr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await ph(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ce(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?jw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new sa;d.updateFromIdToken(i);const p=new rr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Rp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=new Map;function Zr(n){ai(n instanceof Function,"Expected a class definition");let e=Jv.get(n);return e?(ai(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Jv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Bw.type="NONE";const Zv=Bw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(n,e,t){return`firebase:${n}:${e}:${t}`}class oa{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Zc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Zc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await fh(this.auth,{idToken:e}).catch(()=>{});return t?rr._fromGetAccountInfoResponse(this.auth,t,e):null}return rr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new oa(Zr(Zv),e,i);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let a=o[0]||Zr(Zv);const c=Zc(i,e.config.apiKey,e.name);let d=null;for(const _ of t)try{const y=await _._get(c);if(y){let I;if(typeof y=="string"){const T=await fh(e,{idToken:y}).catch(()=>{});if(!T)break;I=await rr._fromGetAccountInfoResponse(e,T,y)}else I=rr._fromJSON(e,y);_!==a&&(d=I),a=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new oa(a,e,i):(a=p[0],d&&await a._set(c,d.toJSON()),await Promise.all(t.map(async _=>{if(_!==a)try{await _._remove(c)}catch{}})),new oa(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Gw(e))return"Blackberry";if(Qw(e))return"Webos";if(Hw(e))return"Safari";if((e.includes("chrome/")||Ww(e))&&!e.includes("edge/"))return"Chrome";if(Kw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function zw(n=zt()){return/firefox\//i.test(n)}function Hw(n=zt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ww(n=zt()){return/crios\//i.test(n)}function qw(n=zt()){return/iemobile/i.test(n)}function Kw(n=zt()){return/android/i.test(n)}function Gw(n=zt()){return/blackberry/i.test(n)}function Qw(n=zt()){return/webos/i.test(n)}function _m(n=zt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function $R(n=zt()){var e;return _m(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function UR(){return JC()&&document.documentMode===10}function Yw(n=zt()){return _m(n)||Kw(n)||Qw(n)||Gw(n)||/windows phone/i.test(n)||qw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(n,e=[]){let t;switch(n){case"Browser":t=ey(zt());break;case"Worker":t=`${ey(zt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ka}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,d)=>{try{const p=e(a);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(n,e={}){return ci(n,"GET","/v2/passwordPolicy",as(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=6;class HR{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:zR,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ty(this),this.idTokenSubscription=new ty(this),this.beforeStateQueue=new jR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zr(t)),this._initializationPromise=this.queue(async()=>{var i,o,a;if(!this._deleted&&(this.persistenceManager=await oa.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await fh(this,{idToken:e}),i=await rr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Dn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(ti(this));const t=e?Tn(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BR(this),t=new HR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eo("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await FR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zr(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await oa.create(this,[Zr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(d,this,"internal-error"),d.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ER(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function no(n){return Tn(n)}class ty{constructor(e){this.auth=e,this.observer=null,this.addObserver=s1(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qR(n){$h=n}function Jw(n){return $h.loadJS(n)}function KR(){return $h.recaptchaEnterpriseScript}function GR(){return $h.gapiScript}function QR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class YR{constructor(){this.enterprise=new XR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class XR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const JR="recaptcha-enterprise",Zw="NO_RECAPTCHA";class ZR{constructor(e){this.type=JR,this.auth=no(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,d)=>{NR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const _=new kR(p);return a.tenantId==null?a._agentRecaptchaConfig=_:a._tenantRecaptchaConfigs[a.tenantId]=_,c(_.siteKey)}}).catch(p=>{d(p)})})}function o(a,c,d){const p=window.grecaptcha;Yv(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(_=>{c(_)}).catch(()=>{c(Zw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YR().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(d=>{if(!t&&Yv(window.grecaptcha))o(d,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=KR();p.length!==0&&(p+=d),Jw(p).then(()=>{o(d,a,c)}).catch(_=>{c(_)})}}).catch(d=>{c(d)})})}}async function ny(n,e,t,i=!1,o=!1){const a=new ZR(n);let c;if(o)c=Zw;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,_=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Pp(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await ny(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await ny(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(n,e){const t=to(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Yi(a,e??{}))return o;or(o,"already-initialized")}return t.initialize({options:e})}function tP(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Zr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function nP(n,e,t){const i=no(n);Ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=eT(e),{host:c,port:d}=rP(e),p=d===null?"":`:${d}`,_={url:`${a}//${c}${p}/`},y=Object.freeze({host:c,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ce(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ce(Yi(_,i.config.emulator)&&Yi(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=_,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,su(c)?(Sw(`${a}//${c}${p}`),Aw("Auth",!0)):iP()}function eT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function rP(n){const e=eT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:ry(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:ry(c)}}}function ry(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function iP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,t){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}async function sP(n,e){return ci(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oP(n,e){return lu(n,"POST","/v1/accounts:signInWithPassword",as(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(n,e){return lu(n,"POST","/v1/accounts:signInWithEmailLink",as(n,e))}async function lP(n,e){return lu(n,"POST","/v1/accounts:signInWithEmailLink",as(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends vm{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Yl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Yl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pp(e,t,"signInWithPassword",oP);case"emailLink":return aP(e,{email:this._email,oobCode:this._password});default:or(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pp(e,i,"signUpPassword",sP);case"emailLink":return lP(e,{idToken:t,email:this._email,oobCode:this._password});default:or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aa(n,e){return lu(n,"POST","/v1/accounts:signInWithIdp",as(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP="http://localhost";class Ks extends vm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):or("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=fm(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Ks(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return aa(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,aa(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,aa(e,t)}buildRequest(){const e={requestUri:uP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ou(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hP(n){const e=xl(Dl(n)).link,t=e?xl(Dl(e)).deep_link_id:null,i=xl(Dl(n)).deep_link_id;return(i?xl(Dl(i)).link:null)||i||t||e||n}class ym{constructor(e){var t,i,o,a,c,d;const p=xl(Dl(e)),_=(t=p.apiKey)!==null&&t!==void 0?t:null,y=(i=p.oobCode)!==null&&i!==void 0?i:null,I=cP((o=p.mode)!==null&&o!==void 0?o:null);Ce(_&&y&&I,"argument-error"),this.apiKey=_,this.operation=I,this.code=y,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=hP(e);try{return new ym(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.providerId=Na.PROVIDER_ID}static credential(e,t){return Yl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=ym.parseLink(t);return Ce(i,"argument-error"),Yl._fromEmailAndCode(e,i.code,i.tenantId)}}Na.PROVIDER_ID="password";Na.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Na.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends tT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends uu{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ks._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Bi.credential(t,i)}catch{return null}}}Bi.GOOGLE_SIGN_IN_METHOD="google.com";Bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends uu{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends uu{constructor(){super("twitter.com")}static credential(e,t){return Ks._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Hi.credential(t,i)}catch{return null}}}Hi.TWITTER_SIGN_IN_METHOD="twitter.com";Hi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dP(n,e){return lu(n,"POST","/v1/accounts:signUp",as(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await rr._fromIdTokenResponse(e,i,o),c=iy(i);return new Gs({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=iy(i);return new Gs({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function iy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends lr{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new mh(e,t,i,o)}}function nT(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(n,a,e,i):a})}async function fP(n,e,t=!1){const i=await ca(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Gs._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(n,e,t=!1){const{auth:i}=n;if(Dn(i.app))return Promise.reject(ti(i));const o="reauthenticate";try{const a=await ca(n,nT(i,o,e,n),t);Ce(a.idToken,i,"internal-error");const c=gm(a.idToken);Ce(c,i,"internal-error");const{sub:d}=c;return Ce(n.uid===d,i,"user-mismatch"),Gs._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&or(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rT(n,e,t=!1){if(Dn(n.app))return Promise.reject(ti(n));const i="signIn",o=await nT(n,i,e),a=await Gs._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function mP(n,e){return rT(no(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iT(n){const e=no(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gP(n,e,t){if(Dn(n.app))return Promise.reject(ti(n));const i=no(n),c=await Pp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dP).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&iT(n),p}),d=await Gs._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function _P(n,e,t){return Dn(n.app)?Promise.reject(ti(n)):mP(Tn(n),Na.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&iT(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vP(n,e){return ci(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yP(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Tn(n),a={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await ca(i,vP(i.auth,a));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const d=i.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function EP(n,e,t,i){return Tn(n).onIdTokenChanged(e,t,i)}function wP(n,e,t){return Tn(n).beforeAuthStateChanged(e,t)}function sT(n,e,t,i){return Tn(n).onAuthStateChanged(e,t,i)}function oT(n){return Tn(n).signOut()}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=1e3,IP=10;class lT extends aT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);UR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,IP):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},TP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}lT.type="LOCAL";const SP=lT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT extends aT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}uT.type="SESSION";const cT=uT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Uh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async _=>_(t.origin,a)),p=await AP(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((d,p)=>{const _=Em("",20);o.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(I){const T=I;if(T.data.eventId===_)switch(T.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(T.data.response);break;default:clearTimeout(y),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(){return window}function RP(n){Pr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(){return typeof Pr().WorkerGlobalScope<"u"&&typeof Pr().importScripts=="function"}async function PP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function NP(){return hT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="firebaseLocalStorageDb",bP=1,_h="firebaseLocalStorage",fT="fbase_key";class cu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jh(n,e){return n.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function OP(){const n=indexedDB.deleteDatabase(dT);return new cu(n).toPromise()}function kp(){const n=indexedDB.open(dT,bP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(_h,{keyPath:fT})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(_h)?e(i):(i.close(),await OP(),e(await kp()))})})}async function sy(n,e,t){const i=jh(n,!0).put({[fT]:e,value:t});return new cu(i).toPromise()}async function xP(n,e){const t=jh(n,!1).get(e),i=await new cu(t).toPromise();return i===void 0?null:i.value}function oy(n,e){const t=jh(n,!0).delete(e);return new cu(t).toPromise()}const DP=800,LP=3;class pT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>LP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uh._getInstance(NP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await PP(),!this.activeServiceWorker)return;this.sender=new CP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kp();return await sy(e,gh,"1"),await oy(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>sy(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>xP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>oy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=jh(o,!1).getAll();return new cu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pT.type="LOCAL";const MP=pT;new au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(n,e){return e?Zr(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm extends vm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return aa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return aa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return aa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function FP(n){return rT(n.auth,new wm(n),n.bypassAuthState)}function $P(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),pP(t,new wm(n),n.bypassAuthState)}async function UP(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),fP(t,new wm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FP;case"linkViaPopup":case"linkViaRedirect":return UP;case"reauthViaPopup":case"reauthViaRedirect":return $P;default:or(this.auth,"internal-error")}}resolve(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=new au(2e3,1e4);class ra extends mT{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,ra.currentPopupAction&&ra.currentPopupAction.cancel(),ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){ai(this.filter.length===1,"Popup operations only handle one event");const e=Em();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jP.get())};e()}}ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="pendingRedirect",eh=new Map;class zP extends mT{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const i=await HP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HP(n,e){const t=KP(e),i=qP(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function WP(n,e){eh.set(n._key(),e)}function qP(n){return Zr(n._redirectPersistence)}function KP(n){return Zc(BP,n.config.apiKey,n.name)}async function GP(n,e,t=!1){if(Dn(n.app))return Promise.reject(ti(n));const i=no(n),o=VP(i,e),c=await new zP(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=10*60*1e3;class YP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!gT(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Rr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QP&&this.cachedEventUids.clear(),this.cachedEventUids.has(ay(e))}saveEventToCache(e){this.cachedEventUids.add(ay(e)),this.lastProcessedEventTime=Date.now()}}function ay(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function gT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JP(n,e={}){return ci(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ek=/^https?/;async function tk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await JP(n);for(const t of e)try{if(nk(t))return}catch{}or(n,"unauthorized-domain")}function nk(n){const e=Cp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!ek.test(t))return!1;if(ZP.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=new au(3e4,6e4);function ly(){const n=Pr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ik(n){return new Promise((e,t)=>{var i,o,a;function c(){ly(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ly(),t(Rr(n,"network-request-failed"))},timeout:rk.get()})}if(!((o=(i=Pr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Pr().gapi)===null||a===void 0)&&a.load)c();else{const d=QR("iframefcb");return Pr()[d]=()=>{gapi.load?c():t(Rr(n,"network-request-failed"))},Jw(`${GR()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw th=null,e})}let th=null;function sk(n){return th=th||ik(n),th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=new au(5e3,15e3),ak="__/auth/iframe",lk="emulator/auth/iframe",uk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ck=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hk(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?mm(e,lk):`https://${n.config.authDomain}/${ak}`,i={apiKey:e.apiKey,appName:n.name,v:ka},o=ck.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${ou(i).slice(1)}`}async function dk(n){const e=await sk(n),t=Pr().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:hk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uk,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=Rr(n,"network-request-failed"),d=Pr().setTimeout(()=>{a(c)},ok.get());function p(){Pr().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pk=500,mk=600,gk="_blank",_k="http://localhost";class uy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vk(n,e,t,i=pk,o=mk){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},fk),{width:i.toString(),height:o.toString(),top:a,left:c}),_=zt().toLowerCase();t&&(d=Ww(_)?gk:t),zw(_)&&(e=e||_k,p.scrollbars="yes");const y=Object.entries(p).reduce((T,[k,b])=>`${T}${k}=${b},`,"");if($R(_)&&d!=="_self")return yk(e||"",d),new uy(null);const I=window.open(e||"",d,y);Ce(I,n,"popup-blocked");try{I.focus()}catch{}return new uy(I)}function yk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek="__/auth/handler",wk="emulator/auth/handler",Tk=encodeURIComponent("fac");async function cy(n,e,t,i,o,a){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ka,eventId:o};if(e instanceof tT){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",i1(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,I]of Object.entries({}))c[y]=I}if(e instanceof uu){const y=e.getScopes().filter(I=>I!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const p=await n._getAppCheckToken(),_=p?`#${Tk}=${encodeURIComponent(p)}`:"";return`${Ik(n)}?${ou(d).slice(1)}${_}`}function Ik({config:n}){return n.emulator?mm(n,wk):`https://${n.authDomain}/${Ek}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="webStorageSupport";class Sk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cT,this._completeRedirectFn=GP,this._overrideRedirectResult=WP}async _openPopup(e,t,i,o){var a;ai((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await cy(e,t,i,Cp(),o);return vk(e,c,Em())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await cy(e,t,i,Cp(),o);return RP(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(ai(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await dk(e),i=new YP(e);return t.register("authEvent",o=>(Ce(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Qf,{type:Qf},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Qf];c!==void 0&&t(!!c),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Yw()||Hw()||_m()}}const Ak=Sk;var hy="@firebase/auth",dy="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Pk(n){Or(new sr("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ce(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xw(n)},_=new WR(i,o,a,p);return tP(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Or(new sr("auth-internal",e=>{const t=no(e.getProvider("auth").getImmediate());return(i=>new Ck(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ln(hy,dy,Rk(n)),Ln(hy,dy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=5*60,Nk=Iw("authIdTokenMaxAge")||kk;let fy=null;const bk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Nk)return;const o=t==null?void 0:t.token;fy!==o&&(fy=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Ok(n=dm()){const e=to(n,"auth");if(e.isInitialized())return e.getImmediate();const t=eP(n,{popupRedirectResolver:Ak,persistence:[MP,SP,cT]}),i=Iw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=bk(a.toString());wP(t,c,()=>c(t.currentUser)),EP(t,d=>c(d))}}const o=ww("auth");return o&&nP(t,`http://${o}`),t}function xk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}qR({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Rr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",xk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Pk("Browser");var Dk="firebase",Lk="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln(Dk,Lk,"app");const _T="@firebase/installations",Tm="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=1e4,yT=`w:${Tm}`,ET="FIS_v2",Mk="https://firebaseinstallations.googleapis.com/v1",Vk=60*60*1e3,Fk="installations",$k="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Qs=new eo(Fk,$k,Uk);function wT(n){return n instanceof lr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT({projectId:n}){return`${Mk}/projects/${n}/installations`}function IT(n){return{token:n.token,requestStatus:2,expiresIn:Bk(n.expiresIn),creationTime:Date.now()}}async function ST(n,e){const i=(await e.json()).error;return Qs.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function AT({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function jk(n,{refreshToken:e}){const t=AT(n);return t.append("Authorization",zk(e)),t}async function CT(n){const e=await n();return e.status>=500&&e.status<600?n():e}function Bk(n){return Number(n.replace("s","000"))}function zk(n){return`${ET} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hk({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=TT(n),o=AT(n),a=e.getImmediate({optional:!0});if(a){const _=await a.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const c={fid:t,authVersion:ET,appId:n.appId,sdkVersion:yT},d={method:"POST",headers:o,body:JSON.stringify(c)},p=await CT(()=>fetch(i,d));if(p.ok){const _=await p.json();return{fid:_.fid||t,registrationStatus:2,refreshToken:_.refreshToken,authToken:IT(_.authToken)}}else throw await ST("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=/^[cdef][\w-]{21}$/,Np="";function Kk(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=Gk(n);return qk.test(t)?t:Np}catch{return Np}}function Gk(n){return Wk(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=new Map;function kT(n,e){const t=Bh(n);NT(t,e),Qk(t,e)}function NT(n,e){const t=PT.get(n);if(t)for(const i of t)i(e)}function Qk(n,e){const t=Yk();t&&t.postMessage({key:n,fid:e}),Xk()}let $s=null;function Yk(){return!$s&&"BroadcastChannel"in self&&($s=new BroadcastChannel("[Firebase] FID Change"),$s.onmessage=n=>{NT(n.data.key,n.data.fid)}),$s}function Xk(){PT.size===0&&$s&&($s.close(),$s=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="firebase-installations-database",Zk=1,Ys="firebase-installations-store";let Yf=null;function Im(){return Yf||(Yf=bw(Jk,Zk,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ys)}}})),Yf}async function vh(n,e){const t=Bh(n),o=(await Im()).transaction(Ys,"readwrite"),a=o.objectStore(Ys),c=await a.get(t);return await a.put(e,t),await o.done,(!c||c.fid!==e.fid)&&kT(n,e.fid),e}async function bT(n){const e=Bh(n),i=(await Im()).transaction(Ys,"readwrite");await i.objectStore(Ys).delete(e),await i.done}async function zh(n,e){const t=Bh(n),o=(await Im()).transaction(Ys,"readwrite"),a=o.objectStore(Ys),c=await a.get(t),d=e(c);return d===void 0?await a.delete(t):await a.put(d,t),await o.done,d&&(!c||c.fid!==d.fid)&&kT(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sm(n){let e;const t=await zh(n.appConfig,i=>{const o=eN(i),a=tN(n,o);return e=a.registrationPromise,a.installationEntry});return t.fid===Np?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function eN(n){const e=n||{fid:Kk(),registrationStatus:0};return OT(e)}function tN(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Qs.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=nN(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:rN(n)}:{installationEntry:e}}async function nN(n,e){try{const t=await Hk(n,e);return vh(n.appConfig,t)}catch(t){throw wT(t)&&t.customData.serverCode===409?await bT(n.appConfig):await vh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function rN(n){let e=await py(n.appConfig);for(;e.registrationStatus===1;)await RT(100),e=await py(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await Sm(n);return i||t}return e}function py(n){return zh(n,e=>{if(!e)throw Qs.create("installation-not-found");return OT(e)})}function OT(n){return iN(n)?{fid:n.fid,registrationStatus:0}:n}function iN(n){return n.registrationStatus===1&&n.registrationTime+vT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN({appConfig:n,heartbeatServiceProvider:e},t){const i=oN(n,t),o=jk(n,t),a=e.getImmediate({optional:!0});if(a){const _=await a.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const c={installation:{sdkVersion:yT,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(c)},p=await CT(()=>fetch(i,d));if(p.ok){const _=await p.json();return IT(_)}else throw await ST("Generate Auth Token",p)}function oN(n,{fid:e}){return`${TT(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Am(n,e=!1){let t;const i=await zh(n.appConfig,a=>{if(!xT(a))throw Qs.create("not-registered");const c=a.authToken;if(!e&&uN(c))return a;if(c.requestStatus===1)return t=aN(n,e),a;{if(!navigator.onLine)throw Qs.create("app-offline");const d=hN(a);return t=lN(n,d),d}});return t?await t:i.authToken}async function aN(n,e){let t=await my(n.appConfig);for(;t.authToken.requestStatus===1;)await RT(100),t=await my(n.appConfig);const i=t.authToken;return i.requestStatus===0?Am(n,e):i}function my(n){return zh(n,e=>{if(!xT(e))throw Qs.create("not-registered");const t=e.authToken;return dN(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function lN(n,e){try{const t=await sN(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await vh(n.appConfig,i),t}catch(t){if(wT(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await bT(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await vh(n.appConfig,i)}throw t}}function xT(n){return n!==void 0&&n.registrationStatus===2}function uN(n){return n.requestStatus===2&&!cN(n)}function cN(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Vk}function hN(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function dN(n){return n.requestStatus===1&&n.requestTime+vT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(n){const e=n,{installationEntry:t,registrationPromise:i}=await Sm(e);return i?i.catch(console.error):Am(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(n,e=!1){const t=n;return await mN(t),(await Am(t,e)).token}async function mN(n){const{registrationPromise:e}=await Sm(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(n){if(!n||!n.options)throw Xf("App Configuration");if(!n.name)throw Xf("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Xf(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Xf(n){return Qs.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="installations",_N="installations-internal",vN=n=>{const e=n.getProvider("app").getImmediate(),t=gN(e),i=to(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},yN=n=>{const e=n.getProvider("app").getImmediate(),t=to(e,DT).getImmediate();return{getId:()=>fN(t),getToken:o=>pN(t,o)}};function EN(){Or(new sr(DT,vN,"PUBLIC")),Or(new sr(_N,yN,"PRIVATE"))}EN();Ln(_T,Tm);Ln(_T,Tm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh="analytics",wN="firebase_id",TN="origin",IN=60*1e3,SN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=new Fh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},vn=new eo("analytics","Analytics",AN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(n){if(!n.startsWith(Cm)){const e=vn.create("invalid-gtag-resource",{gtagURL:n});return un.warn(e.message),""}return n}function LT(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function RN(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function PN(n,e){const t=RN("firebase-js-sdk-policy",{createScriptURL:CN}),i=document.createElement("script"),o=`${Cm}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function kN(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function NN(n,e,t,i,o,a){const c=i[o];try{if(c)await e[c];else{const p=(await LT(t)).find(_=>_.measurementId===o);p&&await e[p.appId]}}catch(d){un.error(d)}n("config",o,a)}async function bN(n,e,t,i,o){try{let a=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const d=await LT(t);for(const p of c){const _=d.find(I=>I.measurementId===p),y=_&&e[_.appId];if(y)a.push(y);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",i,o||{})}catch(a){un.error(a)}}function ON(n,e,t,i){async function o(a,...c){try{if(a==="event"){const[d,p]=c;await bN(n,e,t,d,p)}else if(a==="config"){const[d,p]=c;await NN(n,e,t,i,d,p)}else if(a==="consent"){const[d,p]=c;n("consent",d,p)}else if(a==="get"){const[d,p,_]=c;n("get",d,p,_)}else if(a==="set"){const[d]=c;n("set",d)}else n(a,...c)}catch(d){un.error(d)}}return o}function xN(n,e,t,i,o){let a=function(...c){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=ON(a,n,e,t),{gtagCore:a,wrappedGtag:window[o]}}function DN(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Cm)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=30,MN=1e3;class VN{constructor(e={},t=MN){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const MT=new VN;function FN(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function $N(n){var e;const{appId:t,apiKey:i}=n,o={method:"GET",headers:FN(i)},a=SN.replace("{app-id}",t),c=await fetch(a,o);if(c.status!==200&&c.status!==304){let d="";try{const p=await c.json();!((e=p.error)===null||e===void 0)&&e.message&&(d=p.error.message)}catch{}throw vn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function UN(n,e=MT,t){const{appId:i,apiKey:o,measurementId:a}=n.options;if(!i)throw vn.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:i};throw vn.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new zN;return setTimeout(async()=>{d.abort()},IN),VT({appId:i,apiKey:o,measurementId:a},c,d,e)}async function VT(n,{throttleEndTimeMillis:e,backoffCount:t},i,o=MT){var a;const{appId:c,measurementId:d}=n;try{await jN(i,e)}catch(p){if(d)return un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:c,measurementId:d};throw p}try{const p=await $N(n);return o.deleteThrottleMetadata(c),p}catch(p){const _=p;if(!BN(_)){if(o.deleteThrottleMetadata(c),d)return un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:c,measurementId:d};throw p}const y=Number((a=_==null?void 0:_.customData)===null||a===void 0?void 0:a.httpStatus)===503?Uv(t,o.intervalMillis,LN):Uv(t,o.intervalMillis),I={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return o.setThrottleMetadata(c,I),un.debug(`Calling attemptFetch again in ${y} millis`),VT(n,I,i,o)}}function jN(n,e){return new Promise((t,i)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(a),i(vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function BN(n){if(!(n instanceof lr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class zN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function HN(n,e,t,i,o){if(o&&o.global){n("event",t,i);return}else{const a=await e,c=Object.assign(Object.assign({},i),{send_to:a});n("event",t,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(){if(Rw())try{await Pw()}catch(n){return un.warn(vn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return un.warn(vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function qN(n,e,t,i,o,a,c){var d;const p=UN(n);p.then(k=>{t[k.measurementId]=k.appId,n.options.measurementId&&k.measurementId!==n.options.measurementId&&un.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${k.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(k=>un.error(k)),e.push(p);const _=WN().then(k=>{if(k)return i.getId()}),[y,I]=await Promise.all([p,_]);DN(a)||PN(a,y.measurementId),o("js",new Date);const T=(d=c==null?void 0:c.config)!==null&&d!==void 0?d:{};return T[TN]="firebase",T.update=!0,I!=null&&(T[wN]=I),o("config",y.measurementId,T),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.app=e}_delete(){return delete Ul[this.app.options.appId],Promise.resolve()}}let Ul={},gy=[];const _y={};let Jf="dataLayer",GN="gtag",vy,FT,yy=!1;function QN(){const n=[];if(Cw()&&n.push("This is a browser extension environment."),e1()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,o)=>`(${o+1}) ${i}`).join(" "),t=vn.create("invalid-analytics-context",{errorInfo:e});un.warn(t.message)}}function YN(n,e,t){QN();const i=n.options.appId;if(!i)throw vn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw vn.create("no-api-key");if(Ul[i]!=null)throw vn.create("already-exists",{id:i});if(!yy){kN(Jf);const{wrappedGtag:a,gtagCore:c}=xN(Ul,gy,_y,Jf,GN);FT=a,vy=c,yy=!0}return Ul[i]=qN(n,gy,_y,e,vy,Jf,t),new KN(n)}function XN(n=dm()){n=Tn(n);const e=to(n,yh);return e.isInitialized()?e.getImmediate():JN(n)}function JN(n,e={}){const t=to(n,yh);if(t.isInitialized()){const o=t.getImmediate();if(Yi(e,t.getOptions()))return o;throw vn.create("already-initialized")}return t.initialize({options:e})}function ZN(n,e,t,i){n=Tn(n),HN(FT,Ul[n.app.options.appId],e,t,i).catch(o=>un.error(o))}const Ey="@firebase/analytics",wy="0.10.16";function eb(){Or(new sr(yh,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return YN(i,o,t)},"PUBLIC")),Or(new sr("analytics-internal",n,"PRIVATE")),Ln(Ey,wy),Ln(Ey,wy,"esm2017");function n(e){try{const t=e.getProvider(yh).getImmediate();return{logEvent:(i,o,a)=>ZN(t,i,o,a)}}catch(t){throw vn.create("interop-component-reg-failed",{reason:t})}}}eb();var Ty=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qi,$T;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,S){function A(){}A.prototype=S.prototype,P.D=S.prototype,P.prototype=new A,P.prototype.constructor=P,P.C=function(N,x,M){for(var R=Array(arguments.length-2),He=2;He<arguments.length;He++)R[He-2]=arguments[He];return S.prototype[x].apply(N,R)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,S,A){A||(A=0);var N=Array(16);if(typeof S=="string")for(var x=0;16>x;++x)N[x]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(x=0;16>x;++x)N[x]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=P.g[0],A=P.g[1],x=P.g[2];var M=P.g[3],R=S+(M^A&(x^M))+N[0]+3614090360&4294967295;S=A+(R<<7&4294967295|R>>>25),R=M+(x^S&(A^x))+N[1]+3905402710&4294967295,M=S+(R<<12&4294967295|R>>>20),R=x+(A^M&(S^A))+N[2]+606105819&4294967295,x=M+(R<<17&4294967295|R>>>15),R=A+(S^x&(M^S))+N[3]+3250441966&4294967295,A=x+(R<<22&4294967295|R>>>10),R=S+(M^A&(x^M))+N[4]+4118548399&4294967295,S=A+(R<<7&4294967295|R>>>25),R=M+(x^S&(A^x))+N[5]+1200080426&4294967295,M=S+(R<<12&4294967295|R>>>20),R=x+(A^M&(S^A))+N[6]+2821735955&4294967295,x=M+(R<<17&4294967295|R>>>15),R=A+(S^x&(M^S))+N[7]+4249261313&4294967295,A=x+(R<<22&4294967295|R>>>10),R=S+(M^A&(x^M))+N[8]+1770035416&4294967295,S=A+(R<<7&4294967295|R>>>25),R=M+(x^S&(A^x))+N[9]+2336552879&4294967295,M=S+(R<<12&4294967295|R>>>20),R=x+(A^M&(S^A))+N[10]+4294925233&4294967295,x=M+(R<<17&4294967295|R>>>15),R=A+(S^x&(M^S))+N[11]+2304563134&4294967295,A=x+(R<<22&4294967295|R>>>10),R=S+(M^A&(x^M))+N[12]+1804603682&4294967295,S=A+(R<<7&4294967295|R>>>25),R=M+(x^S&(A^x))+N[13]+4254626195&4294967295,M=S+(R<<12&4294967295|R>>>20),R=x+(A^M&(S^A))+N[14]+2792965006&4294967295,x=M+(R<<17&4294967295|R>>>15),R=A+(S^x&(M^S))+N[15]+1236535329&4294967295,A=x+(R<<22&4294967295|R>>>10),R=S+(x^M&(A^x))+N[1]+4129170786&4294967295,S=A+(R<<5&4294967295|R>>>27),R=M+(A^x&(S^A))+N[6]+3225465664&4294967295,M=S+(R<<9&4294967295|R>>>23),R=x+(S^A&(M^S))+N[11]+643717713&4294967295,x=M+(R<<14&4294967295|R>>>18),R=A+(M^S&(x^M))+N[0]+3921069994&4294967295,A=x+(R<<20&4294967295|R>>>12),R=S+(x^M&(A^x))+N[5]+3593408605&4294967295,S=A+(R<<5&4294967295|R>>>27),R=M+(A^x&(S^A))+N[10]+38016083&4294967295,M=S+(R<<9&4294967295|R>>>23),R=x+(S^A&(M^S))+N[15]+3634488961&4294967295,x=M+(R<<14&4294967295|R>>>18),R=A+(M^S&(x^M))+N[4]+3889429448&4294967295,A=x+(R<<20&4294967295|R>>>12),R=S+(x^M&(A^x))+N[9]+568446438&4294967295,S=A+(R<<5&4294967295|R>>>27),R=M+(A^x&(S^A))+N[14]+3275163606&4294967295,M=S+(R<<9&4294967295|R>>>23),R=x+(S^A&(M^S))+N[3]+4107603335&4294967295,x=M+(R<<14&4294967295|R>>>18),R=A+(M^S&(x^M))+N[8]+1163531501&4294967295,A=x+(R<<20&4294967295|R>>>12),R=S+(x^M&(A^x))+N[13]+2850285829&4294967295,S=A+(R<<5&4294967295|R>>>27),R=M+(A^x&(S^A))+N[2]+4243563512&4294967295,M=S+(R<<9&4294967295|R>>>23),R=x+(S^A&(M^S))+N[7]+1735328473&4294967295,x=M+(R<<14&4294967295|R>>>18),R=A+(M^S&(x^M))+N[12]+2368359562&4294967295,A=x+(R<<20&4294967295|R>>>12),R=S+(A^x^M)+N[5]+4294588738&4294967295,S=A+(R<<4&4294967295|R>>>28),R=M+(S^A^x)+N[8]+2272392833&4294967295,M=S+(R<<11&4294967295|R>>>21),R=x+(M^S^A)+N[11]+1839030562&4294967295,x=M+(R<<16&4294967295|R>>>16),R=A+(x^M^S)+N[14]+4259657740&4294967295,A=x+(R<<23&4294967295|R>>>9),R=S+(A^x^M)+N[1]+2763975236&4294967295,S=A+(R<<4&4294967295|R>>>28),R=M+(S^A^x)+N[4]+1272893353&4294967295,M=S+(R<<11&4294967295|R>>>21),R=x+(M^S^A)+N[7]+4139469664&4294967295,x=M+(R<<16&4294967295|R>>>16),R=A+(x^M^S)+N[10]+3200236656&4294967295,A=x+(R<<23&4294967295|R>>>9),R=S+(A^x^M)+N[13]+681279174&4294967295,S=A+(R<<4&4294967295|R>>>28),R=M+(S^A^x)+N[0]+3936430074&4294967295,M=S+(R<<11&4294967295|R>>>21),R=x+(M^S^A)+N[3]+3572445317&4294967295,x=M+(R<<16&4294967295|R>>>16),R=A+(x^M^S)+N[6]+76029189&4294967295,A=x+(R<<23&4294967295|R>>>9),R=S+(A^x^M)+N[9]+3654602809&4294967295,S=A+(R<<4&4294967295|R>>>28),R=M+(S^A^x)+N[12]+3873151461&4294967295,M=S+(R<<11&4294967295|R>>>21),R=x+(M^S^A)+N[15]+530742520&4294967295,x=M+(R<<16&4294967295|R>>>16),R=A+(x^M^S)+N[2]+3299628645&4294967295,A=x+(R<<23&4294967295|R>>>9),R=S+(x^(A|~M))+N[0]+4096336452&4294967295,S=A+(R<<6&4294967295|R>>>26),R=M+(A^(S|~x))+N[7]+1126891415&4294967295,M=S+(R<<10&4294967295|R>>>22),R=x+(S^(M|~A))+N[14]+2878612391&4294967295,x=M+(R<<15&4294967295|R>>>17),R=A+(M^(x|~S))+N[5]+4237533241&4294967295,A=x+(R<<21&4294967295|R>>>11),R=S+(x^(A|~M))+N[12]+1700485571&4294967295,S=A+(R<<6&4294967295|R>>>26),R=M+(A^(S|~x))+N[3]+2399980690&4294967295,M=S+(R<<10&4294967295|R>>>22),R=x+(S^(M|~A))+N[10]+4293915773&4294967295,x=M+(R<<15&4294967295|R>>>17),R=A+(M^(x|~S))+N[1]+2240044497&4294967295,A=x+(R<<21&4294967295|R>>>11),R=S+(x^(A|~M))+N[8]+1873313359&4294967295,S=A+(R<<6&4294967295|R>>>26),R=M+(A^(S|~x))+N[15]+4264355552&4294967295,M=S+(R<<10&4294967295|R>>>22),R=x+(S^(M|~A))+N[6]+2734768916&4294967295,x=M+(R<<15&4294967295|R>>>17),R=A+(M^(x|~S))+N[13]+1309151649&4294967295,A=x+(R<<21&4294967295|R>>>11),R=S+(x^(A|~M))+N[4]+4149444226&4294967295,S=A+(R<<6&4294967295|R>>>26),R=M+(A^(S|~x))+N[11]+3174756917&4294967295,M=S+(R<<10&4294967295|R>>>22),R=x+(S^(M|~A))+N[2]+718787259&4294967295,x=M+(R<<15&4294967295|R>>>17),R=A+(M^(x|~S))+N[9]+3951481745&4294967295,P.g[0]=P.g[0]+S&4294967295,P.g[1]=P.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,P.g[2]=P.g[2]+x&4294967295,P.g[3]=P.g[3]+M&4294967295}i.prototype.u=function(P,S){S===void 0&&(S=P.length);for(var A=S-this.blockSize,N=this.B,x=this.h,M=0;M<S;){if(x==0)for(;M<=A;)o(this,P,M),M+=this.blockSize;if(typeof P=="string"){for(;M<S;)if(N[x++]=P.charCodeAt(M++),x==this.blockSize){o(this,N),x=0;break}}else for(;M<S;)if(N[x++]=P[M++],x==this.blockSize){o(this,N),x=0;break}}this.h=x,this.o+=S},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var S=1;S<P.length-8;++S)P[S]=0;var A=8*this.o;for(S=P.length-8;S<P.length;++S)P[S]=A&255,A/=256;for(this.u(P),P=Array(16),S=A=0;4>S;++S)for(var N=0;32>N;N+=8)P[A++]=this.g[S]>>>N&255;return P};function a(P,S){var A=d;return Object.prototype.hasOwnProperty.call(A,P)?A[P]:A[P]=S(P)}function c(P,S){this.h=S;for(var A=[],N=!0,x=P.length-1;0<=x;x--){var M=P[x]|0;N&&M==S||(A[x]=M,N=!1)}this.g=A}var d={};function p(P){return-128<=P&&128>P?a(P,function(S){return new c([S|0],0>S?-1:0)}):new c([P|0],0>P?-1:0)}function _(P){if(isNaN(P)||!isFinite(P))return I;if(0>P)return L(_(-P));for(var S=[],A=1,N=0;P>=A;N++)S[N]=P/A|0,A*=4294967296;return new c(S,0)}function y(P,S){if(P.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P.charAt(0)=="-")return L(y(P.substring(1),S));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=_(Math.pow(S,8)),N=I,x=0;x<P.length;x+=8){var M=Math.min(8,P.length-x),R=parseInt(P.substring(x,x+M),S);8>M?(M=_(Math.pow(S,M)),N=N.j(M).add(_(R))):(N=N.j(A),N=N.add(_(R)))}return N}var I=p(0),T=p(1),k=p(16777216);n=c.prototype,n.m=function(){if(F(this))return-L(this).m();for(var P=0,S=1,A=0;A<this.g.length;A++){var N=this.i(A);P+=(0<=N?N:4294967296+N)*S,S*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(b(this))return"0";if(F(this))return"-"+L(this).toString(P);for(var S=_(Math.pow(P,6)),A=this,N="";;){var x=Y(A,S).g;A=H(A,x.j(S));var M=((0<A.g.length?A.g[0]:A.h)>>>0).toString(P);if(A=x,b(A))return M+N;for(;6>M.length;)M="0"+M;N=M+N}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function b(P){if(P.h!=0)return!1;for(var S=0;S<P.g.length;S++)if(P.g[S]!=0)return!1;return!0}function F(P){return P.h==-1}n.l=function(P){return P=H(this,P),F(P)?-1:b(P)?0:1};function L(P){for(var S=P.g.length,A=[],N=0;N<S;N++)A[N]=~P.g[N];return new c(A,~P.h).add(T)}n.abs=function(){return F(this)?L(this):this},n.add=function(P){for(var S=Math.max(this.g.length,P.g.length),A=[],N=0,x=0;x<=S;x++){var M=N+(this.i(x)&65535)+(P.i(x)&65535),R=(M>>>16)+(this.i(x)>>>16)+(P.i(x)>>>16);N=R>>>16,M&=65535,R&=65535,A[x]=R<<16|M}return new c(A,A[A.length-1]&-2147483648?-1:0)};function H(P,S){return P.add(L(S))}n.j=function(P){if(b(this)||b(P))return I;if(F(this))return F(P)?L(this).j(L(P)):L(L(this).j(P));if(F(P))return L(this.j(L(P)));if(0>this.l(k)&&0>P.l(k))return _(this.m()*P.m());for(var S=this.g.length+P.g.length,A=[],N=0;N<2*S;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(var x=0;x<P.g.length;x++){var M=this.i(N)>>>16,R=this.i(N)&65535,He=P.i(x)>>>16,Ke=P.i(x)&65535;A[2*N+2*x]+=R*Ke,q(A,2*N+2*x),A[2*N+2*x+1]+=M*Ke,q(A,2*N+2*x+1),A[2*N+2*x+1]+=R*He,q(A,2*N+2*x+1),A[2*N+2*x+2]+=M*He,q(A,2*N+2*x+2)}for(N=0;N<S;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=S;N<2*S;N++)A[N]=0;return new c(A,0)};function q(P,S){for(;(P[S]&65535)!=P[S];)P[S+1]+=P[S]>>>16,P[S]&=65535,S++}function X(P,S){this.g=P,this.h=S}function Y(P,S){if(b(S))throw Error("division by zero");if(b(P))return new X(I,I);if(F(P))return S=Y(L(P),S),new X(L(S.g),L(S.h));if(F(S))return S=Y(P,L(S)),new X(L(S.g),S.h);if(30<P.g.length){if(F(P)||F(S))throw Error("slowDivide_ only works with positive integers.");for(var A=T,N=S;0>=N.l(P);)A=ue(A),N=ue(N);var x=ne(A,1),M=ne(N,1);for(N=ne(N,2),A=ne(A,2);!b(N);){var R=M.add(N);0>=R.l(P)&&(x=x.add(A),M=R),N=ne(N,1),A=ne(A,1)}return S=H(P,x.j(S)),new X(x,S)}for(x=I;0<=P.l(S);){for(A=Math.max(1,Math.floor(P.m()/S.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),M=_(A),R=M.j(S);F(R)||0<R.l(P);)A-=N,M=_(A),R=M.j(S);b(M)&&(M=T),x=x.add(M),P=H(P,R)}return new X(x,P)}n.A=function(P){return Y(this,P).h},n.and=function(P){for(var S=Math.max(this.g.length,P.g.length),A=[],N=0;N<S;N++)A[N]=this.i(N)&P.i(N);return new c(A,this.h&P.h)},n.or=function(P){for(var S=Math.max(this.g.length,P.g.length),A=[],N=0;N<S;N++)A[N]=this.i(N)|P.i(N);return new c(A,this.h|P.h)},n.xor=function(P){for(var S=Math.max(this.g.length,P.g.length),A=[],N=0;N<S;N++)A[N]=this.i(N)^P.i(N);return new c(A,this.h^P.h)};function ue(P){for(var S=P.g.length+1,A=[],N=0;N<S;N++)A[N]=P.i(N)<<1|P.i(N-1)>>>31;return new c(A,P.h)}function ne(P,S){var A=S>>5;S%=32;for(var N=P.g.length-A,x=[],M=0;M<N;M++)x[M]=0<S?P.i(M+A)>>>S|P.i(M+A+1)<<32-S:P.i(M+A);return new c(x,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,$T=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=_,c.fromString=y,Qi=c}).apply(typeof Ty<"u"?Ty:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UT,Ll,jT,nh,bp,BT,zT,HT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var w=0;w<u.length-1;w++){var $=u[w];if(!($ in v))break e;v=v[$]}u=u[u.length-1],w=v[u],m=m(w),m!=w&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var v=0,w=!1,$={next:function(){if(!w&&v<u.length){var W=v++;return{value:m(W,u[W]),done:!1}}return w=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function I(u,m,v){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,w),u.apply(m,$)}}return function(){return u.apply(m,arguments)}}function T(u,m,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:I,T.apply(null,arguments)}function k(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function b(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(w,$,W){for(var oe=Array(arguments.length-2),We=2;We<arguments.length;We++)oe[We-2]=arguments[We];return m.prototype[$].apply(w,oe)}}function F(u){const m=u.length;if(0<m){const v=Array(m);for(let w=0;w<m;w++)v[w]=u[w];return v}return[]}function L(u,m){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(p(w)){const $=u.length||0,W=w.length||0;u.length=$+W;for(let oe=0;oe<W;oe++)u[$+oe]=w[oe]}else u.push(w)}}class H{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function q(u){return/^[\s\xa0]*$/.test(u)}function X(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function Y(u){return Y[" "](u),u}Y[" "]=function(){};var ue=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function ne(u,m,v){for(const w in u)m.call(v,u[w],w,u)}function P(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function S(u){const m={};for(const v in u)m[v]=u[v];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let v,w;for(let $=1;$<arguments.length;$++){w=arguments[$];for(v in w)u[v]=w[v];for(let W=0;W<A.length;W++)v=A[W],Object.prototype.hasOwnProperty.call(w,v)&&(u[v]=w[v])}}function x(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function M(u){d.setTimeout(()=>{throw u},0)}function R(){var u=me;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class He{constructor(){this.h=this.g=null}add(m,v){const w=Ke.get();w.set(m,v),this.h?this.h.next=w:this.g=w,this.h=w}}var Ke=new H(()=>new Be,u=>u.reset());class Be{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,ie=!1,me=new He,ae=()=>{const u=d.Promise.resolve(void 0);Ne=()=>{u.then(V)}};var V=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(v){M(v)}var m=Ke;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ie=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u}();function he(u,m){if(ge.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ue){e:{try{Y(m.nodeName);var $=!0;break e}catch{}$=!1}$||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ce[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&he.aa.h.call(this)}}b(he,ge);var ce={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Re=0;function Oe(u,m,v,w,$){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!w,this.ha=$,this.key=++Re,this.da=this.fa=!1}function Ge(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Tt(u){this.src=u,this.g={},this.h=0}Tt.prototype.add=function(u,m,v,w,$){var W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);var oe=kt(u,m,w,$);return-1<oe?(m=u[oe],v||(m.fa=!1)):(m=new Oe(m,this.src,W,!!w,$),m.fa=v,u.push(m)),m};function Pt(u,m){var v=m.type;if(v in u.g){var w=u.g[v],$=Array.prototype.indexOf.call(w,m,void 0),W;(W=0<=$)&&Array.prototype.splice.call(w,$,1),W&&(Ge(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function kt(u,m,v,w){for(var $=0;$<u.length;++$){var W=u[$];if(!W.da&&W.listener==m&&W.capture==!!v&&W.ha==w)return $}return-1}var Un="closure_lm_"+(1e6*Math.random()|0),cr={};function hr(u,m,v,w,$){if(Array.isArray(m)){for(var W=0;W<m.length;W++)hr(u,m[W],v,w,$);return null}return v=pi(v),u&&u[we]?u.K(m,v,_(w)?!!w.capture:!1,$):jn(u,m,v,!1,w,$)}function jn(u,m,v,w,$,W){if(!m)throw Error("Invalid event type");var oe=_($)?!!$.capture:!!$,We=Vr(u);if(We||(u[Un]=We=new Tt(u)),v=We.add(m,v,w,oe,W),v.proxy)return v;if(w=di(),v.proxy=w,w.src=u,w.listener=v,u.addEventListener)se||($=oe),$===void 0&&($=!1),u.addEventListener(m.toString(),w,$);else if(u.attachEvent)u.attachEvent(Xt(m.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function di(){function u(v){return m.call(u.src,u.listener,v)}const m=fi;return u}function dr(u,m,v,w,$){if(Array.isArray(m))for(var W=0;W<m.length;W++)dr(u,m[W],v,w,$);else w=_(w)?!!w.capture:!!w,v=pi(v),u&&u[we]?(u=u.i,m=String(m).toString(),m in u.g&&(W=u.g[m],v=kt(W,v,w,$),-1<v&&(Ge(W[v]),Array.prototype.splice.call(W,v,1),W.length==0&&(delete u.g[m],u.h--)))):u&&(u=Vr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=kt(m,v,w,$)),(v=-1<u?m[u]:null)&&gt(v))}function gt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[we])Pt(m.i,u);else{var v=u.type,w=u.proxy;m.removeEventListener?m.removeEventListener(v,w,u.capture):m.detachEvent?m.detachEvent(Xt(v),w):m.addListener&&m.removeListener&&m.removeListener(w),(v=Vr(m))?(Pt(v,u),v.h==0&&(v.src=null,m[Un]=null)):Ge(u)}}}function Xt(u){return u in cr?cr[u]:cr[u]="on"+u}function fi(u,m){if(u.da)u=!0;else{m=new he(m,this);var v=u.listener,w=u.ha||u.src;u.fa&&gt(u),u=v.call(w,m)}return u}function Vr(u){return u=u[Un],u instanceof Tt?u:null}var fr="__closure_events_fn_"+(1e9*Math.random()>>>0);function pi(u){return typeof u=="function"?u:(u[fr]||(u[fr]=function(m){return u.handleEvent(m)}),u[fr])}function st(){K.call(this),this.i=new Tt(this),this.M=this,this.F=null}b(st,K),st.prototype[we]=!0,st.prototype.removeEventListener=function(u,m,v,w){dr(this,u,m,v,w)};function ot(u,m){var v,w=u.F;if(w)for(v=[];w;w=w.F)v.push(w);if(u=u.M,w=m.type||m,typeof m=="string")m=new ge(m,u);else if(m instanceof ge)m.target=m.target||u;else{var $=m;m=new ge(w,u),N(m,$)}if($=!0,v)for(var W=v.length-1;0<=W;W--){var oe=m.g=v[W];$=In(oe,w,!0,m)&&$}if(oe=m.g=u,$=In(oe,w,!0,m)&&$,$=In(oe,w,!1,m)&&$,v)for(W=0;W<v.length;W++)oe=m.g=v[W],$=In(oe,w,!1,m)&&$}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],w=0;w<v.length;w++)Ge(v[w]);delete u.g[m],u.h--}}this.F=null},st.prototype.K=function(u,m,v,w){return this.i.add(String(u),m,!1,v,w)},st.prototype.L=function(u,m,v,w){return this.i.add(String(u),m,!0,v,w)};function In(u,m,v,w){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var $=!0,W=0;W<m.length;++W){var oe=m[W];if(oe&&!oe.da&&oe.capture==v){var We=oe.listener,_t=oe.ha||oe.src;oe.fa&&Pt(u.i,oe),$=We.call(_t,w)!==!1&&$}}return $&&!w.defaultPrevented}function Fa(u,m,v){if(typeof u=="function")v&&(u=T(u,v));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function mi(u){u.g=Fa(()=>{u.g=null,u.i&&(u.i=!1,mi(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class hs extends K{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:mi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(u){K.call(this),this.h=u,this.g={}}b(ds,K);var $a=[];function Ua(u){ne(u.g,function(m,v){this.g.hasOwnProperty(v)&&gt(m)},u),u.g={}}ds.prototype.N=function(){ds.aa.N.call(this),Ua(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ja=d.JSON.stringify,Ba=d.JSON.parse,za=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function fs(){}fs.prototype.h=null;function oo(u){return u.h||(u.h=u.i())}function ao(){}var Sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pr(){ge.call(this,"d")}b(pr,ge);function lo(){ge.call(this,"c")}b(lo,ge);var mr={},Ha=null;function ps(){return Ha=Ha||new st}mr.La="serverreachability";function Wa(u){ge.call(this,mr.La,u)}b(Wa,ge);function Fr(u){const m=ps();ot(m,new Wa(m))}mr.STAT_EVENT="statevent";function qa(u,m){ge.call(this,mr.STAT_EVENT,u),this.stat=m}b(qa,ge);function ut(u){const m=ps();ot(m,new qa(m,u))}mr.Ma="timingevent";function uo(u,m){ge.call(this,mr.Ma,u),this.size=m}b(uo,ge);function Bn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ms(){this.g=!0}ms.prototype.xa=function(){this.g=!1};function gs(u,m,v,w,$,W){u.info(function(){if(u.g)if(W)for(var oe="",We=W.split("&"),_t=0;_t<We.length;_t++){var Ve=We[_t].split("=");if(1<Ve.length){var It=Ve[0];Ve=Ve[1];var ft=It.split("_");oe=2<=ft.length&&ft[1]=="type"?oe+(It+"="+Ve+"&"):oe+(It+"=redacted&")}}else oe=null;else oe=W;return"XMLHTTP REQ ("+w+") [attempt "+$+"]: "+m+`
`+v+`
`+oe})}function co(u,m,v,w,$,W,oe){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+$+"]: "+m+`
`+v+`
`+W+" "+oe})}function zn(u,m,v,w){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ud(u,v)+(w?" "+w:"")})}function Ka(u,m){u.info(function(){return"TIMEOUT: "+m})}ms.prototype.info=function(){};function ud(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var w=v[u];if(!(2>w.length)){var $=w[1];if(Array.isArray($)&&!(1>$.length)){var W=$[0];if(W!="noop"&&W!="stop"&&W!="close")for(var oe=1;oe<$.length;oe++)$[oe]=""}}}}return ja(v)}catch{return m}}var ho={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Eu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function _s(){}b(_s,fs),_s.prototype.g=function(){return new XMLHttpRequest},_s.prototype.i=function(){return{}},Hn=new _s;function Wn(u,m,v,w){this.j=u,this.i=m,this.l=v,this.R=w||1,this.U=new ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wu}function wu(){this.i=null,this.g="",this.h=!1}var Ga={},fo={};function po(u,m,v){u.L=1,u.v=Ei(dn(m)),u.m=v,u.P=!0,Qa(u,null)}function Qa(u,m){u.F=Date.now(),Qe(u),u.A=dn(u.v);var v=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),Ti(v.i,"t",w),u.C=0,v=u.j.J,u.h=new wu,u.g=$u(u.j,v?m:null,!u.m),0<u.O&&(u.M=new hs(T(u.Y,u,u.g),u.O)),m=u.U,v=u.g,w=u.ca;var $="readystatechange";Array.isArray($)||($&&($a[0]=$.toString()),$=$a);for(var W=0;W<$.length;W++){var oe=hr(v,$[W],w||m.handleEvent,!1,m.h||m);if(!oe)break;m.g[oe.key]=oe}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Fr(),gs(u.i,u.u,u.A,u.l,u.R,u.m)}Wn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Zt(u)==3?m.j():this.Y(u)},Wn.prototype.Y=function(u){try{if(u==this.g)e:{const ft=Zt(this.g);var m=this.g.Ba();const Rn=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||tl(this.g)))){this.J||ft!=4||m==7||(m==8||0>=Rn?Fr(3):Fr(2)),vs(this);var v=this.g.Z();this.X=v;t:if(Tu(this)){var w=tl(this.g);u="";var $=w.length,W=Zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){An(this),gi(this);var oe="";break t}this.h.i=new d.TextDecoder}for(m=0;m<$;m++)this.h.h=!0,u+=this.h.i.decode(w[m],{stream:!(W&&m==$-1)});w.length=0,this.h.g+=u,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,co(this.i,this.u,this.A,this.l,this.R,ft,v),this.o){if(this.T&&!this.K){t:{if(this.g){var We,_t=this.g;if((We=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(We)){var Ve=We;break t}}Ve=null}if(v=Ve)zn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ya(this,v);else{this.o=!1,this.s=3,ut(12),An(this),gi(this);break e}}if(this.P){v=!0;let pn;for(;!this.J&&this.C<oe.length;)if(pn=cd(this,oe),pn==fo){ft==4&&(this.s=4,ut(14),v=!1),zn(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==Ga){this.s=4,ut(15),zn(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else zn(this.i,this.l,pn,null),Ya(this,pn);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||oe.length!=0||this.h.h||(this.s=1,ut(16),v=!1),this.o=this.o&&v,!v)zn(this.i,this.l,oe,"[Invalid Chunked Response]"),An(this),gi(this);else if(0<oe.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),rl(It),It.M=!0,ut(11))}}else zn(this.i,this.l,oe,null),Ya(this,oe);ft==4&&An(this),this.o&&!this.J&&(ft==4?Ao(this.j,this):(this.o=!1,Qe(this)))}else Eo(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),An(this),gi(this)}}}catch{}finally{}};function Tu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function cd(u,m){var v=u.C,w=m.indexOf(`
`,v);return w==-1?fo:(v=Number(m.substring(v,w)),isNaN(v)?Ga:(w+=1,w+v>m.length?fo:(m=m.slice(w,w+v),u.C=w+v,m)))}Wn.prototype.cancel=function(){this.J=!0,An(this)};function Qe(u){u.S=Date.now()+u.I,Iu(u,u.I)}function Iu(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Bn(T(u.ba,u),m)}function vs(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Wn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ka(this.i,this.A),this.L!=2&&(Fr(),ut(17)),An(this),this.s=2,gi(this)):Iu(this,this.S-u)};function gi(u){u.j.G==0||u.J||Ao(u.j,u)}function An(u){vs(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ua(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Ya(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Ht(v.h,u))){if(!u.K&&Ht(v.h,u)&&v.G==3){try{var w=v.Da.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var $=w;if($[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)So(v),Yn(v);else break e;Io(v),ut(18)}}else v.za=$[1],0<v.za-v.T&&37500>$[2]&&v.F&&v.v==0&&!v.C&&(v.C=Bn(T(v.Za,v),6e3));if(1>=Au(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else zr(v,11)}else if((u.K||v.g==u)&&So(v),!q(m))for($=v.Da.g.parse(m),m=0;m<$.length;m++){let Ve=$[m];if(v.T=Ve[0],Ve=Ve[1],v.G==2)if(Ve[0]=="c"){v.K=Ve[1],v.ia=Ve[2];const It=Ve[3];It!=null&&(v.la=It,v.j.info("VER="+v.la));const ft=Ve[4];ft!=null&&(v.Aa=ft,v.j.info("SVER="+v.Aa));const Rn=Ve[5];Rn!=null&&typeof Rn=="number"&&0<Rn&&(w=1.5*Rn,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const pn=u.g;if(pn){const As=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var W=w.h;W.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Xa(W,W.h),W.h=null))}if(w.D){const Ro=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ro&&(w.ya=Ro,qe(w.I,w.D,Ro))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var oe=u;if(w.qa=Fu(w,w.J?w.ia:null,w.W),oe.K){Cu(w.h,oe);var We=oe,_t=w.L;_t&&(We.I=_t),We.B&&(vs(We),Qe(We)),w.g=oe}else Ss(w);0<v.i.length&&yr(v)}else Ve[0]!="stop"&&Ve[0]!="close"||zr(v,7);else v.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?zr(v,7):bt(v):Ve[0]!="noop"&&v.l&&v.l.ta(Ve),v.v=0)}}Fr(4)}catch{}}var Su=class{constructor(u,m){this.g=u,this.map=m}};function ys(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Au(u){return u.h?1:u.g?u.g.size:0}function Ht(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Xa(u,m){u.g?u.g.add(m):u.h=m}function Cu(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ys.prototype.cancel=function(){if(this.i=Ru(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ru(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return F(u.i)}function mo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,w=0;w<v;w++)m.push(u[w]);return m}m=[],v=0;for(w in u)m[v++]=u[w];return m}function go(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const w in u)m[v++]=w;return m}}}function _i(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=go(u),w=mo(u),$=w.length,W=0;W<$;W++)m.call(void 0,w[W],v&&v[W],u)}var Es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hd(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var w=u[v].indexOf("="),$=null;if(0<=w){var W=u[v].substring(0,w);$=u[v].substring(w+1)}else W=u[v];m(W,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function $r(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof $r){this.h=u.h,ws(this,u.j),this.o=u.o,this.g=u.g,vi(this,u.s),this.l=u.l;var m=u.i,v=new gr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),yi(this,v),this.m=u.m}else u&&(m=String(u).match(Es))?(this.h=!1,ws(this,m[1]||"",!0),this.o=Me(m[2]||""),this.g=Me(m[3]||"",!0),vi(this,m[4]),this.l=Me(m[5]||"",!0),yi(this,m[6]||"",!0),this.m=Me(m[7]||"")):(this.h=!1,this.i=new gr(null,this.h))}$r.prototype.toString=function(){var u=[],m=this.j;m&&u.push(wi(m,_o,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(wi(m,_o,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(wi(v,v.charAt(0)=="/"?Nu:ku,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",wi(v,Ja)),u.join("")};function dn(u){return new $r(u)}function ws(u,m,v){u.j=v?Me(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function vi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function yi(u,m,v){m instanceof gr?(u.i=m,_r(u.i,u.h)):(v||(m=wi(m,bu)),u.i=new gr(m,u.h))}function qe(u,m,v){u.i.set(m,v)}function Ei(u){return qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Me(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wi(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Pu),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Pu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _o=/[#\/\?@]/g,ku=/[#\?:]/g,Nu=/[#\?]/g,bu=/[#\?@]/g,Ja=/#/g;function gr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Nt(u){u.g||(u.g=new Map,u.h=0,u.i&&hd(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=gr.prototype,n.add=function(u,m){Nt(this),this.i=null,u=Cn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function qn(u,m){Nt(u),m=Cn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Kn(u,m){return Nt(u),m=Cn(u,m),u.g.has(m)}n.forEach=function(u,m){Nt(this),this.g.forEach(function(v,w){v.forEach(function($){u.call(m,$,w,this)},this)},this)},n.na=function(){Nt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let w=0;w<m.length;w++){const $=u[w];for(let W=0;W<$.length;W++)v.push(m[w])}return v},n.V=function(u){Nt(this);let m=[];if(typeof u=="string")Kn(this,u)&&(m=m.concat(this.g.get(Cn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return Nt(this),this.i=null,u=Cn(this,u),Kn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ti(u,m,v){qn(u,m),0<v.length&&(u.i=null,u.g.set(Cn(u,m),F(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var w=m[v];const W=encodeURIComponent(String(w)),oe=this.V(w);for(w=0;w<oe.length;w++){var $=W;oe[w]!==""&&($+="="+encodeURIComponent(String(oe[w]))),u.push($)}}return this.i=u.join("&")};function Cn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function _r(u,m){m&&!u.j&&(Nt(u),u.i=null,u.g.forEach(function(v,w){var $=w.toLowerCase();w!=$&&(qn(this,w),Ti(this,$,v))},u)),u.j=m}function dd(u,m){const v=new ms;if(d.Image){const w=new Image;w.onload=k(Jt,v,"TestLoadImage: loaded",!0,m,w),w.onerror=k(Jt,v,"TestLoadImage: error",!1,m,w),w.onabort=k(Jt,v,"TestLoadImage: abort",!1,m,w),w.ontimeout=k(Jt,v,"TestLoadImage: timeout",!1,m,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else m(!1)}function Ou(u,m){const v=new ms,w=new AbortController,$=setTimeout(()=>{w.abort(),Jt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:w.signal}).then(W=>{clearTimeout($),W.ok?Jt(v,"TestPingServer: ok",!0,m):Jt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout($),Jt(v,"TestPingServer: error",!1,m)})}function Jt(u,m,v,w,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),w(v)}catch{}}function fd(){this.g=new za}function xu(u,m,v){const w=v||"";try{_i(u,function($,W){let oe=$;_($)&&(oe=ja($)),m.push(w+W+"="+encodeURIComponent(oe))})}catch($){throw m.push(w+"type="+encodeURIComponent("_badmap")),$}}function Ur(u){this.l=u.Ub||null,this.j=u.eb||!1}b(Ur,fs),Ur.prototype.g=function(){return new Ts(this.l,this.j)},Ur.prototype.i=function(u){return function(){return u}}({});function Ts(u,m){st.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Ts,st),n=Ts.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Qn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Du(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Du(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Gn(this):Qn(this),this.readyState==3&&Du(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Gn(this))},n.Qa=function(u){this.g&&(this.response=u,Gn(this))},n.ga=function(){this.g&&Gn(this)};function Gn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Qn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function jr(u){let m="";return ne(u,function(v,w){m+=w,m+=":",m+=v,m+=`\r
`}),m}function Ii(u,m,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=jr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):qe(u,m,v))}function Ze(u){st.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Ze,st);var pd=/^https?$/i,Za=["POST","PUT"];n=Ze.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?oo(this.o):oo(Hn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(W){Is(this,W);return}if(u=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var $ in w)v.set($,w[$]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const W of w.keys())v.set(W,w.get(W));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),$=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Za,m,void 0))||w||$||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,oe]of v)this.g.setRequestHeader(W,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yo(this),this.u=!0,this.g.send(u),this.u=!1}catch(W){Is(this,W)}};function Is(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,vo(u),fn(u)}function vo(u){u.A||(u.A=!0,ot(u,"complete"),ot(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ot(this,"complete"),ot(this,"abort"),fn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fn(this,!0)),Ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?el(this):this.bb())},n.bb=function(){el(this)};function el(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Zt(u)!=4||u.Z()!=2)){if(u.u&&Zt(u)==4)Fa(u.Ea,0,u);else if(ot(u,"readystatechange"),Zt(u)==4){u.h=!1;try{const oe=u.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var w;if(w=oe===0){var $=String(u.D).match(Es)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),w=!pd.test($?$.toLowerCase():"")}v=w}if(v)ot(u,"complete"),ot(u,"success");else{u.m=6;try{var W=2<Zt(u)?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.Z()+"]",vo(u)}}finally{fn(u)}}}}function fn(u,m){if(u.g){yo(u);const v=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||ot(u,"ready");try{v.onreadystatechange=w}catch{}}}function yo(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Zt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Zt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ba(m)}};function tl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Eo(u){const m={};u=(u.g&&2<=Zt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(q(u[w]))continue;var v=x(u[w]);const $=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=m[$]||[];m[$]=W,W.push(v)}P(m,function(w){return w.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function nl(u){this.Aa=0,this.i=[],this.j=new ms,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vr("baseRetryDelayMs",5e3,u),this.cb=vr("retryDelaySeedMs",1e4,u),this.Wa=vr("forwardChannelMaxRetries",2,u),this.wa=vr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ys(u&&u.concurrentRequestLimit),this.Da=new fd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=nl.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,w){ut(0),this.W=u,this.H=m||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=Fu(this,null,this.W),yr(this)};function bt(u){if(wo(u),u.G==3){var m=u.U++,v=dn(u.I);if(qe(v,"SID",u.K),qe(v,"RID",m),qe(v,"TYPE","terminate"),Br(u,v),m=new Wn(u,u.j,m),m.L=2,m.v=Ei(dn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=$u(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Qe(m)}Vu(u)}function Yn(u){u.g&&(rl(u),u.g.cancel(),u.g=null)}function wo(u){Yn(u),u.u&&(d.clearTimeout(u.u),u.u=null),So(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function yr(u){if(!hn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Ne||ae(),ie||(Ne(),ie=!0),me.add(m,u),u.B=0}}function md(u,m){return Au(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Bn(T(u.Ga,u,m),Mu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const $=new Wn(this,this.j,u);let W=this.o;if(this.S&&(W?(W=S(W),N(W,this.S)):W=this.S),this.m!==null||this.O||($.H=W,W=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(m+=w,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Si(this,$,m),v=dn(this.I),qe(v,"RID",u),qe(v,"CVER",22),this.D&&qe(v,"X-HTTP-Session-Id",this.D),Br(this,v),W&&(this.O?m="headers="+encodeURIComponent(String(jr(W)))+"&"+m:this.m&&Ii(v,this.m,W)),Xa(this.h,$),this.Ua&&qe(v,"TYPE","init"),this.P?(qe(v,"$req",m),qe(v,"SID","null"),$.T=!0,po($,v,null)):po($,v,m),this.G=2}}else this.G==3&&(u?To(this,u):this.i.length==0||hn(this.h)||To(this))};function To(u,m){var v;m?v=m.l:v=u.U++;const w=dn(u.I);qe(w,"SID",u.K),qe(w,"RID",v),qe(w,"AID",u.T),Br(u,w),u.m&&u.o&&Ii(w,u.m,u.o),v=new Wn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Si(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Xa(u.h,v),po(v,w,m)}function Br(u,m){u.H&&ne(u.H,function(v,w){qe(m,w,v)}),u.l&&_i({},function(v,w){qe(m,w,v)})}function Si(u,m,v){v=Math.min(u.i.length,v);var w=u.l?T(u.l.Na,u.l,u):null;e:{var $=u.i;let W=-1;for(;;){const oe=["count="+v];W==-1?0<v?(W=$[0].g,oe.push("ofs="+W)):W=0:oe.push("ofs="+W);let We=!0;for(let _t=0;_t<v;_t++){let Ve=$[_t].g;const It=$[_t].map;if(Ve-=W,0>Ve)W=Math.max(0,$[_t].g-100),We=!1;else try{xu(It,oe,"req"+Ve+"_")}catch{w&&w(It)}}if(We){w=oe.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,w}function Ss(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Ne||ae(),ie||(Ne(),ie=!0),me.add(m,u),u.v=0}}function Io(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Bn(T(u.Fa,u),Mu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Lu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Bn(T(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Yn(this),Lu(this))};function rl(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function Lu(u){u.g=new Wn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=dn(u.qa);qe(m,"RID","rpc"),qe(m,"SID",u.K),qe(m,"AID",u.T),qe(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&qe(m,"TO",u.ja),qe(m,"TYPE","xmlhttp"),Br(u,m),u.m&&u.o&&Ii(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Ei(dn(m)),v.m=null,v.P=!0,Qa(v,u)}n.Za=function(){this.C!=null&&(this.C=null,Yn(this),Io(this),ut(19))};function So(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Ao(u,m){var v=null;if(u.g==m){So(u),rl(u),u.g=null;var w=2}else if(Ht(u.h,m))v=m.D,Cu(u.h,m),w=1;else return;if(u.G!=0){if(m.o)if(w==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var $=u.B;w=ps(),ot(w,new uo(w,v)),yr(u)}else Ss(u);else if($=m.s,$==3||$==0&&0<m.X||!(w==1&&md(u,m)||w==2&&Io(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),$){case 1:zr(u,5);break;case 4:zr(u,10);break;case 3:zr(u,6);break;default:zr(u,2)}}}function Mu(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function zr(u,m){if(u.j.info("Error code "+m),m==2){var v=T(u.fb,u),w=u.Xa;const $=!w;w=new $r(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ws(w,"https"),Ei(w),$?dd(w.toString(),v):Ou(w.toString(),v)}else ut(2);u.G=0,u.l&&u.l.sa(m),Vu(u),wo(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Vu(u){if(u.G=0,u.ka=[],u.l){const m=Ru(u.h);(m.length!=0||u.i.length!=0)&&(L(u.ka,m),L(u.ka,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.ra()}}function Fu(u,m,v){var w=v instanceof $r?dn(v):new $r(v);if(w.g!="")m&&(w.g=m+"."+w.g),vi(w,w.s);else{var $=d.location;w=$.protocol,m=m?m+"."+$.hostname:$.hostname,$=+$.port;var W=new $r(null);w&&ws(W,w),m&&(W.g=m),$&&vi(W,$),v&&(W.l=v),w=W}return v=u.D,m=u.ya,v&&m&&qe(w,v,m),qe(w,"VER",u.la),Br(u,w),w}function $u(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ze(new Ur({eb:v})):new Ze(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function il(){}n=il.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Co(){}Co.prototype.g=function(u,m){return new Wt(u,m)};function Wt(u,m){st.call(this),this.g=new nl(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!q(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!q(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Er(this)}b(Wt,st),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){bt(this.g)},Wt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=ja(u),u=v);m.i.push(new Su(m.Ya++,u)),m.G==3&&yr(m)},Wt.prototype.N=function(){this.g.l=null,delete this.j,bt(this.g),delete this.g,Wt.aa.N.call(this)};function Uu(u){pr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Uu,pr);function ju(){lo.call(this),this.status=1}b(ju,lo);function Er(u){this.g=u}b(Er,il),Er.prototype.ua=function(){ot(this.g,"a")},Er.prototype.ta=function(u){ot(this.g,new Uu(u))},Er.prototype.sa=function(u){ot(this.g,new ju)},Er.prototype.ra=function(){ot(this.g,"b")},Co.prototype.createWebChannel=Co.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,HT=function(){return new Co},zT=function(){return ps()},BT=mr,bp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ho.NO_ERROR=0,ho.TIMEOUT=8,ho.HTTP_ERROR=6,nh=ho,Eu.COMPLETE="complete",jT=Eu,ao.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",st.prototype.listen=st.prototype.K,Ll=ao,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,UT=Ze}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const Iy="@firebase/firestore",Sy="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new Fh("@firebase/firestore");function Yo(){return Xs.logLevel}function fe(n,...e){if(Xs.logLevel<=Le.DEBUG){const t=e.map(Rm);Xs.debug(`Firestore (${ba}): ${n}`,...t)}}function li(n,...e){if(Xs.logLevel<=Le.ERROR){const t=e.map(Rm);Xs.error(`Firestore (${ba}): ${n}`,...t)}}function ha(n,...e){if(Xs.logLevel<=Le.WARN){const t=e.map(Rm);Xs.warn(`Firestore (${ba}): ${n}`,...t)}}function Rm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,WT(n,i,t)}function WT(n,e,t){let i=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw li(i),new Error(i)}function it(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||WT(e,o,i)}function $e(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends lr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jt.UNAUTHENTICATED))}shutdown(){}}class nb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rb{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){it(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Hs,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Hs)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(it(typeof i.accessToken=="string",31837,{l:i}),new qT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new jt(e)}}class ib{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sb{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new ib(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ay{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ob{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){it(this.o===void 0,3512);const i=a=>{a.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ay(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(it(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ay(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=ab(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%62))}return i}}function De(n,e){return n<e?-1:n>e?1:0}function Op(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),o=e.codePointAt(t);if(i!==o){if(i<128&&o<128)return De(i,o);{const a=KT(),c=lb(a.encode(Cy(n,t)),a.encode(Cy(e,t)));return c!==0?c:De(i,o)}}t+=i>65535?2:1}return De(n.length,e.length)}function Cy(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function lb(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return De(n[t],e[t]);return De(n.length,e.length)}function da(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=-62135596800,Py=1e6;class cn{static now(){return cn.fromMillis(Date.now())}static fromDate(e){return cn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Py);return new cn(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ry)throw new Se(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Py}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ry;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new cn(0,0))}static max(){return new ke(new cn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="__name__";class Ar{constructor(e,t,i){t===void 0?t=0:t>e.length&&be(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&be(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ar.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=Ar.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return De(e.length,t.length)}static compareSegments(e,t){const i=Ar.isNumericId(e),o=Ar.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Ar.extractNumericId(e).compare(Ar.extractNumericId(t)):Op(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qi.fromString(e.substring(4,e.length-2))}}class lt extends Ar{construct(e,t,i){return new lt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Se(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new lt(t)}static emptyPath(){return new lt([])}}const ub=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends Ar{construct(e,t,i){return new Gt(e,t,i)}static isValidIdentifier(e){return ub.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ky}static keyField(){return new Gt([ky])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new Se(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Se(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Se(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(a(),o++)}if(a(),c)throw new Se(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(t)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(lt.fromString(e))}static fromName(e){return new Ae(lt.fromString(e).popFirst(5))}static empty(){return new Ae(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function cb(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(i===1e9?new cn(t+1,0):new cn(t,i));return new Xi(o,Ae.empty(),e)}function hb(n){return new Xi(n.readTime,n.key,Xl)}class Xi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Xi(ke.min(),Ae.empty(),Xl)}static max(){return new Xi(ke.max(),Ae.empty(),Xl)}}function db(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hh(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==fb)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):G.reject(t)}static resolve(e){return new G((t,i)=>{t(e)})}static reject(e){return new G((t,i)=>{i(e)})}static waitFor(e){return new G((t,i)=>{let o=0,a=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++a,c&&a===o&&t()},p=>i(p))}),c=!0,a===o&&t()})}static or(e){let t=G.resolve(!1);for(const i of e)t=t.next(o=>o?G.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new G((i,o)=>{const a=e.length,c=new Array(a);let d=0;for(let p=0;p<a;p++){const _=p;t(e[_]).next(y=>{c[_]=y,++d,d===a&&i(c)},y=>o(y))}})}static doWhile(e,t){return new G((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function mb(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Oa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Wh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=-1;function qh(n){return n==null}function xp(n){return n===0&&1/n==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="";function _b(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ny(e)),e=vb(n.get(t),e);return Ny(e)}function vb(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case QT:t+="";break;default:t+=a}}return t}function Ny(n){return n+QT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function hu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function yb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||Dt.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}}class Fc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Dt.RED,this.left=o??Dt.EMPTY,this.right=a??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Dt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Dt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,t,i,o,a){return this}insert(e,t,i){return new Dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Oy(this.data.getIterator())}getIteratorFrom(e){return new Oy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wt(this.comparator);return t.data=e,t}}class Oy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new Wi([])}unionWith(e){let t=new wt(Gt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Wi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return da(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new YT("Invalid base64 string: "+a):a}}(e);return new Lt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new Lt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const Eb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(n){if(it(!!n,39018),typeof n=="string"){let e=0;const t=Eb.exec(n);if(it(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ht(n.seconds),nanos:ht(n.nanos)}}function ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zi(n){return typeof n=="string"?Lt.fromBase64String(n):Lt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="server_timestamp",JT="__type__",ZT="__previous_value__",e0="__local_write_time__";function Pm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[JT])===null||t===void 0?void 0:t.stringValue)===XT}function Kh(n){const e=n.mapValue.fields[ZT];return Pm(e)?Kh(e):e}function Jl(n){const e=Ji(n.mapValue.fields[e0].timestampValue);return new cn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,t,i,o,a,c,d,p,_,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=y}}const Eh="(default)";class Zl{constructor(e,t){this.projectId=e,this.database=t||Eh}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===Eh}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="__type__",Ib="__max__",$c={mapValue:{}},Sb="__vector__",Dp="value";function es(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Pm(n)?4:Cb(n)?9007199254740991:Ab(n)?10:11:be(28295,{value:n})}function xr(n,e){if(n===e)return!0;const t=es(n);if(t!==es(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Jl(n).isEqual(Jl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Ji(o.timestampValue),d=Ji(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Zi(o.bytesValue).isEqual(Zi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return ht(o.geoPointValue.latitude)===ht(a.geoPointValue.latitude)&&ht(o.geoPointValue.longitude)===ht(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return ht(o.integerValue)===ht(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=ht(o.doubleValue),d=ht(a.doubleValue);return c===d?xp(c)===xp(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return da(n.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},d=a.mapValue.fields||{};if(by(c)!==by(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!xr(c[p],d[p])))return!1;return!0}(n,e);default:return be(52216,{left:n})}}function eu(n,e){return(n.values||[]).find(t=>xr(t,e))!==void 0}function fa(n,e){if(n===e)return 0;const t=es(n),i=es(e);if(t!==i)return De(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return function(a,c){const d=ht(a.integerValue||a.doubleValue),p=ht(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return xy(n.timestampValue,e.timestampValue);case 4:return xy(Jl(n),Jl(e));case 5:return Op(n.stringValue,e.stringValue);case 6:return function(a,c){const d=Zi(a),p=Zi(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const d=a.split("/"),p=c.split("/");for(let _=0;_<d.length&&_<p.length;_++){const y=De(d[_],p[_]);if(y!==0)return y}return De(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const d=De(ht(a.latitude),ht(c.latitude));return d!==0?d:De(ht(a.longitude),ht(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Dy(n.arrayValue,e.arrayValue);case 10:return function(a,c){var d,p,_,y;const I=a.fields||{},T=c.fields||{},k=(d=I[Dp])===null||d===void 0?void 0:d.arrayValue,b=(p=T[Dp])===null||p===void 0?void 0:p.arrayValue,F=De(((_=k==null?void 0:k.values)===null||_===void 0?void 0:_.length)||0,((y=b==null?void 0:b.values)===null||y===void 0?void 0:y.length)||0);return F!==0?F:Dy(k,b)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===$c.mapValue&&c===$c.mapValue)return 0;if(a===$c.mapValue)return 1;if(c===$c.mapValue)return-1;const d=a.fields||{},p=Object.keys(d),_=c.fields||{},y=Object.keys(_);p.sort(),y.sort();for(let I=0;I<p.length&&I<y.length;++I){const T=Op(p[I],y[I]);if(T!==0)return T;const k=fa(d[p[I]],_[y[I]]);if(k!==0)return k}return De(p.length,y.length)}(n.mapValue,e.mapValue);default:throw be(23264,{Pe:t})}}function xy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);const t=Ji(n),i=Ji(e),o=De(t.seconds,i.seconds);return o!==0?o:De(t.nanos,i.nanos)}function Dy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=fa(t[o],i[o]);if(a)return a}return De(t.length,i.length)}function pa(n){return Lp(n)}function Lp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ji(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Zi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=Lp(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${Lp(t.fields[c])}`;return o+"}"}(n.mapValue):be(61005,{value:n})}function rh(n){switch(es(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kh(n);return e?16+rh(e):16;case 5:return 2*n.stringValue.length;case 6:return Zi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+rh(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return hu(i.fields,(a,c)=>{o+=a.length+rh(c)}),o}(n.mapValue);default:throw be(13486,{value:n})}}function Mp(n){return!!n&&"integerValue"in n}function km(n){return!!n&&"arrayValue"in n}function Ly(n){return!!n&&"nullValue"in n}function My(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zf(n){return!!n&&"mapValue"in n}function Ab(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Tb])===null||t===void 0?void 0:t.stringValue)===Sb}function jl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return hu(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=jl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Cb(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Ib}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.value=e}static empty(){return new Cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Zf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(t)}setAll(e){let t=Gt.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=jl(c):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Zf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Zf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){hu(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new Cr(jl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t,i,o,a,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Bt(e,0,ke.min(),ke.min(),ke.min(),Cr.empty(),0)}static newFoundDocument(e,t,i,o){return new Bt(e,1,t,ke.min(),i,o,0)}static newNoDocument(e,t){return new Bt(e,2,t,ke.min(),ke.min(),Cr.empty(),0)}static newUnknownDocument(e,t){return new Bt(e,3,t,ke.min(),ke.min(),Cr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,t){this.position=e,this.inclusive=t}}function Vy(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=Ae.comparator(Ae.fromName(c.referenceValue),t.key):i=fa(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Fy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,t="asc"){this.field=e,this.dir=t}}function Rb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{}class Et extends t0{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new kb(e,t,i):t==="array-contains"?new Ob(e,i):t==="in"?new xb(e,i):t==="not-in"?new Db(e,i):t==="array-contains-any"?new Lb(e,i):new Et(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Nb(e,i):new bb(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(fa(t,this.value)):t!==null&&es(this.value)===es(t)&&this.matchesComparison(fa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends t0{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Dr(e,t)}matches(e){return n0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function n0(n){return n.op==="and"}function r0(n){return Pb(n)&&n0(n)}function Pb(n){for(const e of n.filters)if(e instanceof Dr)return!1;return!0}function Vp(n){if(n instanceof Et)return n.field.canonicalString()+n.op.toString()+pa(n.value);if(r0(n))return n.filters.map(e=>Vp(e)).join(",");{const e=n.filters.map(t=>Vp(t)).join(",");return`${n.op}(${e})`}}function i0(n,e){return n instanceof Et?function(i,o){return o instanceof Et&&i.op===o.op&&i.field.isEqual(o.field)&&xr(i.value,o.value)}(n,e):n instanceof Dr?function(i,o){return o instanceof Dr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,d)=>a&&i0(c,o.filters[d]),!0):!1}(n,e):void be(19439)}function s0(n){return n instanceof Et?function(t){return`${t.field.canonicalString()} ${t.op} ${pa(t.value)}`}(n):n instanceof Dr?function(t){return t.op.toString()+" {"+t.getFilters().map(s0).join(" ,")+"}"}(n):"Filter"}class kb extends Et{constructor(e,t,i){super(e,t,i),this.key=Ae.fromName(i.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class Nb extends Et{constructor(e,t){super(e,"in",t),this.keys=o0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bb extends Et{constructor(e,t){super(e,"not-in",t),this.keys=o0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function o0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ae.fromName(i.referenceValue))}class Ob extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return km(t)&&eu(t.arrayValue,this.value)}}class xb extends Et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&eu(this.value.arrayValue,t)}}class Db extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!eu(this.value.arrayValue,t)}}class Lb extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!km(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>eu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,t=null,i=[],o=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=d,this.Ie=null}}function $y(n,e=null,t=[],i=[],o=null,a=null,c=null){return new Mb(n,e,t,i,o,a,c)}function Nm(n){const e=$e(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Vp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),qh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>pa(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>pa(i)).join(",")),e.Ie=t}return e.Ie}function bm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Rb(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!i0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Fy(n.startAt,e.startAt)&&Fy(n.endAt,e.endAt)}function Fp(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t=null,i=[],o=[],a=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Vb(n,e,t,i,o,a,c,d){return new Gh(n,e,t,i,o,a,c,d)}function Om(n){return new Gh(n)}function Uy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Fb(n){return n.collectionGroup!==null}function Bl(n){const e=$e(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new wt(Gt.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(d=d.add(_.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Th(a,i))}),t.has(Gt.keyField().canonicalString())||e.Ee.push(new Th(Gt.keyField(),i))}return e.Ee}function kr(n){const e=$e(n);return e.de||(e.de=$b(e,Bl(n))),e.de}function $b(n,e){if(n.limitType==="F")return $y(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Th(o.field,a)});const t=n.endAt?new wh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new wh(n.startAt.position,n.startAt.inclusive):null;return $y(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function $p(n,e,t){return new Gh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qh(n,e){return bm(kr(n),kr(e))&&n.limitType===e.limitType}function a0(n){return`${Nm(kr(n))}|lt:${n.limitType}`}function Xo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>s0(o)).join(", ")}]`),qh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>pa(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>pa(o)).join(",")),`Target(${i})`}(kr(n))}; limitType=${n.limitType})`}function Yh(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ae.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of Bl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,p){const _=Vy(c,d,p);return c.inclusive?_<=0:_<0}(i.startAt,Bl(i),o)||i.endAt&&!function(c,d,p){const _=Vy(c,d,p);return c.inclusive?_>=0:_>0}(i.endAt,Bl(i),o))}(n,e)}function Ub(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function l0(n){return(e,t)=>{let i=!1;for(const o of Bl(n)){const a=jb(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function jb(n,e,t){const i=n.field.isKeyField()?Ae.comparator(e.key,t.key):function(a,c,d){const p=c.data.field(a),_=d.data.field(a);return p!==null&&_!==null?fa(p,_):be(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return be(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){hu(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return yb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=new dt(Ae.comparator);function ts(){return Bb}const u0=new dt(Ae.comparator);function Ml(...n){let e=u0;for(const t of n)e=e.insert(t.key,t);return e}function zb(n){let e=u0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Us(){return zl()}function c0(){return zl()}function zl(){return new ro(n=>n.toString(),(n,e)=>n.isEqual(e))}const Hb=new wt(Ae.comparator);function je(...n){let e=Hb;for(const t of n)e=e.add(t);return e}const Wb=new wt(De);function qb(){return Wb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xp(e)?"-0":e}}function Gb(n){return{integerValue:""+n}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(){this._=void 0}}function Qb(n,e,t){return n instanceof Up?function(o,a){const c={fields:{[JT]:{stringValue:XT},[e0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Pm(a)&&(a=Kh(a)),a&&(c.fields[ZT]=a),{mapValue:c}}(t,e):n instanceof Ih?h0(n,e):n instanceof Sh?d0(n,e):function(o,a){const c=Xb(o,a),d=jy(c)+jy(o.Re);return Mp(c)&&Mp(o.Re)?Gb(d):Kb(o.serializer,d)}(n,e)}function Yb(n,e,t){return n instanceof Ih?h0(n,e):n instanceof Sh?d0(n,e):t}function Xb(n,e){return n instanceof jp?function(i){return Mp(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Up extends Xh{}class Ih extends Xh{constructor(e){super(),this.elements=e}}function h0(n,e){const t=f0(e);for(const i of n.elements)t.some(o=>xr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Sh extends Xh{constructor(e){super(),this.elements=e}}function d0(n,e){let t=f0(e);for(const i of n.elements)t=t.filter(o=>!xr(o,i));return{arrayValue:{values:t}}}class jp extends Xh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function jy(n){return ht(n.integerValue||n.doubleValue)}function f0(n){return km(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Jb(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Ih&&o instanceof Ih||i instanceof Sh&&o instanceof Sh?da(i.elements,o.elements,xr):i instanceof jp&&o instanceof jp?xr(i.Re,o.Re):i instanceof Up&&o instanceof Up}(n.transform,e.transform)}class Ws{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ws}static exists(e){return new Ws(void 0,e)}static updateTime(e){return new Ws(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class xm{}function p0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new eO(n.key,Ws.none()):new Dm(n.key,n.data,Ws.none());{const t=n.data,i=Cr.empty();let o=new wt(Gt.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new Jh(n.key,i,new Wi(o.toArray()),Ws.none())}}function Zb(n,e,t){n instanceof Dm?function(o,a,c){const d=o.value.clone(),p=zy(o.fieldTransforms,a,c.transformResults);d.setAll(p),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Jh?function(o,a,c){if(!ih(o.precondition,a))return void a.convertToUnknownDocument(c.version);const d=zy(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(m0(o)),p.setAll(d),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Hl(n,e,t,i){return n instanceof Dm?function(a,c,d,p){if(!ih(a.precondition,c))return d;const _=a.value.clone(),y=Hy(a.fieldTransforms,p,c);return _.setAll(y),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof Jh?function(a,c,d,p){if(!ih(a.precondition,c))return d;const _=Hy(a.fieldTransforms,p,c),y=c.data;return y.setAll(m0(a)),y.setAll(_),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(I=>I.field))}(n,e,t,i):function(a,c,d){return ih(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function By(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&da(i,o,(a,c)=>Jb(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Dm extends xm{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Jh extends xm{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function m0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function zy(n,e,t){const i=new Map;it(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,d=e.data.field(a.field);i.set(a.field,Yb(c,d,t[o]))}return i}function Hy(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,Qb(a,c,e))}return i}class eO extends xm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&Zb(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Hl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Hl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=c0();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=t.has(o.key)?null:d;const p=p0(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(ke.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),je())}isEqual(e){return this.batchId===e.batchId&&da(this.mutations,e.mutations,(t,i)=>By(t,i))&&da(this.baseMutations,e.baseMutations,(t,i)=>By(t,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Fe;function g0(n){if(n===void 0)return li("GRPC error has no .code"),le.UNKNOWN;switch(n){case mt.OK:return le.OK;case mt.CANCELLED:return le.CANCELLED;case mt.UNKNOWN:return le.UNKNOWN;case mt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case mt.INTERNAL:return le.INTERNAL;case mt.UNAVAILABLE:return le.UNAVAILABLE;case mt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case mt.NOT_FOUND:return le.NOT_FOUND;case mt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case mt.ABORTED:return le.ABORTED;case mt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case mt.DATA_LOSS:return le.DATA_LOSS;default:return be(39323,{code:n})}}(Fe=mt||(mt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=new Qi([4294967295,4294967295],0);function Wy(n){const e=KT().encode(n),t=new $T;return t.update(e),new Uint8Array(t.digest())}function qy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Qi([t,i],0),new Qi([o,a],0)]}class Lm{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Vl(`Invalid padding: ${t}`);if(i<0)throw new Vl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Qi.fromNumber(this.pe)}we(e,t,i){let o=e.add(t.multiply(Qi.fromNumber(i)));return o.compare(iO)===1&&(o=new Qi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Wy(e),[i,o]=qy(t);for(let a=0;a<this.hashCount;a++){const c=this.we(i,o,a);if(!this.be(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Lm(a,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=Wy(e),[i,o]=qy(t);for(let a=0;a<this.hashCount;a++){const c=this.we(i,o,a);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Zh(ke.min(),o,new dt(De),ts(),je())}}class du{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new du(i,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t,i,o){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=o}}class _0{constructor(e,t){this.targetId=e,this.Ce=t}}class v0{constructor(e,t,i=Lt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Ky{constructor(){this.Fe=0,this.Me=Gy(),this.xe=Lt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=je(),t=je(),i=je();return this.Me.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:be(38017,{changeType:a})}}),new du(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=Gy()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,it(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class sO{constructor(e){this.ze=e,this.je=new Map,this.He=ts(),this.Je=Uc(),this.Ye=Uc(),this.Ze=new dt(De)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:be(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,i=e.Ce.count,o=this._t(t);if(o){const a=o.target;if(Fp(a))if(i===0){const c=new Ae(a.path);this.tt(t,c,Bt.newNoDocument(c,ke.min()))}else it(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const d=this.ct(e),p=d?this.lt(d,e,c):1;if(p!==0){this.st(t);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,_)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,d;try{c=Zi(i).toUint8Array()}catch(p){if(p instanceof YT)return ha("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Lm(c,o,a)}catch(p){return ha(p instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,a,null),o++)}),o}It(e){const t=new Map;this.je.forEach((a,c)=>{const d=this._t(c);if(d){if(a.current&&Fp(d.target)){const p=new Ae(d.target.path);this.Et(p).has(c)||this.dt(c,p)||this.tt(c,p,Bt.newNoDocument(p,e))}a.Le&&(t.set(c,a.qe()),a.Qe())}});let i=je();this.Ye.forEach((a,c)=>{let d=!0;c.forEachWhile(p=>{const _=this._t(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(a))}),this.He.forEach((a,c)=>c.setReadTime(e));const o=new Zh(e,t,this.Ze,this.He,i);return this.He=ts(),this.Je=Uc(),this.Ye=Uc(),this.Ze=new dt(De),o}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Ky,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new wt(De),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new wt(De),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Ky),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Uc(){return new dt(Ae.comparator)}function Gy(){return new dt(Ae.comparator)}const oO={asc:"ASCENDING",desc:"DESCENDING"},aO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lO={and:"AND",or:"OR"};class uO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Bp(n,e){return n.useProto3Json||qh(e)?e:{value:e}}function cO(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function la(n){return it(!!n,49232),ke.fromTimestamp(function(t){const i=Ji(t);return new cn(i.seconds,i.nanos)}(n))}function dO(n,e){return zp(n,e).canonicalString()}function zp(n,e){const t=function(o){return new lt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function y0(n){const e=lt.fromString(n);return it(S0(e),10190,{key:e.toString()}),e}function ep(n,e){const t=y0(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(w0(t))}function E0(n,e){return dO(n.databaseId,e)}function fO(n){const e=y0(n);return e.length===4?lt.emptyPath():w0(e)}function Qy(n){return new lt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function w0(n){return it(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function pO(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:be(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(_,y){return _.useProto3Json?(it(y===void 0||typeof y=="string",58123),Lt.fromBase64String(y||"")):(it(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Lt.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(_){const y=_.code===void 0?le.UNKNOWN:g0(_.code);return new Se(y,_.message||"")}(c);t=new v0(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=ep(n,i.document.name),a=la(i.document.updateTime),c=i.document.createTime?la(i.document.createTime):ke.min(),d=new Cr({mapValue:{fields:i.document.fields}}),p=Bt.newFoundDocument(o,a,c,d),_=i.targetIds||[],y=i.removedTargetIds||[];t=new sh(_,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=ep(n,i.document),a=i.readTime?la(i.readTime):ke.min(),c=Bt.newNoDocument(o,a),d=i.removedTargetIds||[];t=new sh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=ep(n,i.document),a=i.removedTargetIds||[];t=new sh([],a,o,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new rO(o,a),d=i.targetId;t=new _0(d,c)}}return t}function mO(n,e){return{documents:[E0(n,e.path)]}}function gO(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=E0(n,o);const a=function(_){if(_.length!==0)return I0(Dr.create(_,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(_){if(_.length!==0)return _.map(y=>function(T){return{field:Jo(T.field),direction:yO(T.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Bp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{gt:t,parent:o}}function _O(n){let e=fO(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){it(i===1,65062);const y=t.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=function(I){const T=T0(I);return T instanceof Dr&&r0(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(I){return I.map(T=>function(b){return new Th(Zo(b.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(I){let T;return T=typeof I=="object"?I.value:I,qh(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(I){const T=!!I.before,k=I.values||[];return new wh(k,T)}(t.startAt));let _=null;return t.endAt&&(_=function(I){const T=!I.before,k=I.values||[];return new wh(k,T)}(t.endAt)),Vb(e,o,c,a,d,"F",p,_)}function vO(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function T0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Zo(t.unaryFilter.field);return Et.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Zo(t.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Zo(t.unaryFilter.field);return Et.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Zo(t.unaryFilter.field);return Et.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}}(n):n.fieldFilter!==void 0?function(t){return Et.create(Zo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Dr.create(t.compositeFilter.filters.map(i=>T0(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}}(t.compositeFilter.op))}(n):be(30097,{filter:n})}function yO(n){return oO[n]}function EO(n){return aO[n]}function wO(n){return lO[n]}function Jo(n){return{fieldPath:n.canonicalString()}}function Zo(n){return Gt.fromServerFormat(n.fieldPath)}function I0(n){return n instanceof Et?function(t){if(t.op==="=="){if(My(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NAN"}};if(Ly(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(My(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NAN"}};if(Ly(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(t.field),op:EO(t.op),value:t.value}}}(n):n instanceof Dr?function(t){const i=t.getFilters().map(o=>I0(o));return i.length===1?i[0]:{compositeFilter:{op:wO(t.op),filters:i}}}(n):be(54877,{filter:n})}function S0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,t,i,o,a=ke.min(),c=ke.min(),d=Lt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e){this.wt=e}}function IO(n){const e=_O({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?$p(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this.Cn=new AO}addToCollectionParentIndex(e,t){return this.Cn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(Xi.min())}updateCollectionGroup(e,t,i){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class AO{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new wt(lt.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new wt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},A0=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(A0,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ma(0)}static lr(){return new ma(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="LruGarbageCollector",CO=1048576;function Jy([n,e],[t,i]){const o=De(n,t);return o===0?De(e,i):o}class RO{constructor(e){this.Er=e,this.buffer=new wt(Jy),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Jy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class PO{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){fe(Xy,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Oa(t)?fe(Xy,"Ignoring IndexedDB error during garbage collection: ",t):await Hh(t)}await this.mr(3e5)})}}class kO{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return G.resolve(Wh.le);const i=new RO(t);return this.gr.forEachTarget(e,o=>i.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>i.Rr(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(Yy)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yy):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,o,a,c,d,p,_;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,c=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(i=I,d=Date.now(),this.removeTargets(e,i,t))).next(I=>(a=I,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(I=>(_=Date.now(),Yo()<=Le.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${a} targets in `+(p-d)+`ms
	Removed ${I} documents in `+(_-p)+`ms
Total Duration: ${_-y}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:I})))}}function NO(n,e){return new kO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(){this.changes=new ro(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?G.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Hl(i.mutation,o,Wi.empty(),cn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,je()).next(()=>i))}getLocalViewOfDocuments(e,t,i=je()){const o=Us();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let c=Ml();return a.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Us();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,je()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let a=ts();const c=zl(),d=function(){return zl()}();return t.forEach((p,_)=>{const y=i.get(_.key);o.has(_.key)&&(y===void 0||y.mutation instanceof Jh)?a=a.insert(_.key,_):y!==void 0?(c.set(_.key,y.mutation.getFieldMask()),Hl(y.mutation,_,y.mutation.getFieldMask(),cn.now())):c.set(_.key,Wi.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((_,y)=>c.set(_,y)),t.forEach((_,y)=>{var I;return d.set(_,new OO(y,(I=c.get(_))!==null&&I!==void 0?I:null))}),d))}recalculateAndSaveOverlays(e,t){const i=zl();let o=new dt((c,d)=>c-d),a=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const _=t.get(p);if(_===null)return;let y=i.get(p)||Wi.empty();y=d.applyToLocalView(_,y),i.set(p,y);const I=(o.get(d.batchId)||je()).add(p);o=o.insert(d.batchId,I)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),_=p.key,y=p.value,I=c0();y.forEach(T=>{if(!a.has(T)){const k=p0(t.get(T),i.get(T));k!==null&&I.set(T,k),a=a.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,_,I))}return G.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return Ae.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Fb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):G.resolve(Us());let d=Xl,p=a;return c.next(_=>G.forEach(_,(y,I)=>(d<I.largestBatchId&&(d=I.largestBatchId),a.get(y)?G.resolve():this.remoteDocumentCache.getEntry(e,y).next(T=>{p=p.insert(y,T)}))).next(()=>this.populateOverlays(e,_,a)).next(()=>this.computeViews(e,p,_,je())).next(y=>({batchId:d,changes:zb(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(i=>{let o=Ml();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=Ml();return this.indexManager.getCollectionParents(e,a).next(d=>G.forEach(d,p=>{const _=function(I,T){return new Gh(T,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,_,i,o).next(y=>{y.forEach((I,T)=>{c=c.insert(I,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(c=>{a.forEach((p,_)=>{const y=_.getKey();c.get(y)===null&&(c=c.insert(y,Bt.newInvalidDocument(y)))});let d=Ml();return c.forEach((p,_)=>{const y=a.get(p);y!==void 0&&Hl(y.mutation,_,Wi.empty(),cn.now()),Yh(t,_)&&(d=d.insert(p,_))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return G.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:la(o.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(o){return{name:o.name,query:IO(o.bundledQuery),readTime:la(o.readTime)}}(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this.overlays=new dt(Ae.comparator),this.Qr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Us();return G.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.St(e,t,a)}),G.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Qr.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(i)),G.resolve()}getOverlaysForCollection(e,t,i){const o=Us(),a=t.length+1,c=new Ae(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return G.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new dt((_,y)=>_-y);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let y=a.get(_.largestBatchId);y===null&&(y=Us(),a=a.insert(_.largestBatchId,y)),y.set(_.getKey(),_)}}const d=Us(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,y)=>d.set(_,y)),!(d.size()>=o)););return G.resolve(d)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Qr.get(o.largestBatchId).delete(i.key);this.Qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new nO(t,i));let a=this.Qr.get(t);a===void 0&&(a=je(),this.Qr.set(t,a)),this.Qr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(){this.$r=new wt(Rt.Ur),this.Kr=new wt(Rt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new Rt(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new Rt(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new Ae(new lt([])),i=new Rt(t,e),o=new Rt(t,e+1),a=[];return this.Kr.forEachInRange([i,o],c=>{this.zr(c),a.push(c.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Ae(new lt([])),i=new Rt(t,e),o=new Rt(t,e+1);let a=je();return this.Kr.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Rt(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Rt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Ae.comparator(e.key,t.key)||De(e.Zr,t.Zr)}static Wr(e,t){return De(e.Zr,t.Zr)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new wt(Rt.Ur)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new tO(a,t,i,o);this.mutationQueue.push(c);for(const d of o)this.Xr=this.Xr.add(new Rt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return G.resolve(c)}lookupMutationBatch(e,t){return G.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ti(i),a=o<0?0:o;return G.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?gb:this.nr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Rt(t,0),o=new Rt(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([i,o],c=>{const d=this.ei(c.Zr);a.push(d)}),G.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new wt(De);return t.forEach(o=>{const a=new Rt(o,0),c=new Rt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,c],d=>{i=i.add(d.Zr)})}),G.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Ae.isDocumentKey(a)||(a=a.child(""));const c=new Rt(new Ae(a),0);let d=new wt(De);return this.Xr.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===o&&(d=d.add(p.Zr)),!0)},c),G.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(i=>{const o=this.ei(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){it(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return G.forEach(t.mutations,o=>{const a=new Rt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new Rt(t,0),o=this.Xr.firstAfterOrEqual(i);return G.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.ii=e,this.docs=function(){return new dt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return G.resolve(i?i.document.mutableCopy():Bt.newInvalidDocument(t))}getEntries(e,t){let i=ts();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Bt.newInvalidDocument(o))}),G.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=ts();const c=t.path,d=new Ae(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:_,value:{document:y}}=p.getNext();if(!c.isPrefixOf(_.path))break;_.path.length>c.length+1||db(hb(y),i)<=0||(o.has(y.key)||Yh(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return G.resolve(a)}getAllFromCollectionGroup(e,t,i,o){be(9500)}si(e,t){return G.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new $O(this)}getSize(e){return G.resolve(this.size)}}class $O extends bO{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Br.addEntry(e,o)):this.Br.removeEntry(i)}),G.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.persistence=e,this.oi=new ro(t=>Nm(t),bm),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this._i=0,this.ai=new Mm,this.targetCount=0,this.ui=ma.cr()}forEachTarget(e,t){return this.oi.forEach((i,o)=>t(o)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),G.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new ma(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.Tr(t),G.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.oi.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),G.waitFor(a).next(()=>o)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return G.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),G.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),G.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return G.resolve(i)}containsKey(e,t){return G.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,t){this.ci={},this.overlays={},this.li=new Wh(0),this.hi=!1,this.hi=!0,this.Pi=new MO,this.referenceDelegate=e(this),this.Ti=new UO(this),this.indexManager=new SO,this.remoteDocumentCache=function(o){return new FO(o)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new TO(t),this.Ei=new DO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new LO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new VO(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){fe("MemoryPersistence","Starting transaction:",e);const o=new jO(this.li.next());return this.referenceDelegate.di(),i(o).next(a=>this.referenceDelegate.Ai(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Ri(e,t){return G.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class jO extends pb{constructor(e){super(),this.currentSequenceNumber=e}}class Vm{constructor(e){this.persistence=e,this.Vi=new Mm,this.mi=null}static fi(e){return new Vm(e)}get gi(){if(this.mi)return this.mi;throw be(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),G.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),G.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(o=>this.gi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.gi.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.gi,i=>{const o=Ae.fromPath(i);return this.pi(e,o).next(a=>{a||t.removeEntry(o,ke.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return G.or([()=>G.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Ah{constructor(e,t){this.persistence=e,this.yi=new ro(i=>_b(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=NO(this,t)}static fi(e,t){return new Ah(e,t)}di(){}Ai(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return G.forEach(this.yi,(i,o)=>this.Dr(e,i,o).next(a=>a?G.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.si(e,c=>this.Dr(e,c,t).next(d=>{d||(i++,a.removeEntry(c,ke.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),G.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),G.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=rh(e.data.value)),t}Dr(e,t,i){return G.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.yi.get(t);return G.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.ds=i,this.As=o}static Rs(e,t){let i=je(),o=je();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Fm(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return ZC()?8:mb(zt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.ws(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.bs(e,t,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new BO;return this.Ss(e,t,c).next(d=>{if(a.result=d,this.fs)return this.Ds(e,t,c,d.size)})}).next(()=>a.result)}Ds(e,t,i,o){return i.documentReadCount<this.gs?(Yo()<=Le.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Xo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),G.resolve()):(Yo()<=Le.DEBUG&&fe("QueryEngine","Query:",Xo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ps*o?(Yo()<=Le.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Xo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(t))):G.resolve())}ws(e,t){if(Uy(t))return G.resolve(null);let i=kr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=$p(t,null,"F"),i=kr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=je(...a);return this.ys.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const _=this.vs(t,d);return this.Cs(t,_,c,p.readTime)?this.ws(e,$p(t,null,"F")):this.Fs(e,_,t,p)}))})))}bs(e,t,i,o){return Uy(t)||o.isEqual(ke.min())?G.resolve(null):this.ys.getDocuments(e,i).next(a=>{const c=this.vs(t,a);return this.Cs(t,c,i,o)?G.resolve(null):(Yo()<=Le.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xo(t)),this.Fs(e,c,t,cb(o,Xl)).next(d=>d))})}vs(e,t){let i=new wt(l0(e));return t.forEach((o,a)=>{Yh(e,a)&&(i=i.add(a))}),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,i){return Yo()<=Le.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Xo(t)),this.ys.getDocumentsMatchingQuery(e,t,Xi.min(),i)}Fs(e,t,i,o){return this.ys.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="LocalStore",HO=3e8;class WO{constructor(e,t,i,o){this.persistence=e,this.Ms=t,this.serializer=o,this.xs=new dt(De),this.Os=new ro(a=>Nm(a),bm),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xO(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function qO(n,e,t,i){return new WO(n,e,t,i)}async function R0(n,e){const t=$e(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],d=[];let p=je();for(const _ of o){c.push(_.batchId);for(const y of _.mutations)p=p.add(y.key)}for(const _ of a){d.push(_.batchId);for(const y of _.mutations)p=p.add(y.key)}return t.localDocuments.getDocuments(i,p).next(_=>({ks:_,removedBatchIds:c,addedBatchIds:d}))})})}function P0(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function KO(n,e){const t=$e(n),i=e.snapshotVersion;let o=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});o=t.xs;const d=[];e.targetChanges.forEach((y,I)=>{const T=o.get(I);if(!T)return;d.push(t.Ti.removeMatchingKeys(a,y.removedDocuments,I).next(()=>t.Ti.addMatchingKeys(a,y.addedDocuments,I)));let k=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(I)!==null?k=k.withResumeToken(Lt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):y.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(y.resumeToken,i)),o=o.insert(I,k),function(F,L,H){return F.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=HO?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(T,k,y)&&d.push(t.Ti.updateTargetData(a,k))});let p=ts(),_=je();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))}),d.push(GO(a,c,e.documentUpdates).next(y=>{p=y.qs,_=y.Qs})),!i.isEqual(ke.min())){const y=t.Ti.getLastRemoteSnapshotVersion(a).next(I=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,i));d.push(y)}return G.waitFor(d).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,_)).next(()=>p)}).then(a=>(t.xs=o,a))}function GO(n,e,t){let i=je(),o=je();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=ts();return t.forEach((d,p)=>{const _=a.get(d);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(ke.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):fe($m,"Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",p.version)}),{qs:c,Qs:o}})}function QO(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Ti.getTargetData(i,e).next(a=>a?(o=a,G.resolve(o)):t.Ti.allocateTargetId(i).next(c=>(o=new qi(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.xs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function Hp(n,e,t){const i=$e(n),o=i.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Oa(c))throw c;fe($m,`Failed to update sequence numbers for target ${e}: ${c}`)}i.xs=i.xs.remove(e),i.Os.delete(o.target)}function Zy(n,e,t){const i=$e(n);let o=ke.min(),a=je();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,_,y){const I=$e(p),T=I.Os.get(y);return T!==void 0?G.resolve(I.xs.get(T)):I.Ti.getTargetData(_,y)}(i,c,kr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,d.targetId).next(p=>{a=p})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,e,t?o:ke.min(),t?a:je())).next(d=>(YO(i,Ub(e),d),{documents:d,$s:a})))}function YO(n,e,t){let i=n.Ns.get(e)||ke.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ns.set(e,i)}class eE{constructor(){this.activeTargetIds=qb()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XO{constructor(){this.xo=new eE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new eE,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="ConnectivityMonitor";class nE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){fe(tE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){fe(tE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc=null;function Wp(){return jc===null?jc=function(){return 268435456+Math.round(2147483648*Math.random())}():jc++,"0x"+jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="RestConnection",ZO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ex{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${o}`,this.Go=this.databaseId.database===Eh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}zo(e,t,i,o,a){const c=Wp(),d=this.jo(e,t.toUriEncodedString());fe(tp,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,a);const{host:_}=new URL(d),y=su(_);return this.Jo(e,d,p,i,y).then(I=>(fe(tp,`Received RPC '${e}' ${c}: `,I),I),I=>{throw ha(tp,`RPC '${e}' ${c} failed with error: `,I,"url: ",d,"request:",i),I})}Yo(e,t,i,o,a,c){return this.zo(e,t,i,o,a)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ba}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),i&&i.headers.forEach((o,a)=>e[a]=o)}jo(e,t){const i=ZO[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class nx extends ex{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,a){const c=Wp();return new Promise((d,p)=>{const _=new UT;_.setWithCredentials(!0),_.listenOnce(jT.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case nh.NO_ERROR:const I=_.getResponseJson();fe(Ut,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(I)),d(I);break;case nh.TIMEOUT:fe(Ut,`RPC '${e}' ${c} timed out`),p(new Se(le.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const T=_.getStatus();if(fe(Ut,`RPC '${e}' ${c} failed with status:`,T,"response text:",_.getResponseText()),T>0){let k=_.getResponseJson();Array.isArray(k)&&(k=k[0]);const b=k==null?void 0:k.error;if(b&&b.status&&b.message){const F=function(H){const q=H.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(q)>=0?q:le.UNKNOWN}(b.status);p(new Se(F,b.message))}else p(new Se(le.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new Se(le.UNAVAILABLE,"Connection failed."));break;default:be(9055,{h_:e,streamId:c,P_:_.getLastErrorCode(),T_:_.getLastError()})}}finally{fe(Ut,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(o);fe(Ut,`RPC '${e}' ${c} sending request:`,o),_.send(t,"POST",y,i,15)})}I_(e,t,i){const o=Wp(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=HT(),d=zT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const y=a.join("");fe(Ut,`Creating RPC '${e}' stream ${o}: ${y}`,p);const I=c.createWebChannel(y,p);this.E_(I);let T=!1,k=!1;const b=new tx({Zo:L=>{k?fe(Ut,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(T||(fe(Ut,`Opening RPC '${e}' stream ${o} transport.`),I.open(),T=!0),fe(Ut,`RPC '${e}' stream ${o} sending:`,L),I.send(L))},Xo:()=>I.close()}),F=(L,H,q)=>{L.listen(H,X=>{try{q(X)}catch(Y){setTimeout(()=>{throw Y},0)}})};return F(I,Ll.EventType.OPEN,()=>{k||(fe(Ut,`RPC '${e}' stream ${o} transport opened.`),b.__())}),F(I,Ll.EventType.CLOSE,()=>{k||(k=!0,fe(Ut,`RPC '${e}' stream ${o} transport closed`),b.u_(),this.d_(I))}),F(I,Ll.EventType.ERROR,L=>{k||(k=!0,ha(Ut,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),b.u_(new Se(le.UNAVAILABLE,"The operation could not be completed")))}),F(I,Ll.EventType.MESSAGE,L=>{var H;if(!k){const q=L.data[0];it(!!q,16349);const X=q,Y=(X==null?void 0:X.error)||((H=X[0])===null||H===void 0?void 0:H.error);if(Y){fe(Ut,`RPC '${e}' stream ${o} received error:`,Y);const ue=Y.status;let ne=function(A){const N=mt[A];if(N!==void 0)return g0(N)}(ue),P=Y.message;ne===void 0&&(ne=le.INTERNAL,P="Unknown error status: "+ue+" with message "+Y.message),k=!0,b.u_(new Se(ne,P)),I.close()}else fe(Ut,`RPC '${e}' stream ${o} received:`,q),b.c_(q)}}),F(d,BT.STAT_EVENT,L=>{L.stat===bp.PROXY?fe(Ut,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===bp.NOPROXY&&fe(Ut,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{b.a_()},0),b}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(n){return new uO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,t,i=1e3,o=1.5,a=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=o,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),o=Math.max(0,t-i);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="PersistentStream";class rx{constructor(e,t,i,o,a,c,d,p){this.xi=e,this.S_=i,this.D_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new N0(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(li(t.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.v_===t&&this.z_(i,o)},i=>{e(()=>{const o=new Se(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(o)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{i(()=>this.j_(o))}),this.stream.onMessage(o=>{i(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return fe(rE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(fe(rE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ix extends rx{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=pO(this.serializer,e),i=function(a){if(!("targetChange"in a))return ke.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?ke.min():c.readTime?la(c.readTime):ke.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=Qy(this.serializer),t.addTarget=function(a,c){let d;const p=c.target;if(d=Fp(p)?{documents:mO(a,p)}:{query:gO(a,p).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=hO(a,c.resumeToken);const _=Bp(a,c.expectedCount);_!==null&&(d.expectedCount=_)}else if(c.snapshotVersion.compareTo(ke.min())>0){d.readTime=cO(a,c.snapshotVersion.toTimestamp());const _=Bp(a,c.expectedCount);_!==null&&(d.expectedCount=_)}return d}(this.serializer,e);const i=vO(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=Qy(this.serializer),t.removeTarget=e,this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{}class ox extends sx{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new Se(le.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.zo(e,zp(t,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(le.UNKNOWN,a.toString())})}Yo(e,t,i,o,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(e,zp(t,i),o,c,d,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(le.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class ax{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(li(t),this.ua=!1):fe("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="RemoteStore";class lx{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(c=>{i.enqueueAndForget(async()=>{pu(this)&&(fe(ga,"Restarting streams for network reachability change."),await async function(p){const _=$e(p);_.da.add(4),await fu(_),_.Va.set("Unknown"),_.da.delete(4),await ed(_)}(this))})}),this.Va=new ax(i,o)}}async function ed(n){if(pu(n))for(const e of n.Aa)await e(!0)}async function fu(n){for(const e of n.Aa)await e(!1)}function b0(n,e){const t=$e(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),zm(t)?Bm(t):xa(t).N_()&&jm(t,e))}function Um(n,e){const t=$e(n),i=xa(t);t.Ea.delete(e),i.N_()&&O0(t,e),t.Ea.size===0&&(i.N_()?i.k_():pu(t)&&t.Va.set("Unknown"))}function jm(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xa(n).Z_(e)}function O0(n,e){n.ma.Ke(e),xa(n).X_(e)}function Bm(n){n.ma=new sO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),xa(n).start(),n.Va.ca()}function zm(n){return pu(n)&&!xa(n).O_()&&n.Ea.size>0}function pu(n){return $e(n).da.size===0}function x0(n){n.ma=void 0}async function ux(n){n.Va.set("Online")}async function cx(n){n.Ea.forEach((e,t)=>{jm(n,e)})}async function hx(n,e){x0(n),zm(n)?(n.Va.Pa(e),Bm(n)):n.Va.set("Unknown")}async function dx(n,e,t){if(n.Va.set("Online"),e instanceof v0&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const d of a.targetIds)o.Ea.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ea.delete(d),o.ma.removeTarget(d))}(n,e)}catch(i){fe(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await iE(n,i)}else if(e instanceof sh?n.ma.Xe(e):e instanceof _0?n.ma.ot(e):n.ma.nt(e),!t.isEqual(ke.min()))try{const i=await P0(n.localStore);t.compareTo(i)>=0&&await function(a,c){const d=a.ma.It(c);return d.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const y=a.Ea.get(_);y&&a.Ea.set(_,y.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,_)=>{const y=a.Ea.get(p);if(!y)return;a.Ea.set(p,y.withResumeToken(Lt.EMPTY_BYTE_STRING,y.snapshotVersion)),O0(a,p);const I=new qi(y.target,p,_,y.sequenceNumber);jm(a,I)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){fe(ga,"Failed to raise snapshot:",i),await iE(n,i)}}async function iE(n,e,t){if(!Oa(e))throw e;n.da.add(1),await fu(n),n.Va.set("Offline"),t||(t=()=>P0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{fe(ga,"Retrying IndexedDB access"),await t(),n.da.delete(1),await ed(n)})}async function sE(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),fe(ga,"RemoteStore received new credentials");const i=pu(t);t.da.add(3),await fu(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await ed(t)}async function fx(n,e){const t=$e(n);e?(t.da.delete(2),await ed(t)):e||(t.da.add(2),await fu(t),t.Va.set("Unknown"))}function xa(n){return n.fa||(n.fa=function(t,i,o){const a=$e(t);return a.oa(),new ix(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{e_:ux.bind(null,n),n_:cx.bind(null,n),i_:hx.bind(null,n),Y_:dx.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),zm(n)?Bm(n):n.Va.set("Unknown")):(await n.fa.stop(),x0(n))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,d=new Hm(e,t,c,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function D0(n,e){if(li("AsyncQueue",`${e}: ${n}`),Oa(n))return new Se(le.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{static emptySet(e){return new ua(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ae.comparator(t.key,i.key):(t,i)=>Ae.comparator(t.key,i.key),this.keyedMap=Ml(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ua)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ua;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.pa=new dt(Ae.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):be(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class _a{constructor(e,t,i,o,a,c,d,p,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new _a(e,t,ua.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class mx{constructor(){this.queries=aE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=$e(t),a=o.queries;o.queries=aE(),a.forEach((c,d)=>{for(const p of d.Sa)p.onError(i)})})(this,new Se(le.ABORTED,"Firestore shutting down"))}}function aE(){return new ro(n=>a0(n),Qh)}async function gx(n,e){const t=$e(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Da()&&e.va()&&(i=2):(a=new px,i=e.va()?0:1);try{switch(i){case 0:a.ba=await t.onListen(o,!0);break;case 1:a.ba=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=D0(c,`Initialization of query '${Xo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.Sa.push(e),e.Fa(t.onlineState),a.ba&&e.Ma(a.ba)&&Wm(t)}async function _x(n,e){const t=$e(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?o=e.va()?0:1:!a.Da()&&e.va()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function vx(n,e){const t=$e(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const d of c.Sa)d.Ma(o)&&(i=!0);c.ba=o}}i&&Wm(t)}function yx(n,e,t){const i=$e(n),o=i.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);i.queries.delete(e)}function Wm(n){n.Ca.forEach(e=>{e.next()})}var qp,lE;(lE=qp||(qp={})).xa="default",lE.Cache="cache";class Ex{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new _a(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=_a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==qp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e){this.key=e}}class M0{constructor(e){this.key=e}}class wx{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.Za=l0(e),this.Xa=new ua(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new oE,o=t?t.Xa:this.Xa;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((y,I)=>{const T=o.get(y),k=Yh(this.query,I)?I:null,b=!!T&&this.mutatedKeys.has(T.key),F=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let L=!1;T&&k?T.data.isEqual(k.data)?b!==F&&(i.track({type:3,doc:k}),L=!0):this.ru(T,k)||(i.track({type:2,doc:k}),L=!0,(p&&this.Za(k,p)>0||_&&this.Za(k,_)<0)&&(d=!0)):!T&&k?(i.track({type:0,doc:k}),L=!0):T&&!k&&(i.track({type:1,doc:T}),L=!0,(p||_)&&(d=!0)),L&&(k?(c=c.add(k),a=F?a.add(y):a.delete(y)):(c=c.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),a=a.delete(y.key),i.track({type:1,doc:y})}return{Xa:c,nu:i,Cs:d,mutatedKeys:a}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((y,I)=>function(k,b){const F=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:L})}};return F(k)-F(b)}(y.type,I.type)||this.Za(y.doc,I.doc)),this.iu(i),o=o!=null&&o;const d=t&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,_=p!==this.Ja;return this.Ja=p,c.length!==0||_?{snapshot:new _a(this.query,e.Xa,a,c,e.mutatedKeys,p===0,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new oE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new M0(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new L0(i))}),t}au(e){this.Ha=e.$s,this.Ya=je();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return _a.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const qm="SyncEngine";class Tx{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Ix{constructor(e){this.key=e,this.cu=!1}}class Sx{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new ro(d=>a0(d),Qh),this.Pu=new Map,this.Tu=new Set,this.Iu=new dt(Ae.comparator),this.Eu=new Map,this.du=new Mm,this.Au={},this.Ru=new Map,this.Vu=ma.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Ax(n,e,t=!0){const i=j0(n);let o;const a=i.hu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.uu()):o=await V0(i,e,t,!0),o}async function Cx(n,e){const t=j0(n);await V0(t,e,!0,!1)}async function V0(n,e,t,i){const o=await QO(n.localStore,kr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let d;return i&&(d=await Rx(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&b0(n.remoteStore,o),d}async function Rx(n,e,t,i,o){n.fu=(I,T,k)=>async function(F,L,H,q){let X=L.view.tu(H);X.Cs&&(X=await Zy(F.localStore,L.query,!1).then(({documents:P})=>L.view.tu(P,X)));const Y=q&&q.targetChanges.get(L.targetId),ue=q&&q.targetMismatches.get(L.targetId)!=null,ne=L.view.applyChanges(X,F.isPrimaryClient,Y,ue);return cE(F,L.targetId,ne.ou),ne.snapshot}(n,I,T,k);const a=await Zy(n.localStore,e,!0),c=new wx(e,a.$s),d=c.tu(a.documents),p=du.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),_=c.applyChanges(d,n.isPrimaryClient,p);cE(n,t,_.ou);const y=new Tx(e,t,c);return n.hu.set(e,y),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),_.snapshot}async function Px(n,e,t){const i=$e(n),o=i.hu.get(e),a=i.Pu.get(o.targetId);if(a.length>1)return i.Pu.set(o.targetId,a.filter(c=>!Qh(c,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Hp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Um(i.remoteStore,o.targetId),Kp(i,o.targetId)}).catch(Hh)):(Kp(i,o.targetId),await Hp(i.localStore,o.targetId,!0))}async function kx(n,e){const t=$e(n),i=t.hu.get(e),o=t.Pu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Um(t.remoteStore,i.targetId))}async function F0(n,e){const t=$e(n);try{const i=await KO(t.localStore,e);e.targetChanges.forEach((o,a)=>{const c=t.Eu.get(a);c&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.cu=!0:o.modifiedDocuments.size>0?it(c.cu,14607):o.removedDocuments.size>0&&(it(c.cu,42227),c.cu=!1))}),await U0(t,i,e)}catch(i){await Hh(i)}}function uE(n,e,t){const i=$e(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.hu.forEach((a,c)=>{const d=c.view.Fa(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=$e(c);p.onlineState=d;let _=!1;p.queries.forEach((y,I)=>{for(const T of I.Sa)T.Fa(d)&&(_=!0)}),_&&Wm(p)}(i.eventManager,e),o.length&&i.lu.Y_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Nx(n,e,t){const i=$e(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Eu.get(e),a=o&&o.key;if(a){let c=new dt(Ae.comparator);c=c.insert(a,Bt.newNoDocument(a,ke.min()));const d=je().add(a),p=new Zh(ke.min(),new Map,new dt(De),c,d);await F0(i,p),i.Iu=i.Iu.remove(a),i.Eu.delete(e),Km(i)}else await Hp(i.localStore,e,!1).then(()=>Kp(i,e,t)).catch(Hh)}function Kp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||$0(n,i)})}function $0(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(Um(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),Km(n))}function cE(n,e,t){for(const i of t)i instanceof L0?(n.du.addReference(i.key,e),bx(n,i)):i instanceof M0?(fe(qm,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||$0(n,i.key)):be(19791,{pu:i})}function bx(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(fe(qm,"New document in limbo: "+t),n.Tu.add(i),Km(n))}function Km(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Ae(lt.fromString(e)),i=n.Vu.next();n.Eu.set(i,new Ix(t)),n.Iu=n.Iu.insert(t,i),b0(n.remoteStore,new qi(kr(Om(t.path)),i,"TargetPurposeLimboResolution",Wh.le))}}async function U0(n,e,t){const i=$e(n),o=[],a=[],c=[];i.hu.isEmpty()||(i.hu.forEach((d,p)=>{c.push(i.fu(p,e,t).then(_=>{var y;if((_||t)&&i.isPrimaryClient){const I=_?!_.fromCache:(y=t==null?void 0:t.targetChanges.get(p.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(_){o.push(_);const I=Fm.Rs(p.targetId,_);a.push(I)}}))}),await Promise.all(c),i.lu.Y_(o),await async function(p,_){const y=$e(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>G.forEach(_,T=>G.forEach(T.ds,k=>y.persistence.referenceDelegate.addReference(I,T.targetId,k)).next(()=>G.forEach(T.As,k=>y.persistence.referenceDelegate.removeReference(I,T.targetId,k)))))}catch(I){if(!Oa(I))throw I;fe($m,"Failed to update sequence numbers: "+I)}for(const I of _){const T=I.targetId;if(!I.fromCache){const k=y.xs.get(T),b=k.snapshotVersion,F=k.withLastLimboFreeSnapshotVersion(b);y.xs=y.xs.insert(T,F)}}}(i.localStore,a))}async function Ox(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){fe(qm,"User change. New user:",e.toKey());const i=await R0(t.localStore,e);t.currentUser=e,function(a,c){a.Ru.forEach(d=>{d.forEach(p=>{p.reject(new Se(le.CANCELLED,c))})}),a.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await U0(t,i.ks)}}function xx(n,e){const t=$e(n),i=t.Eu.get(e);if(i&&i.cu)return je().add(i.key);{let o=je();const a=t.Pu.get(e);if(!a)return o;for(const c of a){const d=t.hu.get(c);o=o.unionWith(d.view.eu)}return o}}function j0(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=F0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nx.bind(null,e),e.lu.Y_=vx.bind(null,e.eventManager),e.lu.gu=yx.bind(null,e.eventManager),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=k0(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return qO(this.persistence,new zO,e.initialUser,this.serializer)}Su(e){return new C0(Vm.fi,this.serializer)}bu(e){return new XO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class Dx extends Ch{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){it(this.persistence.referenceDelegate instanceof Ah,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new PO(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new C0(i=>Ah.fi(i,t),this.serializer)}}class Gp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>uE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ox.bind(null,this.syncEngine),await fx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mx}()}createDatastore(e){const t=k0(e.databaseInfo.databaseId),i=function(a){return new nx(a)}(e.databaseInfo);return function(a,c,d,p){return new ox(a,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,c,d){return new lx(i,o,a,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>uE(this.syncEngine,t,0),function(){return nE.C()?new nE:new JO}())}createSyncEngine(e,t){return function(o,a,c,d,p,_,y){const I=new Sx(o,a,c,d,p,_);return y&&(I.mu=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=$e(o);fe(ga,"RemoteStore shutting down."),a.da.add(5),await fu(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Gp.provider={build:()=>new Gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="FirestoreClient";class Mx{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=jt.UNAUTHENTICATED,this.clientId=GT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{fe(ns,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(fe(ns,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=D0(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function rp(n,e){n.asyncQueue.verifyOperationInProgress(),fe(ns,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await R0(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function hE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Vx(n);fe(ns,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>sE(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>sE(e.remoteStore,o)),n._onlineComponents=e}async function Vx(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe(ns,"Using user provided OfflineComponentProvider");try{await rp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===le.FAILED_PRECONDITION||o.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ha("Error using user provided cache. Falling back to memory cache: "+t),await rp(n,new Ch)}}else fe(ns,"Using default OfflineComponentProvider"),await rp(n,new Dx(void 0));return n._offlineComponents}async function Fx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe(ns,"Using user provided OnlineComponentProvider"),await hE(n,n._uninitializedComponentsProvider._online)):(fe(ns,"Using default OnlineComponentProvider"),await hE(n,new Gp))),n._onlineComponents}async function $x(n){const e=await Fx(n),t=e.eventManager;return t.onListen=Ax.bind(null,e.syncEngine),t.onUnlisten=Px.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Cx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=kx.bind(null,e.syncEngine),t}function Ux(n,e,t={}){const i=new Hs;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,d,p,_){const y=new Lx({next:T=>{y.xu(),c.enqueueAndForget(()=>_x(a,I));const k=T.docs.has(d);!k&&T.fromCache?_.reject(new Se(le.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&T.fromCache&&p&&p.source==="server"?_.reject(new Se(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(T)},error:T=>_.reject(T)}),I=new Ex(Om(d.path),y,{includeMetadataChanges:!0,Qa:!0});return gx(a,I)}(await $x(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(n,e,t){if(!t)throw new Se(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Bx(n,e,t,i){if(e===!0&&i===!0)throw new Se(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function fE(n){if(!Ae.isDocumentKey(n))throw new Se(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zx(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":be(12329,{type:typeof n})}function Qp(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zx(n);throw new Se(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="firestore.googleapis.com",pE=!0;class mE{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=z0,this.ssl=pE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:pE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=A0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CO)throw new Se(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Se(le.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Se(le.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Se(le.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gm{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new tb;switch(i.type){case"firstParty":return new sb(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Se(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=dE.get(t);i&&(fe("ComponentProvider","Removing Datastore"),dE.delete(t),i.terminate())}(this),Promise.resolve()}}function Hx(n,e,t,i={}){var o;n=Qp(n,Gm);const a=su(e),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;a&&(Sw(`https://${p}`),Aw("Firestore",!0)),c.host!==z0&&c.host!==p&&ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},c),{host:p,ssl:a,emulatorOptions:i});if(!Yi(_,d)&&(n._setSettings(_),i.mockUserToken)){let y,I;if(typeof i.mockUserToken=="string")y=i.mockUserToken,I=jt.MOCK_USER;else{y=WC(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new Se(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new jt(T)}n._authCredentials=new nb(new qT(y,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Qm(this.firestore,e,this._query)}}class ni{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ni(this.firestore,e,this._key)}}class tu extends Qm{constructor(e,t,i){super(e,t,Om(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ni(this.firestore,null,new Ae(e))}withConverter(e){return new tu(this.firestore,e,this._path)}}function Wx(n,e,...t){if(n=Tn(n),arguments.length===1&&(e=GT.newId()),jx("doc","path",e),n instanceof Gm){const i=lt.fromString(e,...t);return fE(i),new ni(n,null,new Ae(i))}{if(!(n instanceof ni||n instanceof tu))throw new Se(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(lt.fromString(e,...t));return fE(i),new ni(n.firestore,n instanceof tu?n.converter:null,new Ae(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="AsyncQueue";class _E{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new N0(this,"async_queue_retry"),this.rc=()=>{const i=np();i&&fe(gE,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=np();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=np();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Hs;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Oa(e))throw e;fe(gE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,li("INTERNAL UNHANDLED ERROR: ",vE(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const o=Hm.createAndSchedule(this,e,t,i,a=>this.uc(a));return this.Zu.push(o),o}oc(){this.Xu&&be(47125,{cc:vE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function vE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class H0 extends Gm{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new _E,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _E(e),this._firestoreClient=void 0,await e}}}function qx(n,e){const t=typeof n=="object"?n:dm(),i=typeof n=="string"?n:Eh,o=to(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=zC("firestore");a&&Hx(o,...a)}return o}function Kx(n){if(n._terminated)throw new Se(le.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Gx(n),n._firestoreClient}function Gx(n){var e,t,i;const o=n._freezeSettings(),a=function(d,p,_,y){return new wb(d,p,_,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,B0(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new Mx(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rh(Lt.fromBase64String(e))}catch(t){throw new Se(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Rh(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Se(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}const Xx=new RegExp("[~\\*/\\[\\]]");function Jx(n,e,t){if(e.search(Xx)>=0)throw yE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new W0(...e.split("."))._internalPath}catch{throw yE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function yE(n,e,t,i,o){let a=`Function ${e}() called with invalid data`;a+=". ";let c="";return new Se(le.INVALID_ARGUMENT,a+n+c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ni(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Zx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(K0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Zx extends q0{data(){return super.data()}}function K0(n,e){return typeof e=="string"?Jx(n,e):e instanceof W0?e._internalPath:e._delegate._internalPath}class eD{convertValue(e,t="none"){switch(es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return hu(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[Dp].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>ht(c.doubleValue));return new Yx(a)}convertGeoPoint(e){return new Qx(ht(e.latitude),ht(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Kh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const t=Ji(e);return new cn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=lt.fromString(e);it(S0(i),9688,{name:e});const o=new Zl(i.get(1),i.get(3)),a=new Ae(i.popFirst(5));return o.isEqual(t)||li(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class G0 extends q0{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(K0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class nD extends G0{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(n){n=Qp(n,ni);const e=Qp(n.firestore,H0);return Ux(Kx(e),n._key).then(t=>sD(e,n,t))}class iD extends eD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ni(this.firestore,null,t)}}function sD(n,e,t){const i=t.docs.get(e._key),o=new iD(n);return new G0(n,o,e._key,i,new tD(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){ba=o})(ka),Or(new sr("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),d=new H0(new rb(i.getProvider("auth-internal")),new ob(c,i.getProvider("app-check-internal")),function(_,y){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new Se(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(_.options.projectId,y)}(c,o),c);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Ln(Iy,Sy,e),Ln(Iy,Sy,"esm2017")})();const oD={apiKey:"AIzaSyAm40NnY5ft7ZJKSJEQQrQhGtXuuggn2j4",authDomain:"medtest-5eb10.firebaseapp.com",projectId:"medtest-5eb10",storageBucket:"medtest-5eb10.firebasestorage.app",messagingSenderId:"976951571415",appId:"1:976951571415:web:0d9a16e90af1073e755192",measurementId:"G-ZCDW1L7X89"},Ym=Ow(oD);XN(Ym);const va=Ok(Ym),aD=qx(Ym);var Q0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},EE=zs.createContext&&zs.createContext(Q0),lD=["attr","size","title"];function uD(n,e){if(n==null)return{};var t=cD(n,e),i,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)i=a[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function cD(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Ph(){return Ph=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ph.apply(this,arguments)}function wE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function kh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wE(Object(t),!0).forEach(function(i){hD(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wE(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function hD(n,e,t){return e=dD(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dD(n){var e=fD(n,"string");return typeof e=="symbol"?e:e+""}function fD(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Y0(n){return n&&n.map((e,t)=>zs.createElement(e.tag,kh({key:t},e.attr),Y0(e.child)))}function Xm(n){return e=>zs.createElement(pD,Ph({attr:kh({},n.attr)},e),Y0(n.child))}function pD(n){var e=t=>{var{attr:i,size:o,title:a}=n,c=uD(n,lD),d=o||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),zs.createElement("svg",Ph({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:p,style:kh(kh({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&zs.createElement("title",null,a),n.children)};return EE!==void 0?zs.createElement(EE.Consumer,null,t=>e(t)):e(Q0)}function mD(n){return Xm({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(n)}function gD(n){return Xm({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(n)}function _D(){const[n,e]=B.useState(""),[t,i]=B.useState(""),[o,a]=B.useState(""),[c,d]=B.useState(""),[p,_]=B.useState(""),y=Lh();B.useEffect(()=>{const k=sT(va,b=>{b&&y("/test",{replace:!0})});return()=>k()},[y]);const I=()=>{let k=!0;d(""),_("");const b=/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/;return n.trim()?b.test(n)||(d("Neplatn formt emailu."),k=!1):(d("Email je povinn."),k=!1),t?t.length<6&&(_("Heslo mus ma aspo 6 znakov."),k=!1):(_("Heslo je povinn."),k=!1),k},T=async k=>{if(k.preventDefault(),a(""),!!I())try{const b=await _P(va,n,t);a("Prihlsenie bolo spen."),y("/test",{replace:!0})}catch(b){b.code==="auth/wrong-password"||b.code==="auth/user-not-found"||b.code==="auth/invalid-credential"?a("Neplatn prihlasovacie daje!"):b.code==="auth/too-many-requests"?a("Prli vea pokusov. Skste to znova neskr."):a("Chyba pri prihlasovan: "+b.message)}};return Q.jsxs("div",{className:"container-fluid d-flex justify-content-center align-items-center vh-100 pageBG",children:[Q.jsx("div",{children:Q.jsx("img",{src:"/medTest/logoMED.svg",alt:"logoMED",className:"logoIMG2",height:100})}),Q.jsx("div",{className:"card shadow-sm w-100 formCard",style:{maxWidth:"400px"},children:Q.jsxs("div",{className:"card-body text-light",children:[Q.jsx("h3",{className:"card-title text-center fw-bold mb-4",children:"Prihlsenie"}),o&&Q.jsx("div",{className:"alert alert-info",children:o}),Q.jsxs("form",{onSubmit:T,noValidate:!0,children:[Q.jsxs("div",{className:"mb-3",children:[Q.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),Q.jsx("input",{type:"email",className:`form-control ${c?"is-invalid":""}`,id:"email",value:n,onChange:k=>e(k.target.value),required:!0}),c&&Q.jsx("div",{className:"invalid-feedback",children:c})]}),Q.jsxs("div",{className:"mb-3",children:[Q.jsx("label",{htmlFor:"password",className:"form-label",children:"Heslo"}),Q.jsx("input",{type:"password",className:`form-control ${p?"is-invalid":""}`,id:"password",value:t,onChange:k=>i(k.target.value),required:!0}),p&&Q.jsx("div",{className:"invalid-feedback",children:p})]}),Q.jsxs("button",{type:"submit",className:"btn btn-secondary w-100",children:[Q.jsx(mD,{})," Prihlsi sa"]})]}),Q.jsxs("div",{className:"mt-3 text-center",children:[Q.jsx("small",{className:"text-secondary p-2",children:" Chcem sa zaregistrova:"}),Q.jsx(Gl,{to:"/register",className:"link-warning",children:"Zaregistruj sa!"})]})]})})]})}function vD(n){return Xm({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function yD(){const[n,e]=B.useState(""),[t,i]=B.useState(""),[o,a]=B.useState(""),[c,d]=B.useState(""),[p,_]=B.useState(""),[y,I]=B.useState(!1),[T,k]=B.useState(""),[b,F]=B.useState(""),[L,H]=B.useState(""),[q,X]=B.useState(""),Y=()=>{let ne=!0;k(""),F(""),H(""),X("");const P=/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/;return n.trim()?P.test(n)||(k("Neplatn formt emailu."),ne=!1):(k("Email je povinn."),ne=!1),t.trim()||(F("Meno je povinn."),ne=!1),o?o.length<6&&(H("Heslo mus ma aspo 6 znakov."),ne=!1):(H("Heslo je povinn."),ne=!1),c?o!==c&&(X("Hesl sa nezhoduj."),ne=!1):(X("Potvrte heslo."),ne=!1),ne},ue=async ne=>{if(ne.preventDefault(),_(""),!!Y())try{const P=Wx(aD,"whitelistEmails",n);if(!(await rD(P)).exists()){_("Tento e-mail nie je povolen na registrciu.");return}const N=(await gP(va,n,o)).user;await yP(N,{displayName:t}),_("Registrcia bola spen, me sa prihlsi !"),document.getElementById("regForm").style.display="none",I(!0),await oT(va)}catch(P){P.code==="auth/email-already-in-use"?_("Zadan email u je registrovan !"):P.code==="auth/invalid-email"?_("Neplatn formt emailu."):P.code==="auth/weak-password"?_("Heslo je prli slab."):_("Chyba pri registrcii: "+P.message)}};return Q.jsxs("div",{className:"container-fluid d-flex justify-content-center align-items-center vh-100 pageBG",children:[Q.jsx("div",{children:Q.jsx("img",{src:"/medTest/logoMED.svg",alt:"logoMED",className:"logoIMG2",height:100})}),Q.jsx("div",{className:"card shadow-sm w-100 formCard text-light",style:{maxWidth:"400px"},children:Q.jsxs("div",{className:"card-body",children:[Q.jsx("h3",{className:"card-title text-center mb-4 fw-bold",children:"Registrcia"}),p&&Q.jsx("div",{className:"alert alert-info",children:p}),Q.jsxs("form",{onSubmit:ue,id:"regForm",noValidate:!0,children:[Q.jsxs("div",{className:"mb-3",children:[Q.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),Q.jsx("input",{type:"email",className:`form-control ${T?"is-invalid":""}`,id:"email",value:n,onChange:ne=>e(ne.target.value),required:!0}),T&&Q.jsx("div",{className:"invalid-feedback",children:T})]}),Q.jsxs("div",{className:"mb-3",children:[Q.jsx("label",{htmlFor:"userName",className:"form-label",children:"Meno"}),Q.jsx("input",{type:"text",className:`form-control ${b?"is-invalid":""}`,id:"userName",value:t,onChange:ne=>i(ne.target.value),required:!0}),b&&Q.jsx("div",{className:"invalid-feedback",children:b})]}),Q.jsxs("div",{className:"mb-3",children:[Q.jsx("label",{htmlFor:"password",className:"form-label",children:"Heslo"}),Q.jsx("input",{type:"password",className:`form-control ${L?"is-invalid":""}`,id:"password",value:o,onChange:ne=>a(ne.target.value),required:!0}),L&&Q.jsx("div",{className:"invalid-feedback",children:L})]}),Q.jsxs("div",{className:"mb-3",children:[Q.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Zopakuj heslo"}),Q.jsx("input",{type:"password",className:`form-control ${q?"is-invalid":""}`,id:"confirmPassword",value:c,onChange:ne=>d(ne.target.value),required:!0}),q&&Q.jsx("div",{className:"invalid-feedback",children:q})]}),Q.jsxs("button",{type:"submit",className:"btn btn-secondary w-100",children:[Q.jsx(vD,{})," Registrova sa"]})]}),Q.jsx(Gl,{to:"/",className:`${y?"d-block":"d-none"}`,children:Q.jsx("button",{className:"btn btn-secondary w-100",children:"Prejs na prihlsenie"})}),Q.jsxs("div",{className:"mt-3 text-center",children:[Q.jsx("small",{className:"p-2 text-secondary",children:"U mm et:"}),Q.jsx(Gl,{to:"/",className:"link-warning",children:"Prihlsi sa!"})]})]})})]})}var Qt="top",yn="bottom",En="right",Yt="left",td="auto",Da=[Qt,yn,En,Yt],Js="start",ya="end",X0="clippingParents",Jm="viewport",ea="popper",J0="reference",Yp=Da.reduce(function(n,e){return n.concat([e+"-"+Js,e+"-"+ya])},[]),Zm=[].concat(Da,[td]).reduce(function(n,e){return n.concat([e,e+"-"+Js,e+"-"+ya])},[]),Z0="beforeRead",eI="read",tI="afterRead",nI="beforeMain",rI="main",iI="afterMain",sI="beforeWrite",oI="write",aI="afterWrite",lI=[Z0,eI,tI,nI,rI,iI,sI,oI,aI];function Lr(n){return n?(n.nodeName||"").toLowerCase():null}function wn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Zs(n){var e=wn(n).Element;return n instanceof e||n instanceof Element}function Mn(n){var e=wn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function eg(n){if(typeof ShadowRoot>"u")return!1;var e=wn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function ED(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},o=e.attributes[t]||{},a=e.elements[t];!Mn(a)||!Lr(a)||(Object.assign(a.style,i),Object.keys(o).forEach(function(c){var d=o[c];d===!1?a.removeAttribute(c):a.setAttribute(c,d===!0?"":d)}))})}function wD(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var o=e.elements[i],a=e.attributes[i]||{},c=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),d=c.reduce(function(p,_){return p[_]="",p},{});!Mn(o)||!Lr(o)||(Object.assign(o.style,d),Object.keys(a).forEach(function(p){o.removeAttribute(p)}))})}}const tg={name:"applyStyles",enabled:!0,phase:"write",fn:ED,effect:wD,requires:["computeStyles"]};function Nr(n){return n.split("-")[0]}var qs=Math.max,Nh=Math.min,Ea=Math.round;function Xp(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function uI(){return!/^((?!chrome|android).)*safari/i.test(Xp())}function wa(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),o=1,a=1;e&&Mn(n)&&(o=n.offsetWidth>0&&Ea(i.width)/n.offsetWidth||1,a=n.offsetHeight>0&&Ea(i.height)/n.offsetHeight||1);var c=Zs(n)?wn(n):window,d=c.visualViewport,p=!uI()&&t,_=(i.left+(p&&d?d.offsetLeft:0))/o,y=(i.top+(p&&d?d.offsetTop:0))/a,I=i.width/o,T=i.height/a;return{width:I,height:T,top:y,right:_+I,bottom:y+T,left:_,x:_,y}}function ng(n){var e=wa(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function cI(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&eg(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function ui(n){return wn(n).getComputedStyle(n)}function TD(n){return["table","td","th"].indexOf(Lr(n))>=0}function ls(n){return((Zs(n)?n.ownerDocument:n.document)||window.document).documentElement}function nd(n){return Lr(n)==="html"?n:n.assignedSlot||n.parentNode||(eg(n)?n.host:null)||ls(n)}function TE(n){return!Mn(n)||ui(n).position==="fixed"?null:n.offsetParent}function ID(n){var e=/firefox/i.test(Xp()),t=/Trident/i.test(Xp());if(t&&Mn(n)){var i=ui(n);if(i.position==="fixed")return null}var o=nd(n);for(eg(o)&&(o=o.host);Mn(o)&&["html","body"].indexOf(Lr(o))<0;){var a=ui(o);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return o;o=o.parentNode}return null}function mu(n){for(var e=wn(n),t=TE(n);t&&TD(t)&&ui(t).position==="static";)t=TE(t);return t&&(Lr(t)==="html"||Lr(t)==="body"&&ui(t).position==="static")?e:t||ID(n)||e}function rg(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Wl(n,e,t){return qs(n,Nh(e,t))}function SD(n,e,t){var i=Wl(n,e,t);return i>t?t:i}function hI(){return{top:0,right:0,bottom:0,left:0}}function dI(n){return Object.assign({},hI(),n)}function fI(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var AD=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,dI(typeof e!="number"?e:fI(e,Da))};function CD(n){var e,t=n.state,i=n.name,o=n.options,a=t.elements.arrow,c=t.modifiersData.popperOffsets,d=Nr(t.placement),p=rg(d),_=[Yt,En].indexOf(d)>=0,y=_?"height":"width";if(!(!a||!c)){var I=AD(o.padding,t),T=ng(a),k=p==="y"?Qt:Yt,b=p==="y"?yn:En,F=t.rects.reference[y]+t.rects.reference[p]-c[p]-t.rects.popper[y],L=c[p]-t.rects.reference[p],H=mu(a),q=H?p==="y"?H.clientHeight||0:H.clientWidth||0:0,X=F/2-L/2,Y=I[k],ue=q-T[y]-I[b],ne=q/2-T[y]/2+X,P=Wl(Y,ne,ue),S=p;t.modifiersData[i]=(e={},e[S]=P,e.centerOffset=P-ne,e)}}function RD(n){var e=n.state,t=n.options,i=t.element,o=i===void 0?"[data-popper-arrow]":i;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||cI(e.elements.popper,o)&&(e.elements.arrow=o))}const pI={name:"arrow",enabled:!0,phase:"main",fn:CD,effect:RD,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ta(n){return n.split("-")[1]}var PD={top:"auto",right:"auto",bottom:"auto",left:"auto"};function kD(n,e){var t=n.x,i=n.y,o=e.devicePixelRatio||1;return{x:Ea(t*o)/o||0,y:Ea(i*o)/o||0}}function IE(n){var e,t=n.popper,i=n.popperRect,o=n.placement,a=n.variation,c=n.offsets,d=n.position,p=n.gpuAcceleration,_=n.adaptive,y=n.roundOffsets,I=n.isFixed,T=c.x,k=T===void 0?0:T,b=c.y,F=b===void 0?0:b,L=typeof y=="function"?y({x:k,y:F}):{x:k,y:F};k=L.x,F=L.y;var H=c.hasOwnProperty("x"),q=c.hasOwnProperty("y"),X=Yt,Y=Qt,ue=window;if(_){var ne=mu(t),P="clientHeight",S="clientWidth";if(ne===wn(t)&&(ne=ls(t),ui(ne).position!=="static"&&d==="absolute"&&(P="scrollHeight",S="scrollWidth")),ne=ne,o===Qt||(o===Yt||o===En)&&a===ya){Y=yn;var A=I&&ne===ue&&ue.visualViewport?ue.visualViewport.height:ne[P];F-=A-i.height,F*=p?1:-1}if(o===Yt||(o===Qt||o===yn)&&a===ya){X=En;var N=I&&ne===ue&&ue.visualViewport?ue.visualViewport.width:ne[S];k-=N-i.width,k*=p?1:-1}}var x=Object.assign({position:d},_&&PD),M=y===!0?kD({x:k,y:F},wn(t)):{x:k,y:F};if(k=M.x,F=M.y,p){var R;return Object.assign({},x,(R={},R[Y]=q?"0":"",R[X]=H?"0":"",R.transform=(ue.devicePixelRatio||1)<=1?"translate("+k+"px, "+F+"px)":"translate3d("+k+"px, "+F+"px, 0)",R))}return Object.assign({},x,(e={},e[Y]=q?F+"px":"",e[X]=H?k+"px":"",e.transform="",e))}function ND(n){var e=n.state,t=n.options,i=t.gpuAcceleration,o=i===void 0?!0:i,a=t.adaptive,c=a===void 0?!0:a,d=t.roundOffsets,p=d===void 0?!0:d,_={placement:Nr(e.placement),variation:Ta(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,IE(Object.assign({},_,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:p})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,IE(Object.assign({},_,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const ig={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ND,data:{}};var Bc={passive:!0};function bD(n){var e=n.state,t=n.instance,i=n.options,o=i.scroll,a=o===void 0?!0:o,c=i.resize,d=c===void 0?!0:c,p=wn(e.elements.popper),_=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&_.forEach(function(y){y.addEventListener("scroll",t.update,Bc)}),d&&p.addEventListener("resize",t.update,Bc),function(){a&&_.forEach(function(y){y.removeEventListener("scroll",t.update,Bc)}),d&&p.removeEventListener("resize",t.update,Bc)}}const sg={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:bD,data:{}};var OD={left:"right",right:"left",bottom:"top",top:"bottom"};function oh(n){return n.replace(/left|right|bottom|top/g,function(e){return OD[e]})}var xD={start:"end",end:"start"};function SE(n){return n.replace(/start|end/g,function(e){return xD[e]})}function og(n){var e=wn(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function ag(n){return wa(ls(n)).left+og(n).scrollLeft}function DD(n,e){var t=wn(n),i=ls(n),o=t.visualViewport,a=i.clientWidth,c=i.clientHeight,d=0,p=0;if(o){a=o.width,c=o.height;var _=uI();(_||!_&&e==="fixed")&&(d=o.offsetLeft,p=o.offsetTop)}return{width:a,height:c,x:d+ag(n),y:p}}function LD(n){var e,t=ls(n),i=og(n),o=(e=n.ownerDocument)==null?void 0:e.body,a=qs(t.scrollWidth,t.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),c=qs(t.scrollHeight,t.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),d=-i.scrollLeft+ag(n),p=-i.scrollTop;return ui(o||t).direction==="rtl"&&(d+=qs(t.clientWidth,o?o.clientWidth:0)-a),{width:a,height:c,x:d,y:p}}function lg(n){var e=ui(n),t=e.overflow,i=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+o+i)}function mI(n){return["html","body","#document"].indexOf(Lr(n))>=0?n.ownerDocument.body:Mn(n)&&lg(n)?n:mI(nd(n))}function ql(n,e){var t;e===void 0&&(e=[]);var i=mI(n),o=i===((t=n.ownerDocument)==null?void 0:t.body),a=wn(i),c=o?[a].concat(a.visualViewport||[],lg(i)?i:[]):i,d=e.concat(c);return o?d:d.concat(ql(nd(c)))}function Jp(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function MD(n,e){var t=wa(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function AE(n,e,t){return e===Jm?Jp(DD(n,t)):Zs(e)?MD(e,t):Jp(LD(ls(n)))}function VD(n){var e=ql(nd(n)),t=["absolute","fixed"].indexOf(ui(n).position)>=0,i=t&&Mn(n)?mu(n):n;return Zs(i)?e.filter(function(o){return Zs(o)&&cI(o,i)&&Lr(o)!=="body"}):[]}function FD(n,e,t,i){var o=e==="clippingParents"?VD(n):[].concat(e),a=[].concat(o,[t]),c=a[0],d=a.reduce(function(p,_){var y=AE(n,_,i);return p.top=qs(y.top,p.top),p.right=Nh(y.right,p.right),p.bottom=Nh(y.bottom,p.bottom),p.left=qs(y.left,p.left),p},AE(n,c,i));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function gI(n){var e=n.reference,t=n.element,i=n.placement,o=i?Nr(i):null,a=i?Ta(i):null,c=e.x+e.width/2-t.width/2,d=e.y+e.height/2-t.height/2,p;switch(o){case Qt:p={x:c,y:e.y-t.height};break;case yn:p={x:c,y:e.y+e.height};break;case En:p={x:e.x+e.width,y:d};break;case Yt:p={x:e.x-t.width,y:d};break;default:p={x:e.x,y:e.y}}var _=o?rg(o):null;if(_!=null){var y=_==="y"?"height":"width";switch(a){case Js:p[_]=p[_]-(e[y]/2-t[y]/2);break;case ya:p[_]=p[_]+(e[y]/2-t[y]/2);break}}return p}function Ia(n,e){e===void 0&&(e={});var t=e,i=t.placement,o=i===void 0?n.placement:i,a=t.strategy,c=a===void 0?n.strategy:a,d=t.boundary,p=d===void 0?X0:d,_=t.rootBoundary,y=_===void 0?Jm:_,I=t.elementContext,T=I===void 0?ea:I,k=t.altBoundary,b=k===void 0?!1:k,F=t.padding,L=F===void 0?0:F,H=dI(typeof L!="number"?L:fI(L,Da)),q=T===ea?J0:ea,X=n.rects.popper,Y=n.elements[b?q:T],ue=FD(Zs(Y)?Y:Y.contextElement||ls(n.elements.popper),p,y,c),ne=wa(n.elements.reference),P=gI({reference:ne,element:X,placement:o}),S=Jp(Object.assign({},X,P)),A=T===ea?S:ne,N={top:ue.top-A.top+H.top,bottom:A.bottom-ue.bottom+H.bottom,left:ue.left-A.left+H.left,right:A.right-ue.right+H.right},x=n.modifiersData.offset;if(T===ea&&x){var M=x[o];Object.keys(N).forEach(function(R){var He=[En,yn].indexOf(R)>=0?1:-1,Ke=[Qt,yn].indexOf(R)>=0?"y":"x";N[R]+=M[Ke]*He})}return N}function $D(n,e){e===void 0&&(e={});var t=e,i=t.placement,o=t.boundary,a=t.rootBoundary,c=t.padding,d=t.flipVariations,p=t.allowedAutoPlacements,_=p===void 0?Zm:p,y=Ta(i),I=y?d?Yp:Yp.filter(function(b){return Ta(b)===y}):Da,T=I.filter(function(b){return _.indexOf(b)>=0});T.length===0&&(T=I);var k=T.reduce(function(b,F){return b[F]=Ia(n,{placement:F,boundary:o,rootBoundary:a,padding:c})[Nr(F)],b},{});return Object.keys(k).sort(function(b,F){return k[b]-k[F]})}function UD(n){if(Nr(n)===td)return[];var e=oh(n);return[SE(n),e,SE(e)]}function jD(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var o=t.mainAxis,a=o===void 0?!0:o,c=t.altAxis,d=c===void 0?!0:c,p=t.fallbackPlacements,_=t.padding,y=t.boundary,I=t.rootBoundary,T=t.altBoundary,k=t.flipVariations,b=k===void 0?!0:k,F=t.allowedAutoPlacements,L=e.options.placement,H=Nr(L),q=H===L,X=p||(q||!b?[oh(L)]:UD(L)),Y=[L].concat(X).reduce(function(se,he){return se.concat(Nr(he)===td?$D(e,{placement:he,boundary:y,rootBoundary:I,padding:_,flipVariations:b,allowedAutoPlacements:F}):he)},[]),ue=e.rects.reference,ne=e.rects.popper,P=new Map,S=!0,A=Y[0],N=0;N<Y.length;N++){var x=Y[N],M=Nr(x),R=Ta(x)===Js,He=[Qt,yn].indexOf(M)>=0,Ke=He?"width":"height",Be=Ia(e,{placement:x,boundary:y,rootBoundary:I,altBoundary:T,padding:_}),Ne=He?R?En:Yt:R?yn:Qt;ue[Ke]>ne[Ke]&&(Ne=oh(Ne));var ie=oh(Ne),me=[];if(a&&me.push(Be[M]<=0),d&&me.push(Be[Ne]<=0,Be[ie]<=0),me.every(function(se){return se})){A=x,S=!1;break}P.set(x,me)}if(S)for(var ae=b?3:1,V=function(he){var ce=Y.find(function(we){var Re=P.get(we);if(Re)return Re.slice(0,he).every(function(Oe){return Oe})});if(ce)return A=ce,"break"},K=ae;K>0;K--){var ge=V(K);if(ge==="break")break}e.placement!==A&&(e.modifiersData[i]._skip=!0,e.placement=A,e.reset=!0)}}const _I={name:"flip",enabled:!0,phase:"main",fn:jD,requiresIfExists:["offset"],data:{_skip:!1}};function CE(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function RE(n){return[Qt,En,yn,Yt].some(function(e){return n[e]>=0})}function BD(n){var e=n.state,t=n.name,i=e.rects.reference,o=e.rects.popper,a=e.modifiersData.preventOverflow,c=Ia(e,{elementContext:"reference"}),d=Ia(e,{altBoundary:!0}),p=CE(c,i),_=CE(d,o,a),y=RE(p),I=RE(_);e.modifiersData[t]={referenceClippingOffsets:p,popperEscapeOffsets:_,isReferenceHidden:y,hasPopperEscaped:I},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":y,"data-popper-escaped":I})}const vI={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:BD};function zD(n,e,t){var i=Nr(n),o=[Yt,Qt].indexOf(i)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,c=a[0],d=a[1];return c=c||0,d=(d||0)*o,[Yt,En].indexOf(i)>=0?{x:d,y:c}:{x:c,y:d}}function HD(n){var e=n.state,t=n.options,i=n.name,o=t.offset,a=o===void 0?[0,0]:o,c=Zm.reduce(function(y,I){return y[I]=zD(I,e.rects,a),y},{}),d=c[e.placement],p=d.x,_=d.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=p,e.modifiersData.popperOffsets.y+=_),e.modifiersData[i]=c}const yI={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:HD};function WD(n){var e=n.state,t=n.name;e.modifiersData[t]=gI({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const ug={name:"popperOffsets",enabled:!0,phase:"read",fn:WD,data:{}};function qD(n){return n==="x"?"y":"x"}function KD(n){var e=n.state,t=n.options,i=n.name,o=t.mainAxis,a=o===void 0?!0:o,c=t.altAxis,d=c===void 0?!1:c,p=t.boundary,_=t.rootBoundary,y=t.altBoundary,I=t.padding,T=t.tether,k=T===void 0?!0:T,b=t.tetherOffset,F=b===void 0?0:b,L=Ia(e,{boundary:p,rootBoundary:_,padding:I,altBoundary:y}),H=Nr(e.placement),q=Ta(e.placement),X=!q,Y=rg(H),ue=qD(Y),ne=e.modifiersData.popperOffsets,P=e.rects.reference,S=e.rects.popper,A=typeof F=="function"?F(Object.assign({},e.rects,{placement:e.placement})):F,N=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),x=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(ne){if(a){var R,He=Y==="y"?Qt:Yt,Ke=Y==="y"?yn:En,Be=Y==="y"?"height":"width",Ne=ne[Y],ie=Ne+L[He],me=Ne-L[Ke],ae=k?-S[Be]/2:0,V=q===Js?P[Be]:S[Be],K=q===Js?-S[Be]:-P[Be],ge=e.elements.arrow,se=k&&ge?ng(ge):{width:0,height:0},he=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:hI(),ce=he[He],we=he[Ke],Re=Wl(0,P[Be],se[Be]),Oe=X?P[Be]/2-ae-Re-ce-N.mainAxis:V-Re-ce-N.mainAxis,Ge=X?-P[Be]/2+ae+Re+we+N.mainAxis:K+Re+we+N.mainAxis,Tt=e.elements.arrow&&mu(e.elements.arrow),Pt=Tt?Y==="y"?Tt.clientTop||0:Tt.clientLeft||0:0,kt=(R=x==null?void 0:x[Y])!=null?R:0,Un=Ne+Oe-kt-Pt,cr=Ne+Ge-kt,hr=Wl(k?Nh(ie,Un):ie,Ne,k?qs(me,cr):me);ne[Y]=hr,M[Y]=hr-Ne}if(d){var jn,di=Y==="x"?Qt:Yt,dr=Y==="x"?yn:En,gt=ne[ue],Xt=ue==="y"?"height":"width",fi=gt+L[di],Vr=gt-L[dr],fr=[Qt,Yt].indexOf(H)!==-1,pi=(jn=x==null?void 0:x[ue])!=null?jn:0,st=fr?fi:gt-P[Xt]-S[Xt]-pi+N.altAxis,ot=fr?gt+P[Xt]+S[Xt]-pi-N.altAxis:Vr,In=k&&fr?SD(st,gt,ot):Wl(k?st:fi,gt,k?ot:Vr);ne[ue]=In,M[ue]=In-gt}e.modifiersData[i]=M}}const EI={name:"preventOverflow",enabled:!0,phase:"main",fn:KD,requiresIfExists:["offset"]};function GD(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function QD(n){return n===wn(n)||!Mn(n)?og(n):GD(n)}function YD(n){var e=n.getBoundingClientRect(),t=Ea(e.width)/n.offsetWidth||1,i=Ea(e.height)/n.offsetHeight||1;return t!==1||i!==1}function XD(n,e,t){t===void 0&&(t=!1);var i=Mn(e),o=Mn(e)&&YD(e),a=ls(e),c=wa(n,o,t),d={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(i||!i&&!t)&&((Lr(e)!=="body"||lg(a))&&(d=QD(e)),Mn(e)?(p=wa(e,!0),p.x+=e.clientLeft,p.y+=e.clientTop):a&&(p.x=ag(a))),{x:c.left+d.scrollLeft-p.x,y:c.top+d.scrollTop-p.y,width:c.width,height:c.height}}function JD(n){var e=new Map,t=new Set,i=[];n.forEach(function(a){e.set(a.name,a)});function o(a){t.add(a.name);var c=[].concat(a.requires||[],a.requiresIfExists||[]);c.forEach(function(d){if(!t.has(d)){var p=e.get(d);p&&o(p)}}),i.push(a)}return n.forEach(function(a){t.has(a.name)||o(a)}),i}function ZD(n){var e=JD(n);return lI.reduce(function(t,i){return t.concat(e.filter(function(o){return o.phase===i}))},[])}function eL(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function tL(n){var e=n.reduce(function(t,i){var o=t[i.name];return t[i.name]=o?Object.assign({},o,i,{options:Object.assign({},o.options,i.options),data:Object.assign({},o.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var PE={placement:"bottom",modifiers:[],strategy:"absolute"};function kE(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function rd(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,o=e.defaultOptions,a=o===void 0?PE:o;return function(d,p,_){_===void 0&&(_=a);var y={placement:"bottom",orderedModifiers:[],options:Object.assign({},PE,a),modifiersData:{},elements:{reference:d,popper:p},attributes:{},styles:{}},I=[],T=!1,k={state:y,setOptions:function(H){var q=typeof H=="function"?H(y.options):H;F(),y.options=Object.assign({},a,y.options,q),y.scrollParents={reference:Zs(d)?ql(d):d.contextElement?ql(d.contextElement):[],popper:ql(p)};var X=ZD(tL([].concat(i,y.options.modifiers)));return y.orderedModifiers=X.filter(function(Y){return Y.enabled}),b(),k.update()},forceUpdate:function(){if(!T){var H=y.elements,q=H.reference,X=H.popper;if(kE(q,X)){y.rects={reference:XD(q,mu(X),y.options.strategy==="fixed"),popper:ng(X)},y.reset=!1,y.placement=y.options.placement,y.orderedModifiers.forEach(function(N){return y.modifiersData[N.name]=Object.assign({},N.data)});for(var Y=0;Y<y.orderedModifiers.length;Y++){if(y.reset===!0){y.reset=!1,Y=-1;continue}var ue=y.orderedModifiers[Y],ne=ue.fn,P=ue.options,S=P===void 0?{}:P,A=ue.name;typeof ne=="function"&&(y=ne({state:y,options:S,name:A,instance:k})||y)}}}},update:eL(function(){return new Promise(function(L){k.forceUpdate(),L(y)})}),destroy:function(){F(),T=!0}};if(!kE(d,p))return k;k.setOptions(_).then(function(L){!T&&_.onFirstUpdate&&_.onFirstUpdate(L)});function b(){y.orderedModifiers.forEach(function(L){var H=L.name,q=L.options,X=q===void 0?{}:q,Y=L.effect;if(typeof Y=="function"){var ue=Y({state:y,name:H,instance:k,options:X}),ne=function(){};I.push(ue||ne)}})}function F(){I.forEach(function(L){return L()}),I=[]}return k}}var nL=rd(),rL=[sg,ug,ig,tg],iL=rd({defaultModifiers:rL}),sL=[sg,ug,ig,tg,yI,_I,EI,pI,vI],cg=rd({defaultModifiers:sL});const wI=Object.freeze(Object.defineProperty({__proto__:null,afterMain:iI,afterRead:tI,afterWrite:aI,applyStyles:tg,arrow:pI,auto:td,basePlacements:Da,beforeMain:nI,beforeRead:Z0,beforeWrite:sI,bottom:yn,clippingParents:X0,computeStyles:ig,createPopper:cg,createPopperBase:nL,createPopperLite:iL,detectOverflow:Ia,end:ya,eventListeners:sg,flip:_I,hide:vI,left:Yt,main:rI,modifierPhases:lI,offset:yI,placements:Zm,popper:ea,popperGenerator:rd,popperOffsets:ug,preventOverflow:EI,read:eI,reference:J0,right:En,start:Js,top:Qt,variationPlacements:Yp,viewport:Jm,write:oI},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Ui=new Map,ip={set(n,e,t){Ui.has(n)||Ui.set(n,new Map);const i=Ui.get(n);if(!i.has(e)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(e,t)},get(n,e){return Ui.has(n)&&Ui.get(n).get(e)||null},remove(n,e){if(!Ui.has(n))return;const t=Ui.get(n);t.delete(e),t.size===0&&Ui.delete(n)}},oL=1e6,aL=1e3,Zp="transitionend",TI=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),lL=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),uL=n=>{do n+=Math.floor(Math.random()*oL);while(document.getElementById(n));return n},cL=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const i=Number.parseFloat(e),o=Number.parseFloat(t);return!i&&!o?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*aL)},II=n=>{n.dispatchEvent(new Event(Zp))},ri=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),rs=n=>ri(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(TI(n)):null,La=n=>{if(!ri(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const i=n.closest("summary");if(i&&i.parentNode!==t||i===null)return!1}return e},is=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",SI=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?SI(n.parentNode):null},bh=()=>{},gu=n=>{n.offsetHeight},AI=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,sp=[],hL=n=>{document.readyState==="loading"?(sp.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of sp)e()}),sp.push(n)):n()},Vn=()=>document.documentElement.dir==="rtl",$n=n=>{hL(()=>{const e=AI();if(e){const t=n.NAME,i=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=i,n.jQueryInterface)}})},ln=(n,e=[],t=n)=>typeof n=="function"?n(...e):t,CI=(n,e,t=!0)=>{if(!t){ln(n);return}const o=cL(e)+5;let a=!1;const c=({target:d})=>{d===e&&(a=!0,e.removeEventListener(Zp,c),ln(n))};e.addEventListener(Zp,c),setTimeout(()=>{a||II(e)},o)},hg=(n,e,t,i)=>{const o=n.length;let a=n.indexOf(e);return a===-1?!t&&i?n[o-1]:n[0]:(a+=t?1:-1,i&&(a=(a+o)%o),n[Math.max(0,Math.min(a,o-1))])},dL=/[^.]*(?=\..*)\.|.*/,fL=/\..*/,pL=/::\d+$/,op={};let NE=1;const RI={mouseenter:"mouseover",mouseleave:"mouseout"},mL=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function PI(n,e){return e&&`${e}::${NE++}`||n.uidEvent||NE++}function kI(n){const e=PI(n);return n.uidEvent=e,op[e]=op[e]||{},op[e]}function gL(n,e){return function t(i){return dg(i,{delegateTarget:n}),t.oneOff&&ee.off(n,i.type,e),e.apply(n,[i])}}function _L(n,e,t){return function i(o){const a=n.querySelectorAll(e);for(let{target:c}=o;c&&c!==this;c=c.parentNode)for(const d of a)if(d===c)return dg(o,{delegateTarget:c}),i.oneOff&&ee.off(n,o.type,e,t),t.apply(c,[o])}}function NI(n,e,t=null){return Object.values(n).find(i=>i.callable===e&&i.delegationSelector===t)}function bI(n,e,t){const i=typeof e=="string",o=i?t:e||t;let a=OI(n);return mL.has(a)||(a=n),[i,o,a]}function bE(n,e,t,i,o){if(typeof e!="string"||!n)return;let[a,c,d]=bI(e,t,i);e in RI&&(c=(b=>function(F){if(!F.relatedTarget||F.relatedTarget!==F.delegateTarget&&!F.delegateTarget.contains(F.relatedTarget))return b.call(this,F)})(c));const p=kI(n),_=p[d]||(p[d]={}),y=NI(_,c,a?t:null);if(y){y.oneOff=y.oneOff&&o;return}const I=PI(c,e.replace(dL,"")),T=a?_L(n,t,c):gL(n,c);T.delegationSelector=a?t:null,T.callable=c,T.oneOff=o,T.uidEvent=I,_[I]=T,n.addEventListener(d,T,a)}function em(n,e,t,i,o){const a=NI(e[t],i,o);a&&(n.removeEventListener(t,a,!!o),delete e[t][a.uidEvent])}function vL(n,e,t,i){const o=e[t]||{};for(const[a,c]of Object.entries(o))a.includes(i)&&em(n,e,t,c.callable,c.delegationSelector)}function OI(n){return n=n.replace(fL,""),RI[n]||n}const ee={on(n,e,t,i){bE(n,e,t,i,!1)},one(n,e,t,i){bE(n,e,t,i,!0)},off(n,e,t,i){if(typeof e!="string"||!n)return;const[o,a,c]=bI(e,t,i),d=c!==e,p=kI(n),_=p[c]||{},y=e.startsWith(".");if(typeof a<"u"){if(!Object.keys(_).length)return;em(n,p,c,a,o?t:null);return}if(y)for(const I of Object.keys(p))vL(n,p,I,e.slice(1));for(const[I,T]of Object.entries(_)){const k=I.replace(pL,"");(!d||e.includes(k))&&em(n,p,c,T.callable,T.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const i=AI(),o=OI(e),a=e!==o;let c=null,d=!0,p=!0,_=!1;a&&i&&(c=i.Event(e,t),i(n).trigger(c),d=!c.isPropagationStopped(),p=!c.isImmediatePropagationStopped(),_=c.isDefaultPrevented());const y=dg(new Event(e,{bubbles:d,cancelable:!0}),t);return _&&y.preventDefault(),p&&n.dispatchEvent(y),y.defaultPrevented&&c&&c.preventDefault(),y}};function dg(n,e={}){for(const[t,i]of Object.entries(e))try{n[t]=i}catch{Object.defineProperty(n,t,{configurable:!0,get(){return i}})}return n}function OE(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function ap(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const ii={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${ap(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${ap(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of t){let o=i.replace(/^bs/,"");o=o.charAt(0).toLowerCase()+o.slice(1,o.length),e[o]=OE(n.dataset[i])}return e},getDataAttribute(n,e){return OE(n.getAttribute(`data-bs-${ap(e)}`))}};class _u{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const i=ri(t)?ii.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof i=="object"?i:{},...ri(t)?ii.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[i,o]of Object.entries(t)){const a=e[i],c=ri(a)?"element":lL(a);if(!new RegExp(o).test(c))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${c}" but expected type "${o}".`)}}}const yL="5.3.3";class ur extends _u{constructor(e,t){super(),e=rs(e),e&&(this._element=e,this._config=this._getConfig(t),ip.set(this._element,this.constructor.DATA_KEY,this))}dispose(){ip.remove(this._element,this.constructor.DATA_KEY),ee.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){CI(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return ip.get(rs(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return yL}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const lp=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>TI(t)).join(","):null},Ee={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let i=n.parentNode.closest(e);for(;i;)t.push(i),i=i.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!is(t)&&La(t))},getSelectorFromElement(n){const e=lp(n);return e&&Ee.findOne(e)?e:null},getElementFromSelector(n){const e=lp(n);return e?Ee.findOne(e):null},getMultipleElementsFromSelector(n){const e=lp(n);return e?Ee.find(e):[]}},id=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,i=n.NAME;ee.on(document,t,`[data-bs-dismiss="${i}"]`,function(o){if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),is(this))return;const a=Ee.getElementFromSelector(this)||this.closest(`.${i}`);n.getOrCreateInstance(a)[e]()})},EL="alert",wL="bs.alert",xI=`.${wL}`,TL=`close${xI}`,IL=`closed${xI}`,SL="fade",AL="show";class sd extends ur{static get NAME(){return EL}close(){if(ee.trigger(this._element,TL).defaultPrevented)return;this._element.classList.remove(AL);const t=this._element.classList.contains(SL);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),ee.trigger(this._element,IL),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=sd.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}id(sd,"close");$n(sd);const CL="button",RL="bs.button",PL=`.${RL}`,kL=".data-api",NL="active",xE='[data-bs-toggle="button"]',bL=`click${PL}${kL}`;class od extends ur{static get NAME(){return CL}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(NL))}static jQueryInterface(e){return this.each(function(){const t=od.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}ee.on(document,bL,xE,n=>{n.preventDefault();const e=n.target.closest(xE);od.getOrCreateInstance(e).toggle()});$n(od);const OL="swipe",Ma=".bs.swipe",xL=`touchstart${Ma}`,DL=`touchmove${Ma}`,LL=`touchend${Ma}`,ML=`pointerdown${Ma}`,VL=`pointerup${Ma}`,FL="touch",$L="pen",UL="pointer-event",jL=40,BL={endCallback:null,leftCallback:null,rightCallback:null},zL={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Oh extends _u{constructor(e,t){super(),this._element=e,!(!e||!Oh.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return BL}static get DefaultType(){return zL}static get NAME(){return OL}dispose(){ee.off(this._element,Ma)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),ln(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=jL)return;const t=e/this._deltaX;this._deltaX=0,t&&ln(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ee.on(this._element,ML,e=>this._start(e)),ee.on(this._element,VL,e=>this._end(e)),this._element.classList.add(UL)):(ee.on(this._element,xL,e=>this._start(e)),ee.on(this._element,DL,e=>this._move(e)),ee.on(this._element,LL,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===$L||e.pointerType===FL)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const HL="carousel",WL="bs.carousel",us=`.${WL}`,DI=".data-api",qL="ArrowLeft",KL="ArrowRight",GL=500,bl="next",Go="prev",ta="left",ah="right",QL=`slide${us}`,up=`slid${us}`,YL=`keydown${us}`,XL=`mouseenter${us}`,JL=`mouseleave${us}`,ZL=`dragstart${us}`,e2=`load${us}${DI}`,t2=`click${us}${DI}`,LI="carousel",zc="active",n2="slide",r2="carousel-item-end",i2="carousel-item-start",s2="carousel-item-next",o2="carousel-item-prev",MI=".active",VI=".carousel-item",a2=MI+VI,l2=".carousel-item img",u2=".carousel-indicators",c2="[data-bs-slide], [data-bs-slide-to]",h2='[data-bs-ride="carousel"]',d2={[qL]:ah,[KL]:ta},f2={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},p2={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class vu extends ur{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ee.findOne(u2,this._element),this._addEventListeners(),this._config.ride===LI&&this.cycle()}static get Default(){return f2}static get DefaultType(){return p2}static get NAME(){return HL}next(){this._slide(bl)}nextWhenVisible(){!document.hidden&&La(this._element)&&this.next()}prev(){this._slide(Go)}pause(){this._isSliding&&II(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){ee.one(this._element,up,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){ee.one(this._element,up,()=>this.to(e));return}const i=this._getItemIndex(this._getActive());if(i===e)return;const o=e>i?bl:Go;this._slide(o,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&ee.on(this._element,YL,e=>this._keydown(e)),this._config.pause==="hover"&&(ee.on(this._element,XL,()=>this.pause()),ee.on(this._element,JL,()=>this._maybeEnableCycle())),this._config.touch&&Oh.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of Ee.find(l2,this._element))ee.on(i,ZL,o=>o.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(ta)),rightCallback:()=>this._slide(this._directionToOrder(ah)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),GL+this._config.interval))}};this._swipeHelper=new Oh(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=d2[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=Ee.findOne(MI,this._indicatorsElement);t.classList.remove(zc),t.removeAttribute("aria-current");const i=Ee.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(zc),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const i=this._getActive(),o=e===bl,a=t||hg(this._getItems(),i,o,this._config.wrap);if(a===i)return;const c=this._getItemIndex(a),d=k=>ee.trigger(this._element,k,{relatedTarget:a,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:c});if(d(QL).defaultPrevented||!i||!a)return;const _=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(c),this._activeElement=a;const y=o?i2:r2,I=o?s2:o2;a.classList.add(I),gu(a),i.classList.add(y),a.classList.add(y);const T=()=>{a.classList.remove(y,I),a.classList.add(zc),i.classList.remove(zc,I,y),this._isSliding=!1,d(up)};this._queueCallback(T,i,this._isAnimated()),_&&this.cycle()}_isAnimated(){return this._element.classList.contains(n2)}_getActive(){return Ee.findOne(a2,this._element)}_getItems(){return Ee.find(VI,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Vn()?e===ta?Go:bl:e===ta?bl:Go}_orderToDirection(e){return Vn()?e===Go?ta:ah:e===Go?ah:ta}static jQueryInterface(e){return this.each(function(){const t=vu.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ee.on(document,t2,c2,function(n){const e=Ee.getElementFromSelector(this);if(!e||!e.classList.contains(LI))return;n.preventDefault();const t=vu.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");if(i){t.to(i),t._maybeEnableCycle();return}if(ii.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});ee.on(window,e2,()=>{const n=Ee.find(h2);for(const e of n)vu.getOrCreateInstance(e)});$n(vu);const m2="collapse",g2="bs.collapse",yu=`.${g2}`,_2=".data-api",v2=`show${yu}`,y2=`shown${yu}`,E2=`hide${yu}`,w2=`hidden${yu}`,T2=`click${yu}${_2}`,cp="show",ia="collapse",Hc="collapsing",I2="collapsed",S2=`:scope .${ia} .${ia}`,A2="collapse-horizontal",C2="width",R2="height",P2=".collapse.show, .collapse.collapsing",tm='[data-bs-toggle="collapse"]',k2={parent:null,toggle:!0},N2={parent:"(null|element)",toggle:"boolean"};class nu extends ur{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const i=Ee.find(tm);for(const o of i){const a=Ee.getSelectorFromElement(o),c=Ee.find(a).filter(d=>d===this._element);a!==null&&c.length&&this._triggerArray.push(o)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return k2}static get DefaultType(){return N2}static get NAME(){return m2}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(P2).filter(d=>d!==this._element).map(d=>nu.getOrCreateInstance(d,{toggle:!1}))),e.length&&e[0]._isTransitioning||ee.trigger(this._element,v2).defaultPrevented)return;for(const d of e)d.hide();const i=this._getDimension();this._element.classList.remove(ia),this._element.classList.add(Hc),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(Hc),this._element.classList.add(ia,cp),this._element.style[i]="",ee.trigger(this._element,y2)},c=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(o,this._element,!0),this._element.style[i]=`${this._element[c]}px`}hide(){if(this._isTransitioning||!this._isShown()||ee.trigger(this._element,E2).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,gu(this._element),this._element.classList.add(Hc),this._element.classList.remove(ia,cp);for(const o of this._triggerArray){const a=Ee.getElementFromSelector(o);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([o],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Hc),this._element.classList.add(ia),ee.trigger(this._element,w2)};this._element.style[t]="",this._queueCallback(i,this._element,!0)}_isShown(e=this._element){return e.classList.contains(cp)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=rs(e.parent),e}_getDimension(){return this._element.classList.contains(A2)?C2:R2}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(tm);for(const t of e){const i=Ee.getElementFromSelector(t);i&&this._addAriaAndCollapsedClass([t],this._isShown(i))}}_getFirstLevelChildren(e){const t=Ee.find(S2,this._config.parent);return Ee.find(e,this._config.parent).filter(i=>!t.includes(i))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const i of e)i.classList.toggle(I2,!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const i=nu.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}ee.on(document,T2,tm,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const e of Ee.getMultipleElementsFromSelector(this))nu.getOrCreateInstance(e,{toggle:!1}).toggle()});$n(nu);const DE="dropdown",b2="bs.dropdown",io=`.${b2}`,fg=".data-api",O2="Escape",LE="Tab",x2="ArrowUp",ME="ArrowDown",D2=2,L2=`hide${io}`,M2=`hidden${io}`,V2=`show${io}`,F2=`shown${io}`,FI=`click${io}${fg}`,$I=`keydown${io}${fg}`,$2=`keyup${io}${fg}`,na="show",U2="dropup",j2="dropend",B2="dropstart",z2="dropup-center",H2="dropdown-center",js='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',W2=`${js}.${na}`,lh=".dropdown-menu",q2=".navbar",K2=".navbar-nav",G2=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Q2=Vn()?"top-end":"top-start",Y2=Vn()?"top-start":"top-end",X2=Vn()?"bottom-end":"bottom-start",J2=Vn()?"bottom-start":"bottom-end",Z2=Vn()?"left-start":"right-start",eM=Vn()?"right-start":"left-start",tM="top",nM="bottom",rM={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},iM={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class br extends ur{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=Ee.next(this._element,lh)[0]||Ee.prev(this._element,lh)[0]||Ee.findOne(lh,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return rM}static get DefaultType(){return iM}static get NAME(){return DE}toggle(){return this._isShown()?this.hide():this.show()}show(){if(is(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!ee.trigger(this._element,V2,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(K2))for(const i of[].concat(...document.body.children))ee.on(i,"mouseover",bh);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(na),this._element.classList.add(na),ee.trigger(this._element,F2,e)}}hide(){if(is(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!ee.trigger(this._element,L2,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))ee.off(i,"mouseover",bh);this._popper&&this._popper.destroy(),this._menu.classList.remove(na),this._element.classList.remove(na),this._element.setAttribute("aria-expanded","false"),ii.removeDataAttribute(this._menu,"popper"),ee.trigger(this._element,M2,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!ri(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${DE.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof wI>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:ri(this._config.reference)?e=rs(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=cg(e,this._menu,t)}_isShown(){return this._menu.classList.contains(na)}_getPlacement(){const e=this._parent;if(e.classList.contains(j2))return Z2;if(e.classList.contains(B2))return eM;if(e.classList.contains(z2))return tM;if(e.classList.contains(H2))return nM;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(U2)?t?Y2:Q2:t?J2:X2}_detectNavbar(){return this._element.closest(q2)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ii.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...ln(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const i=Ee.find(G2,this._menu).filter(o=>La(o));i.length&&hg(i,t,e===ME,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=br.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===D2||e.type==="keyup"&&e.key!==LE)return;const t=Ee.find(W2);for(const i of t){const o=br.getInstance(i);if(!o||o._config.autoClose===!1)continue;const a=e.composedPath(),c=a.includes(o._menu);if(a.includes(o._element)||o._config.autoClose==="inside"&&!c||o._config.autoClose==="outside"&&c||o._menu.contains(e.target)&&(e.type==="keyup"&&e.key===LE||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const d={relatedTarget:o._element};e.type==="click"&&(d.clickEvent=e),o._completeHide(d)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),i=e.key===O2,o=[x2,ME].includes(e.key);if(!o&&!i||t&&!i)return;e.preventDefault();const a=this.matches(js)?this:Ee.prev(this,js)[0]||Ee.next(this,js)[0]||Ee.findOne(js,e.delegateTarget.parentNode),c=br.getOrCreateInstance(a);if(o){e.stopPropagation(),c.show(),c._selectMenuItem(e);return}c._isShown()&&(e.stopPropagation(),c.hide(),a.focus())}}ee.on(document,$I,js,br.dataApiKeydownHandler);ee.on(document,$I,lh,br.dataApiKeydownHandler);ee.on(document,FI,br.clearMenus);ee.on(document,$2,br.clearMenus);ee.on(document,FI,js,function(n){n.preventDefault(),br.getOrCreateInstance(this).toggle()});$n(br);const UI="backdrop",sM="fade",VE="show",FE=`mousedown.bs.${UI}`,oM={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},aM={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class jI extends _u{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return oM}static get DefaultType(){return aM}static get NAME(){return UI}show(e){if(!this._config.isVisible){ln(e);return}this._append();const t=this._getElement();this._config.isAnimated&&gu(t),t.classList.add(VE),this._emulateAnimation(()=>{ln(e)})}hide(e){if(!this._config.isVisible){ln(e);return}this._getElement().classList.remove(VE),this._emulateAnimation(()=>{this.dispose(),ln(e)})}dispose(){this._isAppended&&(ee.off(this._element,FE),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(sM),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=rs(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),ee.on(e,FE,()=>{ln(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){CI(e,this._getElement(),this._config.isAnimated)}}const lM="focustrap",uM="bs.focustrap",xh=`.${uM}`,cM=`focusin${xh}`,hM=`keydown.tab${xh}`,dM="Tab",fM="forward",$E="backward",pM={autofocus:!0,trapElement:null},mM={autofocus:"boolean",trapElement:"element"};class BI extends _u{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return pM}static get DefaultType(){return mM}static get NAME(){return lM}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ee.off(document,xh),ee.on(document,cM,e=>this._handleFocusin(e)),ee.on(document,hM,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ee.off(document,xh))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const i=Ee.focusableChildren(t);i.length===0?t.focus():this._lastTabNavDirection===$E?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){e.key===dM&&(this._lastTabNavDirection=e.shiftKey?$E:fM)}}const UE=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",jE=".sticky-top",Wc="padding-right",BE="margin-right";class nm{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Wc,t=>t+e),this._setElementAttributes(UE,Wc,t=>t+e),this._setElementAttributes(jE,BE,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Wc),this._resetElementAttributes(UE,Wc),this._resetElementAttributes(jE,BE)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){const o=this.getWidth(),a=c=>{if(c!==this._element&&window.innerWidth>c.clientWidth+o)return;this._saveInitialAttribute(c,t);const d=window.getComputedStyle(c).getPropertyValue(t);c.style.setProperty(t,`${i(Number.parseFloat(d))}px`)};this._applyManipulationCallback(e,a)}_saveInitialAttribute(e,t){const i=e.style.getPropertyValue(t);i&&ii.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){const i=o=>{const a=ii.getDataAttribute(o,t);if(a===null){o.style.removeProperty(t);return}ii.removeDataAttribute(o,t),o.style.setProperty(t,a)};this._applyManipulationCallback(e,i)}_applyManipulationCallback(e,t){if(ri(e)){t(e);return}for(const i of Ee.find(e,this._element))t(i)}}const gM="modal",_M="bs.modal",Fn=`.${_M}`,vM=".data-api",yM="Escape",EM=`hide${Fn}`,wM=`hidePrevented${Fn}`,zI=`hidden${Fn}`,HI=`show${Fn}`,TM=`shown${Fn}`,IM=`resize${Fn}`,SM=`click.dismiss${Fn}`,AM=`mousedown.dismiss${Fn}`,CM=`keydown.dismiss${Fn}`,RM=`click${Fn}${vM}`,zE="modal-open",PM="fade",HE="show",hp="modal-static",kM=".modal.show",NM=".modal-dialog",bM=".modal-body",OM='[data-bs-toggle="modal"]',xM={backdrop:!0,focus:!0,keyboard:!0},DM={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Sa extends ur{constructor(e,t){super(e,t),this._dialog=Ee.findOne(NM,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new nm,this._addEventListeners()}static get Default(){return xM}static get DefaultType(){return DM}static get NAME(){return gM}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||ee.trigger(this._element,HI,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(zE),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||ee.trigger(this._element,EM).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(HE),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){ee.off(window,Fn),ee.off(this._dialog,Fn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new jI({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new BI({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=Ee.findOne(bM,this._dialog);t&&(t.scrollTop=0),gu(this._element),this._element.classList.add(HE);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ee.trigger(this._element,TM,{relatedTarget:e})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){ee.on(this._element,CM,e=>{if(e.key===yM){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),ee.on(window,IM,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ee.on(this._element,AM,e=>{ee.one(this._element,SM,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(zE),this._resetAdjustments(),this._scrollBar.reset(),ee.trigger(this._element,zI)})}_isAnimated(){return this._element.classList.contains(PM)}_triggerBackdropTransition(){if(ee.trigger(this._element,wM).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(hp)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(hp),this._queueCallback(()=>{this._element.classList.remove(hp),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){const o=Vn()?"paddingLeft":"paddingRight";this._element.style[o]=`${t}px`}if(!i&&e){const o=Vn()?"paddingRight":"paddingLeft";this._element.style[o]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const i=Sa.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](t)}})}}ee.on(document,RM,OM,function(n){const e=Ee.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),ee.one(e,HI,o=>{o.defaultPrevented||ee.one(e,zI,()=>{La(this)&&this.focus()})});const t=Ee.findOne(kM);t&&Sa.getInstance(t).hide(),Sa.getOrCreateInstance(e).toggle(this)});id(Sa);$n(Sa);const LM="offcanvas",MM="bs.offcanvas",hi=`.${MM}`,WI=".data-api",VM=`load${hi}${WI}`,FM="Escape",WE="show",qE="showing",KE="hiding",$M="offcanvas-backdrop",qI=".offcanvas.show",UM=`show${hi}`,jM=`shown${hi}`,BM=`hide${hi}`,GE=`hidePrevented${hi}`,KI=`hidden${hi}`,zM=`resize${hi}`,HM=`click${hi}${WI}`,WM=`keydown.dismiss${hi}`,qM='[data-bs-toggle="offcanvas"]',KM={backdrop:!0,keyboard:!0,scroll:!1},GM={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ss extends ur{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return KM}static get DefaultType(){return GM}static get NAME(){return LM}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||ee.trigger(this._element,UM,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new nm().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(qE);const i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(WE),this._element.classList.remove(qE),ee.trigger(this._element,jM,{relatedTarget:e})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||ee.trigger(this._element,BM).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(KE),this._backdrop.hide();const t=()=>{this._element.classList.remove(WE,KE),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new nm().reset(),ee.trigger(this._element,KI)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){ee.trigger(this._element,GE);return}this.hide()},t=!!this._config.backdrop;return new jI({className:$M,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new BI({trapElement:this._element})}_addEventListeners(){ee.on(this._element,WM,e=>{if(e.key===FM){if(this._config.keyboard){this.hide();return}ee.trigger(this._element,GE)}})}static jQueryInterface(e){return this.each(function(){const t=ss.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}ee.on(document,HM,qM,function(n){const e=Ee.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),is(this))return;ee.one(e,KI,()=>{La(this)&&this.focus()});const t=Ee.findOne(qI);t&&t!==e&&ss.getInstance(t).hide(),ss.getOrCreateInstance(e).toggle(this)});ee.on(window,VM,()=>{for(const n of Ee.find(qI))ss.getOrCreateInstance(n).show()});ee.on(window,zM,()=>{for(const n of Ee.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&ss.getOrCreateInstance(n).hide()});id(ss);$n(ss);const QM=/^aria-[\w-]*$/i,GI={"*":["class","dir","id","lang","role",QM],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},YM=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),XM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,JM=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?YM.has(t)?!!XM.test(n.nodeValue):!0:e.filter(i=>i instanceof RegExp).some(i=>i.test(t))};function ZM(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const o=new window.DOMParser().parseFromString(n,"text/html"),a=[].concat(...o.body.querySelectorAll("*"));for(const c of a){const d=c.nodeName.toLowerCase();if(!Object.keys(e).includes(d)){c.remove();continue}const p=[].concat(...c.attributes),_=[].concat(e["*"]||[],e[d]||[]);for(const y of p)JM(y,_)||c.removeAttribute(y.nodeName)}return o.body.innerHTML}const eV="TemplateFactory",tV={allowList:GI,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},nV={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},rV={entry:"(string|element|function|null)",selector:"(string|element)"};class iV extends _u{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return tV}static get DefaultType(){return nV}static get NAME(){return eV}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[o,a]of Object.entries(this._config.content))this._setContent(e,a,o);const t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},rV)}_setContent(e,t,i){const o=Ee.findOne(i,e);if(o){if(t=this._resolvePossibleFunction(t),!t){o.remove();return}if(ri(t)){this._putElementInTemplate(rs(t),o);return}if(this._config.html){o.innerHTML=this._maybeSanitize(t);return}o.textContent=t}}_maybeSanitize(e){return this._config.sanitize?ZM(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return ln(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const sV="tooltip",oV=new Set(["sanitize","allowList","sanitizeFn"]),dp="fade",aV="modal",qc="show",lV=".tooltip-inner",QE=`.${aV}`,YE="hide.bs.modal",Ol="hover",fp="focus",uV="click",cV="manual",hV="hide",dV="hidden",fV="show",pV="shown",mV="inserted",gV="click",_V="focusin",vV="focusout",yV="mouseenter",EV="mouseleave",wV={AUTO:"auto",TOP:"top",RIGHT:Vn()?"left":"right",BOTTOM:"bottom",LEFT:Vn()?"right":"left"},TV={allowList:GI,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},IV={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Va extends ur{constructor(e,t){if(typeof wI>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return TV}static get DefaultType(){return IV}static get NAME(){return sV}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),ee.off(this._element.closest(QE),YE,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=ee.trigger(this._element,this.constructor.eventName(fV)),i=(SI(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this._disposePopper();const o=this._getTipElement();this._element.setAttribute("aria-describedby",o.getAttribute("id"));const{container:a}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(o),ee.trigger(this._element,this.constructor.eventName(mV))),this._popper=this._createPopper(o),o.classList.add(qc),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))ee.on(d,"mouseover",bh);const c=()=>{ee.trigger(this._element,this.constructor.eventName(pV)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(c,this.tip,this._isAnimated())}hide(){if(!this._isShown()||ee.trigger(this._element,this.constructor.eventName(hV)).defaultPrevented)return;if(this._getTipElement().classList.remove(qc),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))ee.off(o,"mouseover",bh);this._activeTrigger[uV]=!1,this._activeTrigger[fp]=!1,this._activeTrigger[Ol]=!1,this._isHovered=null;const i=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ee.trigger(this._element,this.constructor.eventName(dV)))};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(dp,qc),t.classList.add(`bs-${this.constructor.NAME}-auto`);const i=uL(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(dp),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new iV({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[lV]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(dp)}_isShown(){return this.tip&&this.tip.classList.contains(qc)}_createPopper(e){const t=ln(this._config.placement,[this,e,this._element]),i=wV[t.toUpperCase()];return cg(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return ln(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...t,...ln(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")ee.on(this._element,this.constructor.eventName(gV),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if(t!==cV){const i=t===Ol?this.constructor.eventName(yV):this.constructor.eventName(_V),o=t===Ol?this.constructor.eventName(EV):this.constructor.eventName(vV);ee.on(this._element,i,this._config.selector,a=>{const c=this._initializeOnDelegatedTarget(a);c._activeTrigger[a.type==="focusin"?fp:Ol]=!0,c._enter()}),ee.on(this._element,o,this._config.selector,a=>{const c=this._initializeOnDelegatedTarget(a);c._activeTrigger[a.type==="focusout"?fp:Ol]=c._element.contains(a.relatedTarget),c._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ee.on(this._element.closest(QE),YE,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=ii.getDataAttributes(this._element);for(const i of Object.keys(t))oV.has(i)&&delete t[i];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:rs(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,i]of Object.entries(this._config))this.constructor.Default[t]!==i&&(e[t]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=Va.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}$n(Va);const SV="popover",AV=".popover-header",CV=".popover-body",RV={...Va.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},PV={...Va.DefaultType,content:"(null|string|element|function)"};class pg extends Va{static get Default(){return RV}static get DefaultType(){return PV}static get NAME(){return SV}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[AV]:this._getTitle(),[CV]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=pg.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}$n(pg);const kV="scrollspy",NV="bs.scrollspy",mg=`.${NV}`,bV=".data-api",OV=`activate${mg}`,XE=`click${mg}`,xV=`load${mg}${bV}`,DV="dropdown-item",Qo="active",LV='[data-bs-spy="scroll"]',pp="[href]",MV=".nav, .list-group",JE=".nav-link",VV=".nav-item",FV=".list-group-item",$V=`${JE}, ${VV} > ${JE}, ${FV}`,UV=".dropdown",jV=".dropdown-toggle",BV={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},zV={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ad extends ur{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return BV}static get DefaultType(){return zV}static get NAME(){return kV}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=rs(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ee.off(this._config.target,XE),ee.on(this._config.target,XE,pp,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const i=this._rootElement||window,o=t.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:o,behavior:"smooth"});return}i.scrollTop=o}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=c=>this._targetLinks.get(`#${c.target.id}`),i=c=>{this._previousScrollData.visibleEntryTop=c.target.offsetTop,this._process(t(c))},o=(this._rootElement||document.documentElement).scrollTop,a=o>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=o;for(const c of e){if(!c.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(c));continue}const d=c.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&d){if(i(c),!o)return;continue}!a&&!d&&i(c)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Ee.find(pp,this._config.target);for(const t of e){if(!t.hash||is(t))continue;const i=Ee.findOne(decodeURI(t.hash),this._element);La(i)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Qo),this._activateParents(e),ee.trigger(this._element,OV,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(DV)){Ee.findOne(jV,e.closest(UV)).classList.add(Qo);return}for(const t of Ee.parents(e,MV))for(const i of Ee.prev(t,$V))i.classList.add(Qo)}_clearActiveClass(e){e.classList.remove(Qo);const t=Ee.find(`${pp}.${Qo}`,e);for(const i of t)i.classList.remove(Qo)}static jQueryInterface(e){return this.each(function(){const t=ad.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ee.on(window,xV,()=>{for(const n of Ee.find(LV))ad.getOrCreateInstance(n)});$n(ad);const HV="tab",WV="bs.tab",so=`.${WV}`,qV=`hide${so}`,KV=`hidden${so}`,GV=`show${so}`,QV=`shown${so}`,YV=`click${so}`,XV=`keydown${so}`,JV=`load${so}`,ZV="ArrowLeft",ZE="ArrowRight",e4="ArrowUp",ew="ArrowDown",mp="Home",tw="End",Bs="active",nw="fade",gp="show",t4="dropdown",QI=".dropdown-toggle",n4=".dropdown-menu",_p=`:not(${QI})`,r4='.list-group, .nav, [role="tablist"]',i4=".nav-item, .list-group-item",s4=`.nav-link${_p}, .list-group-item${_p}, [role="tab"]${_p}`,YI='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',vp=`${s4}, ${YI}`,o4=`.${Bs}[data-bs-toggle="tab"], .${Bs}[data-bs-toggle="pill"], .${Bs}[data-bs-toggle="list"]`;class Aa extends ur{constructor(e){super(e),this._parent=this._element.closest(r4),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ee.on(this._element,XV,t=>this._keydown(t)))}static get NAME(){return HV}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),i=t?ee.trigger(t,qV,{relatedTarget:e}):null;ee.trigger(e,GV,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(Bs),this._activate(Ee.getElementFromSelector(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(gp);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),ee.trigger(e,QV,{relatedTarget:t})};this._queueCallback(i,e,e.classList.contains(nw))}_deactivate(e,t){if(!e)return;e.classList.remove(Bs),e.blur(),this._deactivate(Ee.getElementFromSelector(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(gp);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),ee.trigger(e,KV,{relatedTarget:t})};this._queueCallback(i,e,e.classList.contains(nw))}_keydown(e){if(![ZV,ZE,e4,ew,mp,tw].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(o=>!is(o));let i;if([mp,tw].includes(e.key))i=t[e.key===mp?0:t.length-1];else{const o=[ZE,ew].includes(e.key);i=hg(t,e.target,o,!0)}i&&(i.focus({preventScroll:!0}),Aa.getOrCreateInstance(i).show())}_getChildren(){return Ee.find(vp,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const i of t)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=Ee.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const i=this._getOuterElement(e);if(!i.classList.contains(t4))return;const o=(a,c)=>{const d=Ee.findOne(a,i);d&&d.classList.toggle(c,t)};o(QI,Bs),o(n4,gp),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(Bs)}_getInnerElement(e){return e.matches(vp)?e:Ee.findOne(vp,e)}_getOuterElement(e){return e.closest(i4)||e}static jQueryInterface(e){return this.each(function(){const t=Aa.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ee.on(document,YV,YI,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!is(this)&&Aa.getOrCreateInstance(this).show()});ee.on(window,JV,()=>{for(const n of Ee.find(o4))Aa.getOrCreateInstance(n)});$n(Aa);const a4="toast",l4="bs.toast",cs=`.${l4}`,u4=`mouseover${cs}`,c4=`mouseout${cs}`,h4=`focusin${cs}`,d4=`focusout${cs}`,f4=`hide${cs}`,p4=`hidden${cs}`,m4=`show${cs}`,g4=`shown${cs}`,_4="fade",rw="hide",Kc="show",Gc="showing",v4={animation:"boolean",autohide:"boolean",delay:"number"},y4={animation:!0,autohide:!0,delay:5e3};class ld extends ur{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return y4}static get DefaultType(){return v4}static get NAME(){return a4}show(){if(ee.trigger(this._element,m4).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(_4);const t=()=>{this._element.classList.remove(Gc),ee.trigger(this._element,g4),this._maybeScheduleHide()};this._element.classList.remove(rw),gu(this._element),this._element.classList.add(Kc,Gc),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||ee.trigger(this._element,f4).defaultPrevented)return;const t=()=>{this._element.classList.add(rw),this._element.classList.remove(Gc,Kc),ee.trigger(this._element,p4)};this._element.classList.add(Gc),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Kc),super.dispose()}isShown(){return this._element.classList.contains(Kc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){ee.on(this._element,u4,e=>this._onInteraction(e,!0)),ee.on(this._element,c4,e=>this._onInteraction(e,!1)),ee.on(this._element,h4,e=>this._onInteraction(e,!0)),ee.on(this._element,d4,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=ld.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}id(ld);$n(ld);function E4({mode:n,setMode:e}){var ge;const[t,i]=B.useState(0),[o,a]=B.useState({}),[c,d]=B.useState([]),[p,_]=B.useState([]),[y,I]=B.useState([]),[T,k]=B.useState({}),[b,F]=B.useState({}),[L,H]=B.useState({min:1,max:1e3}),[q,X]=B.useState(!0),[Y,ue]=B.useState(!0),[ne,P]=B.useState(0),[S,A]=B.useState(0),[N,x]=B.useState(!0),M=["A","B","C","D","E","F","G","H"],R=(se,he,ce)=>{fetch(`/medTest/assets/${he}`).then(we=>we.text()).then(we=>{const Re=we.split(`
`).reduce((Oe,Ge)=>{if(Ge.trim()==="")return Oe;const[Tt,Pt]=Ge.trim().split(" ");return Oe[parseInt(Tt)]=Pt,Oe},{});ce?a(Re):I(Re)}),fetch(`/medTest/assets/${se}`).then(we=>we.text()).then(we=>{var Ge,Tt;const Re=we.split(`
`).filter(Pt=>Pt.trim()!==""),Oe=[];for(let Pt=0;Pt<Re.length;Pt+=9){const kt=Re.slice(Pt,Pt+9);if(kt.length!==9){console.log("Skipping block due to incorrect line count:",kt);continue}const Un=kt[0].replace(/^\d+\.\s*/,""),cr=((Tt=(Ge=kt[0].match(/^\d+\./))==null?void 0:Ge[0])==null?void 0:Tt.slice(0,-1))||"",hr=kt.slice(1).reduce((jn,di,dr)=>{const gt=String.fromCharCode(97+dr);return jn[gt]=di.trim(),jn},{});Oe.push({number:cr,q:Un,...hr})}ce?d(Oe):_(Oe)})};B.useEffect(()=>{R("B_otazky.txt","B_odpovede.txt",!0),R("C_otazky.txt","C_odpovede.txt",!1),e(!0),document.body.style.background="#212529"},[]);const He=()=>{e(se=>!se),n?document.body.style.background="#F8F9FA":document.body.style.background="#212529"},Ke=()=>{const se=L.min===""?1:L.min,he=L.max===""?1e3:L.max;if(q){let ce;do ce=Math.floor(Math.random()*(he-se+1))+se;while(ce-1===t);i(ce-1)}else t>=se-1&&t<=he-1?t+1==he?i(se-1):i(t+1):i(se-1);setTimeout(()=>{window.innerWidth>=1450?window.scrollTo({top:0,behavior:"smooth"}):window.innerWidth<=364?window.scrollTo({top:358,behavior:"smooth"}):window.scrollTo({top:308,behavior:"smooth"});const ce=document.querySelector("h3"),we=window.getComputedStyle(ce),Re=parseFloat(we.marginTop);ce.getBoundingClientRect().top+window.scrollY-Re<=3?ce.style.marginTop="1rem":ce.style.marginTop="0"},20),k({}),F({}),x(!0)},Be=se=>{k(he=>({...he,[se]:!he[se]}))},Ne=()=>{const se=(Y?o:y)[t+1]||"",he={};M.forEach((ce,we)=>{se[we]==="S"?he[ce]=T[ce]===!0?"correct":"missed":he[ce]=T[ce]===!0?"wrong":"neutral"}),F(he),K()},ie=se=>{const{name:he,value:ce}=se.target;H(we=>({...we,[he]:ce===""?"":parseInt(ce,10)}))},me=se=>{let{name:he,value:ce}=se.target;he==="min"&&(ce<1||ce>=1e3)&&(ce=1),he==="max"&&(ce<1||ce>1e3)&&(ce=1e3),L.min===L.max?(H({min:L.min,max:1e3}),he==="max"&&(ce=1e3)):L.min>L.max&&(H({min:L.min,max:1e3}),he==="max"&&(ce=1e3)),H(we=>({...we,[he]:ce===""?"":parseInt(ce,10)}))},ae=se=>{se.target.id=="btnradio1"?X(!0):X(!1)},V=se=>{se.target.id=="btnradio3"?ue(!0):ue(!1),k({}),F({}),i(0),x(!0)},K=()=>{N&&(Y?P(ne+1):A(S+1)),x(!1)};return Q.jsxs("div",{className:"d-flex flex-column mainContainer",children:[Q.jsxs("div",{className:"input-group mb-3 rangeHolder ms-auto fixed-top mb-5 d-flex justify-content-center",children:[Q.jsxs("div",{className:"d-flex mb-3 doubleMenu justify-content-center align-items-center m-0",children:[Q.jsx("div",{className:"form-check form-switch modeWrapper",children:Q.jsx("input",{className:"form-check-input toggler",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault",onChange:He,checked:!!n})}),Q.jsxs("div",{className:"btn-group",role:"group","aria-label":"Basic radio toggle button group",children:[Q.jsx("input",{type:"radio",className:"btn-check",name:"btnradio",id:"btnradio3",defaultChecked:!0,onChange:V}),Q.jsx("label",{className:"btn btn-outline-secondary",htmlFor:"btnradio3",children:"BIOLGIA"}),Q.jsx("input",{type:"radio",className:"btn-check",name:"btnradio",id:"btnradio4",onChange:V}),Q.jsx("label",{className:"btn btn-outline-secondary",htmlFor:"btnradio4",children:"CHMIA"})]})]}),Q.jsxs("div",{className:"btn-group mb-3",role:"group","aria-label":"Basic radio toggle button group",children:[Q.jsx("input",{type:"radio",className:"btn-check",name:"btnradio1",id:"btnradio1",defaultChecked:!0,onChange:ae}),Q.jsx("label",{className:"btn btn-outline-warning",htmlFor:"btnradio1",children:"Nhodn vber"}),Q.jsx("input",{type:"radio",className:"btn-check",name:"btnradio1",id:"btnradio2",onChange:ae}),Q.jsx("label",{className:"btn btn-outline-warning",htmlFor:"btnradio2",children:"Poda poradia"})]}),Q.jsxs("div",{className:"d-flex rangeSizer mb-3",children:[Q.jsx("span",{className:"input-group-text rozsahText",children:"Rozsah:"}),Q.jsx("input",{type:"number",name:"min",value:L.min,onChange:ie,onBlur:me,className:"form-control borderForm",placeholder:"Od","aria-label":"Od"}),Q.jsx("span",{className:"input-group-text",children:"-"}),Q.jsx("input",{type:"number",name:"max",value:L.max,onChange:ie,onBlur:me,className:"form-control maxNmb",placeholder:"Do","aria-label":"Do"})]}),Q.jsxs("div",{className:`d-flex rangeSizer p-2 border rounded align-items-center fs-6  ${n?"text-light border-secondary":" bg-transparent"}`,children:[Q.jsxs("p",{className:"w-50 m-0",children:["BIO - ",ne]}),Q.jsxs("p",{className:"m-0",children:["CHE - ",S]})]})]}),Q.jsx("div",{className:n?"text-light":"text-dark",children:c.length>0?Q.jsxs(Q.Fragment,{children:[Q.jsx("h3",{dangerouslySetInnerHTML:{__html:`${t+1}. ${((ge=(Y?c:p)[t])==null?void 0:ge.q)||"Natavam otzky..."}`}}),Q.jsx("div",{className:"d-flex mt-4 flex-column",children:Object.entries((Y?c:p)[t]||{}).filter(([se])=>se!=="q"&&se!=="number").map(([se,he])=>Q.jsxs("div",{className:"form-check d-flex align-items-center p-1",children:[Q.jsx("input",{className:`form-check-input me-2 hvrOption ${n?"border-0":"border-secondary"}`,type:"checkbox",id:`checkbox-${se}`,checked:!!T[se.toUpperCase()],onChange:()=>Be(se.toUpperCase())}),Q.jsx("label",{className:"form-check-label hvrOpt",htmlFor:`checkbox-${se}`,style:{wordBreak:"break-word",backgroundColor:b[se.toUpperCase()]==="correct"?"#5e9f58":b[se.toUpperCase()]==="wrong"||b[se.toUpperCase()]==="missed"?"#a84d4d":"transparent",color:b[se.toUpperCase()]==="correct"||b[se.toUpperCase()]==="wrong"||b[se.toUpperCase()]==="missed"?"#fff":"",borderRadius:"5px",padding:"5px"},dangerouslySetInnerHTML:{__html:he}})]},se))})]}):Q.jsx("h3",{children:"Natavam otzky..."})}),Q.jsx("button",{onClick:Ne,type:"button",className:"btn btn-secondary mt-5",children:"Vyhodnoti"}),Q.jsx("button",{onClick:Ke,type:"button",className:"btn mt-4 btn-warning",id:"resolve",children:"alia otzka"})]})}function w4(){return Q.jsxs("div",{className:"ftr",children:[Q.jsx("img",{src:"/medTest/logoMED.svg",alt:"logoMED",className:"logoIMG",height:100}),Q.jsx("p",{className:"credentials",children:"MB 2024/25."})]})}function T4({user:n}){const e=Lh(),[t,i]=B.useState(!1),o=async()=>{try{await oT(va),e("/",{replace:!0})}catch(a){console.error("Chyba pri odhlaseni:",a)}};return Q.jsxs("div",{children:[Q.jsxs("div",{className:"loginMenu",children:[Q.jsxs("h5",{className:"welcomeMsg pt-1 m-0",children:["Vitaj ",n.displayName]}),Q.jsxs("button",{type:"button",className:`btn ${t?"btn-dark":"btn-light"} d-flex  align-items-center gap-1 ms-2`,onClick:o,children:[Q.jsx(gD,{size:20}),"Odhlsi sa"]})]}),Q.jsx(E4,{mode:t,setMode:i}),Q.jsx(w4,{})]})}function I4(){const[n,e]=B.useState(null),[t,i]=B.useState(!0);return B.useEffect(()=>sT(va,a=>{e(a),i(!1)}),[]),t?Q.jsx("div",{children:"Natavam..."}):Q.jsxs(tC,{children:[Q.jsx(Qc,{path:"/",element:Q.jsx(_D,{})}),Q.jsx(Qc,{path:"/register",element:Q.jsx(yD,{})}),Q.jsx(Qc,{path:"/test",element:n?Q.jsx(T4,{user:n}):Q.jsx(ZA,{to:"/",replace:!0})})]})}uA.createRoot(document.getElementById("root")).render(Q.jsx(B.StrictMode,{children:Q.jsx(AC,{basename:"/medTest",children:Q.jsx(I4,{})})}));
