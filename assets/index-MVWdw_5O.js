var Qk=Object.defineProperty;var Xk=(n,e,t)=>e in n?Qk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var be=(n,e,t)=>Xk(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function Jk(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ug={exports:{}},$c={},hg={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function Zk(){if(B0)return $e;B0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=_&&z[_]||z["@@iterator"],typeof z=="function"?z:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,I={};function A(z,J,fe){this.props=z,this.context=J,this.refs=I,this.updater=fe||w}A.prototype.isReactComponent={},A.prototype.setState=function(z,J){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,J,"setState")},A.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function R(){}R.prototype=A.prototype;function L(z,J,fe){this.props=z,this.context=J,this.refs=I,this.updater=fe||w}var j=L.prototype=new R;j.constructor=L,b(j,A.prototype),j.isPureReactComponent=!0;var U=Array.isArray,q=Object.prototype.hasOwnProperty,G={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function x(z,J,fe){var oe,de={},he=null,Te=null;if(J!=null)for(oe in J.ref!==void 0&&(Te=J.ref),J.key!==void 0&&(he=""+J.key),J)q.call(J,oe)&&!P.hasOwnProperty(oe)&&(de[oe]=J[oe]);var Ae=arguments.length-2;if(Ae===1)de.children=fe;else if(1<Ae){for(var Le=Array(Ae),Be=0;Be<Ae;Be++)Le[Be]=arguments[Be+2];de.children=Le}if(z&&z.defaultProps)for(oe in Ae=z.defaultProps,Ae)de[oe]===void 0&&(de[oe]=Ae[oe]);return{$$typeof:n,type:z,key:he,ref:Te,props:de,_owner:G.current}}function k(z,J){return{$$typeof:n,type:z.type,key:J,ref:z.ref,props:z.props,_owner:z._owner}}function N(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function M(z){var J={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(fe){return J[fe]})}var V=/\/+/g;function O(z,J){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):J.toString(36)}function De(z,J,fe,oe,de){var he=typeof z;(he==="undefined"||he==="boolean")&&(z=null);var Te=!1;if(z===null)Te=!0;else switch(he){case"string":case"number":Te=!0;break;case"object":switch(z.$$typeof){case n:case e:Te=!0}}if(Te)return Te=z,de=de(Te),z=oe===""?"."+O(Te,0):oe,U(de)?(fe="",z!=null&&(fe=z.replace(V,"$&/")+"/"),De(de,J,fe,"",function(Be){return Be})):de!=null&&(N(de)&&(de=k(de,fe+(!de.key||Te&&Te.key===de.key?"":(""+de.key).replace(V,"$&/")+"/")+z)),J.push(de)),1;if(Te=0,oe=oe===""?".":oe+":",U(z))for(var Ae=0;Ae<z.length;Ae++){he=z[Ae];var Le=oe+O(he,Ae);Te+=De(he,J,fe,Le,de)}else if(Le=v(z),typeof Le=="function")for(z=Le.call(z),Ae=0;!(he=z.next()).done;)he=he.value,Le=oe+O(he,Ae++),Te+=De(he,J,fe,Le,de);else if(he==="object")throw J=String(z),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Te}function Se(z,J,fe){if(z==null)return z;var oe=[],de=0;return De(z,oe,"","",function(he){return J.call(fe,he,de++)}),oe}function we(z){if(z._status===-1){var J=z._result;J=J(),J.then(function(fe){(z._status===0||z._status===-1)&&(z._status=1,z._result=fe)},function(fe){(z._status===0||z._status===-1)&&(z._status=2,z._result=fe)}),z._status===-1&&(z._status=0,z._result=J)}if(z._status===1)return z._result.default;throw z._result}var _e={current:null},ie={transition:null},ue={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:ie,ReactCurrentOwner:G};function le(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:Se,forEach:function(z,J,fe){Se(z,function(){J.apply(this,arguments)},fe)},count:function(z){var J=0;return Se(z,function(){J++}),J},toArray:function(z){return Se(z,function(J){return J})||[]},only:function(z){if(!N(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},$e.Component=A,$e.Fragment=t,$e.Profiler=r,$e.PureComponent=L,$e.StrictMode=i,$e.Suspense=u,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,$e.act=le,$e.cloneElement=function(z,J,fe){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var oe=b({},z.props),de=z.key,he=z.ref,Te=z._owner;if(J!=null){if(J.ref!==void 0&&(he=J.ref,Te=G.current),J.key!==void 0&&(de=""+J.key),z.type&&z.type.defaultProps)var Ae=z.type.defaultProps;for(Le in J)q.call(J,Le)&&!P.hasOwnProperty(Le)&&(oe[Le]=J[Le]===void 0&&Ae!==void 0?Ae[Le]:J[Le])}var Le=arguments.length-2;if(Le===1)oe.children=fe;else if(1<Le){Ae=Array(Le);for(var Be=0;Be<Le;Be++)Ae[Be]=arguments[Be+2];oe.children=Ae}return{$$typeof:n,type:z.type,key:de,ref:he,props:oe,_owner:Te}},$e.createContext=function(z){return z={$$typeof:a,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:s,_context:z},z.Consumer=z},$e.createElement=x,$e.createFactory=function(z){var J=x.bind(null,z);return J.type=z,J},$e.createRef=function(){return{current:null}},$e.forwardRef=function(z){return{$$typeof:c,render:z}},$e.isValidElement=N,$e.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:we}},$e.memo=function(z,J){return{$$typeof:d,type:z,compare:J===void 0?null:J}},$e.startTransition=function(z){var J=ie.transition;ie.transition={};try{z()}finally{ie.transition=J}},$e.unstable_act=le,$e.useCallback=function(z,J){return _e.current.useCallback(z,J)},$e.useContext=function(z){return _e.current.useContext(z)},$e.useDebugValue=function(){},$e.useDeferredValue=function(z){return _e.current.useDeferredValue(z)},$e.useEffect=function(z,J){return _e.current.useEffect(z,J)},$e.useId=function(){return _e.current.useId()},$e.useImperativeHandle=function(z,J,fe){return _e.current.useImperativeHandle(z,J,fe)},$e.useInsertionEffect=function(z,J){return _e.current.useInsertionEffect(z,J)},$e.useLayoutEffect=function(z,J){return _e.current.useLayoutEffect(z,J)},$e.useMemo=function(z,J){return _e.current.useMemo(z,J)},$e.useReducer=function(z,J,fe){return _e.current.useReducer(z,J,fe)},$e.useRef=function(z){return _e.current.useRef(z)},$e.useState=function(z){return _e.current.useState(z)},$e.useSyncExternalStore=function(z,J,fe){return _e.current.useSyncExternalStore(z,J,fe)},$e.useTransition=function(){return _e.current.useTransition()},$e.version="18.3.1",$e}var H0;function Z_(){return H0||(H0=1,hg.exports=Zk()),hg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function eR(){if(W0)return $c;W0=1;var n=Z_(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(c,u,d){var m,_={},v=null,w=null;d!==void 0&&(v=""+d),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(w=u.ref);for(m in u)i.call(u,m)&&!s.hasOwnProperty(m)&&(_[m]=u[m]);if(c&&c.defaultProps)for(m in u=c.defaultProps,u)_[m]===void 0&&(_[m]=u[m]);return{$$typeof:e,type:c,key:v,ref:w,props:_,_owner:r.current}}return $c.Fragment=t,$c.jsx=a,$c.jsxs=a,$c}var K0;function tR(){return K0||(K0=1,ug.exports=eR()),ug.exports}var Y=tR(),W=Z_();const Lr=Jk(W);var fd={},dg={exports:{}},wn={},fg={exports:{}},pg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function nR(){return q0||(q0=1,function(n){function e(ie,ue){var le=ie.length;ie.push(ue);e:for(;0<le;){var z=le-1>>>1,J=ie[z];if(0<r(J,ue))ie[z]=ue,ie[le]=J,le=z;else break e}}function t(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var ue=ie[0],le=ie.pop();if(le!==ue){ie[0]=le;e:for(var z=0,J=ie.length,fe=J>>>1;z<fe;){var oe=2*(z+1)-1,de=ie[oe],he=oe+1,Te=ie[he];if(0>r(de,le))he<J&&0>r(Te,de)?(ie[z]=Te,ie[he]=le,z=he):(ie[z]=de,ie[oe]=le,z=oe);else if(he<J&&0>r(Te,le))ie[z]=Te,ie[he]=le,z=he;else break e}}return ue}function r(ie,ue){var le=ie.sortIndex-ue.sortIndex;return le!==0?le:ie.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();n.unstable_now=function(){return a.now()-c}}var u=[],d=[],m=1,_=null,v=3,w=!1,b=!1,I=!1,A=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(ie){for(var ue=t(d);ue!==null;){if(ue.callback===null)i(d);else if(ue.startTime<=ie)i(d),ue.sortIndex=ue.expirationTime,e(u,ue);else break;ue=t(d)}}function U(ie){if(I=!1,j(ie),!b)if(t(u)!==null)b=!0,we(q);else{var ue=t(d);ue!==null&&_e(U,ue.startTime-ie)}}function q(ie,ue){b=!1,I&&(I=!1,R(x),x=-1),w=!0;var le=v;try{for(j(ue),_=t(u);_!==null&&(!(_.expirationTime>ue)||ie&&!M());){var z=_.callback;if(typeof z=="function"){_.callback=null,v=_.priorityLevel;var J=z(_.expirationTime<=ue);ue=n.unstable_now(),typeof J=="function"?_.callback=J:_===t(u)&&i(u),j(ue)}else i(u);_=t(u)}if(_!==null)var fe=!0;else{var oe=t(d);oe!==null&&_e(U,oe.startTime-ue),fe=!1}return fe}finally{_=null,v=le,w=!1}}var G=!1,P=null,x=-1,k=5,N=-1;function M(){return!(n.unstable_now()-N<k)}function V(){if(P!==null){var ie=n.unstable_now();N=ie;var ue=!0;try{ue=P(!0,ie)}finally{ue?O():(G=!1,P=null)}}else G=!1}var O;if(typeof L=="function")O=function(){L(V)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,Se=De.port2;De.port1.onmessage=V,O=function(){Se.postMessage(null)}}else O=function(){A(V,0)};function we(ie){P=ie,G||(G=!0,O())}function _e(ie,ue){x=A(function(){ie(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){b||w||(b=!0,we(q))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(ie){switch(v){case 1:case 2:case 3:var ue=3;break;default:ue=v}var le=v;v=ue;try{return ie()}finally{v=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,ue){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var le=v;v=ie;try{return ue()}finally{v=le}},n.unstable_scheduleCallback=function(ie,ue,le){var z=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?z+le:z):le=z,ie){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=le+J,ie={id:m++,callback:ue,priorityLevel:ie,startTime:le,expirationTime:J,sortIndex:-1},le>z?(ie.sortIndex=le,e(d,ie),t(u)===null&&ie===t(d)&&(I?(R(x),x=-1):I=!0,_e(U,le-z))):(ie.sortIndex=J,e(u,ie),b||w||(b=!0,we(q))),ie},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(ie){var ue=v;return function(){var le=v;v=ue;try{return ie.apply(this,arguments)}finally{v=le}}}}(pg)),pg}var G0;function iR(){return G0||(G0=1,fg.exports=nR()),fg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0;function rR(){if(Y0)return wn;Y0=1;var n=Z_(),e=iR();function t(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function s(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(r[o]=l,o=0;o<l.length;o++)i.add(l[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},_={};function v(o){return u.call(_,o)?!0:u.call(m,o)?!1:d.test(o)?_[o]=!0:(m[o]=!0,!1)}function w(o,l,h,p){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return p?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function b(o,l,h,p){if(l===null||typeof l>"u"||w(o,l,h,p))return!0;if(p)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function I(o,l,h,p,g,E,S){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=h,this.propertyName=o,this.type=l,this.sanitizeURL=E,this.removeEmptyString=S}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){A[o]=new I(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];A[l]=new I(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){A[o]=new I(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){A[o]=new I(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){A[o]=new I(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){A[o]=new I(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){A[o]=new I(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){A[o]=new I(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){A[o]=new I(o,5,!1,o.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function L(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(R,L);A[l]=new I(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(R,L);A[l]=new I(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(R,L);A[l]=new I(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){A[o]=new I(o,1,!1,o.toLowerCase(),null,!1,!1)}),A.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){A[o]=new I(o,1,!1,o.toLowerCase(),null,!0,!0)});function j(o,l,h,p){var g=A.hasOwnProperty(l)?A[l]:null;(g!==null?g.type!==0:p||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(b(l,h,g,p)&&(h=null),p||g===null?v(l)&&(h===null?o.removeAttribute(l):o.setAttribute(l,""+h)):g.mustUseProperty?o[g.propertyName]=h===null?g.type===3?!1:"":h:(l=g.attributeName,p=g.attributeNamespace,h===null?o.removeAttribute(l):(g=g.type,h=g===3||g===4&&h===!0?"":""+h,p?o.setAttributeNS(p,l,h):o.setAttribute(l,h))))}var U=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),G=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),M=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ue(o){return o===null||typeof o!="object"?null:(o=ie&&o[ie]||o["@@iterator"],typeof o=="function"?o:null)}var le=Object.assign,z;function J(o){if(z===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);z=l&&l[1]||""}return`
`+z+o}var fe=!1;function oe(o,l){if(!o||fe)return"";fe=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Q){var p=Q}Reflect.construct(o,[],l)}else{try{l.call()}catch(Q){p=Q}o.call(l.prototype)}else{try{throw Error()}catch(Q){p=Q}o()}}catch(Q){if(Q&&p&&typeof Q.stack=="string"){for(var g=Q.stack.split(`
`),E=p.stack.split(`
`),S=g.length-1,D=E.length-1;1<=S&&0<=D&&g[S]!==E[D];)D--;for(;1<=S&&0<=D;S--,D--)if(g[S]!==E[D]){if(S!==1||D!==1)do if(S--,D--,0>D||g[S]!==E[D]){var F=`
`+g[S].replace(" at new "," at ");return o.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",o.displayName)),F}while(1<=S&&0<=D);break}}}finally{fe=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?J(o):""}function de(o){switch(o.tag){case 5:return J(o.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return o=oe(o.type,!1),o;case 11:return o=oe(o.type.render,!1),o;case 1:return o=oe(o.type,!0),o;default:return""}}function he(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case P:return"Fragment";case G:return"Portal";case k:return"Profiler";case x:return"StrictMode";case O:return"Suspense";case De:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case M:return(o.displayName||"Context")+".Consumer";case N:return(o._context.displayName||"Context")+".Provider";case V:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Se:return l=o.displayName||null,l!==null?l:he(o.type)||"Memo";case we:l=o._payload,o=o._init;try{return he(o(l))}catch{}}return null}function Te(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(l);case 8:return l===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ae(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Le(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Be(o){var l=Le(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),p=""+o[l];if(!o.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,E=h.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return g.call(this)},set:function(S){p=""+S,E.call(this,S)}}),Object.defineProperty(o,l,{enumerable:h.enumerable}),{getValue:function(){return p},setValue:function(S){p=""+S},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Lt(o){o._valueTracker||(o._valueTracker=Be(o))}function zt(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var h=l.getValue(),p="";return o&&(p=Le(o)?o.checked?"true":"false":o.value),o=p,o!==h?(l.setValue(o),!0):!1}function Bt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function ui(o,l){var h=l.checked;return le({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function Di(o,l){var h=l.defaultValue==null?"":l.defaultValue,p=l.checked!=null?l.checked:l.defaultChecked;h=Ae(l.value!=null?l.value:h),o._wrapperState={initialChecked:p,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Mi(o,l){l=l.checked,l!=null&&j(o,"checked",l,!1)}function hi(o,l){Mi(o,l);var h=Ae(l.value),p=l.type;if(h!=null)p==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(p==="submit"||p==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Li(o,l.type,h):l.hasOwnProperty("defaultValue")&&Li(o,l.type,Ae(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function Qr(o,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var p=l.type;if(!(p!=="submit"&&p!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,h||l===o.value||(o.value=l),o.defaultValue=l}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function Li(o,l,h){(l!=="number"||Bt(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var At=Array.isArray;function fn(o,l,h,p){if(o=o.options,l){l={};for(var g=0;g<h.length;g++)l["$"+h[g]]=!0;for(h=0;h<o.length;h++)g=l.hasOwnProperty("$"+o[h].value),o[h].selected!==g&&(o[h].selected=g),g&&p&&(o[h].defaultSelected=!0)}else{for(h=""+Ae(h),l=null,g=0;g<o.length;g++){if(o[g].value===h){o[g].selected=!0,p&&(o[g].defaultSelected=!0);return}l!==null||o[g].disabled||(l=o[g])}l!==null&&(l.selected=!0)}}function Xr(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function fr(o,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(t(92));if(At(h)){if(1<h.length)throw Error(t(93));h=h[0]}l=h}l==null&&(l=""),h=l}o._wrapperState={initialValue:Ae(h)}}function Vi(o,l){var h=Ae(l.value),p=Ae(l.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),l.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),p!=null&&(o.defaultValue=""+p)}function Jr(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function pt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?pt(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Hn,Yl=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,p,g){MSApp.execUnsafeLocalFunction(function(){return o(l,h,p,g)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Hn=Hn||document.createElement("div"),Hn.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Hn.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Zr(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=l;return}}o.textContent=l}var io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ro=["Webkit","ms","Moz","O"];Object.keys(io).forEach(function(o){ro.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),io[l]=io[o]})});function Ql(o,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||io.hasOwnProperty(o)&&io[o]?(""+l).trim():l+"px"}function Xl(o,l){o=o.style;for(var h in l)if(l.hasOwnProperty(h)){var p=h.indexOf("--")===0,g=Ql(h,l[h],p);h==="float"&&(h="cssFloat"),p?o.setProperty(h,g):o[h]=g}}var Jl=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zl(o,l){if(l){if(Jl[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function ec(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var so=null;function la(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ca=null,Wn=null,Fi=null;function ua(o){if(o=Sc(o)){if(typeof ca!="function")throw Error(t(280));var l=o.stateNode;l&&(l=Ch(l),ca(o.stateNode,o.type,l))}}function $i(o){Wn?Fi?Fi.push(o):Fi=[o]:Wn=o}function tc(){if(Wn){var o=Wn,l=Fi;if(Fi=Wn=null,ua(o),l)for(o=0;o<l.length;o++)ua(l[o])}}function oo(o,l){return o(l)}function nc(){}var pr=!1;function ic(o,l,h){if(pr)return o(l,h);pr=!0;try{return oo(o,l,h)}finally{pr=!1,(Wn!==null||Fi!==null)&&(nc(),tc())}}function vt(o,l){var h=o.stateNode;if(h===null)return null;var p=Ch(h);if(p===null)return null;h=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(t(231,l,typeof h));return h}var ha=!1;if(c)try{var di={};Object.defineProperty(di,"passive",{get:function(){ha=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{ha=!1}function ao(o,l,h,p,g,E,S,D,F){var Q=Array.prototype.slice.call(arguments,3);try{l.apply(h,Q)}catch(te){this.onError(te)}}var lo=!1,da=null,fi=!1,rc=null,Fp={onError:function(o){lo=!0,da=o}};function fa(o,l,h,p,g,E,S,D,F){lo=!1,da=null,ao.apply(Fp,arguments)}function Zu(o,l,h,p,g,E,S,D,F){if(fa.apply(this,arguments),lo){if(lo){var Q=da;lo=!1,da=null}else throw Error(t(198));fi||(fi=!0,rc=Q)}}function pi(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(h=l.return),o=l.return;while(o)}return l.tag===3?h:null}function co(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function mi(o){if(pi(o)!==o)throw Error(t(188))}function eh(o){var l=o.alternate;if(!l){if(l=pi(o),l===null)throw Error(t(188));return l!==o?null:o}for(var h=o,p=l;;){var g=h.return;if(g===null)break;var E=g.alternate;if(E===null){if(p=g.return,p!==null){h=p;continue}break}if(g.child===E.child){for(E=g.child;E;){if(E===h)return mi(g),o;if(E===p)return mi(g),l;E=E.sibling}throw Error(t(188))}if(h.return!==p.return)h=g,p=E;else{for(var S=!1,D=g.child;D;){if(D===h){S=!0,h=g,p=E;break}if(D===p){S=!0,p=g,h=E;break}D=D.sibling}if(!S){for(D=E.child;D;){if(D===h){S=!0,h=E,p=g;break}if(D===p){S=!0,p=E,h=g;break}D=D.sibling}if(!S)throw Error(t(189))}}if(h.alternate!==p)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?o:l}function sc(o){return o=eh(o),o!==null?pa(o):null}function pa(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=pa(o);if(l!==null)return l;o=o.sibling}return null}var ma=e.unstable_scheduleCallback,oc=e.unstable_cancelCallback,th=e.unstable_shouldYield,$p=e.unstable_requestPaint,nt=e.unstable_now,nh=e.unstable_getCurrentPriorityLevel,uo=e.unstable_ImmediatePriority,es=e.unstable_UserBlockingPriority,Kn=e.unstable_NormalPriority,ac=e.unstable_LowPriority,ih=e.unstable_IdlePriority,ho=null,Rn=null;function rh(o){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(ho,o,void 0,(o.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:oh,lc=Math.log,sh=Math.LN2;function oh(o){return o>>>=0,o===0?32:31-(lc(o)/sh|0)|0}var ga=64,_a=4194304;function ts(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function fo(o,l){var h=o.pendingLanes;if(h===0)return 0;var p=0,g=o.suspendedLanes,E=o.pingedLanes,S=h&268435455;if(S!==0){var D=S&~g;D!==0?p=ts(D):(E&=S,E!==0&&(p=ts(E)))}else S=h&~g,S!==0?p=ts(S):E!==0&&(p=ts(E));if(p===0)return 0;if(l!==0&&l!==p&&(l&g)===0&&(g=p&-p,E=l&-l,g>=E||g===16&&(E&4194240)!==0))return l;if((p&4)!==0&&(p|=h&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=p;0<l;)h=31-on(l),g=1<<h,p|=o[h],l&=~g;return p}function jp(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mr(o,l){for(var h=o.suspendedLanes,p=o.pingedLanes,g=o.expirationTimes,E=o.pendingLanes;0<E;){var S=31-on(E),D=1<<S,F=g[S];F===-1?((D&h)===0||(D&p)!==0)&&(g[S]=jp(D,l)):F<=l&&(o.expiredLanes|=D),E&=~D}}function Pn(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function po(){var o=ga;return ga<<=1,(ga&4194240)===0&&(ga=64),o}function ns(o){for(var l=[],h=0;31>h;h++)l.push(o);return l}function is(o,l,h){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-on(l),o[l]=h}function et(o,l){var h=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var p=o.eventTimes;for(o=o.expirationTimes;0<h;){var g=31-on(h),E=1<<g;l[g]=0,p[g]=-1,o[g]=-1,h&=~E}}function rs(o,l){var h=o.entangledLanes|=l;for(o=o.entanglements;h;){var p=31-on(h),g=1<<p;g&l|o[p]&l&&(o[p]|=l),h&=~g}}var ze=0;function ss(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var ah,ya,lh,ch,uh,cc=!1,ji=[],Ht=null,gi=null,_i=null,os=new Map,qn=new Map,Ui=[],Up="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hh(o,l){switch(o){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":os.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":qn.delete(l.pointerId)}}function pn(o,l,h,p,g,E){return o===null||o.nativeEvent!==E?(o={blockedOn:l,domEventName:h,eventSystemFlags:p,nativeEvent:E,targetContainers:[g]},l!==null&&(l=Sc(l),l!==null&&ya(l)),o):(o.eventSystemFlags|=p,l=o.targetContainers,g!==null&&l.indexOf(g)===-1&&l.push(g),o)}function zp(o,l,h,p,g){switch(l){case"focusin":return Ht=pn(Ht,o,l,h,p,g),!0;case"dragenter":return gi=pn(gi,o,l,h,p,g),!0;case"mouseover":return _i=pn(_i,o,l,h,p,g),!0;case"pointerover":var E=g.pointerId;return os.set(E,pn(os.get(E)||null,o,l,h,p,g)),!0;case"gotpointercapture":return E=g.pointerId,qn.set(E,pn(qn.get(E)||null,o,l,h,p,g)),!0}return!1}function dh(o){var l=vo(o.target);if(l!==null){var h=pi(l);if(h!==null){if(l=h.tag,l===13){if(l=co(h),l!==null){o.blockedOn=l,uh(o.priority,function(){lh(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function gr(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var h=va(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var p=new h.constructor(h.type,h);so=p,h.target.dispatchEvent(p),so=null}else return l=Sc(h),l!==null&&ya(l),o.blockedOn=h,!1;l.shift()}return!0}function mo(o,l,h){gr(o)&&h.delete(l)}function fh(){cc=!1,Ht!==null&&gr(Ht)&&(Ht=null),gi!==null&&gr(gi)&&(gi=null),_i!==null&&gr(_i)&&(_i=null),os.forEach(mo),qn.forEach(mo)}function yi(o,l){o.blockedOn===l&&(o.blockedOn=null,cc||(cc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fh)))}function vi(o){function l(g){return yi(g,o)}if(0<ji.length){yi(ji[0],o);for(var h=1;h<ji.length;h++){var p=ji[h];p.blockedOn===o&&(p.blockedOn=null)}}for(Ht!==null&&yi(Ht,o),gi!==null&&yi(gi,o),_i!==null&&yi(_i,o),os.forEach(l),qn.forEach(l),h=0;h<Ui.length;h++)p=Ui[h],p.blockedOn===o&&(p.blockedOn=null);for(;0<Ui.length&&(h=Ui[0],h.blockedOn===null);)dh(h),h.blockedOn===null&&Ui.shift()}var _r=U.ReactCurrentBatchConfig,as=!0;function at(o,l,h,p){var g=ze,E=_r.transition;_r.transition=null;try{ze=1,uc(o,l,h,p)}finally{ze=g,_r.transition=E}}function Bp(o,l,h,p){var g=ze,E=_r.transition;_r.transition=null;try{ze=4,uc(o,l,h,p)}finally{ze=g,_r.transition=E}}function uc(o,l,h,p){if(as){var g=va(o,l,h,p);if(g===null)em(o,l,p,go,h),hh(o,p);else if(zp(g,o,l,h,p))p.stopPropagation();else if(hh(o,p),l&4&&-1<Up.indexOf(o)){for(;g!==null;){var E=Sc(g);if(E!==null&&ah(E),E=va(o,l,h,p),E===null&&em(o,l,p,go,h),E===g)break;g=E}g!==null&&p.stopPropagation()}else em(o,l,p,null,h)}}var go=null;function va(o,l,h,p){if(go=null,o=la(p),o=vo(o),o!==null)if(l=pi(o),l===null)o=null;else if(h=l.tag,h===13){if(o=co(l),o!==null)return o;o=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return go=o,null}function hc(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nh()){case uo:return 1;case es:return 4;case Kn:case ac:return 16;case ih:return 536870912;default:return 16}default:return 16}}var On=null,Ea=null,mn=null;function dc(){if(mn)return mn;var o,l=Ea,h=l.length,p,g="value"in On?On.value:On.textContent,E=g.length;for(o=0;o<h&&l[o]===g[o];o++);var S=h-o;for(p=1;p<=S&&l[h-p]===g[E-p];p++);return mn=g.slice(o,1<p?1-p:void 0)}function wa(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function zi(){return!0}function fc(){return!1}function Wt(o){function l(h,p,g,E,S){this._reactName=h,this._targetInst=g,this.type=p,this.nativeEvent=E,this.target=S,this.currentTarget=null;for(var D in o)o.hasOwnProperty(D)&&(h=o[D],this[D]=h?h(E):E[D]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?zi:fc,this.isPropagationStopped=fc,this}return le(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),l}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=Wt(Ei),Bi=le({},Ei,{view:0,detail:0}),Hp=Wt(Bi),ba,yr,ls,_o=le({},Bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hi,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ls&&(ls&&o.type==="mousemove"?(ba=o.screenX-ls.screenX,yr=o.screenY-ls.screenY):yr=ba=0,ls=o),ba)},movementY:function(o){return"movementY"in o?o.movementY:yr}}),Sa=Wt(_o),pc=le({},_o,{dataTransfer:0}),ph=Wt(pc),Ia=le({},Bi,{relatedTarget:0}),Aa=Wt(Ia),mh=le({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),vr=Wt(mh),gh=le({},Ei,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),_h=Wt(gh),yh=le({},Ei,{data:0}),mc=Wt(yh),xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},an={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eh(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=vh[o])?!!l[o]:!1}function Hi(){return Eh}var f=le({},Bi,{key:function(o){if(o.key){var l=xa[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=wa(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?an[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hi,charCode:function(o){return o.type==="keypress"?wa(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?wa(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),y=Wt(f),T=le({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=Wt(T),B=le({},Bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hi}),X=Wt(B),ce=le({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ze=Wt(ce),xt=le({},_o,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),He=Wt(xt),Vt=[9,13,27,32],Tt=c&&"CompositionEvent"in window,Gn=null;c&&"documentMode"in document&&(Gn=document.documentMode);var Nn=c&&"TextEvent"in window&&!Gn,yo=c&&(!Tt||Gn&&8<Gn&&11>=Gn),Ca=" ",Vv=!1;function Fv(o,l){switch(o){case"keyup":return Vt.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $v(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ka=!1;function q1(o,l){switch(o){case"compositionend":return $v(l);case"keypress":return l.which!==32?null:(Vv=!0,Ca);case"textInput":return o=l.data,o===Ca&&Vv?null:o;default:return null}}function G1(o,l){if(ka)return o==="compositionend"||!Tt&&Fv(o,l)?(o=dc(),mn=Ea=On=null,ka=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return yo&&l.locale!=="ko"?null:l.data;default:return null}}var Y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jv(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Y1[o.type]:l==="textarea"}function Uv(o,l,h,p){$i(p),l=Ih(l,"onChange"),0<l.length&&(h=new Ta("onChange","change",null,h,p),o.push({event:h,listeners:l}))}var gc=null,_c=null;function Q1(o){sE(o,0)}function wh(o){var l=Da(o);if(zt(l))return o}function X1(o,l){if(o==="change")return l}var zv=!1;if(c){var Wp;if(c){var Kp="oninput"in document;if(!Kp){var Bv=document.createElement("div");Bv.setAttribute("oninput","return;"),Kp=typeof Bv.oninput=="function"}Wp=Kp}else Wp=!1;zv=Wp&&(!document.documentMode||9<document.documentMode)}function Hv(){gc&&(gc.detachEvent("onpropertychange",Wv),_c=gc=null)}function Wv(o){if(o.propertyName==="value"&&wh(_c)){var l=[];Uv(l,_c,o,la(o)),ic(Q1,l)}}function J1(o,l,h){o==="focusin"?(Hv(),gc=l,_c=h,gc.attachEvent("onpropertychange",Wv)):o==="focusout"&&Hv()}function Z1(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return wh(_c)}function ek(o,l){if(o==="click")return wh(l)}function tk(o,l){if(o==="input"||o==="change")return wh(l)}function nk(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var wi=typeof Object.is=="function"?Object.is:nk;function yc(o,l){if(wi(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),p=Object.keys(l);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var g=h[p];if(!u.call(l,g)||!wi(o[g],l[g]))return!1}return!0}function Kv(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function qv(o,l){var h=Kv(o);o=0;for(var p;h;){if(h.nodeType===3){if(p=o+h.textContent.length,o<=l&&p>=l)return{node:h,offset:l-o};o=p}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Kv(h)}}function Gv(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?Gv(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function Yv(){for(var o=window,l=Bt();l instanceof o.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)o=l.contentWindow;else break;l=Bt(o.document)}return l}function qp(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function ik(o){var l=Yv(),h=o.focusedElem,p=o.selectionRange;if(l!==h&&h&&h.ownerDocument&&Gv(h.ownerDocument.documentElement,h)){if(p!==null&&qp(h)){if(l=p.start,o=p.end,o===void 0&&(o=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(o,h.value.length);else if(o=(l=h.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var g=h.textContent.length,E=Math.min(p.start,g);p=p.end===void 0?E:Math.min(p.end,g),!o.extend&&E>p&&(g=p,p=E,E=g),g=qv(h,E);var S=qv(h,p);g&&S&&(o.rangeCount!==1||o.anchorNode!==g.node||o.anchorOffset!==g.offset||o.focusNode!==S.node||o.focusOffset!==S.offset)&&(l=l.createRange(),l.setStart(g.node,g.offset),o.removeAllRanges(),E>p?(o.addRange(l),o.extend(S.node,S.offset)):(l.setEnd(S.node,S.offset),o.addRange(l)))}}for(l=[],o=h;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)o=l[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var rk=c&&"documentMode"in document&&11>=document.documentMode,Ra=null,Gp=null,vc=null,Yp=!1;function Qv(o,l,h){var p=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Yp||Ra==null||Ra!==Bt(p)||(p=Ra,"selectionStart"in p&&qp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),vc&&yc(vc,p)||(vc=p,p=Ih(Gp,"onSelect"),0<p.length&&(l=new Ta("onSelect","select",null,l,h),o.push({event:l,listeners:p}),l.target=Ra)))}function Th(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var Pa={animationend:Th("Animation","AnimationEnd"),animationiteration:Th("Animation","AnimationIteration"),animationstart:Th("Animation","AnimationStart"),transitionend:Th("Transition","TransitionEnd")},Qp={},Xv={};c&&(Xv=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function bh(o){if(Qp[o])return Qp[o];if(!Pa[o])return o;var l=Pa[o],h;for(h in l)if(l.hasOwnProperty(h)&&h in Xv)return Qp[o]=l[h];return o}var Jv=bh("animationend"),Zv=bh("animationiteration"),eE=bh("animationstart"),tE=bh("transitionend"),nE=new Map,iE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cs(o,l){nE.set(o,l),s(l,[o])}for(var Xp=0;Xp<iE.length;Xp++){var Jp=iE[Xp],sk=Jp.toLowerCase(),ok=Jp[0].toUpperCase()+Jp.slice(1);cs(sk,"on"+ok)}cs(Jv,"onAnimationEnd"),cs(Zv,"onAnimationIteration"),cs(eE,"onAnimationStart"),cs("dblclick","onDoubleClick"),cs("focusin","onFocus"),cs("focusout","onBlur"),cs(tE,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ak=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ec));function rE(o,l,h){var p=o.type||"unknown-event";o.currentTarget=h,Zu(p,l,void 0,o),o.currentTarget=null}function sE(o,l){l=(l&4)!==0;for(var h=0;h<o.length;h++){var p=o[h],g=p.event;p=p.listeners;e:{var E=void 0;if(l)for(var S=p.length-1;0<=S;S--){var D=p[S],F=D.instance,Q=D.currentTarget;if(D=D.listener,F!==E&&g.isPropagationStopped())break e;rE(g,D,Q),E=F}else for(S=0;S<p.length;S++){if(D=p[S],F=D.instance,Q=D.currentTarget,D=D.listener,F!==E&&g.isPropagationStopped())break e;rE(g,D,Q),E=F}}}if(fi)throw o=rc,fi=!1,rc=null,o}function rt(o,l){var h=l[om];h===void 0&&(h=l[om]=new Set);var p=o+"__bubble";h.has(p)||(oE(l,o,2,!1),h.add(p))}function Zp(o,l,h){var p=0;l&&(p|=4),oE(h,o,p,l)}var Sh="_reactListening"+Math.random().toString(36).slice(2);function wc(o){if(!o[Sh]){o[Sh]=!0,i.forEach(function(h){h!=="selectionchange"&&(ak.has(h)||Zp(h,!1,o),Zp(h,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Sh]||(l[Sh]=!0,Zp("selectionchange",!1,l))}}function oE(o,l,h,p){switch(hc(l)){case 1:var g=at;break;case 4:g=Bp;break;default:g=uc}h=g.bind(null,l,h,o),g=void 0,!ha||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(g=!0),p?g!==void 0?o.addEventListener(l,h,{capture:!0,passive:g}):o.addEventListener(l,h,!0):g!==void 0?o.addEventListener(l,h,{passive:g}):o.addEventListener(l,h,!1)}function em(o,l,h,p,g){var E=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var S=p.tag;if(S===3||S===4){var D=p.stateNode.containerInfo;if(D===g||D.nodeType===8&&D.parentNode===g)break;if(S===4)for(S=p.return;S!==null;){var F=S.tag;if((F===3||F===4)&&(F=S.stateNode.containerInfo,F===g||F.nodeType===8&&F.parentNode===g))return;S=S.return}for(;D!==null;){if(S=vo(D),S===null)return;if(F=S.tag,F===5||F===6){p=E=S;continue e}D=D.parentNode}}p=p.return}ic(function(){var Q=E,te=la(h),re=[];e:{var ee=nE.get(o);if(ee!==void 0){var pe=Ta,ye=o;switch(o){case"keypress":if(wa(h)===0)break e;case"keydown":case"keyup":pe=y;break;case"focusin":ye="focus",pe=Aa;break;case"focusout":ye="blur",pe=Aa;break;case"beforeblur":case"afterblur":pe=Aa;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Sa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=ph;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=X;break;case Jv:case Zv:case eE:pe=vr;break;case tE:pe=Ze;break;case"scroll":pe=Hp;break;case"wheel":pe=He;break;case"copy":case"cut":case"paste":pe=_h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=C}var ve=(l&4)!==0,Et=!ve&&o==="scroll",H=ve?ee!==null?ee+"Capture":null:ee;ve=[];for(var $=Q,K;$!==null;){K=$;var ae=K.stateNode;if(K.tag===5&&ae!==null&&(K=ae,H!==null&&(ae=vt($,H),ae!=null&&ve.push(Tc($,ae,K)))),Et)break;$=$.return}0<ve.length&&(ee=new pe(ee,ye,null,h,te),re.push({event:ee,listeners:ve}))}}if((l&7)===0){e:{if(ee=o==="mouseover"||o==="pointerover",pe=o==="mouseout"||o==="pointerout",ee&&h!==so&&(ye=h.relatedTarget||h.fromElement)&&(vo(ye)||ye[Er]))break e;if((pe||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,pe?(ye=h.relatedTarget||h.toElement,pe=Q,ye=ye?vo(ye):null,ye!==null&&(Et=pi(ye),ye!==Et||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(pe=null,ye=Q),pe!==ye)){if(ve=Sa,ae="onMouseLeave",H="onMouseEnter",$="mouse",(o==="pointerout"||o==="pointerover")&&(ve=C,ae="onPointerLeave",H="onPointerEnter",$="pointer"),Et=pe==null?ee:Da(pe),K=ye==null?ee:Da(ye),ee=new ve(ae,$+"leave",pe,h,te),ee.target=Et,ee.relatedTarget=K,ae=null,vo(te)===Q&&(ve=new ve(H,$+"enter",ye,h,te),ve.target=K,ve.relatedTarget=Et,ae=ve),Et=ae,pe&&ye)t:{for(ve=pe,H=ye,$=0,K=ve;K;K=Oa(K))$++;for(K=0,ae=H;ae;ae=Oa(ae))K++;for(;0<$-K;)ve=Oa(ve),$--;for(;0<K-$;)H=Oa(H),K--;for(;$--;){if(ve===H||H!==null&&ve===H.alternate)break t;ve=Oa(ve),H=Oa(H)}ve=null}else ve=null;pe!==null&&aE(re,ee,pe,ve,!1),ye!==null&&Et!==null&&aE(re,Et,ye,ve,!0)}}e:{if(ee=Q?Da(Q):window,pe=ee.nodeName&&ee.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ee.type==="file")var Ee=X1;else if(jv(ee))if(zv)Ee=tk;else{Ee=Z1;var xe=J1}else(pe=ee.nodeName)&&pe.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(Ee=ek);if(Ee&&(Ee=Ee(o,Q))){Uv(re,Ee,h,te);break e}xe&&xe(o,ee,Q),o==="focusout"&&(xe=ee._wrapperState)&&xe.controlled&&ee.type==="number"&&Li(ee,"number",ee.value)}switch(xe=Q?Da(Q):window,o){case"focusin":(jv(xe)||xe.contentEditable==="true")&&(Ra=xe,Gp=Q,vc=null);break;case"focusout":vc=Gp=Ra=null;break;case"mousedown":Yp=!0;break;case"contextmenu":case"mouseup":case"dragend":Yp=!1,Qv(re,h,te);break;case"selectionchange":if(rk)break;case"keydown":case"keyup":Qv(re,h,te)}var Ce;if(Tt)e:{switch(o){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else ka?Fv(o,h)&&(Ne="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Ne="onCompositionStart");Ne&&(yo&&h.locale!=="ko"&&(ka||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&ka&&(Ce=dc()):(On=te,Ea="value"in On?On.value:On.textContent,ka=!0)),xe=Ih(Q,Ne),0<xe.length&&(Ne=new mc(Ne,o,null,h,te),re.push({event:Ne,listeners:xe}),Ce?Ne.data=Ce:(Ce=$v(h),Ce!==null&&(Ne.data=Ce)))),(Ce=Nn?q1(o,h):G1(o,h))&&(Q=Ih(Q,"onBeforeInput"),0<Q.length&&(te=new mc("onBeforeInput","beforeinput",null,h,te),re.push({event:te,listeners:Q}),te.data=Ce))}sE(re,l)})}function Tc(o,l,h){return{instance:o,listener:l,currentTarget:h}}function Ih(o,l){for(var h=l+"Capture",p=[];o!==null;){var g=o,E=g.stateNode;g.tag===5&&E!==null&&(g=E,E=vt(o,h),E!=null&&p.unshift(Tc(o,E,g)),E=vt(o,l),E!=null&&p.push(Tc(o,E,g))),o=o.return}return p}function Oa(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function aE(o,l,h,p,g){for(var E=l._reactName,S=[];h!==null&&h!==p;){var D=h,F=D.alternate,Q=D.stateNode;if(F!==null&&F===p)break;D.tag===5&&Q!==null&&(D=Q,g?(F=vt(h,E),F!=null&&S.unshift(Tc(h,F,D))):g||(F=vt(h,E),F!=null&&S.push(Tc(h,F,D)))),h=h.return}S.length!==0&&o.push({event:l,listeners:S})}var lk=/\r\n?/g,ck=/\u0000|\uFFFD/g;function lE(o){return(typeof o=="string"?o:""+o).replace(lk,`
`).replace(ck,"")}function Ah(o,l,h){if(l=lE(l),lE(o)!==l&&h)throw Error(t(425))}function xh(){}var tm=null,nm=null;function im(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var rm=typeof setTimeout=="function"?setTimeout:void 0,uk=typeof clearTimeout=="function"?clearTimeout:void 0,cE=typeof Promise=="function"?Promise:void 0,hk=typeof queueMicrotask=="function"?queueMicrotask:typeof cE<"u"?function(o){return cE.resolve(null).then(o).catch(dk)}:rm;function dk(o){setTimeout(function(){throw o})}function sm(o,l){var h=l,p=0;do{var g=h.nextSibling;if(o.removeChild(h),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(p===0){o.removeChild(g),vi(l);return}p--}else h!=="$"&&h!=="$?"&&h!=="$!"||p++;h=g}while(h);vi(l)}function us(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function uE(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return o;l--}else h==="/$"&&l++}o=o.previousSibling}return null}var Na=Math.random().toString(36).slice(2),Wi="__reactFiber$"+Na,bc="__reactProps$"+Na,Er="__reactContainer$"+Na,om="__reactEvents$"+Na,fk="__reactListeners$"+Na,pk="__reactHandles$"+Na;function vo(o){var l=o[Wi];if(l)return l;for(var h=o.parentNode;h;){if(l=h[Er]||h[Wi]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(o=uE(o);o!==null;){if(h=o[Wi])return h;o=uE(o)}return l}o=h,h=o.parentNode}return null}function Sc(o){return o=o[Wi]||o[Er],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Da(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function Ch(o){return o[bc]||null}var am=[],Ma=-1;function hs(o){return{current:o}}function st(o){0>Ma||(o.current=am[Ma],am[Ma]=null,Ma--)}function it(o,l){Ma++,am[Ma]=o.current,o.current=l}var ds={},Xt=hs(ds),gn=hs(!1),Eo=ds;function La(o,l){var h=o.type.contextTypes;if(!h)return ds;var p=o.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===l)return p.__reactInternalMemoizedMaskedChildContext;var g={},E;for(E in h)g[E]=l[E];return p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=g),g}function _n(o){return o=o.childContextTypes,o!=null}function kh(){st(gn),st(Xt)}function hE(o,l,h){if(Xt.current!==ds)throw Error(t(168));it(Xt,l),it(gn,h)}function dE(o,l,h){var p=o.stateNode;if(l=l.childContextTypes,typeof p.getChildContext!="function")return h;p=p.getChildContext();for(var g in p)if(!(g in l))throw Error(t(108,Te(o)||"Unknown",g));return le({},h,p)}function Rh(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ds,Eo=Xt.current,it(Xt,o),it(gn,gn.current),!0}function fE(o,l,h){var p=o.stateNode;if(!p)throw Error(t(169));h?(o=dE(o,l,Eo),p.__reactInternalMemoizedMergedChildContext=o,st(gn),st(Xt),it(Xt,o)):st(gn),it(gn,h)}var wr=null,Ph=!1,lm=!1;function pE(o){wr===null?wr=[o]:wr.push(o)}function mk(o){Ph=!0,pE(o)}function fs(){if(!lm&&wr!==null){lm=!0;var o=0,l=ze;try{var h=wr;for(ze=1;o<h.length;o++){var p=h[o];do p=p(!0);while(p!==null)}wr=null,Ph=!1}catch(g){throw wr!==null&&(wr=wr.slice(o+1)),ma(uo,fs),g}finally{ze=l,lm=!1}}return null}var Va=[],Fa=0,Oh=null,Nh=0,Yn=[],Qn=0,wo=null,Tr=1,br="";function To(o,l){Va[Fa++]=Nh,Va[Fa++]=Oh,Oh=o,Nh=l}function mE(o,l,h){Yn[Qn++]=Tr,Yn[Qn++]=br,Yn[Qn++]=wo,wo=o;var p=Tr;o=br;var g=32-on(p)-1;p&=~(1<<g),h+=1;var E=32-on(l)+g;if(30<E){var S=g-g%5;E=(p&(1<<S)-1).toString(32),p>>=S,g-=S,Tr=1<<32-on(l)+g|h<<g|p,br=E+o}else Tr=1<<E|h<<g|p,br=o}function cm(o){o.return!==null&&(To(o,1),mE(o,1,0))}function um(o){for(;o===Oh;)Oh=Va[--Fa],Va[Fa]=null,Nh=Va[--Fa],Va[Fa]=null;for(;o===wo;)wo=Yn[--Qn],Yn[Qn]=null,br=Yn[--Qn],Yn[Qn]=null,Tr=Yn[--Qn],Yn[Qn]=null}var Dn=null,Mn=null,lt=!1,Ti=null;function gE(o,l){var h=ei(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=o,l=o.deletions,l===null?(o.deletions=[h],o.flags|=16):l.push(h)}function _E(o,l){switch(o.tag){case 5:var h=o.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Dn=o,Mn=us(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Dn=o,Mn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=wo!==null?{id:Tr,overflow:br}:null,o.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=ei(18,null,null,0),h.stateNode=l,h.return=o,o.child=h,Dn=o,Mn=null,!0):!1;default:return!1}}function hm(o){return(o.mode&1)!==0&&(o.flags&128)===0}function dm(o){if(lt){var l=Mn;if(l){var h=l;if(!_E(o,l)){if(hm(o))throw Error(t(418));l=us(h.nextSibling);var p=Dn;l&&_E(o,l)?gE(p,h):(o.flags=o.flags&-4097|2,lt=!1,Dn=o)}}else{if(hm(o))throw Error(t(418));o.flags=o.flags&-4097|2,lt=!1,Dn=o}}}function yE(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Dn=o}function Dh(o){if(o!==Dn)return!1;if(!lt)return yE(o),lt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!im(o.type,o.memoizedProps)),l&&(l=Mn)){if(hm(o))throw vE(),Error(t(418));for(;l;)gE(o,l),l=us(l.nextSibling)}if(yE(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(l===0){Mn=us(o.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}o=o.nextSibling}Mn=null}}else Mn=Dn?us(o.stateNode.nextSibling):null;return!0}function vE(){for(var o=Mn;o;)o=us(o.nextSibling)}function $a(){Mn=Dn=null,lt=!1}function fm(o){Ti===null?Ti=[o]:Ti.push(o)}var gk=U.ReactCurrentBatchConfig;function Ic(o,l,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var p=h.stateNode}if(!p)throw Error(t(147,o));var g=p,E=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===E?l.ref:(l=function(S){var D=g.refs;S===null?delete D[E]:D[E]=S},l._stringRef=E,l)}if(typeof o!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,o))}return o}function Mh(o,l){throw o=Object.prototype.toString.call(l),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function EE(o){var l=o._init;return l(o._payload)}function wE(o){function l(H,$){if(o){var K=H.deletions;K===null?(H.deletions=[$],H.flags|=16):K.push($)}}function h(H,$){if(!o)return null;for(;$!==null;)l(H,$),$=$.sibling;return null}function p(H,$){for(H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function g(H,$){return H=ws(H,$),H.index=0,H.sibling=null,H}function E(H,$,K){return H.index=K,o?(K=H.alternate,K!==null?(K=K.index,K<$?(H.flags|=2,$):K):(H.flags|=2,$)):(H.flags|=1048576,$)}function S(H){return o&&H.alternate===null&&(H.flags|=2),H}function D(H,$,K,ae){return $===null||$.tag!==6?($=rg(K,H.mode,ae),$.return=H,$):($=g($,K),$.return=H,$)}function F(H,$,K,ae){var Ee=K.type;return Ee===P?te(H,$,K.props.children,ae,K.key):$!==null&&($.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===we&&EE(Ee)===$.type)?(ae=g($,K.props),ae.ref=Ic(H,$,K),ae.return=H,ae):(ae=sd(K.type,K.key,K.props,null,H.mode,ae),ae.ref=Ic(H,$,K),ae.return=H,ae)}function Q(H,$,K,ae){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=sg(K,H.mode,ae),$.return=H,$):($=g($,K.children||[]),$.return=H,$)}function te(H,$,K,ae,Ee){return $===null||$.tag!==7?($=Ro(K,H.mode,ae,Ee),$.return=H,$):($=g($,K),$.return=H,$)}function re(H,$,K){if(typeof $=="string"&&$!==""||typeof $=="number")return $=rg(""+$,H.mode,K),$.return=H,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case q:return K=sd($.type,$.key,$.props,null,H.mode,K),K.ref=Ic(H,null,$),K.return=H,K;case G:return $=sg($,H.mode,K),$.return=H,$;case we:var ae=$._init;return re(H,ae($._payload),K)}if(At($)||ue($))return $=Ro($,H.mode,K,null),$.return=H,$;Mh(H,$)}return null}function ee(H,$,K,ae){var Ee=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Ee!==null?null:D(H,$,""+K,ae);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return K.key===Ee?F(H,$,K,ae):null;case G:return K.key===Ee?Q(H,$,K,ae):null;case we:return Ee=K._init,ee(H,$,Ee(K._payload),ae)}if(At(K)||ue(K))return Ee!==null?null:te(H,$,K,ae,null);Mh(H,K)}return null}function pe(H,$,K,ae,Ee){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return H=H.get(K)||null,D($,H,""+ae,Ee);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case q:return H=H.get(ae.key===null?K:ae.key)||null,F($,H,ae,Ee);case G:return H=H.get(ae.key===null?K:ae.key)||null,Q($,H,ae,Ee);case we:var xe=ae._init;return pe(H,$,K,xe(ae._payload),Ee)}if(At(ae)||ue(ae))return H=H.get(K)||null,te($,H,ae,Ee,null);Mh($,ae)}return null}function ye(H,$,K,ae){for(var Ee=null,xe=null,Ce=$,Ne=$=0,jt=null;Ce!==null&&Ne<K.length;Ne++){Ce.index>Ne?(jt=Ce,Ce=null):jt=Ce.sibling;var Ye=ee(H,Ce,K[Ne],ae);if(Ye===null){Ce===null&&(Ce=jt);break}o&&Ce&&Ye.alternate===null&&l(H,Ce),$=E(Ye,$,Ne),xe===null?Ee=Ye:xe.sibling=Ye,xe=Ye,Ce=jt}if(Ne===K.length)return h(H,Ce),lt&&To(H,Ne),Ee;if(Ce===null){for(;Ne<K.length;Ne++)Ce=re(H,K[Ne],ae),Ce!==null&&($=E(Ce,$,Ne),xe===null?Ee=Ce:xe.sibling=Ce,xe=Ce);return lt&&To(H,Ne),Ee}for(Ce=p(H,Ce);Ne<K.length;Ne++)jt=pe(Ce,H,Ne,K[Ne],ae),jt!==null&&(o&&jt.alternate!==null&&Ce.delete(jt.key===null?Ne:jt.key),$=E(jt,$,Ne),xe===null?Ee=jt:xe.sibling=jt,xe=jt);return o&&Ce.forEach(function(Ts){return l(H,Ts)}),lt&&To(H,Ne),Ee}function ve(H,$,K,ae){var Ee=ue(K);if(typeof Ee!="function")throw Error(t(150));if(K=Ee.call(K),K==null)throw Error(t(151));for(var xe=Ee=null,Ce=$,Ne=$=0,jt=null,Ye=K.next();Ce!==null&&!Ye.done;Ne++,Ye=K.next()){Ce.index>Ne?(jt=Ce,Ce=null):jt=Ce.sibling;var Ts=ee(H,Ce,Ye.value,ae);if(Ts===null){Ce===null&&(Ce=jt);break}o&&Ce&&Ts.alternate===null&&l(H,Ce),$=E(Ts,$,Ne),xe===null?Ee=Ts:xe.sibling=Ts,xe=Ts,Ce=jt}if(Ye.done)return h(H,Ce),lt&&To(H,Ne),Ee;if(Ce===null){for(;!Ye.done;Ne++,Ye=K.next())Ye=re(H,Ye.value,ae),Ye!==null&&($=E(Ye,$,Ne),xe===null?Ee=Ye:xe.sibling=Ye,xe=Ye);return lt&&To(H,Ne),Ee}for(Ce=p(H,Ce);!Ye.done;Ne++,Ye=K.next())Ye=pe(Ce,H,Ne,Ye.value,ae),Ye!==null&&(o&&Ye.alternate!==null&&Ce.delete(Ye.key===null?Ne:Ye.key),$=E(Ye,$,Ne),xe===null?Ee=Ye:xe.sibling=Ye,xe=Ye);return o&&Ce.forEach(function(Yk){return l(H,Yk)}),lt&&To(H,Ne),Ee}function Et(H,$,K,ae){if(typeof K=="object"&&K!==null&&K.type===P&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case q:e:{for(var Ee=K.key,xe=$;xe!==null;){if(xe.key===Ee){if(Ee=K.type,Ee===P){if(xe.tag===7){h(H,xe.sibling),$=g(xe,K.props.children),$.return=H,H=$;break e}}else if(xe.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===we&&EE(Ee)===xe.type){h(H,xe.sibling),$=g(xe,K.props),$.ref=Ic(H,xe,K),$.return=H,H=$;break e}h(H,xe);break}else l(H,xe);xe=xe.sibling}K.type===P?($=Ro(K.props.children,H.mode,ae,K.key),$.return=H,H=$):(ae=sd(K.type,K.key,K.props,null,H.mode,ae),ae.ref=Ic(H,$,K),ae.return=H,H=ae)}return S(H);case G:e:{for(xe=K.key;$!==null;){if($.key===xe)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){h(H,$.sibling),$=g($,K.children||[]),$.return=H,H=$;break e}else{h(H,$);break}else l(H,$);$=$.sibling}$=sg(K,H.mode,ae),$.return=H,H=$}return S(H);case we:return xe=K._init,Et(H,$,xe(K._payload),ae)}if(At(K))return ye(H,$,K,ae);if(ue(K))return ve(H,$,K,ae);Mh(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,$!==null&&$.tag===6?(h(H,$.sibling),$=g($,K),$.return=H,H=$):(h(H,$),$=rg(K,H.mode,ae),$.return=H,H=$),S(H)):h(H,$)}return Et}var ja=wE(!0),TE=wE(!1),Lh=hs(null),Vh=null,Ua=null,pm=null;function mm(){pm=Ua=Vh=null}function gm(o){var l=Lh.current;st(Lh),o._currentValue=l}function _m(o,l,h){for(;o!==null;){var p=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),o===h)break;o=o.return}}function za(o,l){Vh=o,pm=Ua=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(yn=!0),o.firstContext=null)}function Xn(o){var l=o._currentValue;if(pm!==o)if(o={context:o,memoizedValue:l,next:null},Ua===null){if(Vh===null)throw Error(t(308));Ua=o,Vh.dependencies={lanes:0,firstContext:o}}else Ua=Ua.next=o;return l}var bo=null;function ym(o){bo===null?bo=[o]:bo.push(o)}function bE(o,l,h,p){var g=l.interleaved;return g===null?(h.next=h,ym(l)):(h.next=g.next,g.next=h),l.interleaved=h,Sr(o,p)}function Sr(o,l){o.lanes|=l;var h=o.alternate;for(h!==null&&(h.lanes|=l),h=o,o=o.return;o!==null;)o.childLanes|=l,h=o.alternate,h!==null&&(h.childLanes|=l),h=o,o=o.return;return h.tag===3?h.stateNode:null}var ps=!1;function vm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SE(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ir(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function ms(o,l,h){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(Ge&2)!==0){var g=p.pending;return g===null?l.next=l:(l.next=g.next,g.next=l),p.pending=l,Sr(o,h)}return g=p.interleaved,g===null?(l.next=l,ym(p)):(l.next=g.next,g.next=l),p.interleaved=l,Sr(o,h)}function Fh(o,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var p=l.lanes;p&=o.pendingLanes,h|=p,l.lanes=h,rs(o,h)}}function IE(o,l){var h=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var g=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var S={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};E===null?g=E=S:E=E.next=S,h=h.next}while(h!==null);E===null?g=E=l:E=E.next=l}else g=E=l;h={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:E,shared:p.shared,effects:p.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=l}function $h(o,l,h,p){var g=o.updateQueue;ps=!1;var E=g.firstBaseUpdate,S=g.lastBaseUpdate,D=g.shared.pending;if(D!==null){g.shared.pending=null;var F=D,Q=F.next;F.next=null,S===null?E=Q:S.next=Q,S=F;var te=o.alternate;te!==null&&(te=te.updateQueue,D=te.lastBaseUpdate,D!==S&&(D===null?te.firstBaseUpdate=Q:D.next=Q,te.lastBaseUpdate=F))}if(E!==null){var re=g.baseState;S=0,te=Q=F=null,D=E;do{var ee=D.lane,pe=D.eventTime;if((p&ee)===ee){te!==null&&(te=te.next={eventTime:pe,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var ye=o,ve=D;switch(ee=l,pe=h,ve.tag){case 1:if(ye=ve.payload,typeof ye=="function"){re=ye.call(pe,re,ee);break e}re=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ve.payload,ee=typeof ye=="function"?ye.call(pe,re,ee):ye,ee==null)break e;re=le({},re,ee);break e;case 2:ps=!0}}D.callback!==null&&D.lane!==0&&(o.flags|=64,ee=g.effects,ee===null?g.effects=[D]:ee.push(D))}else pe={eventTime:pe,lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},te===null?(Q=te=pe,F=re):te=te.next=pe,S|=ee;if(D=D.next,D===null){if(D=g.shared.pending,D===null)break;ee=D,D=ee.next,ee.next=null,g.lastBaseUpdate=ee,g.shared.pending=null}}while(!0);if(te===null&&(F=re),g.baseState=F,g.firstBaseUpdate=Q,g.lastBaseUpdate=te,l=g.shared.interleaved,l!==null){g=l;do S|=g.lane,g=g.next;while(g!==l)}else E===null&&(g.shared.lanes=0);Ao|=S,o.lanes=S,o.memoizedState=re}}function AE(o,l,h){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var p=o[l],g=p.callback;if(g!==null){if(p.callback=null,p=h,typeof g!="function")throw Error(t(191,g));g.call(p)}}}var Ac={},Ki=hs(Ac),xc=hs(Ac),Cc=hs(Ac);function So(o){if(o===Ac)throw Error(t(174));return o}function Em(o,l){switch(it(Cc,l),it(xc,o),it(Ki,Ac),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:mt(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=mt(l,o)}st(Ki),it(Ki,l)}function Ba(){st(Ki),st(xc),st(Cc)}function xE(o){So(Cc.current);var l=So(Ki.current),h=mt(l,o.type);l!==h&&(it(xc,o),it(Ki,h))}function wm(o){xc.current===o&&(st(Ki),st(xc))}var ht=hs(0);function jh(o){for(var l=o;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Tm=[];function bm(){for(var o=0;o<Tm.length;o++)Tm[o]._workInProgressVersionPrimary=null;Tm.length=0}var Uh=U.ReactCurrentDispatcher,Sm=U.ReactCurrentBatchConfig,Io=0,dt=null,Ct=null,Ft=null,zh=!1,kc=!1,Rc=0,_k=0;function Jt(){throw Error(t(321))}function Im(o,l){if(l===null)return!1;for(var h=0;h<l.length&&h<o.length;h++)if(!wi(o[h],l[h]))return!1;return!0}function Am(o,l,h,p,g,E){if(Io=E,dt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Uh.current=o===null||o.memoizedState===null?wk:Tk,o=h(p,g),kc){E=0;do{if(kc=!1,Rc=0,25<=E)throw Error(t(301));E+=1,Ft=Ct=null,l.updateQueue=null,Uh.current=bk,o=h(p,g)}while(kc)}if(Uh.current=Wh,l=Ct!==null&&Ct.next!==null,Io=0,Ft=Ct=dt=null,zh=!1,l)throw Error(t(300));return o}function xm(){var o=Rc!==0;return Rc=0,o}function qi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?dt.memoizedState=Ft=o:Ft=Ft.next=o,Ft}function Jn(){if(Ct===null){var o=dt.alternate;o=o!==null?o.memoizedState:null}else o=Ct.next;var l=Ft===null?dt.memoizedState:Ft.next;if(l!==null)Ft=l,Ct=o;else{if(o===null)throw Error(t(310));Ct=o,o={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Ft===null?dt.memoizedState=Ft=o:Ft=Ft.next=o}return Ft}function Pc(o,l){return typeof l=="function"?l(o):l}function Cm(o){var l=Jn(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=o;var p=Ct,g=p.baseQueue,E=h.pending;if(E!==null){if(g!==null){var S=g.next;g.next=E.next,E.next=S}p.baseQueue=g=E,h.pending=null}if(g!==null){E=g.next,p=p.baseState;var D=S=null,F=null,Q=E;do{var te=Q.lane;if((Io&te)===te)F!==null&&(F=F.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),p=Q.hasEagerState?Q.eagerState:o(p,Q.action);else{var re={lane:te,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};F===null?(D=F=re,S=p):F=F.next=re,dt.lanes|=te,Ao|=te}Q=Q.next}while(Q!==null&&Q!==E);F===null?S=p:F.next=D,wi(p,l.memoizedState)||(yn=!0),l.memoizedState=p,l.baseState=S,l.baseQueue=F,h.lastRenderedState=p}if(o=h.interleaved,o!==null){g=o;do E=g.lane,dt.lanes|=E,Ao|=E,g=g.next;while(g!==o)}else g===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function km(o){var l=Jn(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=o;var p=h.dispatch,g=h.pending,E=l.memoizedState;if(g!==null){h.pending=null;var S=g=g.next;do E=o(E,S.action),S=S.next;while(S!==g);wi(E,l.memoizedState)||(yn=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),h.lastRenderedState=E}return[E,p]}function CE(){}function kE(o,l){var h=dt,p=Jn(),g=l(),E=!wi(p.memoizedState,g);if(E&&(p.memoizedState=g,yn=!0),p=p.queue,Rm(OE.bind(null,h,p,o),[o]),p.getSnapshot!==l||E||Ft!==null&&Ft.memoizedState.tag&1){if(h.flags|=2048,Oc(9,PE.bind(null,h,p,g,l),void 0,null),$t===null)throw Error(t(349));(Io&30)!==0||RE(h,l,g)}return g}function RE(o,l,h){o.flags|=16384,o={getSnapshot:l,value:h},l=dt.updateQueue,l===null?(l={lastEffect:null,stores:null},dt.updateQueue=l,l.stores=[o]):(h=l.stores,h===null?l.stores=[o]:h.push(o))}function PE(o,l,h,p){l.value=h,l.getSnapshot=p,NE(l)&&DE(o)}function OE(o,l,h){return h(function(){NE(l)&&DE(o)})}function NE(o){var l=o.getSnapshot;o=o.value;try{var h=l();return!wi(o,h)}catch{return!0}}function DE(o){var l=Sr(o,1);l!==null&&Ai(l,o,1,-1)}function ME(o){var l=qi();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pc,lastRenderedState:o},l.queue=o,o=o.dispatch=Ek.bind(null,dt,o),[l.memoizedState,o]}function Oc(o,l,h,p){return o={tag:o,create:l,destroy:h,deps:p,next:null},l=dt.updateQueue,l===null?(l={lastEffect:null,stores:null},dt.updateQueue=l,l.lastEffect=o.next=o):(h=l.lastEffect,h===null?l.lastEffect=o.next=o:(p=h.next,h.next=o,o.next=p,l.lastEffect=o)),o}function LE(){return Jn().memoizedState}function Bh(o,l,h,p){var g=qi();dt.flags|=o,g.memoizedState=Oc(1|l,h,void 0,p===void 0?null:p)}function Hh(o,l,h,p){var g=Jn();p=p===void 0?null:p;var E=void 0;if(Ct!==null){var S=Ct.memoizedState;if(E=S.destroy,p!==null&&Im(p,S.deps)){g.memoizedState=Oc(l,h,E,p);return}}dt.flags|=o,g.memoizedState=Oc(1|l,h,E,p)}function VE(o,l){return Bh(8390656,8,o,l)}function Rm(o,l){return Hh(2048,8,o,l)}function FE(o,l){return Hh(4,2,o,l)}function $E(o,l){return Hh(4,4,o,l)}function jE(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function UE(o,l,h){return h=h!=null?h.concat([o]):null,Hh(4,4,jE.bind(null,l,o),h)}function Pm(){}function zE(o,l){var h=Jn();l=l===void 0?null:l;var p=h.memoizedState;return p!==null&&l!==null&&Im(l,p[1])?p[0]:(h.memoizedState=[o,l],o)}function BE(o,l){var h=Jn();l=l===void 0?null:l;var p=h.memoizedState;return p!==null&&l!==null&&Im(l,p[1])?p[0]:(o=o(),h.memoizedState=[o,l],o)}function HE(o,l,h){return(Io&21)===0?(o.baseState&&(o.baseState=!1,yn=!0),o.memoizedState=h):(wi(h,l)||(h=po(),dt.lanes|=h,Ao|=h,o.baseState=!0),l)}function yk(o,l){var h=ze;ze=h!==0&&4>h?h:4,o(!0);var p=Sm.transition;Sm.transition={};try{o(!1),l()}finally{ze=h,Sm.transition=p}}function WE(){return Jn().memoizedState}function vk(o,l,h){var p=vs(o);if(h={lane:p,action:h,hasEagerState:!1,eagerState:null,next:null},KE(o))qE(l,h);else if(h=bE(o,l,h,p),h!==null){var g=cn();Ai(h,o,p,g),GE(h,l,p)}}function Ek(o,l,h){var p=vs(o),g={lane:p,action:h,hasEagerState:!1,eagerState:null,next:null};if(KE(o))qE(l,g);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var S=l.lastRenderedState,D=E(S,h);if(g.hasEagerState=!0,g.eagerState=D,wi(D,S)){var F=l.interleaved;F===null?(g.next=g,ym(l)):(g.next=F.next,F.next=g),l.interleaved=g;return}}catch{}finally{}h=bE(o,l,g,p),h!==null&&(g=cn(),Ai(h,o,p,g),GE(h,l,p))}}function KE(o){var l=o.alternate;return o===dt||l!==null&&l===dt}function qE(o,l){kc=zh=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function GE(o,l,h){if((h&4194240)!==0){var p=l.lanes;p&=o.pendingLanes,h|=p,l.lanes=h,rs(o,h)}}var Wh={readContext:Xn,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},wk={readContext:Xn,useCallback:function(o,l){return qi().memoizedState=[o,l===void 0?null:l],o},useContext:Xn,useEffect:VE,useImperativeHandle:function(o,l,h){return h=h!=null?h.concat([o]):null,Bh(4194308,4,jE.bind(null,l,o),h)},useLayoutEffect:function(o,l){return Bh(4194308,4,o,l)},useInsertionEffect:function(o,l){return Bh(4,2,o,l)},useMemo:function(o,l){var h=qi();return l=l===void 0?null:l,o=o(),h.memoizedState=[o,l],o},useReducer:function(o,l,h){var p=qi();return l=h!==void 0?h(l):l,p.memoizedState=p.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},p.queue=o,o=o.dispatch=vk.bind(null,dt,o),[p.memoizedState,o]},useRef:function(o){var l=qi();return o={current:o},l.memoizedState=o},useState:ME,useDebugValue:Pm,useDeferredValue:function(o){return qi().memoizedState=o},useTransition:function(){var o=ME(!1),l=o[0];return o=yk.bind(null,o[1]),qi().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,h){var p=dt,g=qi();if(lt){if(h===void 0)throw Error(t(407));h=h()}else{if(h=l(),$t===null)throw Error(t(349));(Io&30)!==0||RE(p,l,h)}g.memoizedState=h;var E={value:h,getSnapshot:l};return g.queue=E,VE(OE.bind(null,p,E,o),[o]),p.flags|=2048,Oc(9,PE.bind(null,p,E,h,l),void 0,null),h},useId:function(){var o=qi(),l=$t.identifierPrefix;if(lt){var h=br,p=Tr;h=(p&~(1<<32-on(p)-1)).toString(32)+h,l=":"+l+"R"+h,h=Rc++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=_k++,l=":"+l+"r"+h.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},Tk={readContext:Xn,useCallback:zE,useContext:Xn,useEffect:Rm,useImperativeHandle:UE,useInsertionEffect:FE,useLayoutEffect:$E,useMemo:BE,useReducer:Cm,useRef:LE,useState:function(){return Cm(Pc)},useDebugValue:Pm,useDeferredValue:function(o){var l=Jn();return HE(l,Ct.memoizedState,o)},useTransition:function(){var o=Cm(Pc)[0],l=Jn().memoizedState;return[o,l]},useMutableSource:CE,useSyncExternalStore:kE,useId:WE,unstable_isNewReconciler:!1},bk={readContext:Xn,useCallback:zE,useContext:Xn,useEffect:Rm,useImperativeHandle:UE,useInsertionEffect:FE,useLayoutEffect:$E,useMemo:BE,useReducer:km,useRef:LE,useState:function(){return km(Pc)},useDebugValue:Pm,useDeferredValue:function(o){var l=Jn();return Ct===null?l.memoizedState=o:HE(l,Ct.memoizedState,o)},useTransition:function(){var o=km(Pc)[0],l=Jn().memoizedState;return[o,l]},useMutableSource:CE,useSyncExternalStore:kE,useId:WE,unstable_isNewReconciler:!1};function bi(o,l){if(o&&o.defaultProps){l=le({},l),o=o.defaultProps;for(var h in o)l[h]===void 0&&(l[h]=o[h]);return l}return l}function Om(o,l,h,p){l=o.memoizedState,h=h(p,l),h=h==null?l:le({},l,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var Kh={isMounted:function(o){return(o=o._reactInternals)?pi(o)===o:!1},enqueueSetState:function(o,l,h){o=o._reactInternals;var p=cn(),g=vs(o),E=Ir(p,g);E.payload=l,h!=null&&(E.callback=h),l=ms(o,E,g),l!==null&&(Ai(l,o,g,p),Fh(l,o,g))},enqueueReplaceState:function(o,l,h){o=o._reactInternals;var p=cn(),g=vs(o),E=Ir(p,g);E.tag=1,E.payload=l,h!=null&&(E.callback=h),l=ms(o,E,g),l!==null&&(Ai(l,o,g,p),Fh(l,o,g))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var h=cn(),p=vs(o),g=Ir(h,p);g.tag=2,l!=null&&(g.callback=l),l=ms(o,g,p),l!==null&&(Ai(l,o,p,h),Fh(l,o,p))}};function YE(o,l,h,p,g,E,S){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,E,S):l.prototype&&l.prototype.isPureReactComponent?!yc(h,p)||!yc(g,E):!0}function QE(o,l,h){var p=!1,g=ds,E=l.contextType;return typeof E=="object"&&E!==null?E=Xn(E):(g=_n(l)?Eo:Xt.current,p=l.contextTypes,E=(p=p!=null)?La(o,g):ds),l=new l(h,E),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Kh,o.stateNode=l,l._reactInternals=o,p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=g,o.__reactInternalMemoizedMaskedChildContext=E),l}function XE(o,l,h,p){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,p),l.state!==o&&Kh.enqueueReplaceState(l,l.state,null)}function Nm(o,l,h,p){var g=o.stateNode;g.props=h,g.state=o.memoizedState,g.refs={},vm(o);var E=l.contextType;typeof E=="object"&&E!==null?g.context=Xn(E):(E=_n(l)?Eo:Xt.current,g.context=La(o,E)),g.state=o.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Om(o,l,E,h),g.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(l=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),l!==g.state&&Kh.enqueueReplaceState(g,g.state,null),$h(o,h,g,p),g.state=o.memoizedState),typeof g.componentDidMount=="function"&&(o.flags|=4194308)}function Ha(o,l){try{var h="",p=l;do h+=de(p),p=p.return;while(p);var g=h}catch(E){g=`
Error generating stack: `+E.message+`
`+E.stack}return{value:o,source:l,stack:g,digest:null}}function Dm(o,l,h){return{value:o,source:null,stack:h??null,digest:l??null}}function Mm(o,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var Sk=typeof WeakMap=="function"?WeakMap:Map;function JE(o,l,h){h=Ir(-1,h),h.tag=3,h.payload={element:null};var p=l.value;return h.callback=function(){Zh||(Zh=!0,Qm=p),Mm(o,l)},h}function ZE(o,l,h){h=Ir(-1,h),h.tag=3;var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=l.value;h.payload=function(){return p(g)},h.callback=function(){Mm(o,l)}}var E=o.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(h.callback=function(){Mm(o,l),typeof p!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})}),h}function e0(o,l,h){var p=o.pingCache;if(p===null){p=o.pingCache=new Sk;var g=new Set;p.set(l,g)}else g=p.get(l),g===void 0&&(g=new Set,p.set(l,g));g.has(h)||(g.add(h),o=Fk.bind(null,o,l,h),l.then(o,o))}function t0(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function n0(o,l,h,p,g){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=Ir(-1,1),l.tag=2,ms(h,l,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=g,o)}var Ik=U.ReactCurrentOwner,yn=!1;function ln(o,l,h,p){l.child=o===null?TE(l,null,h,p):ja(l,o.child,h,p)}function i0(o,l,h,p,g){h=h.render;var E=l.ref;return za(l,g),p=Am(o,l,h,p,E,g),h=xm(),o!==null&&!yn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~g,Ar(o,l,g)):(lt&&h&&cm(l),l.flags|=1,ln(o,l,p,g),l.child)}function r0(o,l,h,p,g){if(o===null){var E=h.type;return typeof E=="function"&&!ig(E)&&E.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=E,s0(o,l,E,p,g)):(o=sd(h.type,null,p,l,l.mode,g),o.ref=l.ref,o.return=l,l.child=o)}if(E=o.child,(o.lanes&g)===0){var S=E.memoizedProps;if(h=h.compare,h=h!==null?h:yc,h(S,p)&&o.ref===l.ref)return Ar(o,l,g)}return l.flags|=1,o=ws(E,p),o.ref=l.ref,o.return=l,l.child=o}function s0(o,l,h,p,g){if(o!==null){var E=o.memoizedProps;if(yc(E,p)&&o.ref===l.ref)if(yn=!1,l.pendingProps=p=E,(o.lanes&g)!==0)(o.flags&131072)!==0&&(yn=!0);else return l.lanes=o.lanes,Ar(o,l,g)}return Lm(o,l,h,p,g)}function o0(o,l,h){var p=l.pendingProps,g=p.children,E=o!==null?o.memoizedState:null;if(p.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(Ka,Ln),Ln|=h;else{if((h&1073741824)===0)return o=E!==null?E.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,it(Ka,Ln),Ln|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=E!==null?E.baseLanes:h,it(Ka,Ln),Ln|=p}else E!==null?(p=E.baseLanes|h,l.memoizedState=null):p=h,it(Ka,Ln),Ln|=p;return ln(o,l,g,h),l.child}function a0(o,l){var h=l.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function Lm(o,l,h,p,g){var E=_n(h)?Eo:Xt.current;return E=La(l,E),za(l,g),h=Am(o,l,h,p,E,g),p=xm(),o!==null&&!yn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~g,Ar(o,l,g)):(lt&&p&&cm(l),l.flags|=1,ln(o,l,h,g),l.child)}function l0(o,l,h,p,g){if(_n(h)){var E=!0;Rh(l)}else E=!1;if(za(l,g),l.stateNode===null)Gh(o,l),QE(l,h,p),Nm(l,h,p,g),p=!0;else if(o===null){var S=l.stateNode,D=l.memoizedProps;S.props=D;var F=S.context,Q=h.contextType;typeof Q=="object"&&Q!==null?Q=Xn(Q):(Q=_n(h)?Eo:Xt.current,Q=La(l,Q));var te=h.getDerivedStateFromProps,re=typeof te=="function"||typeof S.getSnapshotBeforeUpdate=="function";re||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D!==p||F!==Q)&&XE(l,S,p,Q),ps=!1;var ee=l.memoizedState;S.state=ee,$h(l,p,S,g),F=l.memoizedState,D!==p||ee!==F||gn.current||ps?(typeof te=="function"&&(Om(l,h,te,p),F=l.memoizedState),(D=ps||YE(l,h,D,p,ee,F,Q))?(re||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=F),S.props=p,S.state=F,S.context=Q,p=D):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{S=l.stateNode,SE(o,l),D=l.memoizedProps,Q=l.type===l.elementType?D:bi(l.type,D),S.props=Q,re=l.pendingProps,ee=S.context,F=h.contextType,typeof F=="object"&&F!==null?F=Xn(F):(F=_n(h)?Eo:Xt.current,F=La(l,F));var pe=h.getDerivedStateFromProps;(te=typeof pe=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D!==re||ee!==F)&&XE(l,S,p,F),ps=!1,ee=l.memoizedState,S.state=ee,$h(l,p,S,g);var ye=l.memoizedState;D!==re||ee!==ye||gn.current||ps?(typeof pe=="function"&&(Om(l,h,pe,p),ye=l.memoizedState),(Q=ps||YE(l,h,Q,p,ee,ye,F)||!1)?(te||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,ye,F),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,ye,F)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||D===o.memoizedProps&&ee===o.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&ee===o.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=ye),S.props=p,S.state=ye,S.context=F,p=Q):(typeof S.componentDidUpdate!="function"||D===o.memoizedProps&&ee===o.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&ee===o.memoizedState||(l.flags|=1024),p=!1)}return Vm(o,l,h,p,E,g)}function Vm(o,l,h,p,g,E){a0(o,l);var S=(l.flags&128)!==0;if(!p&&!S)return g&&fE(l,h,!1),Ar(o,l,E);p=l.stateNode,Ik.current=l;var D=S&&typeof h.getDerivedStateFromError!="function"?null:p.render();return l.flags|=1,o!==null&&S?(l.child=ja(l,o.child,null,E),l.child=ja(l,null,D,E)):ln(o,l,D,E),l.memoizedState=p.state,g&&fE(l,h,!0),l.child}function c0(o){var l=o.stateNode;l.pendingContext?hE(o,l.pendingContext,l.pendingContext!==l.context):l.context&&hE(o,l.context,!1),Em(o,l.containerInfo)}function u0(o,l,h,p,g){return $a(),fm(g),l.flags|=256,ln(o,l,h,p),l.child}var Fm={dehydrated:null,treeContext:null,retryLane:0};function $m(o){return{baseLanes:o,cachePool:null,transitions:null}}function h0(o,l,h){var p=l.pendingProps,g=ht.current,E=!1,S=(l.flags&128)!==0,D;if((D=S)||(D=o!==null&&o.memoizedState===null?!1:(g&2)!==0),D?(E=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(g|=1),it(ht,g&1),o===null)return dm(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(S=p.children,o=p.fallback,E?(p=l.mode,E=l.child,S={mode:"hidden",children:S},(p&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=S):E=od(S,p,0,null),o=Ro(o,p,h,null),E.return=l,o.return=l,E.sibling=o,l.child=E,l.child.memoizedState=$m(h),l.memoizedState=Fm,o):jm(l,S));if(g=o.memoizedState,g!==null&&(D=g.dehydrated,D!==null))return Ak(o,l,S,p,D,g,h);if(E){E=p.fallback,S=l.mode,g=o.child,D=g.sibling;var F={mode:"hidden",children:p.children};return(S&1)===0&&l.child!==g?(p=l.child,p.childLanes=0,p.pendingProps=F,l.deletions=null):(p=ws(g,F),p.subtreeFlags=g.subtreeFlags&14680064),D!==null?E=ws(D,E):(E=Ro(E,S,h,null),E.flags|=2),E.return=l,p.return=l,p.sibling=E,l.child=p,p=E,E=l.child,S=o.child.memoizedState,S=S===null?$m(h):{baseLanes:S.baseLanes|h,cachePool:null,transitions:S.transitions},E.memoizedState=S,E.childLanes=o.childLanes&~h,l.memoizedState=Fm,p}return E=o.child,o=E.sibling,p=ws(E,{mode:"visible",children:p.children}),(l.mode&1)===0&&(p.lanes=h),p.return=l,p.sibling=null,o!==null&&(h=l.deletions,h===null?(l.deletions=[o],l.flags|=16):h.push(o)),l.child=p,l.memoizedState=null,p}function jm(o,l){return l=od({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function qh(o,l,h,p){return p!==null&&fm(p),ja(l,o.child,null,h),o=jm(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function Ak(o,l,h,p,g,E,S){if(h)return l.flags&256?(l.flags&=-257,p=Dm(Error(t(422))),qh(o,l,S,p)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(E=p.fallback,g=l.mode,p=od({mode:"visible",children:p.children},g,0,null),E=Ro(E,g,S,null),E.flags|=2,p.return=l,E.return=l,p.sibling=E,l.child=p,(l.mode&1)!==0&&ja(l,o.child,null,S),l.child.memoizedState=$m(S),l.memoizedState=Fm,E);if((l.mode&1)===0)return qh(o,l,S,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var D=p.dgst;return p=D,E=Error(t(419)),p=Dm(E,p,void 0),qh(o,l,S,p)}if(D=(S&o.childLanes)!==0,yn||D){if(p=$t,p!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(p.suspendedLanes|S))!==0?0:g,g!==0&&g!==E.retryLane&&(E.retryLane=g,Sr(o,g),Ai(p,o,g,-1))}return ng(),p=Dm(Error(t(421))),qh(o,l,S,p)}return g.data==="$?"?(l.flags|=128,l.child=o.child,l=$k.bind(null,o),g._reactRetry=l,null):(o=E.treeContext,Mn=us(g.nextSibling),Dn=l,lt=!0,Ti=null,o!==null&&(Yn[Qn++]=Tr,Yn[Qn++]=br,Yn[Qn++]=wo,Tr=o.id,br=o.overflow,wo=l),l=jm(l,p.children),l.flags|=4096,l)}function d0(o,l,h){o.lanes|=l;var p=o.alternate;p!==null&&(p.lanes|=l),_m(o.return,l,h)}function Um(o,l,h,p,g){var E=o.memoizedState;E===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:g}:(E.isBackwards=l,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=h,E.tailMode=g)}function f0(o,l,h){var p=l.pendingProps,g=p.revealOrder,E=p.tail;if(ln(o,l,p.children,h),p=ht.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&d0(o,h,l);else if(o.tag===19)d0(o,h,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}if(it(ht,p),(l.mode&1)===0)l.memoizedState=null;else switch(g){case"forwards":for(h=l.child,g=null;h!==null;)o=h.alternate,o!==null&&jh(o)===null&&(g=h),h=h.sibling;h=g,h===null?(g=l.child,l.child=null):(g=h.sibling,h.sibling=null),Um(l,!1,g,h,E);break;case"backwards":for(h=null,g=l.child,l.child=null;g!==null;){if(o=g.alternate,o!==null&&jh(o)===null){l.child=g;break}o=g.sibling,g.sibling=h,h=g,g=o}Um(l,!0,h,null,E);break;case"together":Um(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Gh(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Ar(o,l,h){if(o!==null&&(l.dependencies=o.dependencies),Ao|=l.lanes,(h&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(t(153));if(l.child!==null){for(o=l.child,h=ws(o,o.pendingProps),l.child=h,h.return=l;o.sibling!==null;)o=o.sibling,h=h.sibling=ws(o,o.pendingProps),h.return=l;h.sibling=null}return l.child}function xk(o,l,h){switch(l.tag){case 3:c0(l),$a();break;case 5:xE(l);break;case 1:_n(l.type)&&Rh(l);break;case 4:Em(l,l.stateNode.containerInfo);break;case 10:var p=l.type._context,g=l.memoizedProps.value;it(Lh,p._currentValue),p._currentValue=g;break;case 13:if(p=l.memoizedState,p!==null)return p.dehydrated!==null?(it(ht,ht.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?h0(o,l,h):(it(ht,ht.current&1),o=Ar(o,l,h),o!==null?o.sibling:null);it(ht,ht.current&1);break;case 19:if(p=(h&l.childLanes)!==0,(o.flags&128)!==0){if(p)return f0(o,l,h);l.flags|=128}if(g=l.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),it(ht,ht.current),p)break;return null;case 22:case 23:return l.lanes=0,o0(o,l,h)}return Ar(o,l,h)}var p0,zm,m0,g0;p0=function(o,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},zm=function(){},m0=function(o,l,h,p){var g=o.memoizedProps;if(g!==p){o=l.stateNode,So(Ki.current);var E=null;switch(h){case"input":g=ui(o,g),p=ui(o,p),E=[];break;case"select":g=le({},g,{value:void 0}),p=le({},p,{value:void 0}),E=[];break;case"textarea":g=Xr(o,g),p=Xr(o,p),E=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(o.onclick=xh)}Zl(h,p);var S;h=null;for(Q in g)if(!p.hasOwnProperty(Q)&&g.hasOwnProperty(Q)&&g[Q]!=null)if(Q==="style"){var D=g[Q];for(S in D)D.hasOwnProperty(S)&&(h||(h={}),h[S]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(r.hasOwnProperty(Q)?E||(E=[]):(E=E||[]).push(Q,null));for(Q in p){var F=p[Q];if(D=g!=null?g[Q]:void 0,p.hasOwnProperty(Q)&&F!==D&&(F!=null||D!=null))if(Q==="style")if(D){for(S in D)!D.hasOwnProperty(S)||F&&F.hasOwnProperty(S)||(h||(h={}),h[S]="");for(S in F)F.hasOwnProperty(S)&&D[S]!==F[S]&&(h||(h={}),h[S]=F[S])}else h||(E||(E=[]),E.push(Q,h)),h=F;else Q==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,D=D?D.__html:void 0,F!=null&&D!==F&&(E=E||[]).push(Q,F)):Q==="children"?typeof F!="string"&&typeof F!="number"||(E=E||[]).push(Q,""+F):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(r.hasOwnProperty(Q)?(F!=null&&Q==="onScroll"&&rt("scroll",o),E||D===F||(E=[])):(E=E||[]).push(Q,F))}h&&(E=E||[]).push("style",h);var Q=E;(l.updateQueue=Q)&&(l.flags|=4)}},g0=function(o,l,h,p){h!==p&&(l.flags|=4)};function Nc(o,l){if(!lt)switch(o.tailMode){case"hidden":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function Zt(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=0,p=0;if(l)for(var g=o.child;g!==null;)h|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=o,g=g.sibling;else for(g=o.child;g!==null;)h|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=o,g=g.sibling;return o.subtreeFlags|=p,o.childLanes=h,l}function Ck(o,l,h){var p=l.pendingProps;switch(um(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(l),null;case 1:return _n(l.type)&&kh(),Zt(l),null;case 3:return p=l.stateNode,Ba(),st(gn),st(Xt),bm(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(Dh(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ti!==null&&(Zm(Ti),Ti=null))),zm(o,l),Zt(l),null;case 5:wm(l);var g=So(Cc.current);if(h=l.type,o!==null&&l.stateNode!=null)m0(o,l,h,p,g),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!p){if(l.stateNode===null)throw Error(t(166));return Zt(l),null}if(o=So(Ki.current),Dh(l)){p=l.stateNode,h=l.type;var E=l.memoizedProps;switch(p[Wi]=l,p[bc]=E,o=(l.mode&1)!==0,h){case"dialog":rt("cancel",p),rt("close",p);break;case"iframe":case"object":case"embed":rt("load",p);break;case"video":case"audio":for(g=0;g<Ec.length;g++)rt(Ec[g],p);break;case"source":rt("error",p);break;case"img":case"image":case"link":rt("error",p),rt("load",p);break;case"details":rt("toggle",p);break;case"input":Di(p,E),rt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!E.multiple},rt("invalid",p);break;case"textarea":fr(p,E),rt("invalid",p)}Zl(h,E),g=null;for(var S in E)if(E.hasOwnProperty(S)){var D=E[S];S==="children"?typeof D=="string"?p.textContent!==D&&(E.suppressHydrationWarning!==!0&&Ah(p.textContent,D,o),g=["children",D]):typeof D=="number"&&p.textContent!==""+D&&(E.suppressHydrationWarning!==!0&&Ah(p.textContent,D,o),g=["children",""+D]):r.hasOwnProperty(S)&&D!=null&&S==="onScroll"&&rt("scroll",p)}switch(h){case"input":Lt(p),Qr(p,E,!0);break;case"textarea":Lt(p),Jr(p);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(p.onclick=xh)}p=g,l.updateQueue=p,p!==null&&(l.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=pt(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=S.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof p.is=="string"?o=S.createElement(h,{is:p.is}):(o=S.createElement(h),h==="select"&&(S=o,p.multiple?S.multiple=!0:p.size&&(S.size=p.size))):o=S.createElementNS(o,h),o[Wi]=l,o[bc]=p,p0(o,l,!1,!1),l.stateNode=o;e:{switch(S=ec(h,p),h){case"dialog":rt("cancel",o),rt("close",o),g=p;break;case"iframe":case"object":case"embed":rt("load",o),g=p;break;case"video":case"audio":for(g=0;g<Ec.length;g++)rt(Ec[g],o);g=p;break;case"source":rt("error",o),g=p;break;case"img":case"image":case"link":rt("error",o),rt("load",o),g=p;break;case"details":rt("toggle",o),g=p;break;case"input":Di(o,p),g=ui(o,p),rt("invalid",o);break;case"option":g=p;break;case"select":o._wrapperState={wasMultiple:!!p.multiple},g=le({},p,{value:void 0}),rt("invalid",o);break;case"textarea":fr(o,p),g=Xr(o,p),rt("invalid",o);break;default:g=p}Zl(h,g),D=g;for(E in D)if(D.hasOwnProperty(E)){var F=D[E];E==="style"?Xl(o,F):E==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&Yl(o,F)):E==="children"?typeof F=="string"?(h!=="textarea"||F!=="")&&Zr(o,F):typeof F=="number"&&Zr(o,""+F):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(r.hasOwnProperty(E)?F!=null&&E==="onScroll"&&rt("scroll",o):F!=null&&j(o,E,F,S))}switch(h){case"input":Lt(o),Qr(o,p,!1);break;case"textarea":Lt(o),Jr(o);break;case"option":p.value!=null&&o.setAttribute("value",""+Ae(p.value));break;case"select":o.multiple=!!p.multiple,E=p.value,E!=null?fn(o,!!p.multiple,E,!1):p.defaultValue!=null&&fn(o,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(o.onclick=xh)}switch(h){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Zt(l),null;case 6:if(o&&l.stateNode!=null)g0(o,l,o.memoizedProps,p);else{if(typeof p!="string"&&l.stateNode===null)throw Error(t(166));if(h=So(Cc.current),So(Ki.current),Dh(l)){if(p=l.stateNode,h=l.memoizedProps,p[Wi]=l,(E=p.nodeValue!==h)&&(o=Dn,o!==null))switch(o.tag){case 3:Ah(p.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Ah(p.nodeValue,h,(o.mode&1)!==0)}E&&(l.flags|=4)}else p=(h.nodeType===9?h:h.ownerDocument).createTextNode(p),p[Wi]=l,l.stateNode=p}return Zt(l),null;case 13:if(st(ht),p=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(lt&&Mn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)vE(),$a(),l.flags|=98560,E=!1;else if(E=Dh(l),p!==null&&p.dehydrated!==null){if(o===null){if(!E)throw Error(t(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[Wi]=l}else $a(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Zt(l),E=!1}else Ti!==null&&(Zm(Ti),Ti=null),E=!0;if(!E)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(p=p!==null,p!==(o!==null&&o.memoizedState!==null)&&p&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(ht.current&1)!==0?kt===0&&(kt=3):ng())),l.updateQueue!==null&&(l.flags|=4),Zt(l),null);case 4:return Ba(),zm(o,l),o===null&&wc(l.stateNode.containerInfo),Zt(l),null;case 10:return gm(l.type._context),Zt(l),null;case 17:return _n(l.type)&&kh(),Zt(l),null;case 19:if(st(ht),E=l.memoizedState,E===null)return Zt(l),null;if(p=(l.flags&128)!==0,S=E.rendering,S===null)if(p)Nc(E,!1);else{if(kt!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(S=jh(o),S!==null){for(l.flags|=128,Nc(E,!1),p=S.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),l.subtreeFlags=0,p=h,h=l.child;h!==null;)E=h,o=p,E.flags&=14680066,S=E.alternate,S===null?(E.childLanes=0,E.lanes=o,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=S.childLanes,E.lanes=S.lanes,E.child=S.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=S.memoizedProps,E.memoizedState=S.memoizedState,E.updateQueue=S.updateQueue,E.type=S.type,o=S.dependencies,E.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return it(ht,ht.current&1|2),l.child}o=o.sibling}E.tail!==null&&nt()>qa&&(l.flags|=128,p=!0,Nc(E,!1),l.lanes=4194304)}else{if(!p)if(o=jh(S),o!==null){if(l.flags|=128,p=!0,h=o.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),Nc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!S.alternate&&!lt)return Zt(l),null}else 2*nt()-E.renderingStartTime>qa&&h!==1073741824&&(l.flags|=128,p=!0,Nc(E,!1),l.lanes=4194304);E.isBackwards?(S.sibling=l.child,l.child=S):(h=E.last,h!==null?h.sibling=S:l.child=S,E.last=S)}return E.tail!==null?(l=E.tail,E.rendering=l,E.tail=l.sibling,E.renderingStartTime=nt(),l.sibling=null,h=ht.current,it(ht,p?h&1|2:h&1),l):(Zt(l),null);case 22:case 23:return tg(),p=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==p&&(l.flags|=8192),p&&(l.mode&1)!==0?(Ln&1073741824)!==0&&(Zt(l),l.subtreeFlags&6&&(l.flags|=8192)):Zt(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function kk(o,l){switch(um(l),l.tag){case 1:return _n(l.type)&&kh(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Ba(),st(gn),st(Xt),bm(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return wm(l),null;case 13:if(st(ht),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(t(340));$a()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return st(ht),null;case 4:return Ba(),null;case 10:return gm(l.type._context),null;case 22:case 23:return tg(),null;case 24:return null;default:return null}}var Yh=!1,en=!1,Rk=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Wa(o,l){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(p){gt(o,l,p)}else h.current=null}function Bm(o,l,h){try{h()}catch(p){gt(o,l,p)}}var _0=!1;function Pk(o,l){if(tm=as,o=Yv(),qp(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var p=h.getSelection&&h.getSelection();if(p&&p.rangeCount!==0){h=p.anchorNode;var g=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var S=0,D=-1,F=-1,Q=0,te=0,re=o,ee=null;t:for(;;){for(var pe;re!==h||g!==0&&re.nodeType!==3||(D=S+g),re!==E||p!==0&&re.nodeType!==3||(F=S+p),re.nodeType===3&&(S+=re.nodeValue.length),(pe=re.firstChild)!==null;)ee=re,re=pe;for(;;){if(re===o)break t;if(ee===h&&++Q===g&&(D=S),ee===E&&++te===p&&(F=S),(pe=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=pe}h=D===-1||F===-1?null:{start:D,end:F}}else h=null}h=h||{start:0,end:0}}else h=null;for(nm={focusedElem:o,selectionRange:h},as=!1,ge=l;ge!==null;)if(l=ge,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,ge=o;else for(;ge!==null;){l=ge;try{var ye=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var ve=ye.memoizedProps,Et=ye.memoizedState,H=l.stateNode,$=H.getSnapshotBeforeUpdate(l.elementType===l.type?ve:bi(l.type,ve),Et);H.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var K=l.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){gt(l,l.return,ae)}if(o=l.sibling,o!==null){o.return=l.return,ge=o;break}ge=l.return}return ye=_0,_0=!1,ye}function Dc(o,l,h){var p=l.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&o)===o){var E=g.destroy;g.destroy=void 0,E!==void 0&&Bm(l,h,E)}g=g.next}while(g!==p)}}function Qh(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&o)===o){var p=h.create;h.destroy=p()}h=h.next}while(h!==l)}}function Hm(o){var l=o.ref;if(l!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof l=="function"?l(o):l.current=o}}function y0(o){var l=o.alternate;l!==null&&(o.alternate=null,y0(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Wi],delete l[bc],delete l[om],delete l[fk],delete l[pk])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function v0(o){return o.tag===5||o.tag===3||o.tag===4}function E0(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||v0(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Wm(o,l,h){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(o,l):h.insertBefore(o,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(o,h)):(l=h,l.appendChild(o)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=xh));else if(p!==4&&(o=o.child,o!==null))for(Wm(o,l,h),o=o.sibling;o!==null;)Wm(o,l,h),o=o.sibling}function Km(o,l,h){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?h.insertBefore(o,l):h.appendChild(o);else if(p!==4&&(o=o.child,o!==null))for(Km(o,l,h),o=o.sibling;o!==null;)Km(o,l,h),o=o.sibling}var Kt=null,Si=!1;function gs(o,l,h){for(h=h.child;h!==null;)w0(o,l,h),h=h.sibling}function w0(o,l,h){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(ho,h)}catch{}switch(h.tag){case 5:en||Wa(h,l);case 6:var p=Kt,g=Si;Kt=null,gs(o,l,h),Kt=p,Si=g,Kt!==null&&(Si?(o=Kt,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):Kt.removeChild(h.stateNode));break;case 18:Kt!==null&&(Si?(o=Kt,h=h.stateNode,o.nodeType===8?sm(o.parentNode,h):o.nodeType===1&&sm(o,h),vi(o)):sm(Kt,h.stateNode));break;case 4:p=Kt,g=Si,Kt=h.stateNode.containerInfo,Si=!0,gs(o,l,h),Kt=p,Si=g;break;case 0:case 11:case 14:case 15:if(!en&&(p=h.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var E=g,S=E.destroy;E=E.tag,S!==void 0&&((E&2)!==0||(E&4)!==0)&&Bm(h,l,S),g=g.next}while(g!==p)}gs(o,l,h);break;case 1:if(!en&&(Wa(h,l),p=h.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=h.memoizedProps,p.state=h.memoizedState,p.componentWillUnmount()}catch(D){gt(h,l,D)}gs(o,l,h);break;case 21:gs(o,l,h);break;case 22:h.mode&1?(en=(p=en)||h.memoizedState!==null,gs(o,l,h),en=p):gs(o,l,h);break;default:gs(o,l,h)}}function T0(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new Rk),l.forEach(function(p){var g=jk.bind(null,o,p);h.has(p)||(h.add(p),p.then(g,g))})}}function Ii(o,l){var h=l.deletions;if(h!==null)for(var p=0;p<h.length;p++){var g=h[p];try{var E=o,S=l,D=S;e:for(;D!==null;){switch(D.tag){case 5:Kt=D.stateNode,Si=!1;break e;case 3:Kt=D.stateNode.containerInfo,Si=!0;break e;case 4:Kt=D.stateNode.containerInfo,Si=!0;break e}D=D.return}if(Kt===null)throw Error(t(160));w0(E,S,g),Kt=null,Si=!1;var F=g.alternate;F!==null&&(F.return=null),g.return=null}catch(Q){gt(g,l,Q)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)b0(l,o),l=l.sibling}function b0(o,l){var h=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Ii(l,o),Gi(o),p&4){try{Dc(3,o,o.return),Qh(3,o)}catch(ve){gt(o,o.return,ve)}try{Dc(5,o,o.return)}catch(ve){gt(o,o.return,ve)}}break;case 1:Ii(l,o),Gi(o),p&512&&h!==null&&Wa(h,h.return);break;case 5:if(Ii(l,o),Gi(o),p&512&&h!==null&&Wa(h,h.return),o.flags&32){var g=o.stateNode;try{Zr(g,"")}catch(ve){gt(o,o.return,ve)}}if(p&4&&(g=o.stateNode,g!=null)){var E=o.memoizedProps,S=h!==null?h.memoizedProps:E,D=o.type,F=o.updateQueue;if(o.updateQueue=null,F!==null)try{D==="input"&&E.type==="radio"&&E.name!=null&&Mi(g,E),ec(D,S);var Q=ec(D,E);for(S=0;S<F.length;S+=2){var te=F[S],re=F[S+1];te==="style"?Xl(g,re):te==="dangerouslySetInnerHTML"?Yl(g,re):te==="children"?Zr(g,re):j(g,te,re,Q)}switch(D){case"input":hi(g,E);break;case"textarea":Vi(g,E);break;case"select":var ee=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!E.multiple;var pe=E.value;pe!=null?fn(g,!!E.multiple,pe,!1):ee!==!!E.multiple&&(E.defaultValue!=null?fn(g,!!E.multiple,E.defaultValue,!0):fn(g,!!E.multiple,E.multiple?[]:"",!1))}g[bc]=E}catch(ve){gt(o,o.return,ve)}}break;case 6:if(Ii(l,o),Gi(o),p&4){if(o.stateNode===null)throw Error(t(162));g=o.stateNode,E=o.memoizedProps;try{g.nodeValue=E}catch(ve){gt(o,o.return,ve)}}break;case 3:if(Ii(l,o),Gi(o),p&4&&h!==null&&h.memoizedState.isDehydrated)try{vi(l.containerInfo)}catch(ve){gt(o,o.return,ve)}break;case 4:Ii(l,o),Gi(o);break;case 13:Ii(l,o),Gi(o),g=o.child,g.flags&8192&&(E=g.memoizedState!==null,g.stateNode.isHidden=E,!E||g.alternate!==null&&g.alternate.memoizedState!==null||(Ym=nt())),p&4&&T0(o);break;case 22:if(te=h!==null&&h.memoizedState!==null,o.mode&1?(en=(Q=en)||te,Ii(l,o),en=Q):Ii(l,o),Gi(o),p&8192){if(Q=o.memoizedState!==null,(o.stateNode.isHidden=Q)&&!te&&(o.mode&1)!==0)for(ge=o,te=o.child;te!==null;){for(re=ge=te;ge!==null;){switch(ee=ge,pe=ee.child,ee.tag){case 0:case 11:case 14:case 15:Dc(4,ee,ee.return);break;case 1:Wa(ee,ee.return);var ye=ee.stateNode;if(typeof ye.componentWillUnmount=="function"){p=ee,h=ee.return;try{l=p,ye.props=l.memoizedProps,ye.state=l.memoizedState,ye.componentWillUnmount()}catch(ve){gt(p,h,ve)}}break;case 5:Wa(ee,ee.return);break;case 22:if(ee.memoizedState!==null){A0(re);continue}}pe!==null?(pe.return=ee,ge=pe):A0(re)}te=te.sibling}e:for(te=null,re=o;;){if(re.tag===5){if(te===null){te=re;try{g=re.stateNode,Q?(E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(D=re.stateNode,F=re.memoizedProps.style,S=F!=null&&F.hasOwnProperty("display")?F.display:null,D.style.display=Ql("display",S))}catch(ve){gt(o,o.return,ve)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=Q?"":re.memoizedProps}catch(ve){gt(o,o.return,ve)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===o)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===o)break e;for(;re.sibling===null;){if(re.return===null||re.return===o)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Ii(l,o),Gi(o),p&4&&T0(o);break;case 21:break;default:Ii(l,o),Gi(o)}}function Gi(o){var l=o.flags;if(l&2){try{e:{for(var h=o.return;h!==null;){if(v0(h)){var p=h;break e}h=h.return}throw Error(t(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(Zr(g,""),p.flags&=-33);var E=E0(o);Km(o,E,g);break;case 3:case 4:var S=p.stateNode.containerInfo,D=E0(o);Wm(o,D,S);break;default:throw Error(t(161))}}catch(F){gt(o,o.return,F)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function Ok(o,l,h){ge=o,S0(o)}function S0(o,l,h){for(var p=(o.mode&1)!==0;ge!==null;){var g=ge,E=g.child;if(g.tag===22&&p){var S=g.memoizedState!==null||Yh;if(!S){var D=g.alternate,F=D!==null&&D.memoizedState!==null||en;D=Yh;var Q=en;if(Yh=S,(en=F)&&!Q)for(ge=g;ge!==null;)S=ge,F=S.child,S.tag===22&&S.memoizedState!==null?x0(g):F!==null?(F.return=S,ge=F):x0(g);for(;E!==null;)ge=E,S0(E),E=E.sibling;ge=g,Yh=D,en=Q}I0(o)}else(g.subtreeFlags&8772)!==0&&E!==null?(E.return=g,ge=E):I0(o)}}function I0(o){for(;ge!==null;){var l=ge;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:en||Qh(5,l);break;case 1:var p=l.stateNode;if(l.flags&4&&!en)if(h===null)p.componentDidMount();else{var g=l.elementType===l.type?h.memoizedProps:bi(l.type,h.memoizedProps);p.componentDidUpdate(g,h.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var E=l.updateQueue;E!==null&&AE(l,E,p);break;case 3:var S=l.updateQueue;if(S!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}AE(l,S,h)}break;case 5:var D=l.stateNode;if(h===null&&l.flags&4){h=D;var F=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&h.focus();break;case"img":F.src&&(h.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Q=l.alternate;if(Q!==null){var te=Q.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&vi(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}en||l.flags&512&&Hm(l)}catch(ee){gt(l,l.return,ee)}}if(l===o){ge=null;break}if(h=l.sibling,h!==null){h.return=l.return,ge=h;break}ge=l.return}}function A0(o){for(;ge!==null;){var l=ge;if(l===o){ge=null;break}var h=l.sibling;if(h!==null){h.return=l.return,ge=h;break}ge=l.return}}function x0(o){for(;ge!==null;){var l=ge;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{Qh(4,l)}catch(F){gt(l,h,F)}break;case 1:var p=l.stateNode;if(typeof p.componentDidMount=="function"){var g=l.return;try{p.componentDidMount()}catch(F){gt(l,g,F)}}var E=l.return;try{Hm(l)}catch(F){gt(l,E,F)}break;case 5:var S=l.return;try{Hm(l)}catch(F){gt(l,S,F)}}}catch(F){gt(l,l.return,F)}if(l===o){ge=null;break}var D=l.sibling;if(D!==null){D.return=l.return,ge=D;break}ge=l.return}}var Nk=Math.ceil,Xh=U.ReactCurrentDispatcher,qm=U.ReactCurrentOwner,Zn=U.ReactCurrentBatchConfig,Ge=0,$t=null,bt=null,qt=0,Ln=0,Ka=hs(0),kt=0,Mc=null,Ao=0,Jh=0,Gm=0,Lc=null,vn=null,Ym=0,qa=1/0,xr=null,Zh=!1,Qm=null,_s=null,ed=!1,ys=null,td=0,Vc=0,Xm=null,nd=-1,id=0;function cn(){return(Ge&6)!==0?nt():nd!==-1?nd:nd=nt()}function vs(o){return(o.mode&1)===0?1:(Ge&2)!==0&&qt!==0?qt&-qt:gk.transition!==null?(id===0&&(id=po()),id):(o=ze,o!==0||(o=window.event,o=o===void 0?16:hc(o.type)),o)}function Ai(o,l,h,p){if(50<Vc)throw Vc=0,Xm=null,Error(t(185));is(o,h,p),((Ge&2)===0||o!==$t)&&(o===$t&&((Ge&2)===0&&(Jh|=h),kt===4&&Es(o,qt)),En(o,p),h===1&&Ge===0&&(l.mode&1)===0&&(qa=nt()+500,Ph&&fs()))}function En(o,l){var h=o.callbackNode;mr(o,l);var p=fo(o,o===$t?qt:0);if(p===0)h!==null&&oc(h),o.callbackNode=null,o.callbackPriority=0;else if(l=p&-p,o.callbackPriority!==l){if(h!=null&&oc(h),l===1)o.tag===0?mk(k0.bind(null,o)):pE(k0.bind(null,o)),hk(function(){(Ge&6)===0&&fs()}),h=null;else{switch(ss(p)){case 1:h=uo;break;case 4:h=es;break;case 16:h=Kn;break;case 536870912:h=ih;break;default:h=Kn}h=V0(h,C0.bind(null,o))}o.callbackPriority=l,o.callbackNode=h}}function C0(o,l){if(nd=-1,id=0,(Ge&6)!==0)throw Error(t(327));var h=o.callbackNode;if(Ga()&&o.callbackNode!==h)return null;var p=fo(o,o===$t?qt:0);if(p===0)return null;if((p&30)!==0||(p&o.expiredLanes)!==0||l)l=rd(o,p);else{l=p;var g=Ge;Ge|=2;var E=P0();($t!==o||qt!==l)&&(xr=null,qa=nt()+500,Co(o,l));do try{Lk();break}catch(D){R0(o,D)}while(!0);mm(),Xh.current=E,Ge=g,bt!==null?l=0:($t=null,qt=0,l=kt)}if(l!==0){if(l===2&&(g=Pn(o),g!==0&&(p=g,l=Jm(o,g))),l===1)throw h=Mc,Co(o,0),Es(o,p),En(o,nt()),h;if(l===6)Es(o,p);else{if(g=o.current.alternate,(p&30)===0&&!Dk(g)&&(l=rd(o,p),l===2&&(E=Pn(o),E!==0&&(p=E,l=Jm(o,E))),l===1))throw h=Mc,Co(o,0),Es(o,p),En(o,nt()),h;switch(o.finishedWork=g,o.finishedLanes=p,l){case 0:case 1:throw Error(t(345));case 2:ko(o,vn,xr);break;case 3:if(Es(o,p),(p&130023424)===p&&(l=Ym+500-nt(),10<l)){if(fo(o,0)!==0)break;if(g=o.suspendedLanes,(g&p)!==p){cn(),o.pingedLanes|=o.suspendedLanes&g;break}o.timeoutHandle=rm(ko.bind(null,o,vn,xr),l);break}ko(o,vn,xr);break;case 4:if(Es(o,p),(p&4194240)===p)break;for(l=o.eventTimes,g=-1;0<p;){var S=31-on(p);E=1<<S,S=l[S],S>g&&(g=S),p&=~E}if(p=g,p=nt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Nk(p/1960))-p,10<p){o.timeoutHandle=rm(ko.bind(null,o,vn,xr),p);break}ko(o,vn,xr);break;case 5:ko(o,vn,xr);break;default:throw Error(t(329))}}}return En(o,nt()),o.callbackNode===h?C0.bind(null,o):null}function Jm(o,l){var h=Lc;return o.current.memoizedState.isDehydrated&&(Co(o,l).flags|=256),o=rd(o,l),o!==2&&(l=vn,vn=h,l!==null&&Zm(l)),o}function Zm(o){vn===null?vn=o:vn.push.apply(vn,o)}function Dk(o){for(var l=o;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var p=0;p<h.length;p++){var g=h[p],E=g.getSnapshot;g=g.value;try{if(!wi(E(),g))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Es(o,l){for(l&=~Gm,l&=~Jh,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var h=31-on(l),p=1<<h;o[h]=-1,l&=~p}}function k0(o){if((Ge&6)!==0)throw Error(t(327));Ga();var l=fo(o,0);if((l&1)===0)return En(o,nt()),null;var h=rd(o,l);if(o.tag!==0&&h===2){var p=Pn(o);p!==0&&(l=p,h=Jm(o,p))}if(h===1)throw h=Mc,Co(o,0),Es(o,l),En(o,nt()),h;if(h===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,ko(o,vn,xr),En(o,nt()),null}function eg(o,l){var h=Ge;Ge|=1;try{return o(l)}finally{Ge=h,Ge===0&&(qa=nt()+500,Ph&&fs())}}function xo(o){ys!==null&&ys.tag===0&&(Ge&6)===0&&Ga();var l=Ge;Ge|=1;var h=Zn.transition,p=ze;try{if(Zn.transition=null,ze=1,o)return o()}finally{ze=p,Zn.transition=h,Ge=l,(Ge&6)===0&&fs()}}function tg(){Ln=Ka.current,st(Ka)}function Co(o,l){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,uk(h)),bt!==null)for(h=bt.return;h!==null;){var p=h;switch(um(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&kh();break;case 3:Ba(),st(gn),st(Xt),bm();break;case 5:wm(p);break;case 4:Ba();break;case 13:st(ht);break;case 19:st(ht);break;case 10:gm(p.type._context);break;case 22:case 23:tg()}h=h.return}if($t=o,bt=o=ws(o.current,null),qt=Ln=l,kt=0,Mc=null,Gm=Jh=Ao=0,vn=Lc=null,bo!==null){for(l=0;l<bo.length;l++)if(h=bo[l],p=h.interleaved,p!==null){h.interleaved=null;var g=p.next,E=h.pending;if(E!==null){var S=E.next;E.next=g,p.next=S}h.pending=p}bo=null}return o}function R0(o,l){do{var h=bt;try{if(mm(),Uh.current=Wh,zh){for(var p=dt.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}zh=!1}if(Io=0,Ft=Ct=dt=null,kc=!1,Rc=0,qm.current=null,h===null||h.return===null){kt=1,Mc=l,bt=null;break}e:{var E=o,S=h.return,D=h,F=l;if(l=qt,D.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var Q=F,te=D,re=te.tag;if((te.mode&1)===0&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var pe=t0(S);if(pe!==null){pe.flags&=-257,n0(pe,S,D,E,l),pe.mode&1&&e0(E,Q,l),l=pe,F=Q;var ye=l.updateQueue;if(ye===null){var ve=new Set;ve.add(F),l.updateQueue=ve}else ye.add(F);break e}else{if((l&1)===0){e0(E,Q,l),ng();break e}F=Error(t(426))}}else if(lt&&D.mode&1){var Et=t0(S);if(Et!==null){(Et.flags&65536)===0&&(Et.flags|=256),n0(Et,S,D,E,l),fm(Ha(F,D));break e}}E=F=Ha(F,D),kt!==4&&(kt=2),Lc===null?Lc=[E]:Lc.push(E),E=S;do{switch(E.tag){case 3:E.flags|=65536,l&=-l,E.lanes|=l;var H=JE(E,F,l);IE(E,H);break e;case 1:D=F;var $=E.type,K=E.stateNode;if((E.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(_s===null||!_s.has(K)))){E.flags|=65536,l&=-l,E.lanes|=l;var ae=ZE(E,D,l);IE(E,ae);break e}}E=E.return}while(E!==null)}N0(h)}catch(Ee){l=Ee,bt===h&&h!==null&&(bt=h=h.return);continue}break}while(!0)}function P0(){var o=Xh.current;return Xh.current=Wh,o===null?Wh:o}function ng(){(kt===0||kt===3||kt===2)&&(kt=4),$t===null||(Ao&268435455)===0&&(Jh&268435455)===0||Es($t,qt)}function rd(o,l){var h=Ge;Ge|=2;var p=P0();($t!==o||qt!==l)&&(xr=null,Co(o,l));do try{Mk();break}catch(g){R0(o,g)}while(!0);if(mm(),Ge=h,Xh.current=p,bt!==null)throw Error(t(261));return $t=null,qt=0,kt}function Mk(){for(;bt!==null;)O0(bt)}function Lk(){for(;bt!==null&&!th();)O0(bt)}function O0(o){var l=L0(o.alternate,o,Ln);o.memoizedProps=o.pendingProps,l===null?N0(o):bt=l,qm.current=null}function N0(o){var l=o;do{var h=l.alternate;if(o=l.return,(l.flags&32768)===0){if(h=Ck(h,l,Ln),h!==null){bt=h;return}}else{if(h=kk(h,l),h!==null){h.flags&=32767,bt=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{kt=6,bt=null;return}}if(l=l.sibling,l!==null){bt=l;return}bt=l=o}while(l!==null);kt===0&&(kt=5)}function ko(o,l,h){var p=ze,g=Zn.transition;try{Zn.transition=null,ze=1,Vk(o,l,h,p)}finally{Zn.transition=g,ze=p}return null}function Vk(o,l,h,p){do Ga();while(ys!==null);if((Ge&6)!==0)throw Error(t(327));h=o.finishedWork;var g=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var E=h.lanes|h.childLanes;if(et(o,E),o===$t&&(bt=$t=null,qt=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||ed||(ed=!0,V0(Kn,function(){return Ga(),null})),E=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||E){E=Zn.transition,Zn.transition=null;var S=ze;ze=1;var D=Ge;Ge|=4,qm.current=null,Pk(o,h),b0(h,o),ik(nm),as=!!tm,nm=tm=null,o.current=h,Ok(h),$p(),Ge=D,ze=S,Zn.transition=E}else o.current=h;if(ed&&(ed=!1,ys=o,td=g),E=o.pendingLanes,E===0&&(_s=null),rh(h.stateNode),En(o,nt()),l!==null)for(p=o.onRecoverableError,h=0;h<l.length;h++)g=l[h],p(g.value,{componentStack:g.stack,digest:g.digest});if(Zh)throw Zh=!1,o=Qm,Qm=null,o;return(td&1)!==0&&o.tag!==0&&Ga(),E=o.pendingLanes,(E&1)!==0?o===Xm?Vc++:(Vc=0,Xm=o):Vc=0,fs(),null}function Ga(){if(ys!==null){var o=ss(td),l=Zn.transition,h=ze;try{if(Zn.transition=null,ze=16>o?16:o,ys===null)var p=!1;else{if(o=ys,ys=null,td=0,(Ge&6)!==0)throw Error(t(331));var g=Ge;for(Ge|=4,ge=o.current;ge!==null;){var E=ge,S=E.child;if((ge.flags&16)!==0){var D=E.deletions;if(D!==null){for(var F=0;F<D.length;F++){var Q=D[F];for(ge=Q;ge!==null;){var te=ge;switch(te.tag){case 0:case 11:case 15:Dc(8,te,E)}var re=te.child;if(re!==null)re.return=te,ge=re;else for(;ge!==null;){te=ge;var ee=te.sibling,pe=te.return;if(y0(te),te===Q){ge=null;break}if(ee!==null){ee.return=pe,ge=ee;break}ge=pe}}}var ye=E.alternate;if(ye!==null){var ve=ye.child;if(ve!==null){ye.child=null;do{var Et=ve.sibling;ve.sibling=null,ve=Et}while(ve!==null)}}ge=E}}if((E.subtreeFlags&2064)!==0&&S!==null)S.return=E,ge=S;else e:for(;ge!==null;){if(E=ge,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Dc(9,E,E.return)}var H=E.sibling;if(H!==null){H.return=E.return,ge=H;break e}ge=E.return}}var $=o.current;for(ge=$;ge!==null;){S=ge;var K=S.child;if((S.subtreeFlags&2064)!==0&&K!==null)K.return=S,ge=K;else e:for(S=$;ge!==null;){if(D=ge,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:Qh(9,D)}}catch(Ee){gt(D,D.return,Ee)}if(D===S){ge=null;break e}var ae=D.sibling;if(ae!==null){ae.return=D.return,ge=ae;break e}ge=D.return}}if(Ge=g,fs(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(ho,o)}catch{}p=!0}return p}finally{ze=h,Zn.transition=l}}return!1}function D0(o,l,h){l=Ha(h,l),l=JE(o,l,1),o=ms(o,l,1),l=cn(),o!==null&&(is(o,1,l),En(o,l))}function gt(o,l,h){if(o.tag===3)D0(o,o,h);else for(;l!==null;){if(l.tag===3){D0(l,o,h);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(_s===null||!_s.has(p))){o=Ha(h,o),o=ZE(l,o,1),l=ms(l,o,1),o=cn(),l!==null&&(is(l,1,o),En(l,o));break}}l=l.return}}function Fk(o,l,h){var p=o.pingCache;p!==null&&p.delete(l),l=cn(),o.pingedLanes|=o.suspendedLanes&h,$t===o&&(qt&h)===h&&(kt===4||kt===3&&(qt&130023424)===qt&&500>nt()-Ym?Co(o,0):Gm|=h),En(o,l)}function M0(o,l){l===0&&((o.mode&1)===0?l=1:(l=_a,_a<<=1,(_a&130023424)===0&&(_a=4194304)));var h=cn();o=Sr(o,l),o!==null&&(is(o,l,h),En(o,h))}function $k(o){var l=o.memoizedState,h=0;l!==null&&(h=l.retryLane),M0(o,h)}function jk(o,l){var h=0;switch(o.tag){case 13:var p=o.stateNode,g=o.memoizedState;g!==null&&(h=g.retryLane);break;case 19:p=o.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(l),M0(o,h)}var L0;L0=function(o,l,h){if(o!==null)if(o.memoizedProps!==l.pendingProps||gn.current)yn=!0;else{if((o.lanes&h)===0&&(l.flags&128)===0)return yn=!1,xk(o,l,h);yn=(o.flags&131072)!==0}else yn=!1,lt&&(l.flags&1048576)!==0&&mE(l,Nh,l.index);switch(l.lanes=0,l.tag){case 2:var p=l.type;Gh(o,l),o=l.pendingProps;var g=La(l,Xt.current);za(l,h),g=Am(null,l,p,o,g,h);var E=xm();return l.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,_n(p)?(E=!0,Rh(l)):E=!1,l.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,vm(l),g.updater=Kh,l.stateNode=g,g._reactInternals=l,Nm(l,p,o,h),l=Vm(null,l,p,!0,E,h)):(l.tag=0,lt&&E&&cm(l),ln(null,l,g,h),l=l.child),l;case 16:p=l.elementType;e:{switch(Gh(o,l),o=l.pendingProps,g=p._init,p=g(p._payload),l.type=p,g=l.tag=zk(p),o=bi(p,o),g){case 0:l=Lm(null,l,p,o,h);break e;case 1:l=l0(null,l,p,o,h);break e;case 11:l=i0(null,l,p,o,h);break e;case 14:l=r0(null,l,p,bi(p.type,o),h);break e}throw Error(t(306,p,""))}return l;case 0:return p=l.type,g=l.pendingProps,g=l.elementType===p?g:bi(p,g),Lm(o,l,p,g,h);case 1:return p=l.type,g=l.pendingProps,g=l.elementType===p?g:bi(p,g),l0(o,l,p,g,h);case 3:e:{if(c0(l),o===null)throw Error(t(387));p=l.pendingProps,E=l.memoizedState,g=E.element,SE(o,l),$h(l,p,null,h);var S=l.memoizedState;if(p=S.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){g=Ha(Error(t(423)),l),l=u0(o,l,p,h,g);break e}else if(p!==g){g=Ha(Error(t(424)),l),l=u0(o,l,p,h,g);break e}else for(Mn=us(l.stateNode.containerInfo.firstChild),Dn=l,lt=!0,Ti=null,h=TE(l,null,p,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if($a(),p===g){l=Ar(o,l,h);break e}ln(o,l,p,h)}l=l.child}return l;case 5:return xE(l),o===null&&dm(l),p=l.type,g=l.pendingProps,E=o!==null?o.memoizedProps:null,S=g.children,im(p,g)?S=null:E!==null&&im(p,E)&&(l.flags|=32),a0(o,l),ln(o,l,S,h),l.child;case 6:return o===null&&dm(l),null;case 13:return h0(o,l,h);case 4:return Em(l,l.stateNode.containerInfo),p=l.pendingProps,o===null?l.child=ja(l,null,p,h):ln(o,l,p,h),l.child;case 11:return p=l.type,g=l.pendingProps,g=l.elementType===p?g:bi(p,g),i0(o,l,p,g,h);case 7:return ln(o,l,l.pendingProps,h),l.child;case 8:return ln(o,l,l.pendingProps.children,h),l.child;case 12:return ln(o,l,l.pendingProps.children,h),l.child;case 10:e:{if(p=l.type._context,g=l.pendingProps,E=l.memoizedProps,S=g.value,it(Lh,p._currentValue),p._currentValue=S,E!==null)if(wi(E.value,S)){if(E.children===g.children&&!gn.current){l=Ar(o,l,h);break e}}else for(E=l.child,E!==null&&(E.return=l);E!==null;){var D=E.dependencies;if(D!==null){S=E.child;for(var F=D.firstContext;F!==null;){if(F.context===p){if(E.tag===1){F=Ir(-1,h&-h),F.tag=2;var Q=E.updateQueue;if(Q!==null){Q=Q.shared;var te=Q.pending;te===null?F.next=F:(F.next=te.next,te.next=F),Q.pending=F}}E.lanes|=h,F=E.alternate,F!==null&&(F.lanes|=h),_m(E.return,h,l),D.lanes|=h;break}F=F.next}}else if(E.tag===10)S=E.type===l.type?null:E.child;else if(E.tag===18){if(S=E.return,S===null)throw Error(t(341));S.lanes|=h,D=S.alternate,D!==null&&(D.lanes|=h),_m(S,h,l),S=E.sibling}else S=E.child;if(S!==null)S.return=E;else for(S=E;S!==null;){if(S===l){S=null;break}if(E=S.sibling,E!==null){E.return=S.return,S=E;break}S=S.return}E=S}ln(o,l,g.children,h),l=l.child}return l;case 9:return g=l.type,p=l.pendingProps.children,za(l,h),g=Xn(g),p=p(g),l.flags|=1,ln(o,l,p,h),l.child;case 14:return p=l.type,g=bi(p,l.pendingProps),g=bi(p.type,g),r0(o,l,p,g,h);case 15:return s0(o,l,l.type,l.pendingProps,h);case 17:return p=l.type,g=l.pendingProps,g=l.elementType===p?g:bi(p,g),Gh(o,l),l.tag=1,_n(p)?(o=!0,Rh(l)):o=!1,za(l,h),QE(l,p,g),Nm(l,p,g,h),Vm(null,l,p,!0,o,h);case 19:return f0(o,l,h);case 22:return o0(o,l,h)}throw Error(t(156,l.tag))};function V0(o,l){return ma(o,l)}function Uk(o,l,h,p){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(o,l,h,p){return new Uk(o,l,h,p)}function ig(o){return o=o.prototype,!(!o||!o.isReactComponent)}function zk(o){if(typeof o=="function")return ig(o)?1:0;if(o!=null){if(o=o.$$typeof,o===V)return 11;if(o===Se)return 14}return 2}function ws(o,l){var h=o.alternate;return h===null?(h=ei(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,l=o.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function sd(o,l,h,p,g,E){var S=2;if(p=o,typeof o=="function")ig(o)&&(S=1);else if(typeof o=="string")S=5;else e:switch(o){case P:return Ro(h.children,g,E,l);case x:S=8,g|=8;break;case k:return o=ei(12,h,l,g|2),o.elementType=k,o.lanes=E,o;case O:return o=ei(13,h,l,g),o.elementType=O,o.lanes=E,o;case De:return o=ei(19,h,l,g),o.elementType=De,o.lanes=E,o;case _e:return od(h,g,E,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case N:S=10;break e;case M:S=9;break e;case V:S=11;break e;case Se:S=14;break e;case we:S=16,p=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return l=ei(S,h,l,g),l.elementType=o,l.type=p,l.lanes=E,l}function Ro(o,l,h,p){return o=ei(7,o,p,l),o.lanes=h,o}function od(o,l,h,p){return o=ei(22,o,p,l),o.elementType=_e,o.lanes=h,o.stateNode={isHidden:!1},o}function rg(o,l,h){return o=ei(6,o,null,l),o.lanes=h,o}function sg(o,l,h){return l=ei(4,o.children!==null?o.children:[],o.key,l),l.lanes=h,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function Bk(o,l,h,p,g){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ns(0),this.expirationTimes=ns(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ns(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function og(o,l,h,p,g,E,S,D,F){return o=new Bk(o,l,h,D,F),l===1?(l=1,E===!0&&(l|=8)):l=0,E=ei(3,null,null,l),o.current=E,E.stateNode=o,E.memoizedState={element:p,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},vm(E),o}function Hk(o,l,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:p==null?null:""+p,children:o,containerInfo:l,implementation:h}}function F0(o){if(!o)return ds;o=o._reactInternals;e:{if(pi(o)!==o||o.tag!==1)throw Error(t(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(_n(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(o.tag===1){var h=o.type;if(_n(h))return dE(o,h,l)}return l}function $0(o,l,h,p,g,E,S,D,F){return o=og(h,p,!0,o,g,E,S,D,F),o.context=F0(null),h=o.current,p=cn(),g=vs(h),E=Ir(p,g),E.callback=l??null,ms(h,E,g),o.current.lanes=g,is(o,g,p),En(o,p),o}function ad(o,l,h,p){var g=l.current,E=cn(),S=vs(g);return h=F0(h),l.context===null?l.context=h:l.pendingContext=h,l=Ir(E,S),l.payload={element:o},p=p===void 0?null:p,p!==null&&(l.callback=p),o=ms(g,l,S),o!==null&&(Ai(o,g,S,E),Fh(o,g,S)),S}function ld(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function j0(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<l?h:l}}function ag(o,l){j0(o,l),(o=o.alternate)&&j0(o,l)}function Wk(){return null}var U0=typeof reportError=="function"?reportError:function(o){console.error(o)};function lg(o){this._internalRoot=o}cd.prototype.render=lg.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(t(409));ad(o,l,null,null)},cd.prototype.unmount=lg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;xo(function(){ad(null,o,null,null)}),l[Er]=null}};function cd(o){this._internalRoot=o}cd.prototype.unstable_scheduleHydration=function(o){if(o){var l=ch();o={blockedOn:null,target:o,priority:l};for(var h=0;h<Ui.length&&l!==0&&l<Ui[h].priority;h++);Ui.splice(h,0,o),h===0&&dh(o)}};function cg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function ud(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function z0(){}function Kk(o,l,h,p,g){if(g){if(typeof p=="function"){var E=p;p=function(){var Q=ld(S);E.call(Q)}}var S=$0(l,p,o,0,null,!1,!1,"",z0);return o._reactRootContainer=S,o[Er]=S.current,wc(o.nodeType===8?o.parentNode:o),xo(),S}for(;g=o.lastChild;)o.removeChild(g);if(typeof p=="function"){var D=p;p=function(){var Q=ld(F);D.call(Q)}}var F=og(o,0,!1,null,null,!1,!1,"",z0);return o._reactRootContainer=F,o[Er]=F.current,wc(o.nodeType===8?o.parentNode:o),xo(function(){ad(l,F,h,p)}),F}function hd(o,l,h,p,g){var E=h._reactRootContainer;if(E){var S=E;if(typeof g=="function"){var D=g;g=function(){var F=ld(S);D.call(F)}}ad(l,S,o,g)}else S=Kk(h,l,o,g,p);return ld(S)}ah=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var h=ts(l.pendingLanes);h!==0&&(rs(l,h|1),En(l,nt()),(Ge&6)===0&&(qa=nt()+500,fs()))}break;case 13:xo(function(){var p=Sr(o,1);if(p!==null){var g=cn();Ai(p,o,1,g)}}),ag(o,1)}},ya=function(o){if(o.tag===13){var l=Sr(o,134217728);if(l!==null){var h=cn();Ai(l,o,134217728,h)}ag(o,134217728)}},lh=function(o){if(o.tag===13){var l=vs(o),h=Sr(o,l);if(h!==null){var p=cn();Ai(h,o,l,p)}ag(o,l)}},ch=function(){return ze},uh=function(o,l){var h=ze;try{return ze=o,l()}finally{ze=h}},ca=function(o,l,h){switch(l){case"input":if(hi(o,h),l=h.name,h.type==="radio"&&l!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var p=h[l];if(p!==o&&p.form===o.form){var g=Ch(p);if(!g)throw Error(t(90));zt(p),hi(p,g)}}}break;case"textarea":Vi(o,h);break;case"select":l=h.value,l!=null&&fn(o,!!h.multiple,l,!1)}},oo=eg,nc=xo;var qk={usingClientEntryPoint:!1,Events:[Sc,Da,Ch,$i,tc,eg]},Fc={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gk={bundleType:Fc.bundleType,version:Fc.version,rendererPackageName:Fc.rendererPackageName,rendererConfig:Fc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=sc(o),o===null?null:o.stateNode},findFiberByHostInstance:Fc.findFiberByHostInstance||Wk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dd.isDisabled&&dd.supportsFiber)try{ho=dd.inject(Gk),Rn=dd}catch{}}return wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qk,wn.createPortal=function(o,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cg(l))throw Error(t(200));return Hk(o,l,null,h)},wn.createRoot=function(o,l){if(!cg(o))throw Error(t(299));var h=!1,p="",g=U0;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(g=l.onRecoverableError)),l=og(o,1,!1,null,null,h,!1,p,g),o[Er]=l.current,wc(o.nodeType===8?o.parentNode:o),new lg(l)},wn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=sc(l),o=o===null?null:o.stateNode,o},wn.flushSync=function(o){return xo(o)},wn.hydrate=function(o,l,h){if(!ud(l))throw Error(t(200));return hd(null,o,l,!0,h)},wn.hydrateRoot=function(o,l,h){if(!cg(o))throw Error(t(405));var p=h!=null&&h.hydratedSources||null,g=!1,E="",S=U0;if(h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onRecoverableError!==void 0&&(S=h.onRecoverableError)),l=$0(l,null,o,1,h??null,g,!1,E,S),o[Er]=l.current,wc(o),p)for(o=0;o<p.length;o++)h=p[o],g=h._getVersion,g=g(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,g]:l.mutableSourceEagerHydrationData.push(h,g);return new cd(l)},wn.render=function(o,l,h){if(!ud(l))throw Error(t(200));return hd(null,o,l,!1,h)},wn.unmountComponentAtNode=function(o){if(!ud(o))throw Error(t(40));return o._reactRootContainer?(xo(function(){hd(null,null,o,!1,function(){o._reactRootContainer=null,o[Er]=null})}),!0):!1},wn.unstable_batchedUpdates=eg,wn.unstable_renderSubtreeIntoContainer=function(o,l,h,p){if(!ud(h))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return hd(o,l,h,!1,p)},wn.version="18.3.1-next-f1338f8080-20240426",wn}var Q0;function sR(){if(Q0)return dg.exports;Q0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dg.exports=rR(),dg.exports}var X0;function oR(){if(X0)return fd;X0=1;var n=sR();return fd.createRoot=n.createRoot,fd.hydrateRoot=n.hydrateRoot,fd}var aR=oR(),jc={},J0;function lR(){if(J0)return jc;J0=1,Object.defineProperty(jc,"__esModule",{value:!0}),jc.parse=a,jc.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function a(v,w){const b=new s,I=v.length;if(I<2)return b;const A=(w==null?void 0:w.decode)||m;let R=0;do{const L=v.indexOf("=",R);if(L===-1)break;const j=v.indexOf(";",R),U=j===-1?I:j;if(L>U){R=v.lastIndexOf(";",L-1)+1;continue}const q=c(v,R,L),G=u(v,L,q),P=v.slice(q,G);if(b[P]===void 0){let x=c(v,L+1,U),k=u(v,U,x);const N=A(v.slice(x,k));b[P]=N}R=U+1}while(R<I);return b}function c(v,w,b){do{const I=v.charCodeAt(w);if(I!==32&&I!==9)return w}while(++w<b);return b}function u(v,w,b){for(;w>b;){const I=v.charCodeAt(--w);if(I!==32&&I!==9)return w+1}return b}function d(v,w,b){const I=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const A=I(w);if(!e.test(A))throw new TypeError(`argument val is invalid: ${w}`);let R=v+"="+A;if(!b)return R;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);R+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);R+="; Domain="+b.domain}if(b.path){if(!i.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);R+="; Path="+b.path}if(b.expires){if(!_(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);R+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(R+="; HttpOnly"),b.secure&&(R+="; Secure"),b.partitioned&&(R+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return R}function m(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return r.call(v)==="[object Date]"}return jc}lR();var Z0="popstate";function cR(n={}){function e(i,r){let{pathname:s,search:a,hash:c}=i.location;return o_("",{pathname:s,search:a,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Eu(r)}return hR(e,t,null,n)}function ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ci(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uR(){return Math.random().toString(36).substring(2,10)}function ew(n,e){return{usr:n.state,key:n.key,idx:e}}function o_(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Dl(e):e,state:t,key:e&&e.key||i||uR()}}function Eu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Dl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function hR(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,c="POP",u=null,d=m();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function m(){return(a.state||{idx:null}).idx}function _(){c="POP";let A=m(),R=A==null?null:A-d;d=A,u&&u({action:c,location:I.location,delta:R})}function v(A,R){c="PUSH";let L=o_(I.location,A,R);d=m()+1;let j=ew(L,d),U=I.createHref(L);try{a.pushState(j,"",U)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;r.location.assign(U)}s&&u&&u({action:c,location:I.location,delta:1})}function w(A,R){c="REPLACE";let L=o_(I.location,A,R);d=m();let j=ew(L,d),U=I.createHref(L);a.replaceState(j,"",U),s&&u&&u({action:c,location:I.location,delta:0})}function b(A){return dR(A)}let I={get action(){return c},get location(){return n(r,a)},listen(A){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(Z0,_),u=A,()=>{r.removeEventListener(Z0,_),u=null}},createHref(A){return e(r,A)},createURL:b,encodeLocation(A){let R=b(A);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:v,replace:w,go(A){return a.go(A)}};return I}function dR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ut(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Eu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function LS(n,e,t="/"){return fR(n,e,t,!1)}function fR(n,e,t,i){let r=typeof e=="string"?Dl(e):e,s=Ur(r.pathname||"/",t);if(s==null)return null;let a=VS(n);pR(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let d=IR(s);c=bR(a[u],d,i)}return c}function VS(n,e=[],t=[],i=""){let r=(s,a,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(ut(u.relativePath.startsWith(i),`Absolute route path "${u.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(i.length));let d=Vr([i,u.relativePath]),m=t.concat(u);s.children&&s.children.length>0&&(ut(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),VS(s.children,e,m,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:wR(d,s.index),routesMeta:m})};return n.forEach((s,a)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))r(s,a);else for(let u of FS(s.path))r(s,a,u)}),e}function FS(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=FS(i.join("/")),c=[];return c.push(...a.map(u=>u===""?s:[s,u].join("/"))),r&&c.push(...a),c.map(u=>n.startsWith("/")&&u===""?"/":u)}function pR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:TR(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var mR=/^:[\w-]+$/,gR=3,_R=2,yR=1,vR=10,ER=-2,tw=n=>n==="*";function wR(n,e){let t=n.split("/"),i=t.length;return t.some(tw)&&(i+=ER),e&&(i+=_R),t.filter(r=>!tw(r)).reduce((r,s)=>r+(mR.test(s)?gR:s===""?yR:vR),i)}function TR(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function bR(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",a=[];for(let c=0;c<i.length;++c){let u=i[c],d=c===i.length-1,m=s==="/"?e:e.slice(s.length)||"/",_=df({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},m),v=u.route;if(!_&&d&&t&&!i[i.length-1].route.index&&(_=df({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!_)return null;Object.assign(r,_.params),a.push({params:r,pathname:Vr([s,_.pathname]),pathnameBase:kR(Vr([s,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(s=Vr([s,_.pathnameBase]))}return a}function df(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=SR(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((d,{paramName:m,isOptional:_},v)=>{if(m==="*"){let b=c[v]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const w=c[v];return _&&!w?d[m]=void 0:d[m]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:n}}function SR(n,e=!1,t=!0){Ci(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(i.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function IR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ci(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ur(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function AR(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Dl(n):n;return{pathname:t?t.startsWith("/")?t:xR(t,e):e,search:RR(i),hash:PR(r)}}function xR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function mg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ey(n){let e=CR(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function ty(n,e,t,i=!1){let r;typeof n=="string"?r=Dl(n):(r={...n},ut(!r.pathname||!r.pathname.includes("?"),mg("?","pathname","search",r)),ut(!r.pathname||!r.pathname.includes("#"),mg("#","pathname","hash",r)),ut(!r.search||!r.search.includes("#"),mg("#","search","hash",r)));let s=n===""||r.pathname==="",a=s?"/":r.pathname,c;if(a==null)c=t;else{let _=e.length-1;if(!i&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),_-=1;r.pathname=v.join("/")}c=_>=0?e[_]:"/"}let u=AR(r,c),d=a&&a!=="/"&&a.endsWith("/"),m=(s||a===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(d||m)&&(u.pathname+="/"),u}var Vr=n=>n.join("/").replace(/\/\/+/g,"/"),kR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),RR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,PR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function OR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var $S=["POST","PUT","PATCH","DELETE"];new Set($S);var NR=["GET",...$S];new Set(NR);var Ml=W.createContext(null);Ml.displayName="DataRouter";var Jf=W.createContext(null);Jf.displayName="DataRouterState";var jS=W.createContext({isTransitioning:!1});jS.displayName="ViewTransition";var DR=W.createContext(new Map);DR.displayName="Fetchers";var MR=W.createContext(null);MR.displayName="Await";var Pi=W.createContext(null);Pi.displayName="Navigation";var Du=W.createContext(null);Du.displayName="Location";var dr=W.createContext({outlet:null,matches:[],isDataRoute:!1});dr.displayName="Route";var ny=W.createContext(null);ny.displayName="RouteError";function LR(n,{relative:e}={}){ut(Ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=W.useContext(Pi),{hash:r,pathname:s,search:a}=Mu(n,{relative:e}),c=s;return t!=="/"&&(c=s==="/"?t:Vr([t,s])),i.createHref({pathname:c,search:a,hash:r})}function Ll(){return W.useContext(Du)!=null}function Qs(){return ut(Ll(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Du).location}var US="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zS(n){W.useContext(Pi).static||W.useLayoutEffect(n)}function Zf(){let{isDataRoute:n}=W.useContext(dr);return n?YR():VR()}function VR(){ut(Ll(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(Ml),{basename:e,navigator:t}=W.useContext(Pi),{matches:i}=W.useContext(dr),{pathname:r}=Qs(),s=JSON.stringify(ey(i)),a=W.useRef(!1);return zS(()=>{a.current=!0}),W.useCallback((u,d={})=>{if(Ci(a.current,US),!a.current)return;if(typeof u=="number"){t.go(u);return}let m=ty(u,JSON.parse(s),r,d.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Vr([e,m.pathname])),(d.replace?t.replace:t.push)(m,d.state,d)},[e,t,s,r,n])}W.createContext(null);function Mu(n,{relative:e}={}){let{matches:t}=W.useContext(dr),{pathname:i}=Qs(),r=JSON.stringify(ey(t));return W.useMemo(()=>ty(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function FR(n,e){return BS(n,e)}function BS(n,e,t,i){var R;ut(Ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=W.useContext(Pi),{matches:s}=W.useContext(dr),a=s[s.length-1],c=a?a.params:{},u=a?a.pathname:"/",d=a?a.pathnameBase:"/",m=a&&a.route;{let L=m&&m.path||"";HS(u,!m||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let _=Qs(),v;if(e){let L=typeof e=="string"?Dl(e):e;ut(d==="/"||((R=L.pathname)==null?void 0:R.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${L.pathname}" was given in the \`location\` prop.`),v=L}else v=_;let w=v.pathname||"/",b=w;if(d!=="/"){let L=d.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(L.length).join("/")}let I=LS(n,{pathname:b});Ci(m||I!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ci(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=BR(I&&I.map(L=>Object.assign({},L,{params:Object.assign({},c,L.params),pathname:Vr([d,r.encodeLocation?r.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?d:Vr([d,r.encodeLocation?r.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),s,t,i);return e&&A?W.createElement(Du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},A):A}function $R(){let n=GR(),e=OR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:s},"ErrorBoundary")," or"," ",W.createElement("code",{style:s},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:r},t):null,a)}var jR=W.createElement($R,null),UR=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(dr.Provider,{value:this.props.routeContext},W.createElement(ny.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zR({routeContext:n,match:e,children:t}){let i=W.useContext(Ml);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(dr.Provider,{value:n},t)}function BR(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,s=t==null?void 0:t.errors;if(s!=null){let u=r.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);ut(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,u+1))}let a=!1,c=-1;if(t)for(let u=0;u<r.length;u++){let d=r[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:m,errors:_}=t,v=d.route.loader&&!m.hasOwnProperty(d.route.id)&&(!_||_[d.route.id]===void 0);if(d.route.lazy||v){a=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((u,d,m)=>{let _,v=!1,w=null,b=null;t&&(_=s&&d.route.id?s[d.route.id]:void 0,w=d.route.errorElement||jR,a&&(c<0&&m===0?(HS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):c===m&&(v=!0,b=d.route.hydrateFallbackElement||null)));let I=e.concat(r.slice(0,m+1)),A=()=>{let R;return _?R=w:v?R=b:d.route.Component?R=W.createElement(d.route.Component,null):d.route.element?R=d.route.element:R=u,W.createElement(zR,{match:d,routeContext:{outlet:u,matches:I,isDataRoute:t!=null},children:R})};return t&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?W.createElement(UR,{location:t.location,revalidation:t.revalidation,component:w,error:_,children:A(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):A()},null)}function iy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HR(n){let e=W.useContext(Ml);return ut(e,iy(n)),e}function WR(n){let e=W.useContext(Jf);return ut(e,iy(n)),e}function KR(n){let e=W.useContext(dr);return ut(e,iy(n)),e}function ry(n){let e=KR(n),t=e.matches[e.matches.length-1];return ut(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function qR(){return ry("useRouteId")}function GR(){var i;let n=W.useContext(ny),e=WR("useRouteError"),t=ry("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function YR(){let{router:n}=HR("useNavigate"),e=ry("useNavigate"),t=W.useRef(!1);return zS(()=>{t.current=!0}),W.useCallback(async(r,s={})=>{Ci(t.current,US),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var nw={};function HS(n,e,t){!e&&!nw[n]&&(nw[n]=!0,Ci(!1,t))}W.memo(QR);function QR({routes:n,future:e,state:t}){return BS(n,void 0,t,e)}function XR({to:n,replace:e,state:t,relative:i}){ut(Ll(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=W.useContext(Pi);Ci(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=W.useContext(dr),{pathname:a}=Qs(),c=Zf(),u=ty(n,ey(s),a,i==="path"),d=JSON.stringify(u);return W.useEffect(()=>{c(JSON.parse(d),{replace:e,state:t,relative:i})},[c,d,i,e,t]),null}function Wd(n){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JR({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1}){ut(!Ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),c=W.useMemo(()=>({basename:a,navigator:r,static:s,future:{}}),[a,r,s]);typeof t=="string"&&(t=Dl(t));let{pathname:u="/",search:d="",hash:m="",state:_=null,key:v="default"}=t,w=W.useMemo(()=>{let b=Ur(u,a);return b==null?null:{location:{pathname:b,search:d,hash:m,state:_,key:v},navigationType:i}},[a,u,d,m,_,v,i]);return Ci(w!=null,`<Router basename="${a}"> is not able to match the URL "${u}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:W.createElement(Pi.Provider,{value:c},W.createElement(Du.Provider,{children:e,value:w}))}function ZR({children:n,location:e}){return FR(a_(n),e)}function a_(n,e=[]){let t=[];return W.Children.forEach(n,(i,r)=>{if(!W.isValidElement(i))return;let s=[...e,r];if(i.type===W.Fragment){t.push.apply(t,a_(i.props.children,s));return}ut(i.type===Wd,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=a_(i.props.children,s)),t.push(a)}),t}var Kd="get",qd="application/x-www-form-urlencoded";function ep(n){return n!=null&&typeof n.tagName=="string"}function eP(n){return ep(n)&&n.tagName.toLowerCase()==="button"}function tP(n){return ep(n)&&n.tagName.toLowerCase()==="form"}function nP(n){return ep(n)&&n.tagName.toLowerCase()==="input"}function iP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function rP(n,e){return n.button===0&&(!e||e==="_self")&&!iP(n)}var pd=null;function sP(){if(pd===null)try{new FormData(document.createElement("form"),0),pd=!1}catch{pd=!0}return pd}var oP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gg(n){return n!=null&&!oP.has(n)?(Ci(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qd}"`),null):n}function aP(n,e){let t,i,r,s,a;if(tP(n)){let c=n.getAttribute("action");i=c?Ur(c,e):null,t=n.getAttribute("method")||Kd,r=gg(n.getAttribute("enctype"))||qd,s=new FormData(n)}else if(eP(n)||nP(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||c.getAttribute("action");if(i=u?Ur(u,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Kd,r=gg(n.getAttribute("formenctype"))||gg(c.getAttribute("enctype"))||qd,s=new FormData(c,n),!sP()){let{name:d,type:m,value:_}=n;if(m==="image"){let v=d?`${d}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else d&&s.append(d,_)}}else{if(ep(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Kd,i=null,r=qd,a=n}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:a}}function sy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function lP(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function uP(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await lP(s,t);return a.links?a.links():[]}return[]}));return pP(i.flat(1).filter(cP).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function iw(n,e,t,i,r,s){let a=(u,d)=>t[d]?u.route.id!==t[d].route.id:!0,c=(u,d)=>{var m;return t[d].pathname!==u.pathname||((m=t[d].route.path)==null?void 0:m.endsWith("*"))&&t[d].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,d)=>a(u,d)||c(u,d)):s==="data"?e.filter((u,d)=>{var _;let m=i.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(a(u,d)||c(u,d))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function hP(n,e,{includeHydrateFallback:t}={}){return dP(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function dP(n){return[...new Set(n)]}function fP(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function pP(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(fP(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var mP=new Set([100,101,204,205]);function gP(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ur(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function WS(){let n=W.useContext(Ml);return sy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function _P(){let n=W.useContext(Jf);return sy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var oy=W.createContext(void 0);oy.displayName="FrameworkContext";function KS(){let n=W.useContext(oy);return sy(n,"You must render this element inside a <HydratedRouter> element"),n}function yP(n,e){let t=W.useContext(oy),[i,r]=W.useState(!1),[s,a]=W.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:d,onMouseLeave:m,onTouchStart:_}=e,v=W.useRef(null);W.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let I=R=>{R.forEach(L=>{a(L.isIntersecting)})},A=new IntersectionObserver(I,{threshold:.5});return v.current&&A.observe(v.current),()=>{A.disconnect()}}},[n]),W.useEffect(()=>{if(i){let I=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(I)}}},[i]);let w=()=>{r(!0)},b=()=>{r(!1),a(!1)};return t?n!=="intent"?[s,v,{}]:[s,v,{onFocus:Uc(c,w),onBlur:Uc(u,b),onMouseEnter:Uc(d,w),onMouseLeave:Uc(m,b),onTouchStart:Uc(_,w)}]:[!1,v,{}]}function Uc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function vP({page:n,...e}){let{router:t}=WS(),i=W.useMemo(()=>LS(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?W.createElement(wP,{page:n,matches:i,...e}):null}function EP(n){let{manifest:e,routeModules:t}=KS(),[i,r]=W.useState([]);return W.useEffect(()=>{let s=!1;return uP(n,e,t).then(a=>{s||r(a)}),()=>{s=!0}},[n,e,t]),i}function wP({page:n,matches:e,...t}){let i=Qs(),{manifest:r,routeModules:s}=KS(),{basename:a}=WS(),{loaderData:c,matches:u}=_P(),d=W.useMemo(()=>iw(n,e,u,r,i,"data"),[n,e,u,r,i]),m=W.useMemo(()=>iw(n,e,u,r,i,"assets"),[n,e,u,r,i]),_=W.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let b=new Set,I=!1;if(e.forEach(R=>{var j;let L=r.routes[R.route.id];!L||!L.hasLoader||(!d.some(U=>U.route.id===R.route.id)&&R.route.id in c&&((j=s[R.route.id])!=null&&j.shouldRevalidate)||L.hasClientLoader?I=!0:b.add(R.route.id))}),b.size===0)return[];let A=gP(n,a);return I&&b.size>0&&A.searchParams.set("_routes",e.filter(R=>b.has(R.route.id)).map(R=>R.route.id).join(",")),[A.pathname+A.search]},[a,c,i,r,d,e,n,s]),v=W.useMemo(()=>hP(m,r),[m,r]),w=EP(m);return W.createElement(W.Fragment,null,_.map(b=>W.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),v.map(b=>W.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),w.map(({key:b,link:I})=>W.createElement("link",{key:b,...I})))}function TP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var qS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qS&&(window.__reactRouterVersion="7.6.2")}catch{}function bP({basename:n,children:e,window:t}){let i=W.useRef();i.current==null&&(i.current=cR({window:t,v5Compat:!0}));let r=i.current,[s,a]=W.useState({action:r.action,location:r.location}),c=W.useCallback(u=>{W.startTransition(()=>a(u))},[a]);return W.useLayoutEffect(()=>r.listen(c),[r,c]),W.createElement(JR,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:r})}var GS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wu=W.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:c,target:u,to:d,preventScrollReset:m,viewTransition:_,...v},w){let{basename:b}=W.useContext(Pi),I=typeof d=="string"&&GS.test(d),A,R=!1;if(typeof d=="string"&&I&&(A=d,qS))try{let k=new URL(window.location.href),N=d.startsWith("//")?new URL(k.protocol+d):new URL(d),M=Ur(N.pathname,b);N.origin===k.origin&&M!=null?d=M+N.search+N.hash:R=!0}catch{Ci(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=LR(d,{relative:r}),[j,U,q]=yP(i,v),G=xP(d,{replace:a,state:c,target:u,preventScrollReset:m,relative:r,viewTransition:_});function P(k){e&&e(k),k.defaultPrevented||G(k)}let x=W.createElement("a",{...v,...q,href:A||L,onClick:R||s?e:P,ref:TP(w,U),target:u,"data-discover":!I&&t==="render"?"true":void 0});return j&&!I?W.createElement(W.Fragment,null,x,W.createElement(vP,{page:L})):x});wu.displayName="Link";var SP=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:c,children:u,...d},m){let _=Mu(a,{relative:d.relative}),v=Qs(),w=W.useContext(Jf),{navigator:b,basename:I}=W.useContext(Pi),A=w!=null&&OP(_)&&c===!0,R=b.encodeLocation?b.encodeLocation(_).pathname:_.pathname,L=v.pathname,j=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(L=L.toLowerCase(),j=j?j.toLowerCase():null,R=R.toLowerCase()),j&&I&&(j=Ur(j,I)||j);const U=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let q=L===R||!r&&L.startsWith(R)&&L.charAt(U)==="/",G=j!=null&&(j===R||!r&&j.startsWith(R)&&j.charAt(R.length)==="/"),P={isActive:q,isPending:G,isTransitioning:A},x=q?e:void 0,k;typeof i=="function"?k=i(P):k=[i,q?"active":null,G?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let N=typeof s=="function"?s(P):s;return W.createElement(wu,{...d,"aria-current":x,className:k,ref:m,style:N,to:a,viewTransition:c},typeof u=="function"?u(P):u)});SP.displayName="NavLink";var IP=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:a=Kd,action:c,onSubmit:u,relative:d,preventScrollReset:m,viewTransition:_,...v},w)=>{let b=RP(),I=PP(c,{relative:d}),A=a.toLowerCase()==="get"?"get":"post",R=typeof c=="string"&&GS.test(c),L=j=>{if(u&&u(j),j.defaultPrevented)return;j.preventDefault();let U=j.nativeEvent.submitter,q=(U==null?void 0:U.getAttribute("formmethod"))||a;b(U||j.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:r,state:s,relative:d,preventScrollReset:m,viewTransition:_})};return W.createElement("form",{ref:w,method:A,action:I,onSubmit:i?u:L,...v,"data-discover":!R&&n==="render"?"true":void 0})});IP.displayName="Form";function AP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YS(n){let e=W.useContext(Ml);return ut(e,AP(n)),e}function xP(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:a}={}){let c=Zf(),u=Qs(),d=Mu(n,{relative:s});return W.useCallback(m=>{if(rP(m,e)){m.preventDefault();let _=t!==void 0?t:Eu(u)===Eu(d);c(n,{replace:_,state:i,preventScrollReset:r,relative:s,viewTransition:a})}},[u,c,d,t,i,e,n,r,s,a])}var CP=0,kP=()=>`__${String(++CP)}__`;function RP(){let{router:n}=YS("useSubmit"),{basename:e}=W.useContext(Pi),t=qR();return W.useCallback(async(i,r={})=>{let{action:s,method:a,encType:c,formData:u,body:d}=aP(i,e);if(r.navigate===!1){let m=r.fetcherKey||kP();await n.fetch(m,t,r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:d,formMethod:r.method||a,formEncType:r.encType||c,flushSync:r.flushSync})}else await n.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:d,formMethod:r.method||a,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function PP(n,{relative:e}={}){let{basename:t}=W.useContext(Pi),i=W.useContext(dr);ut(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...Mu(n||".",{relative:e})},a=Qs();if(n==null){s.search=a.search;let c=new URLSearchParams(s.search),u=c.getAll("index");if(u.some(m=>m==="")){c.delete("index"),u.filter(_=>_).forEach(_=>c.append("index",_));let m=c.toString();s.search=m?`?${m}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Vr([t,s.pathname])),Eu(s)}function OP(n,e={}){let t=W.useContext(jS);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=YS("useViewTransitionState"),r=Mu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Ur(t.currentLocation.pathname,i)||t.currentLocation.pathname,a=Ur(t.nextLocation.pathname,i)||t.nextLocation.pathname;return df(r.pathname,a)!=null||df(r.pathname,s)!=null}[...mP];const NP=()=>{};var rw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},DP=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[t++],a=n[t++],c=n[t++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const s=n[t++],a=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},XS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],a=r+1<n.length,c=a?n[r+1]:0,u=r+2<n.length,d=u?n[r+2]:0,m=s>>2,_=(s&3)<<4|c>>4;let v=(c&15)<<2|d>>6,w=d&63;u||(w=64,a||(v=64)),i.push(t[m],t[_],t[v],t[w])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(QS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):DP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],c=r<n.length?t[n.charAt(r)]:0;++r;const d=r<n.length?t[n.charAt(r)]:64;++r;const _=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||c==null||d==null||_==null)throw new MP;const v=s<<2|c>>4;if(i.push(v),d!==64){const w=c<<4&240|d>>2;if(i.push(w),_!==64){const b=d<<6&192|_;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class MP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LP=function(n){const e=QS(n);return XS.encodeByteArray(e,!0)},ff=function(n){return LP(n).replace(/\./g,"")},JS=function(n){try{return XS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=()=>VP().__FIREBASE_DEFAULTS__,$P=()=>{if(typeof process>"u"||typeof rw>"u")return;const n=rw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},jP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&JS(n[1]);return e&&JSON.parse(e)},tp=()=>{try{return NP()||FP()||$P()||jP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ZS=n=>{var e,t;return(t=(e=tp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},UP=n=>{const e=ZS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},eI=()=>{var n;return(n=tp())===null||n===void 0?void 0:n.config},tI=n=>{var e;return(e=tp())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(n){return n.endsWith(".cloudworkstations.dev")}async function nI(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ff(JSON.stringify(t)),ff(JSON.stringify(a)),""].join(".")}const su={};function HP(){const n={prod:[],emulator:[]};for(const e of Object.keys(su))su[e]?n.emulator.push(e):n.prod.push(e);return n}function WP(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let sw=!1;function iI(n,e){if(typeof window>"u"||typeof document>"u"||!Lu(window.location.host)||su[n]===e||su[n]||sw)return;su[n]=e;function t(v){return`__firebase__banner__${v}`}const i="__firebase__banner",s=HP().prod.length>0;function a(){const v=document.getElementById(i);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,w){v.setAttribute("width","24"),v.setAttribute("id",w),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{sw=!0,a()},v}function m(v,w){v.setAttribute("id",w),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=WP(i),w=t("text"),b=document.getElementById(w)||document.createElement("span"),I=t("learnmore"),A=document.getElementById(I)||document.createElement("a"),R=t("preprendIcon"),L=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const j=v.element;c(j),m(A,I);const U=d();u(L,R),j.append(L,b,A,U),document.body.appendChild(j)}s?(b.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function qP(){var n;const e=(n=tp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function YP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QP(){const n=sn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function XP(){return!qP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sI(){try{return typeof indexedDB=="object"}catch{return!1}}function oI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function JP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="FirebaseError";class Oi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=ZP,Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ea.prototype.create)}}class ea{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?eO(s,i):"Error",c=`${this.serviceName}: ${a} (${r}).`;return new Oi(r,c,i)}}function eO(n,e){return n.replace(tO,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const tO=/\{\$([^}]+)}/g;function nO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function zr(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],a=e[r];if(ow(s)&&ow(a)){if(!zr(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function ow(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Qc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Xc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function iO(n,e){const t=new rO(n,e);return t.subscribe.bind(t)}class rO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");sO(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=_g),r.error===void 0&&(r.error=_g),r.complete===void 0&&(r.complete=_g);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _g(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=1e3,aO=2,lO=4*60*60*1e3,cO=.5;function aw(n,e=oO,t=aO){const i=e*Math.pow(t,n),r=Math.round(cO*i*(Math.random()-.5)*2);return Math.min(lO,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(n){return n&&n._delegate?n._delegate:n}class ki{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new zP;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dO(e))try{this.getOrInitializeService({instanceIdentifier:Do})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Do){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Do){return this.instances.has(e)}getOptions(e=Do){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);i===c&&a.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:hO(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Do){return this.component?this.component.multipleInstances?e:Do:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hO(n){return n===Do?void 0:n}function dO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new uO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const pO={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},mO=je.INFO,gO={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},_O=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=gO[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class np{constructor(e){this.name=e,this._logLevel=mO,this._logHandler=_O,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const yO=(n,e)=>e.some(t=>n instanceof t);let lw,cw;function vO(){return lw||(lw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EO(){return cw||(cw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aI=new WeakMap,l_=new WeakMap,lI=new WeakMap,yg=new WeakMap,ay=new WeakMap;function wO(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(Ds(n.result)),r()},a=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&aI.set(t,n)}).catch(()=>{}),ay.set(e,n),e}function TO(n){if(l_.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),r()},a=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});l_.set(n,e)}let c_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return l_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||lI.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ds(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function bO(n){c_=n(c_)}function SO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(vg(this),e,...t);return lI.set(i,e.sort?e.sort():[e]),Ds(i)}:EO().includes(n)?function(...e){return n.apply(vg(this),e),Ds(aI.get(this))}:function(...e){return Ds(n.apply(vg(this),e))}}function IO(n){return typeof n=="function"?SO(n):(n instanceof IDBTransaction&&TO(n),yO(n,vO())?new Proxy(n,c_):n)}function Ds(n){if(n instanceof IDBRequest)return wO(n);if(yg.has(n))return yg.get(n);const e=IO(n);return e!==n&&(yg.set(n,e),ay.set(e,n)),e}const vg=n=>ay.get(n);function cI(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(n,e),c=Ds(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Ds(a.result),u.oldVersion,u.newVersion,Ds(a.transaction),u)}),t&&a.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const AO=["get","getKey","getAll","getAllKeys","count"],xO=["put","add","delete","clear"],Eg=new Map;function uw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Eg.get(e))return Eg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=xO.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||AO.includes(t)))return;const s=async function(a,...c){const u=this.transaction(a,r?"readwrite":"readonly");let d=u.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),r&&u.done]))[0]};return Eg.set(e,s),s}bO(n=>({...n,get:(e,t,i)=>uw(e,t)||n.get(e,t,i),has:(e,t)=>!!uw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(kO(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function kO(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const u_="@firebase/app",hw="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new np("@firebase/app"),RO="@firebase/app-compat",PO="@firebase/analytics-compat",OO="@firebase/analytics",NO="@firebase/app-check-compat",DO="@firebase/app-check",MO="@firebase/auth",LO="@firebase/auth-compat",VO="@firebase/database",FO="@firebase/data-connect",$O="@firebase/database-compat",jO="@firebase/functions",UO="@firebase/functions-compat",zO="@firebase/installations",BO="@firebase/installations-compat",HO="@firebase/messaging",WO="@firebase/messaging-compat",KO="@firebase/performance",qO="@firebase/performance-compat",GO="@firebase/remote-config",YO="@firebase/remote-config-compat",QO="@firebase/storage",XO="@firebase/storage-compat",JO="@firebase/firestore",ZO="@firebase/ai",eN="@firebase/firestore-compat",tN="firebase",nN="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="[DEFAULT]",iN={[u_]:"fire-core",[RO]:"fire-core-compat",[OO]:"fire-analytics",[PO]:"fire-analytics-compat",[DO]:"fire-app-check",[NO]:"fire-app-check-compat",[MO]:"fire-auth",[LO]:"fire-auth-compat",[VO]:"fire-rtdb",[FO]:"fire-data-connect",[$O]:"fire-rtdb-compat",[jO]:"fire-fn",[UO]:"fire-fn-compat",[zO]:"fire-iid",[BO]:"fire-iid-compat",[HO]:"fire-fcm",[WO]:"fire-fcm-compat",[KO]:"fire-perf",[qO]:"fire-perf-compat",[GO]:"fire-rc",[YO]:"fire-rc-compat",[QO]:"fire-gcs",[XO]:"fire-gcs-compat",[JO]:"fire-fst",[eN]:"fire-fst-compat",[ZO]:"fire-vertex","fire-js":"fire-js",[tN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf=new Map,rN=new Map,d_=new Map;function dw(n,e){try{n.container.addComponent(e)}catch(t){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ar(n){const e=n.name;if(d_.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;d_.set(e,n);for(const t of pf.values())dw(t,n);for(const t of rN.values())dw(t,n);return!0}function ta(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ni(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new ea("app","Firebase",sN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=nN;function uI(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:h_,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw Ms.create("bad-app-name",{appName:String(r)});if(t||(t=eI()),!t)throw Ms.create("no-options");const s=pf.get(r);if(s){if(zr(t,s.options)&&zr(i,s.config))return s;throw Ms.create("duplicate-app",{appName:r})}const a=new fO(r);for(const u of d_.values())a.addComponent(u);const c=new oN(t,i,a);return pf.set(r,c),c}function ly(n=h_){const e=pf.get(n);if(!e&&n===h_&&eI())return uI();if(!e)throw Ms.create("no-app",{appName:n});return e}function ii(n,e,t){var i;let r=(i=iN[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(c.join(" "));return}ar(new ki(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="firebase-heartbeat-database",lN=1,Tu="firebase-heartbeat-store";let wg=null;function hI(){return wg||(wg=cI(aN,lN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Tu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ms.create("idb-open",{originalErrorMessage:n.message})})),wg}async function cN(n){try{const t=(await hI()).transaction(Tu),i=await t.objectStore(Tu).get(dI(n));return await t.done,i}catch(e){if(e instanceof Oi)Br.warn(e.message);else{const t=Ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Br.warn(t.message)}}}async function fw(n,e){try{const i=(await hI()).transaction(Tu,"readwrite");await i.objectStore(Tu).put(e,dI(n)),await i.done}catch(t){if(t instanceof Oi)Br.warn(t.message);else{const i=Ms.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Br.warn(i.message)}}}function dI(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=1024,hN=30;class dN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new pN(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=pw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>hN){const a=mN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Br.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=pw(),{heartbeatsToSend:i,unsentEntries:r}=fN(this._heartbeatsCache.heartbeats),s=ff(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Br.warn(t),""}}}function pw(){return new Date().toISOString().substring(0,10)}function fN(n,e=uN){const t=[];let i=n.slice();for(const r of n){const s=t.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),mw(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),mw(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class pN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sI()?oI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await cN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return fw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return fw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function mw(n){return ff(JSON.stringify({version:2,heartbeats:n})).length}function mN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(n){ar(new ki("platform-logger",e=>new CO(e),"PRIVATE")),ar(new ki("heartbeat",e=>new dN(e),"PRIVATE")),ii(u_,hw,n),ii(u_,hw,"esm2017"),ii("fire-js","")}gN("");function cy(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function fI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _N=fI,pI=new ea("auth","Firebase",fI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf=new np("@firebase/auth");function yN(n,...e){mf.logLevel<=je.WARN&&mf.warn(`Auth (${Vl}): ${n}`,...e)}function Gd(n,...e){mf.logLevel<=je.ERROR&&mf.error(`Auth (${Vl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(n,...e){throw uy(n,...e)}function er(n,...e){return uy(n,...e)}function mI(n,e,t){const i=Object.assign(Object.assign({},_N()),{[e]:t});return new ea("auth","Firebase",i).create(e,{appName:n.name})}function Fr(n){return mI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uy(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return pI.create(n,...e)}function Pe(n,e,...t){if(!n)throw uy(e,...t)}function Or(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Gd(e),new Error(e)}function Hr(n,e){n||Or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function vN(){return gw()==="http:"||gw()==="https:"}function gw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vN()||rI()||"connection"in navigator)?navigator.onLine:!0}function wN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hr(t>e,"Short delay should be less than long delay!"),this.isMobile=KP()||YP()}get(){return EN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(n,e){Hr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SN=new Fu(3e4,6e4);function Xs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Gr(n,e,t,i,r={}){return _I(n,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const c=Vu(Object.assign({key:n.config.apiKey},a)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:e,headers:u},s);return GP()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Lu(n.emulatorConfig.host)&&(d.credentials="include"),gI.fetch()(await yI(n,n.config.apiHost,t,c),d)})}async function _I(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},TN),e);try{const r=new AN(n),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw md(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw md(n,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw md(n,"email-already-in-use",a);if(u==="USER_DISABLED")throw md(n,"user-disabled",a);const m=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw mI(n,m,d);Ri(n,m)}}catch(r){if(r instanceof Oi)throw r;Ri(n,"network-request-failed",{message:String(r)})}}async function $u(n,e,t,i,r={}){const s=await Gr(n,e,t,i,r);return"mfaPendingCredential"in s&&Ri(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function yI(n,e,t,i){const r=`${e}${t}?${i}`,s=n,a=s.config.emulator?hy(n.config,r):`${n.config.apiScheme}://${r}`;return bN.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function IN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(er(this.auth,"network-request-failed")),SN.get())})}}function md(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=er(n,e,i);return r.customData._tokenResponse=t,r}function _w(n){return n!==void 0&&n.enterprise!==void 0}class xN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return IN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CN(n,e){return Gr(n,"GET","/v2/recaptchaConfig",Xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(n,e){return Gr(n,"POST","/v1/accounts:delete",e)}async function gf(n,e){return Gr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RN(n,e=!1){const t=Mt(n),i=await t.getIdToken(e),r=dy(i);Pe(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:ou(Tg(r.auth_time)),issuedAtTime:ou(Tg(r.iat)),expirationTime:ou(Tg(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Tg(n){return Number(n)*1e3}function dy(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Gd("JWT malformed, contained fewer than 3 sections"),null;try{const r=JS(t);return r?JSON.parse(r):(Gd("Failed to decode base64 JWT payload"),null)}catch(r){return Gd("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function yw(n){const e=dy(n);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Oi&&PN(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function PN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _f(n){var e;const t=n.auth,i=await n.getIdToken(),r=await gl(n,gf(t,{idToken:i}));Pe(r==null?void 0:r.users.length,t,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?vI(s.providerUserInfo):[],c=DN(n.providerData,a),u=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!(c!=null&&c.length),m=u?d:!1,_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new p_(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,_)}async function NN(n){const e=Mt(n);await _f(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DN(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function vI(n){return n.map(e=>{var{providerId:t}=e,i=cy(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(n,e){const t=await _I(n,{},async()=>{const i=Vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,a=await yI(n,r,"/v1/token",`key=${s}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",gI.fetch()(a,{method:"POST",headers:c,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function LN(n,e){return Gr(n,"POST","/v2/accounts:revokeToken",Xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const t=yw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:s}=await MN(e,t);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,a=new cl;return i&&(Pe(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(Pe(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(Pe(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cl,this.toJSON())}_performRefresh(){return Or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(n,e){Pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class xi{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=cy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ON(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new p_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await gl(this,this.stsTokenManager.getToken(this.auth,e));return Pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return RN(this,e)}reload(){return NN(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await _f(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(Fr(this.auth));const e=await this.getIdToken();return await gl(this,kN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,a,c,u,d,m;const _=(i=t.displayName)!==null&&i!==void 0?i:void 0,v=(r=t.email)!==null&&r!==void 0?r:void 0,w=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,b=(a=t.photoURL)!==null&&a!==void 0?a:void 0,I=(c=t.tenantId)!==null&&c!==void 0?c:void 0,A=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,R=(d=t.createdAt)!==null&&d!==void 0?d:void 0,L=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:j,emailVerified:U,isAnonymous:q,providerData:G,stsTokenManager:P}=t;Pe(j&&P,e,"internal-error");const x=cl.fromJSON(this.name,P);Pe(typeof j=="string",e,"internal-error"),bs(_,e.name),bs(v,e.name),Pe(typeof U=="boolean",e,"internal-error"),Pe(typeof q=="boolean",e,"internal-error"),bs(w,e.name),bs(b,e.name),bs(I,e.name),bs(A,e.name),bs(R,e.name),bs(L,e.name);const k=new xi({uid:j,auth:e,email:v,emailVerified:U,displayName:_,isAnonymous:q,photoURL:b,phoneNumber:w,tenantId:I,stsTokenManager:x,createdAt:R,lastLoginAt:L});return G&&Array.isArray(G)&&(k.providerData=G.map(N=>Object.assign({},N))),A&&(k._redirectEventId=A),k}static async _fromIdTokenResponse(e,t,i=!1){const r=new cl;r.updateFromServerResponse(t);const s=new xi({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await _f(s),s}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];Pe(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?vI(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),c=new cl;c.updateFromIdToken(i);const u=new xi({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:a}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new p_(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=new Map;function Nr(n){Hr(n instanceof Function,"Expected a class definition");let e=vw.get(n);return e?(Hr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,vw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}EI.type="NONE";const Ew=EI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(n,e,t){return`firebase:${n}:${e}:${t}`}class ul{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Yd(this.userKey,r.apiKey,s),this.fullPersistenceKey=Yd("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await gf(this.auth,{idToken:e}).catch(()=>{});return t?xi._fromGetAccountInfoResponse(this.auth,t,e):null}return xi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ul(Nr(Ew),e,i);const r=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=r[0]||Nr(Ew);const a=Yd(i,e.config.apiKey,e.name);let c=null;for(const d of t)try{const m=await d._get(a);if(m){let _;if(typeof m=="string"){const v=await gf(e,{idToken:m}).catch(()=>{});if(!v)break;_=await xi._fromGetAccountInfoResponse(e,v,m)}else _=xi._fromJSON(e,m);d!==s&&(c=_),s=d;break}}catch{}const u=r.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new ul(s,e,i):(s=u[0],c&&await s._set(a,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new ul(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AI(e))return"Blackberry";if(xI(e))return"Webos";if(TI(e))return"Safari";if((e.includes("chrome/")||bI(e))&&!e.includes("edge/"))return"Chrome";if(II(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function wI(n=sn()){return/firefox\//i.test(n)}function TI(n=sn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bI(n=sn()){return/crios\//i.test(n)}function SI(n=sn()){return/iemobile/i.test(n)}function II(n=sn()){return/android/i.test(n)}function AI(n=sn()){return/blackberry/i.test(n)}function xI(n=sn()){return/webos/i.test(n)}function fy(n=sn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function VN(n=sn()){var e;return fy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FN(){return QP()&&document.documentMode===10}function CI(n=sn()){return fy(n)||II(n)||xI(n)||AI(n)||/windows phone/i.test(n)||SI(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(n,e=[]){let t;switch(n){case"Browser":t=ww(sn());break;case"Worker":t=`${ww(sn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Vl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((a,c)=>{try{const u=e(s);a(u)}catch(u){c(u)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(n,e={}){return Gr(n,"GET","/v2/passwordPolicy",Xs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=6;class zN{constructor(e){var t,i,r,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:UN,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,a,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tw(this),this.idTokenSubscription=new Tw(this),this.beforeStateQueue=new $N(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Nr(t)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await ul.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await gf(this,{idToken:e}),i=await xi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ni(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===c)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _f(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ni(this.app))return Promise.reject(Fr(this));const t=e?Mt(e):null;return t&&Pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(Fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ni(this.app)?Promise.reject(Fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jN(this),t=new zN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ea("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await LN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Nr(e)||this._popupRedirectResolver;Pe(t,this,"argument-error"),this.redirectPersistenceManager=await ul.create(this,[Nr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,i,r);return()=>{a=!0,u()}}else{const u=e.addObserver(t);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&yN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function na(n){return Mt(n)}class Tw{constructor(e){this.auth=e,this.observer=null,this.addObserver=iO(t=>this.observer=t)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ip={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HN(n){ip=n}function RI(n){return ip.loadJS(n)}function WN(){return ip.recaptchaEnterpriseScript}function KN(){return ip.gapiScript}function qN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class GN{constructor(){this.enterprise=new YN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class YN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const QN="recaptcha-enterprise",PI="NO_RECAPTCHA";class XN{constructor(e){this.type=QN,this.auth=na(e)}async verify(e="verify",t=!1){async function i(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,c)=>{CN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new xN(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(u=>{c(u)})})}function r(s,a,c){const u=window.grecaptcha;_w(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(PI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GN().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{i(this.auth).then(c=>{if(!t&&_w(window.grecaptcha))r(c,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=WN();u.length!==0&&(u+=c),RI(u).then(()=>{r(c,s,a)}).catch(d=>{a(d)})}}).catch(c=>{a(c)})})}}async function bw(n,e,t,i=!1,r=!1){const s=new XN(n);let a;if(r)a=PI;else try{a=await s.verify(t)}catch{a=await s.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:a}):Object.assign(c,{captchaResponse:a}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function m_(n,e,t,i,r){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await bw(n,e,t,t==="getOobCode");return i(n,a)}else return i(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await bw(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(n,e){const t=ta(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(zr(s,e??{}))return r;Ri(r,"already-initialized")}return t.initialize({options:e})}function ZN(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Nr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function eD(n,e,t){const i=na(n);Pe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=OI(e),{host:a,port:c}=tD(e),u=c===null?"":`:${c}`,d={url:`${s}//${a}${u}/`},m=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Pe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Pe(zr(d,i.config.emulator)&&zr(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,Lu(a)?(nI(`${s}//${a}${u}`),iI("Auth",!0)):nD()}function OI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function tD(n){const e=OI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:Sw(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:Sw(a)}}}function Sw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function nD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Or("not implemented")}_getIdTokenResponse(e){return Or("not implemented")}_linkToIdToken(e,t){return Or("not implemented")}_getReauthenticationResolver(e){return Or("not implemented")}}async function iD(n,e){return Gr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(n,e){return $u(n,"POST","/v1/accounts:signInWithPassword",Xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(n,e){return $u(n,"POST","/v1/accounts:signInWithEmailLink",Xs(n,e))}async function oD(n,e){return $u(n,"POST","/v1/accounts:signInWithEmailLink",Xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends py{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new bu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new bu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return m_(e,t,"signInWithPassword",rD);case"emailLink":return sD(e,{email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return m_(e,i,"signUpPassword",iD);case"emailLink":return oD(e,{idToken:t,email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(n,e){return $u(n,"POST","/v1/accounts:signInWithIdp",Xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="http://localhost";class Bo extends py{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Bo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ri("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,s=cy(t,["providerId","signInMethod"]);if(!i||!r)return null;const a=new Bo(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return hl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,hl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,hl(e,t)}buildRequest(){const e={requestUri:aD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cD(n){const e=Qc(Xc(n)).link,t=e?Qc(Xc(e)).deep_link_id:null,i=Qc(Xc(n)).deep_link_id;return(i?Qc(Xc(i)).link:null)||i||t||e||n}class my{constructor(e){var t,i,r,s,a,c;const u=Qc(Xc(e)),d=(t=u.apiKey)!==null&&t!==void 0?t:null,m=(i=u.oobCode)!==null&&i!==void 0?i:null,_=lD((r=u.mode)!==null&&r!==void 0?r:null);Pe(d&&m&&_,"argument-error"),this.apiKey=d,this.operation=_,this.code=m,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.lang)!==null&&a!==void 0?a:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=cD(e);try{return new my(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.providerId=Fl.PROVIDER_ID}static credential(e,t){return bu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=my.parseLink(t);return Pe(i,"argument-error"),bu._fromEmailAndCode(e,i.code,i.tenantId)}}Fl.PROVIDER_ID="password";Fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends NI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends ju{constructor(){super("facebook.com")}static credential(e){return Bo._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.FACEBOOK_SIGN_IN_METHOD="facebook.com";As.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Bo._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return xs.credential(t,i)}catch{return null}}}xs.GOOGLE_SIGN_IN_METHOD="google.com";xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends ju{constructor(){super("github.com")}static credential(e){return Bo._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.GITHUB_SIGN_IN_METHOD="github.com";Cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends ju{constructor(){super("twitter.com")}static credential(e,t){return Bo._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ks.credential(t,i)}catch{return null}}}ks.TWITTER_SIGN_IN_METHOD="twitter.com";ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(n,e){return $u(n,"POST","/v1/accounts:signUp",Xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const s=await xi._fromIdTokenResponse(e,i,r),a=Iw(i);return new Ho({user:s,providerId:a,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=Iw(i);return new Ho({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function Iw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends Oi{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,yf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new yf(e,t,i,r)}}function DI(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?yf._fromErrorAndOperation(n,s,e,i):s})}async function hD(n,e,t=!1){const i=await gl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ho._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(n,e,t=!1){const{auth:i}=n;if(ni(i.app))return Promise.reject(Fr(i));const r="reauthenticate";try{const s=await gl(n,DI(i,r,e,n),t);Pe(s.idToken,i,"internal-error");const a=dy(s.idToken);Pe(a,i,"internal-error");const{sub:c}=a;return Pe(n.uid===c,i,"user-mismatch"),Ho._forOperation(n,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ri(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(n,e,t=!1){if(ni(n.app))return Promise.reject(Fr(n));const i="signIn",r=await DI(n,i,e),s=await Ho._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(s.user),s}async function fD(n,e){return MI(na(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(n){const e=na(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pD(n,e,t){if(ni(n.app))return Promise.reject(Fr(n));const i=na(n),a=await m_(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uD).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&LI(n),u}),c=await Ho._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(c.user),c}function mD(n,e,t){return ni(n.app)?Promise.reject(Fr(n)):fD(Mt(n),Fl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&LI(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(n,e){return Gr(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Mt(n),s={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},a=await gl(i,gD(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const c=i.providerData.find(({providerId:u})=>u==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function yD(n,e,t,i){return Mt(n).onIdTokenChanged(e,t,i)}function vD(n,e,t){return Mt(n).beforeAuthStateChanged(e,t)}function VI(n,e,t,i){return Mt(n).onAuthStateChanged(e,t,i)}function FI(n){return Mt(n).signOut()}const vf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vf,"1"),this.storage.removeItem(vf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=1e3,wD=10;class jI extends $I{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!t&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);FN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,wD):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},ED)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}jI.type="LOCAL";const TD=jI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI extends $I{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}UI.type="SESSION";const zI=UI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new rp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:s}=t.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const c=Array.from(a).map(async d=>d(t.origin,s)),u=await bD(c);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{const d=gy("",20);r.port1.start();const m=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(_){const v=_;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(m),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(){return window}function ID(n){tr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(){return typeof tr().WorkerGlobalScope<"u"&&typeof tr().importScripts=="function"}async function AD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function CD(){return BI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="firebaseLocalStorageDb",kD=1,Ef="firebaseLocalStorage",WI="fbase_key";class Uu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sp(n,e){return n.transaction([Ef],e?"readwrite":"readonly").objectStore(Ef)}function RD(){const n=indexedDB.deleteDatabase(HI);return new Uu(n).toPromise()}function g_(){const n=indexedDB.open(HI,kD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ef,{keyPath:WI})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ef)?e(i):(i.close(),await RD(),e(await g_()))})})}async function Aw(n,e,t){const i=sp(n,!0).put({[WI]:e,value:t});return new Uu(i).toPromise()}async function PD(n,e){const t=sp(n,!1).get(e),i=await new Uu(t).toPromise();return i===void 0?null:i.value}function xw(n,e){const t=sp(n,!0).delete(e);return new Uu(t).toPromise()}const OD=800,ND=3;class KI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await g_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>ND)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rp._getInstance(CD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await AD(),!this.activeServiceWorker)return;this.sender=new SD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await g_();return await Aw(e,vf,"1"),await xw(e,vf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Aw(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>PD(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>xw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=sp(r,!1).getAll();return new Uu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KI.type="LOCAL";const DD=KI;new Fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(n,e){return e?Nr(e):(Pe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y extends py{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return hl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function LD(n){return MI(n.auth,new _y(n),n.bypassAuthState)}function VD(n){const{auth:e,user:t}=n;return Pe(t,e,"internal-error"),dD(t,new _y(n),n.bypassAuthState)}async function FD(n){const{auth:e,user:t}=n;return Pe(t,e,"internal-error"),hD(t,new _y(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:a,type:c}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LD;case"linkViaPopup":case"linkViaRedirect":return FD;case"reauthViaPopup":case"reauthViaRedirect":return VD;default:Ri(this.auth,"internal-error")}}resolve(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=new Fu(2e3,1e4);class ol extends qI{constructor(e,t,i,r,s){super(e,t,r,s),this.provider=i,this.authWindow=null,this.pollId=null,ol.currentPopupAction&&ol.currentPopupAction.cancel(),ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Hr(this.filter.length===1,"Popup operations only handle one event");const e=gy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$D.get())};e()}}ol.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="pendingRedirect",Qd=new Map;class UD extends qI{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Qd.get(this.auth._key());if(!e){try{const i=await zD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Qd.set(this.auth._key(),e)}return this.bypassAuthState||Qd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zD(n,e){const t=WD(e),i=HD(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function BD(n,e){Qd.set(n._key(),e)}function HD(n){return Nr(n._redirectPersistence)}function WD(n){return Yd(jD,n.config.apiKey,n.name)}async function KD(n,e,t=!1){if(ni(n.app))return Promise.reject(Fr(n));const i=na(n),r=MD(i,e),a=await new UD(i,r,t).execute();return a&&!t&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=10*60*1e3;class GD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!GI(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(er(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cw(e))}saveEventToCache(e){this.cachedEventUids.add(Cw(e)),this.lastProcessedEventTime=Date.now()}}function Cw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function GI({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function YD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(n,e={}){return Gr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JD=/^https?/;async function ZD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await QD(n);for(const t of e)try{if(eM(t))return}catch{}Ri(n,"unauthorized-domain")}function eM(n){const e=f_(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===i}if(!JD.test(t))return!1;if(XD.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=new Fu(3e4,6e4);function kw(){const n=tr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function nM(n){return new Promise((e,t)=>{var i,r,s;function a(){kw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kw(),t(er(n,"network-request-failed"))},timeout:tM.get()})}if(!((r=(i=tr().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=tr().gapi)===null||s===void 0)&&s.load)a();else{const c=qN("iframefcb");return tr()[c]=()=>{gapi.load?a():t(er(n,"network-request-failed"))},RI(`${KN()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw Xd=null,e})}let Xd=null;function iM(n){return Xd=Xd||nM(n),Xd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=new Fu(5e3,15e3),sM="__/auth/iframe",oM="emulator/auth/iframe",aM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cM(n){const e=n.config;Pe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?hy(e,oM):`https://${n.config.authDomain}/${sM}`,i={apiKey:e.apiKey,appName:n.name,v:Vl},r=lM.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${Vu(i).slice(1)}`}async function uM(n){const e=await iM(n),t=tr().gapi;return Pe(t,n,"internal-error"),e.open({where:document.body,url:cM(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aM,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=er(n,"network-request-failed"),c=tr().setTimeout(()=>{s(a)},rM.get());function u(){tr().clearTimeout(c),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dM=500,fM=600,pM="_blank",mM="http://localhost";class Rw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gM(n,e,t,i=dM,r=fM){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u=Object.assign(Object.assign({},hM),{width:i.toString(),height:r.toString(),top:s,left:a}),d=sn().toLowerCase();t&&(c=bI(d)?pM:t),wI(d)&&(e=e||mM,u.scrollbars="yes");const m=Object.entries(u).reduce((v,[w,b])=>`${v}${w}=${b},`,"");if(VN(d)&&c!=="_self")return _M(e||"",c),new Rw(null);const _=window.open(e||"",c,m);Pe(_,n,"popup-blocked");try{_.focus()}catch{}return new Rw(_)}function _M(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="__/auth/handler",vM="emulator/auth/handler",EM=encodeURIComponent("fac");async function Pw(n,e,t,i,r,s){Pe(n.config.authDomain,n,"auth-domain-config-required"),Pe(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Vl,eventId:r};if(e instanceof NI){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",nO(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,_]of Object.entries({}))a[m]=_}if(e instanceof ju){const m=e.getScopes().filter(_=>_!=="");m.length>0&&(a.scopes=m.join(","))}n.tenantId&&(a.tid=n.tenantId);const c=a;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const u=await n._getAppCheckToken(),d=u?`#${EM}=${encodeURIComponent(u)}`:"";return`${wM(n)}?${Vu(c).slice(1)}${d}`}function wM({config:n}){return n.emulator?hy(n,vM):`https://${n.authDomain}/${yM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="webStorageSupport";class TM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zI,this._completeRedirectFn=KD,this._overrideRedirectResult=BD}async _openPopup(e,t,i,r){var s;Hr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await Pw(e,t,i,f_(),r);return gM(e,a,gy())}async _openRedirect(e,t,i,r){await this._originValidation(e);const s=await Pw(e,t,i,f_(),r);return ID(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(Hr(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await uM(e),i=new GD(e);return t.register("authEvent",r=>(Pe(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(bg,{type:bg},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[bg];a!==void 0&&t(!!a),Ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ZD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return CI()||TI()||fy()}}const bM=TM;var Ow="@firebase/auth",Nw="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AM(n){ar(new ki("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=i.options;Pe(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kI(n)},d=new BN(i,r,s,u);return ZN(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ar(new ki("auth-internal",e=>{const t=na(e.getProvider("auth").getImmediate());return(i=>new SM(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ii(Ow,Nw,IM(n)),ii(Ow,Nw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=5*60,CM=tI("authIdTokenMaxAge")||xM;let Dw=null;const kM=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>CM)return;const r=t==null?void 0:t.token;Dw!==r&&(Dw=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function RM(n=ly()){const e=ta(n,"auth");if(e.isInitialized())return e.getImmediate();const t=JN(n,{popupRedirectResolver:bM,persistence:[DD,TD,zI]}),i=tI("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=kM(s.toString());vD(t,a,()=>a(t.currentUser)),yD(t,c=>a(c))}}const r=ZS("auth");return r&&eD(t,`http://${r}`),t}function PM(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}HN({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=er("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",PM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AM("Browser");var OM="firebase",NM="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(OM,NM,"app");const YI="@firebase/installations",yy="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=1e4,XI=`w:${yy}`,JI="FIS_v2",DM="https://firebaseinstallations.googleapis.com/v1",MM=60*60*1e3,LM="installations",VM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Wo=new ea(LM,VM,FM);function ZI(n){return n instanceof Oi&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA({projectId:n}){return`${DM}/projects/${n}/installations`}function tA(n){return{token:n.token,requestStatus:2,expiresIn:jM(n.expiresIn),creationTime:Date.now()}}async function nA(n,e){const i=(await e.json()).error;return Wo.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function iA({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function $M(n,{refreshToken:e}){const t=iA(n);return t.append("Authorization",UM(e)),t}async function rA(n){const e=await n();return e.status>=500&&e.status<600?n():e}function jM(n){return Number(n.replace("s","000"))}function UM(n){return`${JI} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=eA(n),r=iA(n),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&r.append("x-firebase-client",d)}const a={fid:t,authVersion:JI,appId:n.appId,sdkVersion:XI},c={method:"POST",headers:r,body:JSON.stringify(a)},u=await rA(()=>fetch(i,c));if(u.ok){const d=await u.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:tA(d.authToken)}}else throw await nA("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=/^[cdef][\w-]{21}$/,__="";function WM(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=KM(n);return HM.test(t)?t:__}catch{return __}}function KM(n){return BM(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=new Map;function aA(n,e){const t=op(n);lA(t,e),qM(t,e)}function lA(n,e){const t=oA.get(n);if(t)for(const i of t)i(e)}function qM(n,e){const t=GM();t&&t.postMessage({key:n,fid:e}),YM()}let Lo=null;function GM(){return!Lo&&"BroadcastChannel"in self&&(Lo=new BroadcastChannel("[Firebase] FID Change"),Lo.onmessage=n=>{lA(n.data.key,n.data.fid)}),Lo}function YM(){oA.size===0&&Lo&&(Lo.close(),Lo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM="firebase-installations-database",XM=1,Ko="firebase-installations-store";let Sg=null;function vy(){return Sg||(Sg=cI(QM,XM,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ko)}}})),Sg}async function wf(n,e){const t=op(n),r=(await vy()).transaction(Ko,"readwrite"),s=r.objectStore(Ko),a=await s.get(t);return await s.put(e,t),await r.done,(!a||a.fid!==e.fid)&&aA(n,e.fid),e}async function cA(n){const e=op(n),i=(await vy()).transaction(Ko,"readwrite");await i.objectStore(Ko).delete(e),await i.done}async function ap(n,e){const t=op(n),r=(await vy()).transaction(Ko,"readwrite"),s=r.objectStore(Ko),a=await s.get(t),c=e(a);return c===void 0?await s.delete(t):await s.put(c,t),await r.done,c&&(!a||a.fid!==c.fid)&&aA(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ey(n){let e;const t=await ap(n.appConfig,i=>{const r=JM(i),s=ZM(n,r);return e=s.registrationPromise,s.installationEntry});return t.fid===__?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function JM(n){const e=n||{fid:WM(),registrationStatus:0};return uA(e)}function ZM(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Wo.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=e2(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:t2(n)}:{installationEntry:e}}async function e2(n,e){try{const t=await zM(n,e);return wf(n.appConfig,t)}catch(t){throw ZI(t)&&t.customData.serverCode===409?await cA(n.appConfig):await wf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function t2(n){let e=await Mw(n.appConfig);for(;e.registrationStatus===1;)await sA(100),e=await Mw(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await Ey(n);return i||t}return e}function Mw(n){return ap(n,e=>{if(!e)throw Wo.create("installation-not-found");return uA(e)})}function uA(n){return n2(n)?{fid:n.fid,registrationStatus:0}:n}function n2(n){return n.registrationStatus===1&&n.registrationTime+QI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2({appConfig:n,heartbeatServiceProvider:e},t){const i=r2(n,t),r=$M(n,t),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&r.append("x-firebase-client",d)}const a={installation:{sdkVersion:XI,appId:n.appId}},c={method:"POST",headers:r,body:JSON.stringify(a)},u=await rA(()=>fetch(i,c));if(u.ok){const d=await u.json();return tA(d)}else throw await nA("Generate Auth Token",u)}function r2(n,{fid:e}){return`${eA(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wy(n,e=!1){let t;const i=await ap(n.appConfig,s=>{if(!hA(s))throw Wo.create("not-registered");const a=s.authToken;if(!e&&a2(a))return s;if(a.requestStatus===1)return t=s2(n,e),s;{if(!navigator.onLine)throw Wo.create("app-offline");const c=c2(s);return t=o2(n,c),c}});return t?await t:i.authToken}async function s2(n,e){let t=await Lw(n.appConfig);for(;t.authToken.requestStatus===1;)await sA(100),t=await Lw(n.appConfig);const i=t.authToken;return i.requestStatus===0?wy(n,e):i}function Lw(n){return ap(n,e=>{if(!hA(e))throw Wo.create("not-registered");const t=e.authToken;return u2(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function o2(n,e){try{const t=await i2(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await wf(n.appConfig,i),t}catch(t){if(ZI(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await cA(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await wf(n.appConfig,i)}throw t}}function hA(n){return n!==void 0&&n.registrationStatus===2}function a2(n){return n.requestStatus===2&&!l2(n)}function l2(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+MM}function c2(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function u2(n){return n.requestStatus===1&&n.requestTime+QI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2(n){const e=n,{installationEntry:t,registrationPromise:i}=await Ey(e);return i?i.catch(console.error):wy(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(n,e=!1){const t=n;return await f2(t),(await wy(t,e)).token}async function f2(n){const{registrationPromise:e}=await Ey(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(n){if(!n||!n.options)throw Ig("App Configuration");if(!n.name)throw Ig("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Ig(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Ig(n){return Wo.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="installations",m2="installations-internal",g2=n=>{const e=n.getProvider("app").getImmediate(),t=p2(e),i=ta(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},_2=n=>{const e=n.getProvider("app").getImmediate(),t=ta(e,dA).getImmediate();return{getId:()=>h2(t),getToken:r=>d2(t,r)}};function y2(){ar(new ki(dA,g2,"PUBLIC")),ar(new ki(m2,_2,"PRIVATE"))}y2();ii(YI,yy);ii(YI,yy,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="analytics",v2="firebase_id",E2="origin",w2=60*1e3,T2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ty="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn=new np("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},$n=new ea("analytics","Analytics",b2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(n){if(!n.startsWith(Ty)){const e=$n.create("invalid-gtag-resource",{gtagURL:n});return kn.warn(e.message),""}return n}function fA(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function I2(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function A2(n,e){const t=I2("firebase-js-sdk-policy",{createScriptURL:S2}),i=document.createElement("script"),r=`${Ty}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function x2(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function C2(n,e,t,i,r,s){const a=i[r];try{if(a)await e[a];else{const u=(await fA(t)).find(d=>d.measurementId===r);u&&await e[u.appId]}}catch(c){kn.error(c)}n("config",r,s)}async function k2(n,e,t,i,r){try{let s=[];if(r&&r.send_to){let a=r.send_to;Array.isArray(a)||(a=[a]);const c=await fA(t);for(const u of a){const d=c.find(_=>_.measurementId===u),m=d&&e[d.appId];if(m)s.push(m);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),n("event",i,r||{})}catch(s){kn.error(s)}}function R2(n,e,t,i){async function r(s,...a){try{if(s==="event"){const[c,u]=a;await k2(n,e,t,c,u)}else if(s==="config"){const[c,u]=a;await C2(n,e,t,i,c,u)}else if(s==="consent"){const[c,u]=a;n("consent",c,u)}else if(s==="get"){const[c,u,d]=a;n("get",c,u,d)}else if(s==="set"){const[c]=a;n("set",c)}else n(s,...a)}catch(c){kn.error(c)}}return r}function P2(n,e,t,i,r){let s=function(...a){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=R2(s,n,e,t),{gtagCore:s,wrappedGtag:window[r]}}function O2(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Ty)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=30,D2=1e3;class M2{constructor(e={},t=D2){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const pA=new M2;function L2(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function V2(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:L2(i)},s=T2.replace("{app-id}",t),a=await fetch(s,r);if(a.status!==200&&a.status!==304){let c="";try{const u=await a.json();!((e=u.error)===null||e===void 0)&&e.message&&(c=u.error.message)}catch{}throw $n.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c})}return a.json()}async function F2(n,e=pA,t){const{appId:i,apiKey:r,measurementId:s}=n.options;if(!i)throw $n.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw $n.create("no-api-key")}const a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new U2;return setTimeout(async()=>{c.abort()},w2),mA({appId:i,apiKey:r,measurementId:s},a,c,e)}async function mA(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=pA){var s;const{appId:a,measurementId:c}=n;try{await $2(i,e)}catch(u){if(c)return kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:c};throw u}try{const u=await V2(n);return r.deleteThrottleMetadata(a),u}catch(u){const d=u;if(!j2(d)){if(r.deleteThrottleMetadata(a),c)return kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:a,measurementId:c};throw u}const m=Number((s=d==null?void 0:d.customData)===null||s===void 0?void 0:s.httpStatus)===503?aw(t,r.intervalMillis,N2):aw(t,r.intervalMillis),_={throttleEndTimeMillis:Date.now()+m,backoffCount:t+1};return r.setThrottleMetadata(a,_),kn.debug(`Calling attemptFetch again in ${m} millis`),mA(n,_,i,r)}}function $2(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i($n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function j2(n){if(!(n instanceof Oi)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class U2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function z2(n,e,t,i,r){if(r&&r.global){n("event",t,i);return}else{const s=await e,a=Object.assign(Object.assign({},i),{send_to:s});n("event",t,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(){if(sI())try{await oI()}catch(n){return kn.warn($n.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return kn.warn($n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function H2(n,e,t,i,r,s,a){var c;const u=F2(n);u.then(w=>{t[w.measurementId]=w.appId,n.options.measurementId&&w.measurementId!==n.options.measurementId&&kn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>kn.error(w)),e.push(u);const d=B2().then(w=>{if(w)return i.getId()}),[m,_]=await Promise.all([u,d]);O2(s)||A2(s,m.measurementId),r("js",new Date);const v=(c=a==null?void 0:a.config)!==null&&c!==void 0?c:{};return v[E2]="firebase",v.update=!0,_!=null&&(v[v2]=_),r("config",m.measurementId,v),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.app=e}_delete(){return delete au[this.app.options.appId],Promise.resolve()}}let au={},Vw=[];const Fw={};let Ag="dataLayer",K2="gtag",$w,gA,jw=!1;function q2(){const n=[];if(rI()&&n.push("This is a browser extension environment."),JP()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=$n.create("invalid-analytics-context",{errorInfo:e});kn.warn(t.message)}}function G2(n,e,t){q2();const i=n.options.appId;if(!i)throw $n.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw $n.create("no-api-key");if(au[i]!=null)throw $n.create("already-exists",{id:i});if(!jw){x2(Ag);const{wrappedGtag:s,gtagCore:a}=P2(au,Vw,Fw,Ag,K2);gA=s,$w=a,jw=!0}return au[i]=H2(n,Vw,Fw,e,$w,Ag,t),new W2(n)}function Y2(n=ly()){n=Mt(n);const e=ta(n,Tf);return e.isInitialized()?e.getImmediate():Q2(n)}function Q2(n,e={}){const t=ta(n,Tf);if(t.isInitialized()){const r=t.getImmediate();if(zr(e,t.getOptions()))return r;throw $n.create("already-initialized")}return t.initialize({options:e})}function X2(n,e,t,i){n=Mt(n),z2(gA,au[n.app.options.appId],e,t,i).catch(r=>kn.error(r))}const Uw="@firebase/analytics",zw="0.10.16";function J2(){ar(new ki(Tf,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return G2(i,r,t)},"PUBLIC")),ar(new ki("analytics-internal",n,"PRIVATE")),ii(Uw,zw),ii(Uw,zw,"esm2017");function n(e){try{const t=e.getProvider(Tf).getImmediate();return{logEvent:(i,r,s)=>X2(t,i,r,s)}}catch(t){throw $n.create("interop-component-reg-failed",{reason:t})}}}J2();var Bw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ls,_A;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,x){function k(){}k.prototype=x.prototype,P.D=x.prototype,P.prototype=new k,P.prototype.constructor=P,P.C=function(N,M,V){for(var O=Array(arguments.length-2),De=2;De<arguments.length;De++)O[De-2]=arguments[De];return x.prototype[M].apply(N,O)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(P,x,k){k||(k=0);var N=Array(16);if(typeof x=="string")for(var M=0;16>M;++M)N[M]=x.charCodeAt(k++)|x.charCodeAt(k++)<<8|x.charCodeAt(k++)<<16|x.charCodeAt(k++)<<24;else for(M=0;16>M;++M)N[M]=x[k++]|x[k++]<<8|x[k++]<<16|x[k++]<<24;x=P.g[0],k=P.g[1],M=P.g[2];var V=P.g[3],O=x+(V^k&(M^V))+N[0]+3614090360&4294967295;x=k+(O<<7&4294967295|O>>>25),O=V+(M^x&(k^M))+N[1]+3905402710&4294967295,V=x+(O<<12&4294967295|O>>>20),O=M+(k^V&(x^k))+N[2]+606105819&4294967295,M=V+(O<<17&4294967295|O>>>15),O=k+(x^M&(V^x))+N[3]+3250441966&4294967295,k=M+(O<<22&4294967295|O>>>10),O=x+(V^k&(M^V))+N[4]+4118548399&4294967295,x=k+(O<<7&4294967295|O>>>25),O=V+(M^x&(k^M))+N[5]+1200080426&4294967295,V=x+(O<<12&4294967295|O>>>20),O=M+(k^V&(x^k))+N[6]+2821735955&4294967295,M=V+(O<<17&4294967295|O>>>15),O=k+(x^M&(V^x))+N[7]+4249261313&4294967295,k=M+(O<<22&4294967295|O>>>10),O=x+(V^k&(M^V))+N[8]+1770035416&4294967295,x=k+(O<<7&4294967295|O>>>25),O=V+(M^x&(k^M))+N[9]+2336552879&4294967295,V=x+(O<<12&4294967295|O>>>20),O=M+(k^V&(x^k))+N[10]+4294925233&4294967295,M=V+(O<<17&4294967295|O>>>15),O=k+(x^M&(V^x))+N[11]+2304563134&4294967295,k=M+(O<<22&4294967295|O>>>10),O=x+(V^k&(M^V))+N[12]+1804603682&4294967295,x=k+(O<<7&4294967295|O>>>25),O=V+(M^x&(k^M))+N[13]+4254626195&4294967295,V=x+(O<<12&4294967295|O>>>20),O=M+(k^V&(x^k))+N[14]+2792965006&4294967295,M=V+(O<<17&4294967295|O>>>15),O=k+(x^M&(V^x))+N[15]+1236535329&4294967295,k=M+(O<<22&4294967295|O>>>10),O=x+(M^V&(k^M))+N[1]+4129170786&4294967295,x=k+(O<<5&4294967295|O>>>27),O=V+(k^M&(x^k))+N[6]+3225465664&4294967295,V=x+(O<<9&4294967295|O>>>23),O=M+(x^k&(V^x))+N[11]+643717713&4294967295,M=V+(O<<14&4294967295|O>>>18),O=k+(V^x&(M^V))+N[0]+3921069994&4294967295,k=M+(O<<20&4294967295|O>>>12),O=x+(M^V&(k^M))+N[5]+3593408605&4294967295,x=k+(O<<5&4294967295|O>>>27),O=V+(k^M&(x^k))+N[10]+38016083&4294967295,V=x+(O<<9&4294967295|O>>>23),O=M+(x^k&(V^x))+N[15]+3634488961&4294967295,M=V+(O<<14&4294967295|O>>>18),O=k+(V^x&(M^V))+N[4]+3889429448&4294967295,k=M+(O<<20&4294967295|O>>>12),O=x+(M^V&(k^M))+N[9]+568446438&4294967295,x=k+(O<<5&4294967295|O>>>27),O=V+(k^M&(x^k))+N[14]+3275163606&4294967295,V=x+(O<<9&4294967295|O>>>23),O=M+(x^k&(V^x))+N[3]+4107603335&4294967295,M=V+(O<<14&4294967295|O>>>18),O=k+(V^x&(M^V))+N[8]+1163531501&4294967295,k=M+(O<<20&4294967295|O>>>12),O=x+(M^V&(k^M))+N[13]+2850285829&4294967295,x=k+(O<<5&4294967295|O>>>27),O=V+(k^M&(x^k))+N[2]+4243563512&4294967295,V=x+(O<<9&4294967295|O>>>23),O=M+(x^k&(V^x))+N[7]+1735328473&4294967295,M=V+(O<<14&4294967295|O>>>18),O=k+(V^x&(M^V))+N[12]+2368359562&4294967295,k=M+(O<<20&4294967295|O>>>12),O=x+(k^M^V)+N[5]+4294588738&4294967295,x=k+(O<<4&4294967295|O>>>28),O=V+(x^k^M)+N[8]+2272392833&4294967295,V=x+(O<<11&4294967295|O>>>21),O=M+(V^x^k)+N[11]+1839030562&4294967295,M=V+(O<<16&4294967295|O>>>16),O=k+(M^V^x)+N[14]+4259657740&4294967295,k=M+(O<<23&4294967295|O>>>9),O=x+(k^M^V)+N[1]+2763975236&4294967295,x=k+(O<<4&4294967295|O>>>28),O=V+(x^k^M)+N[4]+1272893353&4294967295,V=x+(O<<11&4294967295|O>>>21),O=M+(V^x^k)+N[7]+4139469664&4294967295,M=V+(O<<16&4294967295|O>>>16),O=k+(M^V^x)+N[10]+3200236656&4294967295,k=M+(O<<23&4294967295|O>>>9),O=x+(k^M^V)+N[13]+681279174&4294967295,x=k+(O<<4&4294967295|O>>>28),O=V+(x^k^M)+N[0]+3936430074&4294967295,V=x+(O<<11&4294967295|O>>>21),O=M+(V^x^k)+N[3]+3572445317&4294967295,M=V+(O<<16&4294967295|O>>>16),O=k+(M^V^x)+N[6]+76029189&4294967295,k=M+(O<<23&4294967295|O>>>9),O=x+(k^M^V)+N[9]+3654602809&4294967295,x=k+(O<<4&4294967295|O>>>28),O=V+(x^k^M)+N[12]+3873151461&4294967295,V=x+(O<<11&4294967295|O>>>21),O=M+(V^x^k)+N[15]+530742520&4294967295,M=V+(O<<16&4294967295|O>>>16),O=k+(M^V^x)+N[2]+3299628645&4294967295,k=M+(O<<23&4294967295|O>>>9),O=x+(M^(k|~V))+N[0]+4096336452&4294967295,x=k+(O<<6&4294967295|O>>>26),O=V+(k^(x|~M))+N[7]+1126891415&4294967295,V=x+(O<<10&4294967295|O>>>22),O=M+(x^(V|~k))+N[14]+2878612391&4294967295,M=V+(O<<15&4294967295|O>>>17),O=k+(V^(M|~x))+N[5]+4237533241&4294967295,k=M+(O<<21&4294967295|O>>>11),O=x+(M^(k|~V))+N[12]+1700485571&4294967295,x=k+(O<<6&4294967295|O>>>26),O=V+(k^(x|~M))+N[3]+2399980690&4294967295,V=x+(O<<10&4294967295|O>>>22),O=M+(x^(V|~k))+N[10]+4293915773&4294967295,M=V+(O<<15&4294967295|O>>>17),O=k+(V^(M|~x))+N[1]+2240044497&4294967295,k=M+(O<<21&4294967295|O>>>11),O=x+(M^(k|~V))+N[8]+1873313359&4294967295,x=k+(O<<6&4294967295|O>>>26),O=V+(k^(x|~M))+N[15]+4264355552&4294967295,V=x+(O<<10&4294967295|O>>>22),O=M+(x^(V|~k))+N[6]+2734768916&4294967295,M=V+(O<<15&4294967295|O>>>17),O=k+(V^(M|~x))+N[13]+1309151649&4294967295,k=M+(O<<21&4294967295|O>>>11),O=x+(M^(k|~V))+N[4]+4149444226&4294967295,x=k+(O<<6&4294967295|O>>>26),O=V+(k^(x|~M))+N[11]+3174756917&4294967295,V=x+(O<<10&4294967295|O>>>22),O=M+(x^(V|~k))+N[2]+718787259&4294967295,M=V+(O<<15&4294967295|O>>>17),O=k+(V^(M|~x))+N[9]+3951481745&4294967295,P.g[0]=P.g[0]+x&4294967295,P.g[1]=P.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,P.g[2]=P.g[2]+M&4294967295,P.g[3]=P.g[3]+V&4294967295}i.prototype.u=function(P,x){x===void 0&&(x=P.length);for(var k=x-this.blockSize,N=this.B,M=this.h,V=0;V<x;){if(M==0)for(;V<=k;)r(this,P,V),V+=this.blockSize;if(typeof P=="string"){for(;V<x;)if(N[M++]=P.charCodeAt(V++),M==this.blockSize){r(this,N),M=0;break}}else for(;V<x;)if(N[M++]=P[V++],M==this.blockSize){r(this,N),M=0;break}}this.h=M,this.o+=x},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var x=1;x<P.length-8;++x)P[x]=0;var k=8*this.o;for(x=P.length-8;x<P.length;++x)P[x]=k&255,k/=256;for(this.u(P),P=Array(16),x=k=0;4>x;++x)for(var N=0;32>N;N+=8)P[k++]=this.g[x]>>>N&255;return P};function s(P,x){var k=c;return Object.prototype.hasOwnProperty.call(k,P)?k[P]:k[P]=x(P)}function a(P,x){this.h=x;for(var k=[],N=!0,M=P.length-1;0<=M;M--){var V=P[M]|0;N&&V==x||(k[M]=V,N=!1)}this.g=k}var c={};function u(P){return-128<=P&&128>P?s(P,function(x){return new a([x|0],0>x?-1:0)}):new a([P|0],0>P?-1:0)}function d(P){if(isNaN(P)||!isFinite(P))return _;if(0>P)return A(d(-P));for(var x=[],k=1,N=0;P>=k;N++)x[N]=P/k|0,k*=4294967296;return new a(x,0)}function m(P,x){if(P.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P.charAt(0)=="-")return A(m(P.substring(1),x));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=d(Math.pow(x,8)),N=_,M=0;M<P.length;M+=8){var V=Math.min(8,P.length-M),O=parseInt(P.substring(M,M+V),x);8>V?(V=d(Math.pow(x,V)),N=N.j(V).add(d(O))):(N=N.j(k),N=N.add(d(O)))}return N}var _=u(0),v=u(1),w=u(16777216);n=a.prototype,n.m=function(){if(I(this))return-A(this).m();for(var P=0,x=1,k=0;k<this.g.length;k++){var N=this.i(k);P+=(0<=N?N:4294967296+N)*x,x*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(b(this))return"0";if(I(this))return"-"+A(this).toString(P);for(var x=d(Math.pow(P,6)),k=this,N="";;){var M=U(k,x).g;k=R(k,M.j(x));var V=((0<k.g.length?k.g[0]:k.h)>>>0).toString(P);if(k=M,b(k))return V+N;for(;6>V.length;)V="0"+V;N=V+N}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function b(P){if(P.h!=0)return!1;for(var x=0;x<P.g.length;x++)if(P.g[x]!=0)return!1;return!0}function I(P){return P.h==-1}n.l=function(P){return P=R(this,P),I(P)?-1:b(P)?0:1};function A(P){for(var x=P.g.length,k=[],N=0;N<x;N++)k[N]=~P.g[N];return new a(k,~P.h).add(v)}n.abs=function(){return I(this)?A(this):this},n.add=function(P){for(var x=Math.max(this.g.length,P.g.length),k=[],N=0,M=0;M<=x;M++){var V=N+(this.i(M)&65535)+(P.i(M)&65535),O=(V>>>16)+(this.i(M)>>>16)+(P.i(M)>>>16);N=O>>>16,V&=65535,O&=65535,k[M]=O<<16|V}return new a(k,k[k.length-1]&-2147483648?-1:0)};function R(P,x){return P.add(A(x))}n.j=function(P){if(b(this)||b(P))return _;if(I(this))return I(P)?A(this).j(A(P)):A(A(this).j(P));if(I(P))return A(this.j(A(P)));if(0>this.l(w)&&0>P.l(w))return d(this.m()*P.m());for(var x=this.g.length+P.g.length,k=[],N=0;N<2*x;N++)k[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<P.g.length;M++){var V=this.i(N)>>>16,O=this.i(N)&65535,De=P.i(M)>>>16,Se=P.i(M)&65535;k[2*N+2*M]+=O*Se,L(k,2*N+2*M),k[2*N+2*M+1]+=V*Se,L(k,2*N+2*M+1),k[2*N+2*M+1]+=O*De,L(k,2*N+2*M+1),k[2*N+2*M+2]+=V*De,L(k,2*N+2*M+2)}for(N=0;N<x;N++)k[N]=k[2*N+1]<<16|k[2*N];for(N=x;N<2*x;N++)k[N]=0;return new a(k,0)};function L(P,x){for(;(P[x]&65535)!=P[x];)P[x+1]+=P[x]>>>16,P[x]&=65535,x++}function j(P,x){this.g=P,this.h=x}function U(P,x){if(b(x))throw Error("division by zero");if(b(P))return new j(_,_);if(I(P))return x=U(A(P),x),new j(A(x.g),A(x.h));if(I(x))return x=U(P,A(x)),new j(A(x.g),x.h);if(30<P.g.length){if(I(P)||I(x))throw Error("slowDivide_ only works with positive integers.");for(var k=v,N=x;0>=N.l(P);)k=q(k),N=q(N);var M=G(k,1),V=G(N,1);for(N=G(N,2),k=G(k,2);!b(N);){var O=V.add(N);0>=O.l(P)&&(M=M.add(k),V=O),N=G(N,1),k=G(k,1)}return x=R(P,M.j(x)),new j(M,x)}for(M=_;0<=P.l(x);){for(k=Math.max(1,Math.floor(P.m()/x.m())),N=Math.ceil(Math.log(k)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),V=d(k),O=V.j(x);I(O)||0<O.l(P);)k-=N,V=d(k),O=V.j(x);b(V)&&(V=v),M=M.add(V),P=R(P,O)}return new j(M,P)}n.A=function(P){return U(this,P).h},n.and=function(P){for(var x=Math.max(this.g.length,P.g.length),k=[],N=0;N<x;N++)k[N]=this.i(N)&P.i(N);return new a(k,this.h&P.h)},n.or=function(P){for(var x=Math.max(this.g.length,P.g.length),k=[],N=0;N<x;N++)k[N]=this.i(N)|P.i(N);return new a(k,this.h|P.h)},n.xor=function(P){for(var x=Math.max(this.g.length,P.g.length),k=[],N=0;N<x;N++)k[N]=this.i(N)^P.i(N);return new a(k,this.h^P.h)};function q(P){for(var x=P.g.length+1,k=[],N=0;N<x;N++)k[N]=P.i(N)<<1|P.i(N-1)>>>31;return new a(k,P.h)}function G(P,x){var k=x>>5;x%=32;for(var N=P.g.length-k,M=[],V=0;V<N;V++)M[V]=0<x?P.i(V+k)>>>x|P.i(V+k+1)<<32-x:P.i(V+k);return new a(M,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,_A=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=m,Ls=a}).apply(typeof Bw<"u"?Bw:typeof self<"u"?self:typeof window<"u"?window:{});var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yA,Jc,vA,Jd,y_,EA,wA,TA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,T){return f==Array.prototype||f==Object.prototype||(f[y]=T.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof gd=="object"&&gd];for(var y=0;y<f.length;++y){var T=f[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function r(f,y){if(y)e:{var T=i;f=f.split(".");for(var C=0;C<f.length-1;C++){var B=f[C];if(!(B in T))break e;T=T[B]}f=f[f.length-1],C=T[f],y=y(C),y!=C&&y!=null&&e(T,f,{configurable:!0,writable:!0,value:y})}}function s(f,y){f instanceof String&&(f+="");var T=0,C=!1,B={next:function(){if(!C&&T<f.length){var X=T++;return{value:y(X,f[X]),done:!1}}return C=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}r("Array.prototype.values",function(f){return f||function(){return s(this,function(y,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function u(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function d(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function m(f,y,T){return f.call.apply(f.bind,arguments)}function _(f,y,T){if(!f)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,C),f.apply(y,B)}}return function(){return f.apply(y,arguments)}}function v(f,y,T){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:_,v.apply(null,arguments)}function w(f,y){var T=Array.prototype.slice.call(arguments,1);return function(){var C=T.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function b(f,y){function T(){}T.prototype=y.prototype,f.aa=y.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(C,B,X){for(var ce=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)ce[Ze-2]=arguments[Ze];return y.prototype[B].apply(C,ce)}}function I(f){const y=f.length;if(0<y){const T=Array(y);for(let C=0;C<y;C++)T[C]=f[C];return T}return[]}function A(f,y){for(let T=1;T<arguments.length;T++){const C=arguments[T];if(u(C)){const B=f.length||0,X=C.length||0;f.length=B+X;for(let ce=0;ce<X;ce++)f[B+ce]=C[ce]}else f.push(C)}}class R{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(f){return/^[\s\xa0]*$/.test(f)}function j(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function U(f){return U[" "](f),f}U[" "]=function(){};var q=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function G(f,y,T){for(const C in f)y.call(T,f[C],C,f)}function P(f,y){for(const T in f)y.call(void 0,f[T],T,f)}function x(f){const y={};for(const T in f)y[T]=f[T];return y}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(f,y){let T,C;for(let B=1;B<arguments.length;B++){C=arguments[B];for(T in C)f[T]=C[T];for(let X=0;X<k.length;X++)T=k[X],Object.prototype.hasOwnProperty.call(C,T)&&(f[T]=C[T])}}function M(f){var y=1;f=f.split(":");const T=[];for(;0<y&&f.length;)T.push(f.shift()),y--;return f.length&&T.push(f.join(":")),T}function V(f){c.setTimeout(()=>{throw f},0)}function O(){var f=ue;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class De{constructor(){this.h=this.g=null}add(y,T){const C=Se.get();C.set(y,T),this.h?this.h.next=C:this.g=C,this.h=C}}var Se=new R(()=>new we,f=>f.reset());class we{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,ie=!1,ue=new De,le=()=>{const f=c.Promise.resolve(void 0);_e=()=>{f.then(z)}};var z=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(T){V(T)}var y=Se;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}ie=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return f}();function de(f,y){if(fe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(q){e:{try{U(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else T=="mouseover"?y=f.fromElement:T=="mouseout"&&(y=f.toElement);this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:he[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&de.aa.h.call(this)}}b(de,fe);var he={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Te="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function Le(f,y,T,C,B){this.listener=f,this.proxy=null,this.src=y,this.type=T,this.capture=!!C,this.ha=B,this.key=++Ae,this.da=this.fa=!1}function Be(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Lt(f){this.src=f,this.g={},this.h=0}Lt.prototype.add=function(f,y,T,C,B){var X=f.toString();f=this.g[X],f||(f=this.g[X]=[],this.h++);var ce=Bt(f,y,C,B);return-1<ce?(y=f[ce],T||(y.fa=!1)):(y=new Le(y,this.src,X,!!C,B),y.fa=T,f.push(y)),y};function zt(f,y){var T=y.type;if(T in f.g){var C=f.g[T],B=Array.prototype.indexOf.call(C,y,void 0),X;(X=0<=B)&&Array.prototype.splice.call(C,B,1),X&&(Be(y),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Bt(f,y,T,C){for(var B=0;B<f.length;++B){var X=f[B];if(!X.da&&X.listener==y&&X.capture==!!T&&X.ha==C)return B}return-1}var ui="closure_lm_"+(1e6*Math.random()|0),Di={};function Mi(f,y,T,C,B){if(Array.isArray(y)){for(var X=0;X<y.length;X++)Mi(f,y[X],T,C,B);return null}return T=Jr(T),f&&f[Te]?f.K(y,T,d(C)?!!C.capture:!1,B):hi(f,y,T,!1,C,B)}function hi(f,y,T,C,B,X){if(!y)throw Error("Invalid event type");var ce=d(B)?!!B.capture:!!B,Ze=fr(f);if(Ze||(f[ui]=Ze=new Lt(f)),T=Ze.add(y,T,C,ce,X),T.proxy)return T;if(C=Qr(),T.proxy=C,C.src=f,C.listener=T,f.addEventListener)oe||(B=ce),B===void 0&&(B=!1),f.addEventListener(y.toString(),C,B);else if(f.attachEvent)f.attachEvent(fn(y.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Qr(){function f(T){return y.call(f.src,f.listener,T)}const y=Xr;return f}function Li(f,y,T,C,B){if(Array.isArray(y))for(var X=0;X<y.length;X++)Li(f,y[X],T,C,B);else C=d(C)?!!C.capture:!!C,T=Jr(T),f&&f[Te]?(f=f.i,y=String(y).toString(),y in f.g&&(X=f.g[y],T=Bt(X,T,C,B),-1<T&&(Be(X[T]),Array.prototype.splice.call(X,T,1),X.length==0&&(delete f.g[y],f.h--)))):f&&(f=fr(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Bt(y,T,C,B)),(T=-1<f?y[f]:null)&&At(T))}function At(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Te])zt(y.i,f);else{var T=f.type,C=f.proxy;y.removeEventListener?y.removeEventListener(T,C,f.capture):y.detachEvent?y.detachEvent(fn(T),C):y.addListener&&y.removeListener&&y.removeListener(C),(T=fr(y))?(zt(T,f),T.h==0&&(T.src=null,y[ui]=null)):Be(f)}}}function fn(f){return f in Di?Di[f]:Di[f]="on"+f}function Xr(f,y){if(f.da)f=!0;else{y=new de(y,this);var T=f.listener,C=f.ha||f.src;f.fa&&At(f),f=T.call(C,y)}return f}function fr(f){return f=f[ui],f instanceof Lt?f:null}var Vi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jr(f){return typeof f=="function"?f:(f[Vi]||(f[Vi]=function(y){return f.handleEvent(y)}),f[Vi])}function pt(){J.call(this),this.i=new Lt(this),this.M=this,this.F=null}b(pt,J),pt.prototype[Te]=!0,pt.prototype.removeEventListener=function(f,y,T,C){Li(this,f,y,T,C)};function mt(f,y){var T,C=f.F;if(C)for(T=[];C;C=C.F)T.push(C);if(f=f.M,C=y.type||y,typeof y=="string")y=new fe(y,f);else if(y instanceof fe)y.target=y.target||f;else{var B=y;y=new fe(C,f),N(y,B)}if(B=!0,T)for(var X=T.length-1;0<=X;X--){var ce=y.g=T[X];B=Hn(ce,C,!0,y)&&B}if(ce=y.g=f,B=Hn(ce,C,!0,y)&&B,B=Hn(ce,C,!1,y)&&B,T)for(X=0;X<T.length;X++)ce=y.g=T[X],B=Hn(ce,C,!1,y)&&B}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var T=f.g[y],C=0;C<T.length;C++)Be(T[C]);delete f.g[y],f.h--}}this.F=null},pt.prototype.K=function(f,y,T,C){return this.i.add(String(f),y,!1,T,C)},pt.prototype.L=function(f,y,T,C){return this.i.add(String(f),y,!0,T,C)};function Hn(f,y,T,C){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,X=0;X<y.length;++X){var ce=y[X];if(ce&&!ce.da&&ce.capture==T){var Ze=ce.listener,xt=ce.ha||ce.src;ce.fa&&zt(f.i,ce),B=Ze.call(xt,C)!==!1&&B}}return B&&!C.defaultPrevented}function Yl(f,y,T){if(typeof f=="function")T&&(f=v(f,T));else if(f&&typeof f.handleEvent=="function")f=v(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(f,y||0)}function Zr(f){f.g=Yl(()=>{f.g=null,f.i&&(f.i=!1,Zr(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class io extends J{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Zr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ro(f){J.call(this),this.h=f,this.g={}}b(ro,J);var Ql=[];function Xl(f){G(f.g,function(y,T){this.g.hasOwnProperty(T)&&At(y)},f),f.g={}}ro.prototype.N=function(){ro.aa.N.call(this),Xl(this)},ro.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jl=c.JSON.stringify,Zl=c.JSON.parse,ec=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function so(){}so.prototype.h=null;function la(f){return f.h||(f.h=f.i())}function ca(){}var Wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fi(){fe.call(this,"d")}b(Fi,fe);function ua(){fe.call(this,"c")}b(ua,fe);var $i={},tc=null;function oo(){return tc=tc||new pt}$i.La="serverreachability";function nc(f){fe.call(this,$i.La,f)}b(nc,fe);function pr(f){const y=oo();mt(y,new nc(y))}$i.STAT_EVENT="statevent";function ic(f,y){fe.call(this,$i.STAT_EVENT,f),this.stat=y}b(ic,fe);function vt(f){const y=oo();mt(y,new ic(y,f))}$i.Ma="timingevent";function ha(f,y){fe.call(this,$i.Ma,f),this.size=y}b(ha,fe);function di(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},y)}function ao(){this.g=!0}ao.prototype.xa=function(){this.g=!1};function lo(f,y,T,C,B,X){f.info(function(){if(f.g)if(X)for(var ce="",Ze=X.split("&"),xt=0;xt<Ze.length;xt++){var He=Ze[xt].split("=");if(1<He.length){var Vt=He[0];He=He[1];var Tt=Vt.split("_");ce=2<=Tt.length&&Tt[1]=="type"?ce+(Vt+"="+He+"&"):ce+(Vt+"=redacted&")}}else ce=null;else ce=X;return"XMLHTTP REQ ("+C+") [attempt "+B+"]: "+y+`
`+T+`
`+ce})}function da(f,y,T,C,B,X,ce){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+B+"]: "+y+`
`+T+`
`+X+" "+ce})}function fi(f,y,T,C){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Fp(f,T)+(C?" "+C:"")})}function rc(f,y){f.info(function(){return"TIMEOUT: "+y})}ao.prototype.info=function(){};function Fp(f,y){if(!f.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var C=T[f];if(!(2>C.length)){var B=C[1];if(Array.isArray(B)&&!(1>B.length)){var X=B[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ce=1;ce<B.length;ce++)B[ce]=""}}}}return Jl(T)}catch{return y}}var fa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pi;function co(){}b(co,so),co.prototype.g=function(){return new XMLHttpRequest},co.prototype.i=function(){return{}},pi=new co;function mi(f,y,T,C){this.j=f,this.i=y,this.l=T,this.R=C||1,this.U=new ro(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eh}function eh(){this.i=null,this.g="",this.h=!1}var sc={},pa={};function ma(f,y,T){f.L=1,f.v=rs(Pn(y)),f.m=T,f.P=!0,oc(f,null)}function oc(f,y){f.F=Date.now(),nt(f),f.A=Pn(f.v);var T=f.A,C=f.R;Array.isArray(C)||(C=[String(C)]),os(T.i,"t",C),f.C=0,T=f.j.J,f.h=new eh,f.g=yh(f.j,T?y:null,!f.m),0<f.O&&(f.M=new io(v(f.Y,f,f.g),f.O)),y=f.U,T=f.g,C=f.ca;var B="readystatechange";Array.isArray(B)||(B&&(Ql[0]=B.toString()),B=Ql);for(var X=0;X<B.length;X++){var ce=Mi(T,B[X],C||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=f.H?x(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),pr(),lo(f.i,f.u,f.A,f.l,f.R,f.m)}mi.prototype.ca=function(f){f=f.target;const y=this.M;y&&mn(f)==3?y.j():this.Y(f)},mi.prototype.Y=function(f){try{if(f==this.g)e:{const Tt=mn(this.g);var y=this.g.Ba();const Gn=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||dc(this.g)))){this.J||Tt!=4||y==7||(y==8||0>=Gn?pr(3):pr(2)),uo(this);var T=this.g.Z();this.X=T;t:if(th(this)){var C=dc(this.g);f="";var B=C.length,X=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kn(this),es(this);var ce="";break t}this.h.i=new c.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,f+=this.h.i.decode(C[y],{stream:!(X&&y==B-1)});C.length=0,this.h.g+=f,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=T==200,da(this.i,this.u,this.A,this.l,this.R,Tt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,xt=this.g;if((Ze=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Ze)){var He=Ze;break t}}He=null}if(T=He)fi(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ac(this,T);else{this.o=!1,this.s=3,vt(12),Kn(this),es(this);break e}}if(this.P){T=!0;let Nn;for(;!this.J&&this.C<ce.length;)if(Nn=$p(this,ce),Nn==pa){Tt==4&&(this.s=4,vt(14),T=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==sc){this.s=4,vt(15),fi(this.i,this.l,ce,"[Invalid Chunk]"),T=!1;break}else fi(this.i,this.l,Nn,null),ac(this,Nn);if(th(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||ce.length!=0||this.h.h||(this.s=1,vt(16),T=!1),this.o=this.o&&T,!T)fi(this.i,this.l,ce,"[Invalid Chunked Response]"),Kn(this),es(this);else if(0<ce.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),pc(Vt),Vt.M=!0,vt(11))}}else fi(this.i,this.l,ce,null),ac(this,ce);Tt==4&&Kn(this),this.o&&!this.J&&(Tt==4?Aa(this.j,this):(this.o=!1,nt(this)))}else wa(this.g),T==400&&0<ce.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Kn(this),es(this)}}}catch{}finally{}};function th(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function $p(f,y){var T=f.C,C=y.indexOf(`
`,T);return C==-1?pa:(T=Number(y.substring(T,C)),isNaN(T)?sc:(C+=1,C+T>y.length?pa:(y=y.slice(C,C+T),f.C=C+T,y)))}mi.prototype.cancel=function(){this.J=!0,Kn(this)};function nt(f){f.S=Date.now()+f.I,nh(f,f.I)}function nh(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=di(v(f.ba,f),y)}function uo(f){f.B&&(c.clearTimeout(f.B),f.B=null)}mi.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(rc(this.i,this.A),this.L!=2&&(pr(),vt(17)),Kn(this),this.s=2,es(this)):nh(this,this.S-f)};function es(f){f.j.G==0||f.J||Aa(f.j,f)}function Kn(f){uo(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Xl(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function ac(f,y){try{var T=f.j;if(T.G!=0&&(T.g==f||on(T.h,f))){if(!f.K&&on(T.h,f)&&T.G==3){try{var C=T.Da.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var B=C;if(B[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)Ia(T),Ei(T);else break e;Sa(T),vt(18)}}else T.za=B[1],0<T.za-T.T&&37500>B[2]&&T.F&&T.v==0&&!T.C&&(T.C=di(v(T.Za,T),6e3));if(1>=rh(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else vr(T,11)}else if((f.K||T.g==f)&&Ia(T),!L(y))for(B=T.Da.g.parse(y),y=0;y<B.length;y++){let He=B[y];if(T.T=He[0],He=He[1],T.G==2)if(He[0]=="c"){T.K=He[1],T.ia=He[2];const Vt=He[3];Vt!=null&&(T.la=Vt,T.j.info("VER="+T.la));const Tt=He[4];Tt!=null&&(T.Aa=Tt,T.j.info("SVER="+T.Aa));const Gn=He[5];Gn!=null&&typeof Gn=="number"&&0<Gn&&(C=1.5*Gn,T.L=C,T.j.info("backChannelRequestTimeoutMs_="+C)),C=T;const Nn=f.g;if(Nn){const yo=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yo){var X=C.h;X.g||yo.indexOf("spdy")==-1&&yo.indexOf("quic")==-1&&yo.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(lc(X,X.h),X.h=null))}if(C.D){const Ca=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(C.ya=Ca,et(C.I,C.D,Ca))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),C=T;var ce=f;if(C.qa=_h(C,C.J?C.ia:null,C.W),ce.K){sh(C.h,ce);var Ze=ce,xt=C.L;xt&&(Ze.I=xt),Ze.B&&(uo(Ze),nt(Ze)),C.g=ce}else _o(C);0<T.i.length&&Bi(T)}else He[0]!="stop"&&He[0]!="close"||vr(T,7);else T.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?vr(T,7):Wt(T):He[0]!="noop"&&T.l&&T.l.ta(He),T.v=0)}}pr(4)}catch{}}var ih=class{constructor(f,y){this.g=f,this.map=y}};function ho(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function rh(f){return f.h?1:f.g?f.g.size:0}function on(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function lc(f,y){f.g?f.g.add(y):f.h=y}function sh(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}ho.prototype.cancel=function(){if(this.i=oh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function oh(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const T of f.g.values())y=y.concat(T.D);return y}return I(f.i)}function ga(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(u(f)){for(var y=[],T=f.length,C=0;C<T;C++)y.push(f[C]);return y}y=[],T=0;for(C in f)y[T++]=f[C];return y}function _a(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(u(f)||typeof f=="string"){var y=[];f=f.length;for(var T=0;T<f;T++)y.push(T);return y}y=[],T=0;for(const C in f)y[T++]=C;return y}}}function ts(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(u(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var T=_a(f),C=ga(f),B=C.length,X=0;X<B;X++)y.call(void 0,C[X],T&&T[X],f)}var fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jp(f,y){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var C=f[T].indexOf("="),B=null;if(0<=C){var X=f[T].substring(0,C);B=f[T].substring(C+1)}else X=f[T];y(X,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mr(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof mr){this.h=f.h,po(this,f.j),this.o=f.o,this.g=f.g,ns(this,f.s),this.l=f.l;var y=f.i,T=new ji;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),is(this,T),this.m=f.m}else f&&(y=String(f).match(fo))?(this.h=!1,po(this,y[1]||"",!0),this.o=ze(y[2]||""),this.g=ze(y[3]||"",!0),ns(this,y[4]),this.l=ze(y[5]||"",!0),is(this,y[6]||"",!0),this.m=ze(y[7]||"")):(this.h=!1,this.i=new ji(null,this.h))}mr.prototype.toString=function(){var f=[],y=this.j;y&&f.push(ss(y,ya,!0),":");var T=this.g;return(T||y=="file")&&(f.push("//"),(y=this.o)&&f.push(ss(y,ya,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(ss(T,T.charAt(0)=="/"?ch:lh,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",ss(T,cc)),f.join("")};function Pn(f){return new mr(f)}function po(f,y,T){f.j=T?ze(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function ns(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function is(f,y,T){y instanceof ji?(f.i=y,Ui(f.i,f.h)):(T||(y=ss(y,uh)),f.i=new ji(y,f.h))}function et(f,y,T){f.i.set(y,T)}function rs(f){return et(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ze(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ss(f,y,T){return typeof f=="string"?(f=encodeURI(f).replace(y,ah),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function ah(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ya=/[#\/\?@]/g,lh=/[#\?:]/g,ch=/[#\?]/g,uh=/[#\?@]/g,cc=/#/g;function ji(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Ht(f){f.g||(f.g=new Map,f.h=0,f.i&&jp(f.i,function(y,T){f.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=ji.prototype,n.add=function(f,y){Ht(this),this.i=null,f=qn(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(y),this.h+=1,this};function gi(f,y){Ht(f),y=qn(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function _i(f,y){return Ht(f),y=qn(f,y),f.g.has(y)}n.forEach=function(f,y){Ht(this),this.g.forEach(function(T,C){T.forEach(function(B){f.call(y,B,C,this)},this)},this)},n.na=function(){Ht(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let C=0;C<y.length;C++){const B=f[C];for(let X=0;X<B.length;X++)T.push(y[C])}return T},n.V=function(f){Ht(this);let y=[];if(typeof f=="string")_i(this,f)&&(y=y.concat(this.g.get(qn(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)y=y.concat(f[T])}return y},n.set=function(f,y){return Ht(this),this.i=null,f=qn(this,f),_i(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function os(f,y,T){gi(f,y),0<T.length&&(f.i=null,f.g.set(qn(f,y),I(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var C=y[T];const X=encodeURIComponent(String(C)),ce=this.V(C);for(C=0;C<ce.length;C++){var B=X;ce[C]!==""&&(B+="="+encodeURIComponent(String(ce[C]))),f.push(B)}}return this.i=f.join("&")};function qn(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Ui(f,y){y&&!f.j&&(Ht(f),f.i=null,f.g.forEach(function(T,C){var B=C.toLowerCase();C!=B&&(gi(this,C),os(this,B,T))},f)),f.j=y}function Up(f,y){const T=new ao;if(c.Image){const C=new Image;C.onload=w(pn,T,"TestLoadImage: loaded",!0,y,C),C.onerror=w(pn,T,"TestLoadImage: error",!1,y,C),C.onabort=w(pn,T,"TestLoadImage: abort",!1,y,C),C.ontimeout=w(pn,T,"TestLoadImage: timeout",!1,y,C),c.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else y(!1)}function hh(f,y){const T=new ao,C=new AbortController,B=setTimeout(()=>{C.abort(),pn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:C.signal}).then(X=>{clearTimeout(B),X.ok?pn(T,"TestPingServer: ok",!0,y):pn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),pn(T,"TestPingServer: error",!1,y)})}function pn(f,y,T,C,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),C(T)}catch{}}function zp(){this.g=new ec}function dh(f,y,T){const C=T||"";try{ts(f,function(B,X){let ce=B;d(B)&&(ce=Jl(B)),y.push(C+X+"="+encodeURIComponent(ce))})}catch(B){throw y.push(C+"type="+encodeURIComponent("_badmap")),B}}function gr(f){this.l=f.Ub||null,this.j=f.eb||!1}b(gr,so),gr.prototype.g=function(){return new mo(this.l,this.j)},gr.prototype.i=function(f){return function(){return f}}({});function mo(f,y){pt.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(mo,pt),n=mo.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,vi(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yi(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fh(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function fh(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?yi(this):vi(this),this.readyState==3&&fh(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,yi(this))},n.Qa=function(f){this.g&&(this.response=f,yi(this))},n.ga=function(){this.g&&yi(this)};function yi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,vi(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=y.next();return f.join(`\r
`)};function vi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(mo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function _r(f){let y="";return G(f,function(T,C){y+=C,y+=":",y+=T,y+=`\r
`}),y}function as(f,y,T){e:{for(C in T){var C=!1;break e}C=!0}C||(T=_r(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):et(f,y,T))}function at(f){pt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(at,pt);var Bp=/^https?$/i,uc=["POST","PUT"];n=at.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,T,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pi.g(),this.v=this.o?la(this.o):la(pi),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(X){go(this,X);return}if(f=T||"",T=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var B in C)T.set(B,C[B]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const X of C.keys())T.set(X,C.get(X));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),B=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(uc,y,void 0))||C||B||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ce]of T)this.g.setRequestHeader(X,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ea(this),this.u=!0,this.g.send(f),this.u=!1}catch(X){go(this,X)}};function go(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,va(f),On(f)}function va(f){f.A||(f.A=!0,mt(f,"complete"),mt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,mt(this,"complete"),mt(this,"abort"),On(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),On(this,!0)),at.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?hc(this):this.bb())},n.bb=function(){hc(this)};function hc(f){if(f.h&&typeof a<"u"&&(!f.v[1]||mn(f)!=4||f.Z()!=2)){if(f.u&&mn(f)==4)Yl(f.Ea,0,f);else if(mt(f,"readystatechange"),mn(f)==4){f.h=!1;try{const ce=f.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var C;if(C=ce===0){var B=String(f.D).match(fo)[1]||null;!B&&c.self&&c.self.location&&(B=c.self.location.protocol.slice(0,-1)),C=!Bp.test(B?B.toLowerCase():"")}T=C}if(T)mt(f,"complete"),mt(f,"success");else{f.m=6;try{var X=2<mn(f)?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.Z()+"]",va(f)}}finally{On(f)}}}}function On(f,y){if(f.g){Ea(f);const T=f.g,C=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||mt(f,"ready");try{T.onreadystatechange=C}catch{}}}function Ea(f){f.I&&(c.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function mn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Zl(y)}};function dc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function wa(f){const y={};f=(f.g&&2<=mn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(L(f[C]))continue;var T=M(f[C]);const B=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=y[B]||[];y[B]=X,X.push(T)}P(y,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zi(f,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||y}function fc(f){this.Aa=0,this.i=[],this.j=new ao,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zi("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zi("baseRetryDelayMs",5e3,f),this.cb=zi("retryDelaySeedMs",1e4,f),this.Wa=zi("forwardChannelMaxRetries",2,f),this.wa=zi("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ho(f&&f.concurrentRequestLimit),this.Da=new zp,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=fc.prototype,n.la=8,n.G=1,n.connect=function(f,y,T,C){vt(0),this.W=f,this.H=y||{},T&&C!==void 0&&(this.H.OSID=T,this.H.OAID=C),this.F=this.X,this.I=_h(this,null,this.W),Bi(this)};function Wt(f){if(Ta(f),f.G==3){var y=f.U++,T=Pn(f.I);if(et(T,"SID",f.K),et(T,"RID",y),et(T,"TYPE","terminate"),yr(f,T),y=new mi(f,f.j,y),y.L=2,y.v=rs(Pn(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.v,T=!0),T||(y.g=yh(y.j,null),y.g.ea(y.v)),y.F=Date.now(),nt(y)}gh(f)}function Ei(f){f.g&&(pc(f),f.g.cancel(),f.g=null)}function Ta(f){Ei(f),f.u&&(c.clearTimeout(f.u),f.u=null),Ia(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function Bi(f){if(!Rn(f.h)&&!f.s){f.s=!0;var y=f.Ga;_e||le(),ie||(_e(),ie=!0),ue.add(y,f),f.B=0}}function Hp(f,y){return rh(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=di(v(f.Ga,f,y),mh(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const B=new mi(this,this.j,f);let X=this.o;if(this.S&&(X?(X=x(X),N(X,this.S)):X=this.S),this.m!==null||this.O||(B.H=X,X=null),this.P)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var C=this.i[T];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(y+=C,4096<y){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=ls(this,B,y),T=Pn(this.I),et(T,"RID",f),et(T,"CVER",22),this.D&&et(T,"X-HTTP-Session-Id",this.D),yr(this,T),X&&(this.O?y="headers="+encodeURIComponent(String(_r(X)))+"&"+y:this.m&&as(T,this.m,X)),lc(this.h,B),this.Ua&&et(T,"TYPE","init"),this.P?(et(T,"$req",y),et(T,"SID","null"),B.T=!0,ma(B,T,null)):ma(B,T,y),this.G=2}}else this.G==3&&(f?ba(this,f):this.i.length==0||Rn(this.h)||ba(this))};function ba(f,y){var T;y?T=y.l:T=f.U++;const C=Pn(f.I);et(C,"SID",f.K),et(C,"RID",T),et(C,"AID",f.T),yr(f,C),f.m&&f.o&&as(C,f.m,f.o),T=new mi(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),y&&(f.i=y.D.concat(f.i)),y=ls(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),lc(f.h,T),ma(T,C,y)}function yr(f,y){f.H&&G(f.H,function(T,C){et(y,C,T)}),f.l&&ts({},function(T,C){et(y,C,T)})}function ls(f,y,T){T=Math.min(f.i.length,T);var C=f.l?v(f.l.Na,f.l,f):null;e:{var B=f.i;let X=-1;for(;;){const ce=["count="+T];X==-1?0<T?(X=B[0].g,ce.push("ofs="+X)):X=0:ce.push("ofs="+X);let Ze=!0;for(let xt=0;xt<T;xt++){let He=B[xt].g;const Vt=B[xt].map;if(He-=X,0>He)X=Math.max(0,B[xt].g-100),Ze=!1;else try{dh(Vt,ce,"req"+He+"_")}catch{C&&C(Vt)}}if(Ze){C=ce.join("&");break e}}}return f=f.i.splice(0,T),y.D=f,C}function _o(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;_e||le(),ie||(_e(),ie=!0),ue.add(y,f),f.v=0}}function Sa(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=di(v(f.Fa,f),mh(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,ph(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=di(v(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),Ei(this),ph(this))};function pc(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function ph(f){f.g=new mi(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=Pn(f.qa);et(y,"RID","rpc"),et(y,"SID",f.K),et(y,"AID",f.T),et(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&et(y,"TO",f.ja),et(y,"TYPE","xmlhttp"),yr(f,y),f.m&&f.o&&as(y,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=rs(Pn(y)),T.m=null,T.P=!0,oc(T,f)}n.Za=function(){this.C!=null&&(this.C=null,Ei(this),Sa(this),vt(19))};function Ia(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Aa(f,y){var T=null;if(f.g==y){Ia(f),pc(f),f.g=null;var C=2}else if(on(f.h,y))T=y.D,sh(f.h,y),C=1;else return;if(f.G!=0){if(y.o)if(C==1){T=y.m?y.m.length:0,y=Date.now()-y.F;var B=f.B;C=oo(),mt(C,new ha(C,T)),Bi(f)}else _o(f);else if(B=y.s,B==3||B==0&&0<y.X||!(C==1&&Hp(f,y)||C==2&&Sa(f)))switch(T&&0<T.length&&(y=f.h,y.i=y.i.concat(T)),B){case 1:vr(f,5);break;case 4:vr(f,10);break;case 3:vr(f,6);break;default:vr(f,2)}}}function mh(f,y){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*y}function vr(f,y){if(f.j.info("Error code "+y),y==2){var T=v(f.fb,f),C=f.Xa;const B=!C;C=new mr(C||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||po(C,"https"),rs(C),B?Up(C.toString(),T):hh(C.toString(),T)}else vt(2);f.G=0,f.l&&f.l.sa(y),gh(f),Ta(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function gh(f){if(f.G=0,f.ka=[],f.l){const y=oh(f.h);(y.length!=0||f.i.length!=0)&&(A(f.ka,y),A(f.ka,f.i),f.h.i.length=0,I(f.i),f.i.length=0),f.l.ra()}}function _h(f,y,T){var C=T instanceof mr?Pn(T):new mr(T);if(C.g!="")y&&(C.g=y+"."+C.g),ns(C,C.s);else{var B=c.location;C=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var X=new mr(null);C&&po(X,C),y&&(X.g=y),B&&ns(X,B),T&&(X.l=T),C=X}return T=f.D,y=f.ya,T&&y&&et(C,T,y),et(C,"VER",f.la),yr(f,C),C}function yh(f,y,T){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new at(new gr({eb:T})):new at(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function mc(){}n=mc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function xa(){}xa.prototype.g=function(f,y){return new an(f,y)};function an(f,y){pt.call(this),this.g=new fc(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!L(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!L(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Hi(this)}b(an,pt),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Wt(this.g)},an.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=Jl(f),f=T);y.i.push(new ih(y.Ya++,f)),y.G==3&&Bi(y)},an.prototype.N=function(){this.g.l=null,delete this.j,Wt(this.g),delete this.g,an.aa.N.call(this)};function vh(f){Fi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const T in y){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}b(vh,Fi);function Eh(){ua.call(this),this.status=1}b(Eh,ua);function Hi(f){this.g=f}b(Hi,mc),Hi.prototype.ua=function(){mt(this.g,"a")},Hi.prototype.ta=function(f){mt(this.g,new vh(f))},Hi.prototype.sa=function(f){mt(this.g,new Eh)},Hi.prototype.ra=function(){mt(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,TA=function(){return new xa},wA=function(){return oo()},EA=$i,y_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,Jd=fa,Zu.COMPLETE="complete",vA=Zu,ca.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Jc=ca,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,yA=at}).apply(typeof gd<"u"?gd:typeof self<"u"?self:typeof window<"u"?window:{});const Hw="@firebase/firestore",Ww="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $l="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new np("@firebase/firestore");function Za(){return qo.logLevel}function me(n,...e){if(qo.logLevel<=je.DEBUG){const t=e.map(by);qo.debug(`Firestore (${$l}): ${n}`,...t)}}function Wr(n,...e){if(qo.logLevel<=je.ERROR){const t=e.map(by);qo.error(`Firestore (${$l}): ${n}`,...t)}}function _l(n,...e){if(qo.logLevel<=je.WARN){const t=e.map(by);qo.warn(`Firestore (${$l}): ${n}`,...t)}}function by(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,bA(n,i,t)}function bA(n,e,t){let i=`FIRESTORE (${$l}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Wr(i),new Error(i)}function Je(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||bA(e,r,i)}function Ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Oi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Z2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nn.UNAUTHENTICATED))}shutdown(){}}class eL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class tL{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,t(u)):Promise.resolve();let s=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vs,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},c=u=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vs)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Je(typeof i.accessToken=="string",31837,{l:i}),new SA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class nL{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iL{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new nL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rL{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Je(this.o===void 0,3512);const i=s=>{s.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,me("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Kw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Kw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=sL(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%62))}return i}}function Fe(n,e){return n<e?-1:n>e?1:0}function v_(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),r=e.codePointAt(t);if(i!==r){if(i<128&&r<128)return Fe(i,r);{const s=IA(),a=oL(s.encode(qw(n,t)),s.encode(qw(e,t)));return a!==0?a:Fe(i,r)}}t+=i>65535?2:1}return Fe(n.length,e.length)}function qw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function oL(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Fe(n[t],e[t]);return Fe(n.length,e.length)}function yl(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=-62135596800,Yw=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Yw);return new Nt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ke(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ke(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Gw)throw new ke(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yw}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Gw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Nt(0,0))}static max(){return new Me(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="__name__";class Ji{constructor(e,t,i){t===void 0?t=0:t>e.length&&Oe(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Oe(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ji.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ji?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=Ji.compareSegments(e.get(r),t.get(r));if(s!==0)return s}return Fe(e.length,t.length)}static compareSegments(e,t){const i=Ji.isNumericId(e),r=Ji.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?Ji.extractNumericId(e).compare(Ji.extractNumericId(t)):v_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ls.fromString(e.substring(4,e.length-2))}}class _t extends Ji{construct(e,t,i){return new _t(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ke(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new _t(t)}static emptyPath(){return new _t([])}}const aL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Ji{construct(e,t,i){return new Yt(e,t,i)}static isValidIdentifier(e){return aL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qw}static keyField(){return new Yt([Qw])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(i.length===0)throw new ke(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let a=!1;for(;r<e.length;){const c=e[r];if(c==="\\"){if(r+1===e.length)throw new ke(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ke(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else c==="`"?(a=!a,r++):c!=="."||a?(i+=c,r++):(s(),r++)}if(s(),a)throw new ke(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(t)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(_t.fromString(e))}static fromName(e){return new Re(_t.fromString(e).popFirst(5))}static empty(){return new Re(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return _t.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new _t(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=-1;function lL(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Me.fromTimestamp(i===1e9?new Nt(t+1,0):new Nt(t,i));return new js(r,Re.empty(),e)}function cL(n){return new js(n.readTime,n.key,Su)}class js{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new js(Me.min(),Re.empty(),Su)}static max(){return new js(Me.max(),Re.empty(),Su)}}function uL(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==hL)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,i)=>{t(e)})}static reject(e){return new Z((t,i)=>{i(e)})}static waitFor(e){return new Z((t,i)=>{let r=0,s=0,a=!1;e.forEach(c=>{++r,c.next(()=>{++s,a&&s===r&&t()},u=>i(u))}),a=!0,s===r&&t()})}static or(e){let t=Z.resolve(!1);for(const i of e)t=t.next(r=>r?Z.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new Z((i,r)=>{const s=e.length,a=new Array(s);let c=0;for(let u=0;u<s;u++){const d=u;t(e[d]).next(m=>{a[d]=m,++c,c===s&&i(a)},m=>r(m))}})}static doWhile(e,t){return new Z((i,r)=>{const s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}}function fL(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ul(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}lp.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=-1;function cp(n){return n==null}function bf(n){return n===0&&1/n==-1/0}function pL(n){return typeof n=="number"&&Number.isInteger(n)&&!bf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="";function mL(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Xw(e)),e=gL(n.get(t),e);return Xw(e)}function gL(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="";break;case xA:t+="";break;default:t+=s}}return t}function Xw(n){return n+xA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Js(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function CA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _d(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _d(this.root,e,this.comparator,!1)}getReverseIterator(){return new _d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _d(this.root,e,this.comparator,!0)}}class _d{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Gt.RED,this.left=r??Gt.EMPTY,this.right=s??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Gt(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return Gt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,t,i,r,s){return this}insert(e,t,i){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zw(this.data.getIterator())}getIteratorFrom(e){return new Zw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class Zw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Fn([])}unionWith(e){let t=new Dt(Yt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new kA("Invalid base64 string: "+s):s}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const _L=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(n){if(Je(!!n,39018),typeof n=="string"){let e=0;const t=_L.exec(n);if(Je(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function zs(n){return typeof n=="string"?Qt.fromBase64String(n):Qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="server_timestamp",PA="__type__",OA="__previous_value__",NA="__local_write_time__";function Iy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[PA])===null||t===void 0?void 0:t.stringValue)===RA}function up(n){const e=n.mapValue.fields[OA];return Iy(e)?up(e):e}function Iu(n){const e=Us(n.mapValue.fields[NA].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,t,i,r,s,a,c,u,d,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=m}}const Sf="(default)";class Au{constructor(e,t){this.projectId=e,this.database=t||Sf}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===Sf}isEqual(e){return e instanceof Au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="__type__",vL="__max__",yd={mapValue:{}},MA="__vector__",If="value";function Bs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Iy(n)?4:wL(n)?9007199254740991:EL(n)?10:11:Oe(28295,{value:n})}function lr(n,e){if(n===e)return!0;const t=Bs(n);if(t!==Bs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Iu(n).isEqual(Iu(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=Us(r.timestampValue),c=Us(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return zs(r.bytesValue).isEqual(zs(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return wt(r.geoPointValue.latitude)===wt(s.geoPointValue.latitude)&&wt(r.geoPointValue.longitude)===wt(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return wt(r.integerValue)===wt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=wt(r.doubleValue),c=wt(s.doubleValue);return a===c?bf(a)===bf(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return yl(n.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},c=s.mapValue.fields||{};if(Jw(a)!==Jw(c))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!lr(a[u],c[u])))return!1;return!0}(n,e);default:return Oe(52216,{left:n})}}function xu(n,e){return(n.values||[]).find(t=>lr(t,e))!==void 0}function vl(n,e){if(n===e)return 0;const t=Bs(n),i=Bs(e);if(t!==i)return Fe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return function(s,a){const c=wt(s.integerValue||s.doubleValue),u=wt(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return eT(n.timestampValue,e.timestampValue);case 4:return eT(Iu(n),Iu(e));case 5:return v_(n.stringValue,e.stringValue);case 6:return function(s,a){const c=zs(s),u=zs(a);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,a){const c=s.split("/"),u=a.split("/");for(let d=0;d<c.length&&d<u.length;d++){const m=Fe(c[d],u[d]);if(m!==0)return m}return Fe(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,a){const c=Fe(wt(s.latitude),wt(a.latitude));return c!==0?c:Fe(wt(s.longitude),wt(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return tT(n.arrayValue,e.arrayValue);case 10:return function(s,a){var c,u,d,m;const _=s.fields||{},v=a.fields||{},w=(c=_[If])===null||c===void 0?void 0:c.arrayValue,b=(u=v[If])===null||u===void 0?void 0:u.arrayValue,I=Fe(((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0,((m=b==null?void 0:b.values)===null||m===void 0?void 0:m.length)||0);return I!==0?I:tT(w,b)}(n.mapValue,e.mapValue);case 11:return function(s,a){if(s===yd.mapValue&&a===yd.mapValue)return 0;if(s===yd.mapValue)return 1;if(a===yd.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),d=a.fields||{},m=Object.keys(d);u.sort(),m.sort();for(let _=0;_<u.length&&_<m.length;++_){const v=v_(u[_],m[_]);if(v!==0)return v;const w=vl(c[u[_]],d[m[_]]);if(w!==0)return w}return Fe(u.length,m.length)}(n.mapValue,e.mapValue);default:throw Oe(23264,{Pe:t})}}function eT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);const t=Us(n),i=Us(e),r=Fe(t.seconds,i.seconds);return r!==0?r:Fe(t.nanos,i.nanos)}function tT(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const s=vl(t[r],i[r]);if(s)return s}return Fe(t.length,i.length)}function El(n){return E_(n)}function E_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Us(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return zs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Re.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const s of t.values||[])r?r=!1:i+=",",i+=E_(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${E_(t.fields[a])}`;return r+"}"}(n.mapValue):Oe(61005,{value:n})}function Zd(n){switch(Bs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=up(n);return e?16+Zd(e):16;case 5:return 2*n.stringValue.length;case 6:return zs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Zd(s),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Js(i.fields,(s,a)=>{r+=s.length+Zd(a)}),r}(n.mapValue);default:throw Oe(13486,{value:n})}}function w_(n){return!!n&&"integerValue"in n}function Ay(n){return!!n&&"arrayValue"in n}function nT(n){return!!n&&"nullValue"in n}function iT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ef(n){return!!n&&"mapValue"in n}function EL(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[DA])===null||t===void 0?void 0:t.stringValue)===MA}function lu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Js(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=lu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function wL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===vL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ef(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(t)}setAll(e){let t=Yt.emptyPath(),i={},r=[];e.forEach((a,c)=>{if(!t.isImmediateParentOf(c)){const u=this.getFieldsMap(t);this.applyChanges(u,i,r),i={},r=[],t=c.popLast()}a?i[c.lastSegment()]=lu(a):r.push(c.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());ef(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];ef(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Js(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new In(lu(this.value))}}function LA(n){const e=[];return Js(n.fields,(t,i)=>{const r=new Yt([t]);if(ef(i)){const s=LA(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,t,i,r,s,a,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(e){return new rn(e,0,Me.min(),Me.min(),Me.min(),In.empty(),0)}static newFoundDocument(e,t,i,r){return new rn(e,1,t,Me.min(),i,r,0)}static newNoDocument(e,t){return new rn(e,2,t,Me.min(),Me.min(),In.empty(),0)}static newUnknownDocument(e,t){return new rn(e,3,t,Me.min(),Me.min(),In.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,t){this.position=e,this.inclusive=t}}function rT(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],a=n.position[r];if(s.field.isKeyField()?i=Re.comparator(Re.fromName(a.referenceValue),t.key):i=vl(a,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function sT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!lr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t="asc"){this.field=e,this.dir=t}}function TL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{}class Rt extends VA{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new SL(e,t,i):t==="array-contains"?new xL(e,i):t==="in"?new CL(e,i):t==="not-in"?new kL(e,i):t==="array-contains-any"?new RL(e,i):new Rt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new IL(e,i):new AL(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(vl(t,this.value)):t!==null&&Bs(this.value)===Bs(t)&&this.matchesComparison(vl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends VA{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new cr(e,t)}matches(e){return FA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function FA(n){return n.op==="and"}function $A(n){return bL(n)&&FA(n)}function bL(n){for(const e of n.filters)if(e instanceof cr)return!1;return!0}function T_(n){if(n instanceof Rt)return n.field.canonicalString()+n.op.toString()+El(n.value);if($A(n))return n.filters.map(e=>T_(e)).join(",");{const e=n.filters.map(t=>T_(t)).join(",");return`${n.op}(${e})`}}function jA(n,e){return n instanceof Rt?function(i,r){return r instanceof Rt&&i.op===r.op&&i.field.isEqual(r.field)&&lr(i.value,r.value)}(n,e):n instanceof cr?function(i,r){return r instanceof cr&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,c)=>s&&jA(a,r.filters[c]),!0):!1}(n,e):void Oe(19439)}function UA(n){return n instanceof Rt?function(t){return`${t.field.canonicalString()} ${t.op} ${El(t.value)}`}(n):n instanceof cr?function(t){return t.op.toString()+" {"+t.getFilters().map(UA).join(" ,")+"}"}(n):"Filter"}class SL extends Rt{constructor(e,t,i){super(e,t,i),this.key=Re.fromName(i.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class IL extends Rt{constructor(e,t){super(e,"in",t),this.keys=zA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class AL extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=zA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function zA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Re.fromName(i.referenceValue))}class xL extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ay(t)&&xu(t.arrayValue,this.value)}}class CL extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&xu(this.value.arrayValue,t)}}class kL extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!xu(this.value.arrayValue,t)}}class RL extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ay(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>xu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,t=null,i=[],r=[],s=null,a=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=c,this.Ie=null}}function oT(n,e=null,t=[],i=[],r=null,s=null,a=null){return new PL(n,e,t,i,r,s,a)}function xy(n){const e=Ve(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>T_(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),cp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>El(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>El(i)).join(",")),e.Ie=t}return e.Ie}function Cy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!TL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!jA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sT(n.startAt,e.startAt)&&sT(n.endAt,e.endAt)}function b_(n){return Re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t=null,i=[],r=[],s=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function OL(n,e,t,i,r,s,a,c){return new hp(n,e,t,i,r,s,a,c)}function ky(n){return new hp(n)}function aT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function NL(n){return n.collectionGroup!==null}function cu(n){const e=Ve(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),t.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Dt(Yt.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new xf(s,i))}),t.has(Yt.keyField().canonicalString())||e.Ee.push(new xf(Yt.keyField(),i))}return e.Ee}function nr(n){const e=Ve(n);return e.de||(e.de=DL(e,cu(n))),e.de}function DL(n,e){if(n.limitType==="F")return oT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new xf(r.field,s)});const t=n.endAt?new Af(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Af(n.startAt.position,n.startAt.inclusive):null;return oT(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function S_(n,e,t){return new hp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function dp(n,e){return Cy(nr(n),nr(e))&&n.limitType===e.limitType}function BA(n){return`${xy(nr(n))}|lt:${n.limitType}`}function el(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>UA(r)).join(", ")}]`),cp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>El(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>El(r)).join(",")),`Target(${i})`}(nr(n))}; limitType=${n.limitType})`}function fp(n,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Re.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(const s of cu(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(a,c,u){const d=rT(a,c,u);return a.inclusive?d<=0:d<0}(i.startAt,cu(i),r)||i.endAt&&!function(a,c,u){const d=rT(a,c,u);return a.inclusive?d>=0:d>0}(i.endAt,cu(i),r))}(n,e)}function ML(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function HA(n){return(e,t)=>{let i=!1;for(const r of cu(n)){const s=LL(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function LL(n,e,t){const i=n.field.isKeyField()?Re.comparator(e.key,t.key):function(s,a,c){const u=a.data.field(s),d=c.data.field(s);return u!==null&&d!==null?vl(u,d):Oe(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Oe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return CA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=new ft(Re.comparator);function Kr(){return VL}const WA=new ft(Re.comparator);function Zc(...n){let e=WA;for(const t of n)e=e.insert(t.key,t);return e}function KA(n){let e=WA;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Vo(){return uu()}function qA(){return uu()}function uu(){return new ia(n=>n.toString(),(n,e)=>n.isEqual(e))}const FL=new ft(Re.comparator),$L=new Dt(Re.comparator);function Ue(...n){let e=$L;for(const t of n)e=e.add(t);return e}const jL=new Dt(Fe);function UL(){return jL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bf(e)?"-0":e}}function GA(n){return{integerValue:""+n}}function zL(n,e){return pL(e)?GA(e):Ry(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(){this._=void 0}}function BL(n,e,t){return n instanceof Cf?function(r,s){const a={fields:{[PA]:{stringValue:RA},[NA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Iy(s)&&(s=up(s)),s&&(a.fields[OA]=s),{mapValue:a}}(t,e):n instanceof wl?QA(n,e):n instanceof Cu?XA(n,e):function(r,s){const a=YA(r,s),c=lT(a)+lT(r.Re);return w_(a)&&w_(r.Re)?GA(c):Ry(r.serializer,c)}(n,e)}function HL(n,e,t){return n instanceof wl?QA(n,e):n instanceof Cu?XA(n,e):t}function YA(n,e){return n instanceof kf?function(i){return w_(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class Cf extends pp{}class wl extends pp{constructor(e){super(),this.elements=e}}function QA(n,e){const t=JA(e);for(const i of n.elements)t.some(r=>lr(r,i))||t.push(i);return{arrayValue:{values:t}}}class Cu extends pp{constructor(e){super(),this.elements=e}}function XA(n,e){let t=JA(e);for(const i of n.elements)t=t.filter(r=>!lr(r,i));return{arrayValue:{values:t}}}class kf extends pp{constructor(e,t){super(),this.serializer=e,this.Re=t}}function lT(n){return wt(n.integerValue||n.doubleValue)}function JA(n){return Ay(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,t){this.field=e,this.transform=t}}function KL(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof wl&&r instanceof wl||i instanceof Cu&&r instanceof Cu?yl(i.elements,r.elements,lr):i instanceof kf&&r instanceof kf?lr(i.Re,r.Re):i instanceof Cf&&r instanceof Cf}(n.transform,e.transform)}class qL{constructor(e,t){this.version=e,this.transformResults=t}}class ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class mp{}function ZA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new tx(n.key,ir.none()):new zu(n.key,n.data,ir.none());{const t=n.data,i=In.empty();let r=new Dt(Yt.comparator);for(let s of e.fields)if(!r.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new Zs(n.key,i,new Fn(r.toArray()),ir.none())}}function GL(n,e,t){n instanceof zu?function(r,s,a){const c=r.value.clone(),u=uT(r.fieldTransforms,s,a.transformResults);c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Zs?function(r,s,a){if(!tf(r.precondition,s))return void s.convertToUnknownDocument(a.version);const c=uT(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(ex(r)),u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function hu(n,e,t,i){return n instanceof zu?function(s,a,c,u){if(!tf(s.precondition,a))return c;const d=s.value.clone(),m=hT(s.fieldTransforms,u,a);return d.setAll(m),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(n,e,t,i):n instanceof Zs?function(s,a,c,u){if(!tf(s.precondition,a))return c;const d=hT(s.fieldTransforms,u,a),m=a.data;return m.setAll(ex(s)),m.setAll(d),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(_=>_.field))}(n,e,t,i):function(s,a,c){return tf(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(n,e,t)}function YL(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=YA(i.transform,r||null);s!=null&&(t===null&&(t=In.empty()),t.set(i.field,s))}return t||null}function cT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&yl(i,r,(s,a)=>KL(s,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class zu extends mp{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Zs extends mp{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ex(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function uT(n,e,t){const i=new Map;Je(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let r=0;r<t.length;r++){const s=n[r],a=s.transform,c=e.data.field(s.field);i.set(s.field,HL(a,c,t[r]))}return i}function hT(n,e,t){const i=new Map;for(const r of n){const s=r.transform,a=t.data.field(r.field);i.set(r.field,BL(s,a,e))}return i}class tx extends mp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QL extends mp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&GL(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=hu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=hu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=qA();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=t.has(r.key)?null:c;const u=ZA(a,c);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(Me.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&yl(this.mutations,e.mutations,(t,i)=>cT(t,i))&&yl(this.baseMutations,e.baseMutations,(t,i)=>cT(t,i))}}class Py{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Je(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let r=function(){return FL}();const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new Py(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,We;function eV(n){switch(n){case se.OK:return Oe(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Oe(15467,{code:n})}}function nx(n){if(n===void 0)return Wr("GRPC error has no .code"),se.UNKNOWN;switch(n){case St.OK:return se.OK;case St.CANCELLED:return se.CANCELLED;case St.UNKNOWN:return se.UNKNOWN;case St.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case St.INTERNAL:return se.INTERNAL;case St.UNAVAILABLE:return se.UNAVAILABLE;case St.UNAUTHENTICATED:return se.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case St.NOT_FOUND:return se.NOT_FOUND;case St.ALREADY_EXISTS:return se.ALREADY_EXISTS;case St.PERMISSION_DENIED:return se.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case St.ABORTED:return se.ABORTED;case St.OUT_OF_RANGE:return se.OUT_OF_RANGE;case St.UNIMPLEMENTED:return se.UNIMPLEMENTED;case St.DATA_LOSS:return se.DATA_LOSS;default:return Oe(39323,{code:n})}}(We=St||(St={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=new Ls([4294967295,4294967295],0);function dT(n){const e=IA().encode(n),t=new _A;return t.update(e),new Uint8Array(t.digest())}function fT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ls([t,i],0),new Ls([r,s],0)]}class Oy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new eu(`Invalid padding: ${t}`);if(i<0)throw new eu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new eu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ls.fromNumber(this.pe)}we(e,t,i){let r=e.add(t.multiply(Ls.fromNumber(i)));return r.compare(tV)===1&&(r=new Ls([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=dT(e),[i,r]=fT(t);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);if(!this.be(a))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Oy(s,r,t);return i.forEach(c=>a.insert(c)),a}insert(e){if(this.pe===0)return;const t=dT(e),[i,r]=fT(t);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);this.Se(a)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Bu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new gp(Me.min(),r,new ft(Fe),Kr(),Ue())}}class Bu{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Bu(i,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t,i,r){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=r}}class ix{constructor(e,t){this.targetId=e,this.Ce=t}}class rx{constructor(e,t,i=Qt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class pT{constructor(){this.Fe=0,this.Me=mT(),this.xe=Qt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ue(),t=Ue(),i=Ue();return this.Me.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Oe(38017,{changeType:s})}}),new Bu(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=mT()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Je(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class nV{constructor(e){this.ze=e,this.je=new Map,this.He=Kr(),this.Je=vd(),this.Ye=vd(),this.Ze=new ft(Fe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Oe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,r)=>{this.it(r)&&t(r)})}ot(e){const t=e.targetId,i=e.Ce.count,r=this._t(t);if(r){const s=r.target;if(b_(s))if(i===0){const a=new Re(s.path);this.tt(t,a,rn.newNoDocument(a,Me.min()))}else Je(i===1,20013,{expectedCount:i});else{const a=this.ut(t);if(a!==i){const c=this.ct(e),u=c?this.lt(c,e,a):1;if(u!==0){this.st(t);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t;let a,c;try{a=zs(i).toUint8Array()}catch(u){if(u instanceof kA)return _l("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Oy(a,r,s)}catch(u){return _l(u instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.pe===0?null:c}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let r=0;return i.forEach(s=>{const a=this.ze.Pt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,s,null),r++)}),r}It(e){const t=new Map;this.je.forEach((s,a)=>{const c=this._t(a);if(c){if(s.current&&b_(c.target)){const u=new Re(c.target.path);this.Et(u).has(a)||this.dt(a,u)||this.tt(a,u,rn.newNoDocument(u,e))}s.Le&&(t.set(a,s.qe()),s.Qe())}});let i=Ue();this.Ye.forEach((s,a)=>{let c=!0;a.forEachWhile(u=>{const d=this._t(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(s))}),this.He.forEach((s,a)=>a.setReadTime(e));const r=new gp(e,t,this.Ze,this.He,i);return this.He=Kr(),this.Je=vd(),this.Ye=vd(),this.Ze=new ft(Fe),r}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new pT,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Dt(Fe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Dt(Fe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new pT),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function vd(){return new ft(Re.comparator)}function mT(){return new ft(Re.comparator)}const iV={asc:"ASCENDING",desc:"DESCENDING"},rV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sV={and:"AND",or:"OR"};class oV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function I_(n,e){return n.useProto3Json||cp(e)?e:{value:e}}function Rf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function aV(n,e){return Rf(n,e.toTimestamp())}function rr(n){return Je(!!n,49232),Me.fromTimestamp(function(t){const i=Us(t);return new Nt(i.seconds,i.nanos)}(n))}function Ny(n,e){return A_(n,e).canonicalString()}function A_(n,e){const t=function(r){return new _t(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ox(n){const e=_t.fromString(n);return Je(hx(e),10190,{key:e.toString()}),e}function x_(n,e){return Ny(n.databaseId,e.path)}function xg(n,e){const t=ox(e);if(t.get(1)!==n.databaseId.projectId)throw new ke(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ke(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Re(lx(t))}function ax(n,e){return Ny(n.databaseId,e)}function lV(n){const e=ox(n);return e.length===4?_t.emptyPath():lx(e)}function C_(n){return new _t(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lx(n){return Je(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function gT(n,e,t){return{name:x_(n,e),fields:t.value.mapValue.fields}}function cV(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Oe(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(d,m){return d.useProto3Json?(Je(m===void 0||typeof m=="string",58123),Qt.fromBase64String(m||"")):(Je(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Qt.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(d){const m=d.code===void 0?se.UNKNOWN:nx(d.code);return new ke(m,d.message||"")}(a);t=new rx(i,r,s,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=xg(n,i.document.name),s=rr(i.document.updateTime),a=i.document.createTime?rr(i.document.createTime):Me.min(),c=new In({mapValue:{fields:i.document.fields}}),u=rn.newFoundDocument(r,s,a,c),d=i.targetIds||[],m=i.removedTargetIds||[];t=new nf(d,m,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=xg(n,i.document),s=i.readTime?rr(i.readTime):Me.min(),a=rn.newNoDocument(r,s),c=i.removedTargetIds||[];t=new nf([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=xg(n,i.document),s=i.removedTargetIds||[];t=new nf([],s,r,null)}else{if(!("filter"in e))return Oe(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new ZL(r,s),c=i.targetId;t=new ix(c,a)}}return t}function uV(n,e){let t;if(e instanceof zu)t={update:gT(n,e.key,e.value)};else if(e instanceof tx)t={delete:x_(n,e.key)};else if(e instanceof Zs)t={update:gT(n,e.key,e.data),updateMask:vV(e.fieldMask)};else{if(!(e instanceof QL))return Oe(16599,{ft:e.type});t={verify:x_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,a){const c=a.transform;if(c instanceof Cf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof wl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Cu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof kf)return{fieldPath:a.field.canonicalString(),increment:c.Re};throw Oe(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:aV(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Oe(27497)}(n,e.precondition)),t}function hV(n,e){return n&&n.length>0?(Je(e!==void 0,14353),n.map(t=>function(r,s){let a=r.updateTime?rr(r.updateTime):rr(s);return a.isEqual(Me.min())&&(a=rr(s)),new qL(a,r.transformResults||[])}(t,e))):[]}function dV(n,e){return{documents:[ax(n,e.path)]}}function fV(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=ax(n,r);const s=function(d){if(d.length!==0)return ux(cr.create(d,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const a=function(d){if(d.length!==0)return d.map(m=>function(v){return{field:tl(v.field),direction:gV(v.dir)}}(m))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=I_(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:t,parent:r}}function pV(n){let e=lV(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Je(i===1,65062);const m=t.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let s=[];t.where&&(s=function(_){const v=cx(_);return v instanceof cr&&$A(v)?v.getFilters():[v]}(t.where));let a=[];t.orderBy&&(a=function(_){return _.map(v=>function(b){return new xf(nl(b.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(v))}(t.orderBy));let c=null;t.limit&&(c=function(_){let v;return v=typeof _=="object"?_.value:_,cp(v)?null:v}(t.limit));let u=null;t.startAt&&(u=function(_){const v=!!_.before,w=_.values||[];return new Af(w,v)}(t.startAt));let d=null;return t.endAt&&(d=function(_){const v=!_.before,w=_.values||[];return new Af(w,v)}(t.endAt)),OL(e,r,a,s,c,"F",u,d)}function mV(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:r})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function cx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=nl(t.unaryFilter.field);return Rt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=nl(t.unaryFilter.field);return Rt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=nl(t.unaryFilter.field);return Rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=nl(t.unaryFilter.field);return Rt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}}(n):n.fieldFilter!==void 0?function(t){return Rt.create(nl(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return cr.create(t.compositeFilter.filters.map(i=>cx(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}}(t.compositeFilter.op))}(n):Oe(30097,{filter:n})}function gV(n){return iV[n]}function _V(n){return rV[n]}function yV(n){return sV[n]}function tl(n){return{fieldPath:n.canonicalString()}}function nl(n){return Yt.fromServerFormat(n.fieldPath)}function ux(n){return n instanceof Rt?function(t){if(t.op==="=="){if(iT(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NAN"}};if(nT(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(iT(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NOT_NAN"}};if(nT(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(t.field),op:_V(t.op),value:t.value}}}(n):n instanceof cr?function(t){const i=t.getFilters().map(r=>ux(r));return i.length===1?i[0]:{compositeFilter:{op:yV(t.op),filters:i}}}(n):Oe(54877,{filter:n})}function vV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,t,i,r,s=Me.min(),a=Me.min(),c=Qt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e){this.wt=e}}function wV(n){const e=pV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?S_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.Cn=new bV}addToCollectionParentIndex(e,t){return this.Cn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(js.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(js.min())}updateCollectionGroup(e,t,i){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class bV{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Dt(_t.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Dt(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dx=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(dx,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Tl(0)}static lr(){return new Tl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="LruGarbageCollector",SV=1048576;function vT([n,e],[t,i]){const r=Fe(n,t);return r===0?Fe(e,i):r}class IV{constructor(e){this.Er=e,this.buffer=new Dt(vT),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();vT(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class AV{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){me(yT,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ul(t)?me(yT,"Ignoring IndexedDB error during garbage collection: ",t):await jl(t)}await this.mr(3e5)})}}class xV{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(lp.le);const i=new IV(t);return this.gr.forEachTarget(e,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(e,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(_T)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_T):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,r,s,a,c,u,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),r=this.params.maximumSequenceNumbersToCollect):r=_,a=Date.now(),this.nthSequenceNumber(e,r))).next(_=>(i=_,c=Date.now(),this.removeTargets(e,i,t))).next(_=>(s=_,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(d=Date.now(),Za()<=je.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-m}ms
	Determined least recently used ${r} in `+(c-a)+`ms
	Removed ${s} targets in `+(u-c)+`ms
	Removed ${_} documents in `+(d-u)+`ms
Total Duration: ${d-m}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:_})))}}function CV(n,e){return new xV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(){this.changes=new ia(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Z.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&hu(i.mutation,r,Fn.empty(),Nt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ue()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ue()){const r=Vo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let a=Zc();return s.forEach((c,u)=>{a=a.insert(c,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const i=Vo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ue()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,c)=>{t.set(a,c)})})}computeViews(e,t,i,r){let s=Kr();const a=uu(),c=function(){return uu()}();return t.forEach((u,d)=>{const m=i.get(d.key);r.has(d.key)&&(m===void 0||m.mutation instanceof Zs)?s=s.insert(d.key,d):m!==void 0?(a.set(d.key,m.mutation.getFieldMask()),hu(m.mutation,d,m.mutation.getFieldMask(),Nt.now())):a.set(d.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,m)=>a.set(d,m)),t.forEach((d,m)=>{var _;return c.set(d,new RV(m,(_=a.get(d))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,t){const i=uu();let r=new ft((a,c)=>a-c),s=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const c of a)c.keys().forEach(u=>{const d=t.get(u);if(d===null)return;let m=i.get(u)||Fn.empty();m=c.applyToLocalView(d,m),i.set(u,m);const _=(r.get(c.batchId)||Ue()).add(u);r=r.insert(c.batchId,_)})}).next(()=>{const a=[],c=r.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),d=u.key,m=u.value,_=qA();m.forEach(v=>{if(!s.has(v)){const w=ZA(t.get(v),i.get(v));w!==null&&_.set(v,w),s=s.add(v)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,_))}return Z.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(a){return Re.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):NL(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):Z.resolve(Vo());let c=Su,u=s;return a.next(d=>Z.forEach(d,(m,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),s.get(m)?Z.resolve():this.remoteDocumentCache.getEntry(e,m).next(v=>{u=u.insert(m,v)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,Ue())).next(m=>({batchId:c,changes:KA(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next(i=>{let r=Zc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const s=t.collectionGroup;let a=Zc();return this.indexManager.getCollectionParents(e,s).next(c=>Z.forEach(c,u=>{const d=function(_,v){return new hp(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next(m=>{m.forEach((_,v)=>{a=a.insert(_,v)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(a=>{s.forEach((u,d)=>{const m=d.getKey();a.get(m)===null&&(a=a.insert(m,rn.newInvalidDocument(m)))});let c=Zc();return a.forEach((u,d)=>{const m=s.get(u);m!==void 0&&hu(m.mutation,d,Fn.empty(),Nt.now()),fp(t,d)&&(c=c.insert(u,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return Z.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:rr(r.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(r){return{name:r.name,query:wV(r.bundledQuery),readTime:rr(r.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(){this.overlays=new ft(Re.comparator),this.Qr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Vo();return Z.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.St(e,t,s)}),Z.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(i)),Z.resolve()}getOverlaysForCollection(e,t,i){const r=Vo(),s=t.length+1,a=new Re(t.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const u=c.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return Z.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new ft((d,m)=>d-m);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let m=s.get(d.largestBatchId);m===null&&(m=Vo(),s=s.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const c=Vo(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,m)=>c.set(d,m)),!(c.size()>=r)););return Z.resolve(c)}St(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new JL(t,i));let s=this.Qr.get(t);s===void 0&&(s=Ue(),this.Qr.set(t,s)),this.Qr.set(t,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this.$r=new Dt(Ut.Ur),this.Kr=new Dt(Ut.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new Ut(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new Ut(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new Re(new _t([])),i=new Ut(t,e),r=new Ut(t,e+1),s=[];return this.Kr.forEachInRange([i,r],a=>{this.zr(a),s.push(a.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Re(new _t([])),i=new Ut(t,e),r=new Ut(t,e+1);let s=Ue();return this.Kr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const t=new Ut(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ut{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Re.comparator(e.key,t.key)||Fe(e.Zr,t.Zr)}static Wr(e,t){return Fe(e.Zr,t.Zr)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Dt(Ut.Ur)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new XL(s,t,i,r);this.mutationQueue.push(a);for(const c of r)this.Xr=this.Xr.add(new Ut(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Z.resolve(a)}lookupMutationBatch(e,t){return Z.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.ti(i),s=r<0?0:r;return Z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Sy:this.nr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ut(t,0),r=new Ut(t,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([i,r],a=>{const c=this.ei(a.Zr);s.push(c)}),Z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Dt(Fe);return t.forEach(r=>{const s=new Ut(r,0),a=new Ut(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,a],c=>{i=i.add(c.Zr)})}),Z.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;Re.isDocumentKey(s)||(s=s.child(""));const a=new Ut(new Re(s),0);let c=new Dt(Fe);return this.Xr.forEachWhile(u=>{const d=u.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(c=c.add(u.Zr)),!0)},a),Z.resolve(this.ni(c))}ni(e){const t=[];return e.forEach(i=>{const r=this.ei(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){Je(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return Z.forEach(t.mutations,r=>{const s=new Ut(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new Ut(t,0),r=this.Xr.firstAfterOrEqual(i);return Z.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.ii=e,this.docs=function(){return new ft(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,a=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Z.resolve(i?i.document.mutableCopy():rn.newInvalidDocument(t))}getEntries(e,t){let i=Kr();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():rn.newInvalidDocument(r))}),Z.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Kr();const a=t.path,c=new Re(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:d,value:{document:m}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||uL(cL(m),i)<=0||(r.has(m.key)||fp(t,m))&&(s=s.insert(m.key,m.mutableCopy()))}return Z.resolve(s)}getAllFromCollectionGroup(e,t,i,r){Oe(9500)}si(e,t){return Z.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new VV(this)}getSize(e){return Z.resolve(this.size)}}class VV extends kV{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(i)}),Z.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.persistence=e,this.oi=new ia(t=>xy(t),Cy),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this._i=0,this.ai=new Dy,this.targetCount=0,this.ui=Tl.cr()}forEachTarget(e,t){return this.oi.forEach((i,r)=>t(r)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),Z.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Tl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Tr(t),Z.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.oi.forEach((a,c)=>{c.sequenceNumber<=t&&i.get(c.targetId)===null&&(this.oi.delete(a),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),Z.waitFor(s).next(()=>r)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return Z.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),Z.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),Z.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return Z.resolve(i)}containsKey(e,t){return Z.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,t){this.ci={},this.overlays={},this.li=new lp(0),this.hi=!1,this.hi=!0,this.Pi=new DV,this.referenceDelegate=e(this),this.Ti=new FV(this),this.indexManager=new TV,this.remoteDocumentCache=function(r){return new LV(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new EV(t),this.Ei=new OV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new NV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new MV(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){me("MemoryPersistence","Starting transaction:",e);const r=new $V(this.li.next());return this.referenceDelegate.di(),i(r).next(s=>this.referenceDelegate.Ai(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ri(e,t){return Z.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class $V extends dL{constructor(e){super(),this.currentSequenceNumber=e}}class My{constructor(e){this.persistence=e,this.Vi=new Dy,this.mi=null}static fi(e){return new My(e)}get gi(){if(this.mi)return this.mi;throw Oe(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),Z.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.gi.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.gi,i=>{const r=Re.fromPath(i);return this.pi(e,r).next(s=>{s||t.removeEntry(r,Me.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return Z.or([()=>Z.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Pf{constructor(e,t){this.persistence=e,this.yi=new ia(i=>mL(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=CV(this,t)}static fi(e,t){return new Pf(e,t)}di(){}Ai(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return Z.forEach(this.yi,(i,r)=>this.Dr(e,i,r).next(s=>s?Z.resolve():t(r)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.si(e,a=>this.Dr(e,a,t).next(c=>{c||(i++,s.removeEntry(a,Me.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),Z.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zd(e.data.value)),t}Dr(e,t,i){return Z.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.yi.get(t);return Z.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ds=i,this.As=r}static Rs(e,t){let i=Ue(),r=Ue();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Ly(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return XP()?8:fL(sn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,r){const s={result:null};return this.ws(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.bs(e,t,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new jV;return this.Ss(e,t,a).next(c=>{if(s.result=c,this.fs)return this.Ds(e,t,a,c.size)})}).next(()=>s.result)}Ds(e,t,i,r){return i.documentReadCount<this.gs?(Za()<=je.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",el(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Z.resolve()):(Za()<=je.DEBUG&&me("QueryEngine","Query:",el(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(Za()<=je.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",el(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(t))):Z.resolve())}ws(e,t){if(aT(t))return Z.resolve(null);let i=nr(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=S_(t,null,"F"),i=nr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=Ue(...s);return this.ys.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,i).next(u=>{const d=this.vs(t,c);return this.Cs(t,d,a,u.readTime)?this.ws(e,S_(t,null,"F")):this.Fs(e,d,t,u)}))})))}bs(e,t,i,r){return aT(t)||r.isEqual(Me.min())?Z.resolve(null):this.ys.getDocuments(e,i).next(s=>{const a=this.vs(t,s);return this.Cs(t,a,i,r)?Z.resolve(null):(Za()<=je.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),el(t)),this.Fs(e,a,t,lL(r,Su)).next(c=>c))})}vs(e,t){let i=new Dt(HA(e));return t.forEach((r,s)=>{fp(e,s)&&(i=i.add(s))}),i}Cs(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,t,i){return Za()<=je.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",el(t)),this.ys.getDocumentsMatchingQuery(e,t,js.min(),i)}Fs(e,t,i,r){return this.ys.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="LocalStore",zV=3e8;class BV{constructor(e,t,i,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new ft(Fe),this.Os=new ia(s=>xy(s),Cy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PV(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function HV(n,e,t,i){return new BV(n,e,t,i)}async function px(n,e){const t=Ve(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],c=[];let u=Ue();for(const d of r){a.push(d.batchId);for(const m of d.mutations)u=u.add(m.key)}for(const d of s){c.push(d.batchId);for(const m of d.mutations)u=u.add(m.key)}return t.localDocuments.getDocuments(i,u).next(d=>({ks:d,removedBatchIds:a,addedBatchIds:c}))})})}function WV(n,e){const t=Ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Bs.newChangeBuffer({trackRemovals:!0});return function(c,u,d,m){const _=d.batch,v=_.keys();let w=Z.resolve();return v.forEach(b=>{w=w.next(()=>m.getEntry(u,b)).next(I=>{const A=d.docVersions.get(b);Je(A!==null,48541),I.version.compareTo(A)<0&&(_.applyToRemoteDocument(I,d),I.isValidDocument()&&(I.setReadTime(d.commitVersion),m.addEntry(I)))})}),w.next(()=>c.mutationQueue.removeMutationBatch(u,_))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let u=Ue();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function mx(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function KV(n,e){const t=Ve(n),i=e.snapshotVersion;let r=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=t.Bs.newChangeBuffer({trackRemovals:!0});r=t.xs;const c=[];e.targetChanges.forEach((m,_)=>{const v=r.get(_);if(!v)return;c.push(t.Ti.removeMatchingKeys(s,m.removedDocuments,_).next(()=>t.Ti.addMatchingKeys(s,m.addedDocuments,_)));let w=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(_)!==null?w=w.withResumeToken(Qt.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):m.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(m.resumeToken,i)),r=r.insert(_,w),function(I,A,R){return I.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=zV?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(v,w,m)&&c.push(t.Ti.updateTargetData(s,w))});let u=Kr(),d=Ue();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,m))}),c.push(qV(s,a,e.documentUpdates).next(m=>{u=m.qs,d=m.Qs})),!i.isEqual(Me.min())){const m=t.Ti.getLastRemoteSnapshotVersion(s).next(_=>t.Ti.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(m)}return Z.waitFor(c).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(t.xs=r,s))}function qV(n,e,t){let i=Ue(),r=Ue();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let a=Kr();return t.forEach((c,u)=>{const d=s.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(c)),u.isNoDocument()&&u.version.isEqual(Me.min())?(e.removeEntry(c,u.readTime),a=a.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),a=a.insert(c,u)):me(Vy,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{qs:a,Qs:r}})}function GV(n,e){const t=Ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Sy),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function YV(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ti.getTargetData(i,e).next(s=>s?(r=s,Z.resolve(r)):t.Ti.allocateTargetId(i).next(a=>(r=new Rs(e,a,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function k_(n,e,t){const i=Ve(n),r=i.xs.get(e),s=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!Ul(a))throw a;me(Vy,`Failed to update sequence numbers for target ${e}: ${a}`)}i.xs=i.xs.remove(e),i.Os.delete(r.target)}function ET(n,e,t){const i=Ve(n);let r=Me.min(),s=Ue();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,d,m){const _=Ve(u),v=_.Os.get(m);return v!==void 0?Z.resolve(_.xs.get(v)):_.Ti.getTargetData(d,m)}(i,a,nr(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(a,c.targetId).next(u=>{s=u})}).next(()=>i.Ms.getDocumentsMatchingQuery(a,e,t?r:Me.min(),t?s:Ue())).next(c=>(QV(i,ML(e),c),{documents:c,$s:s})))}function QV(n,e,t){let i=n.Ns.get(e)||Me.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ns.set(e,i)}class wT{constructor(){this.activeTargetIds=UL()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XV{constructor(){this.xo=new wT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new wT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="ConnectivityMonitor";class bT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){me(TT,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){me(TT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ed=null;function R_(){return Ed===null?Ed=function(){return 268435456+Math.round(2147483648*Math.random())}():Ed++,"0x"+Ed.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="RestConnection",ZV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eF{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===Sf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(e,t,i,r,s){const a=R_(),c=this.jo(e,t.toUriEncodedString());me(Cg,`Sending RPC '${e}' ${a}:`,c,i);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,r,s);const{host:d}=new URL(c),m=Lu(d);return this.Jo(e,c,u,i,m).then(_=>(me(Cg,`Received RPC '${e}' ${a}: `,_),_),_=>{throw _l(Cg,`RPC '${e}' ${a} failed with error: `,_,"url: ",c,"request:",i),_})}Yo(e,t,i,r,s,a){return this.zo(e,t,i,r,s)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$l}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}jo(e,t){const i=ZV[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class nF extends eF{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,r,s){const a=R_();return new Promise((c,u)=>{const d=new yA;d.setWithCredentials(!0),d.listenOnce(vA.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Jd.NO_ERROR:const _=d.getResponseJson();me(tn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),c(_);break;case Jd.TIMEOUT:me(tn,`RPC '${e}' ${a} timed out`),u(new ke(se.DEADLINE_EXCEEDED,"Request time out"));break;case Jd.HTTP_ERROR:const v=d.getStatus();if(me(tn,`RPC '${e}' ${a} failed with status:`,v,"response text:",d.getResponseText()),v>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const b=w==null?void 0:w.error;if(b&&b.status&&b.message){const I=function(R){const L=R.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(L)>=0?L:se.UNKNOWN}(b.status);u(new ke(I,b.message))}else u(new ke(se.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new ke(se.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{h_:e,streamId:a,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{me(tn,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(r);me(tn,`RPC '${e}' ${a} sending request:`,r),d.send(t,"POST",m,i,15)})}I_(e,t,i){const r=R_(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=TA(),c=wA(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,t,i),u.encodeInitMessageHeaders=!0;const m=s.join("");me(tn,`Creating RPC '${e}' stream ${r}: ${m}`,u);const _=a.createWebChannel(m,u);this.E_(_);let v=!1,w=!1;const b=new tF({Zo:A=>{w?me(tn,`Not sending because RPC '${e}' stream ${r} is closed:`,A):(v||(me(tn,`Opening RPC '${e}' stream ${r} transport.`),_.open(),v=!0),me(tn,`RPC '${e}' stream ${r} sending:`,A),_.send(A))},Xo:()=>_.close()}),I=(A,R,L)=>{A.listen(R,j=>{try{L(j)}catch(U){setTimeout(()=>{throw U},0)}})};return I(_,Jc.EventType.OPEN,()=>{w||(me(tn,`RPC '${e}' stream ${r} transport opened.`),b.__())}),I(_,Jc.EventType.CLOSE,()=>{w||(w=!0,me(tn,`RPC '${e}' stream ${r} transport closed`),b.u_(),this.d_(_))}),I(_,Jc.EventType.ERROR,A=>{w||(w=!0,_l(tn,`RPC '${e}' stream ${r} transport errored. Name:`,A.name,"Message:",A.message),b.u_(new ke(se.UNAVAILABLE,"The operation could not be completed")))}),I(_,Jc.EventType.MESSAGE,A=>{var R;if(!w){const L=A.data[0];Je(!!L,16349);const j=L,U=(j==null?void 0:j.error)||((R=j[0])===null||R===void 0?void 0:R.error);if(U){me(tn,`RPC '${e}' stream ${r} received error:`,U);const q=U.status;let G=function(k){const N=St[k];if(N!==void 0)return nx(N)}(q),P=U.message;G===void 0&&(G=se.INTERNAL,P="Unknown error status: "+q+" with message "+U.message),w=!0,b.u_(new ke(G,P)),_.close()}else me(tn,`RPC '${e}' stream ${r} received:`,L),b.c_(L)}}),I(c,EA.STAT_EVENT,A=>{A.stat===y_.PROXY?me(tn,`RPC '${e}' stream ${r} detected buffering proxy`):A.stat===y_.NOPROXY&&me(tn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.a_()},0),b}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function kg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(n){return new oV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,t,i=1e3,r=1.5,s=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=r,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),r=Math.max(0,t-i);r>0&&me("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="PersistentStream";class _x{constructor(e,t,i,r,s,a,c,u){this.xi=e,this.S_=i,this.D_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new gx(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Wr(t.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.v_===t&&this.z_(i,r)},i=>{e(()=>{const r=new ke(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(r)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.j_(r))}),this.stream.onMessage(r=>{i(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return me(ST,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(me(ST,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iF extends _x{constructor(e,t,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,a),this.serializer=s}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=cV(this.serializer,e),i=function(s){if(!("targetChange"in s))return Me.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Me.min():a.readTime?rr(a.readTime):Me.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=C_(this.serializer),t.addTarget=function(s,a){let c;const u=a.target;if(c=b_(u)?{documents:dV(s,u)}:{query:fV(s,u).gt},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=sx(s,a.resumeToken);const d=I_(s,a.expectedCount);d!==null&&(c.expectedCount=d)}else if(a.snapshotVersion.compareTo(Me.min())>0){c.readTime=Rf(s,a.snapshotVersion.toTimestamp());const d=I_(s,a.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const i=mV(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=C_(this.serializer),t.removeTarget=e,this.Q_(t)}}class rF extends _x{constructor(e,t,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,a),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=hV(e.writeResults,e.commitTime),i=rr(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=C_(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>uV(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{}class oF extends sF{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new ke(se.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.zo(e,A_(t,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ke(se.UNKNOWN,s.toString())})}Yo(e,t,i,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Yo(e,A_(t,i),r,a,c,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ke(se.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class aF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Wr(t),this.ua=!1):me("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="RemoteStore";class lF{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(a=>{i.enqueueAndForget(async()=>{ra(this)&&(me(Go,"Restarting streams for network reachability change."),await async function(u){const d=Ve(u);d.da.add(4),await Hu(d),d.Va.set("Unknown"),d.da.delete(4),await yp(d)}(this))})}),this.Va=new aF(i,r)}}async function yp(n){if(ra(n))for(const e of n.Aa)await e(!0)}async function Hu(n){for(const e of n.Aa)await e(!1)}function yx(n,e){const t=Ve(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Uy(t)?jy(t):zl(t).N_()&&$y(t,e))}function Fy(n,e){const t=Ve(n),i=zl(t);t.Ea.delete(e),i.N_()&&vx(t,e),t.Ea.size===0&&(i.N_()?i.k_():ra(t)&&t.Va.set("Unknown"))}function $y(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zl(n).Z_(e)}function vx(n,e){n.ma.Ke(e),zl(n).X_(e)}function jy(n){n.ma=new nV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),zl(n).start(),n.Va.ca()}function Uy(n){return ra(n)&&!zl(n).O_()&&n.Ea.size>0}function ra(n){return Ve(n).da.size===0}function Ex(n){n.ma=void 0}async function cF(n){n.Va.set("Online")}async function uF(n){n.Ea.forEach((e,t)=>{$y(n,e)})}async function hF(n,e){Ex(n),Uy(n)?(n.Va.Pa(e),jy(n)):n.Va.set("Unknown")}async function dF(n,e,t){if(n.Va.set("Online"),e instanceof rx&&e.state===2&&e.cause)try{await async function(r,s){const a=s.cause;for(const c of s.targetIds)r.Ea.has(c)&&(await r.remoteSyncer.rejectListen(c,a),r.Ea.delete(c),r.ma.removeTarget(c))}(n,e)}catch(i){me(Go,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Of(n,i)}else if(e instanceof nf?n.ma.Xe(e):e instanceof ix?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Me.min()))try{const i=await mx(n.localStore);t.compareTo(i)>=0&&await function(s,a){const c=s.ma.It(a);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const m=s.Ea.get(d);m&&s.Ea.set(d,m.withResumeToken(u.resumeToken,a))}}),c.targetMismatches.forEach((u,d)=>{const m=s.Ea.get(u);if(!m)return;s.Ea.set(u,m.withResumeToken(Qt.EMPTY_BYTE_STRING,m.snapshotVersion)),vx(s,u);const _=new Rs(m.target,u,d,m.sequenceNumber);$y(s,_)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(i){me(Go,"Failed to raise snapshot:",i),await Of(n,i)}}async function Of(n,e,t){if(!Ul(e))throw e;n.da.add(1),await Hu(n),n.Va.set("Offline"),t||(t=()=>mx(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{me(Go,"Retrying IndexedDB access"),await t(),n.da.delete(1),await yp(n)})}function wx(n,e){return e().catch(t=>Of(n,t,e))}async function vp(n){const e=Ve(n),t=Hs(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Sy;for(;fF(e);)try{const r=await GV(e.localStore,i);if(r===null){e.Ia.length===0&&t.k_();break}i=r.batchId,pF(e,r)}catch(r){await Of(e,r)}Tx(e)&&bx(e)}function fF(n){return ra(n)&&n.Ia.length<10}function pF(n,e){n.Ia.push(e);const t=Hs(n);t.N_()&&t.ea&&t.ta(e.mutations)}function Tx(n){return ra(n)&&!Hs(n).O_()&&n.Ia.length>0}function bx(n){Hs(n).start()}async function mF(n){Hs(n).ia()}async function gF(n){const e=Hs(n);for(const t of n.Ia)e.ta(t.mutations)}async function _F(n,e,t){const i=n.Ia.shift(),r=Py.from(i,e,t);await wx(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await vp(n)}async function yF(n,e){e&&Hs(n).ea&&await async function(i,r){if(function(a){return eV(a)&&a!==se.ABORTED}(r.code)){const s=i.Ia.shift();Hs(i).L_(),await wx(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await vp(i)}}(n,e),Tx(n)&&bx(n)}async function IT(n,e){const t=Ve(n);t.asyncQueue.verifyOperationInProgress(),me(Go,"RemoteStore received new credentials");const i=ra(t);t.da.add(3),await Hu(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await yp(t)}async function vF(n,e){const t=Ve(n);e?(t.da.delete(2),await yp(t)):e||(t.da.add(2),await Hu(t),t.Va.set("Unknown"))}function zl(n){return n.fa||(n.fa=function(t,i,r){const s=Ve(t);return s.oa(),new iF(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{e_:cF.bind(null,n),n_:uF.bind(null,n),i_:hF.bind(null,n),Y_:dF.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),Uy(n)?jy(n):n.Va.set("Unknown")):(await n.fa.stop(),Ex(n))})),n.fa}function Hs(n){return n.ga||(n.ga=function(t,i,r){const s=Ve(t);return s.oa(),new rF(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:mF.bind(null,n),i_:yF.bind(null,n),na:gF.bind(null,n),ra:_F.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await vp(n)):(await n.ga.stop(),n.Ia.length>0&&(me(Go,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){const a=Date.now()+i,c=new zy(e,t,a,r,s);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function By(n,e){if(Wr("AsyncQueue",`${e}: ${n}`),Ul(n))return new ke(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{static emptySet(e){return new dl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Re.comparator(t.key,i.key):(t,i)=>Re.comparator(t.key,i.key),this.keyedMap=Zc(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new dl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this.pa=new ft(Re.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Oe(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class bl{constructor(e,t,i,r,s,a,c,u,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,r,s){const a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new bl(e,t,dl.emptySet(t),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class wF{constructor(){this.queries=xT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const r=Ve(t),s=r.queries;r.queries=xT(),s.forEach((a,c)=>{for(const u of c.Sa)u.onError(i)})})(this,new ke(se.ABORTED,"Firestore shutting down"))}}function xT(){return new ia(n=>BA(n),dp)}async function TF(n,e){const t=Ve(n);let i=3;const r=e.query;let s=t.queries.get(r);s?!s.Da()&&e.va()&&(i=2):(s=new EF,i=e.va()?0:1);try{switch(i){case 0:s.ba=await t.onListen(r,!0);break;case 1:s.ba=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(a){const c=By(a,`Initialization of query '${el(e.query)}' failed`);return void e.onError(c)}t.queries.set(r,s),s.Sa.push(e),e.Fa(t.onlineState),s.ba&&e.Ma(s.ba)&&Hy(t)}async function bF(n,e){const t=Ve(n),i=e.query;let r=3;const s=t.queries.get(i);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?r=e.va()?0:1:!s.Da()&&e.va()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function SF(n,e){const t=Ve(n);let i=!1;for(const r of e){const s=r.query,a=t.queries.get(s);if(a){for(const c of a.Sa)c.Ma(r)&&(i=!0);a.ba=r}}i&&Hy(t)}function IF(n,e,t){const i=Ve(n),r=i.queries.get(e);if(r)for(const s of r.Sa)s.onError(t);i.queries.delete(e)}function Hy(n){n.Ca.forEach(e=>{e.next()})}var P_,CT;(CT=P_||(P_={})).xa="default",CT.Cache="cache";class AF{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new bl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==P_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.key=e}}class Ix{constructor(e){this.key=e}}class xF{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.Za=HA(e),this.Xa=new dl(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new AT,r=t?t.Xa:this.Xa;let s=t?t.mutatedKeys:this.mutatedKeys,a=r,c=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((m,_)=>{const v=r.get(m),w=fp(this.query,_)?_:null,b=!!v&&this.mutatedKeys.has(v.key),I=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let A=!1;v&&w?v.data.isEqual(w.data)?b!==I&&(i.track({type:3,doc:w}),A=!0):this.ru(v,w)||(i.track({type:2,doc:w}),A=!0,(u&&this.Za(w,u)>0||d&&this.Za(w,d)<0)&&(c=!0)):!v&&w?(i.track({type:0,doc:w}),A=!0):v&&!w&&(i.track({type:1,doc:v}),A=!0,(u||d)&&(c=!0)),A&&(w?(a=a.add(w),s=I?s.add(m):s.delete(m)):(a=a.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),s=s.delete(m.key),i.track({type:1,doc:m})}return{Xa:a,nu:i,Cs:c,mutatedKeys:s}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const a=e.nu.wa();a.sort((m,_)=>function(w,b){const I=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Vt:A})}};return I(w)-I(b)}(m.type,_.type)||this.Za(m.doc,_.doc)),this.iu(i),r=r!=null&&r;const c=t&&!r?this.su():[],u=this.Ya.size===0&&this.current&&!r?1:0,d=u!==this.Ja;return this.Ja=u,a.length!==0||d?{snapshot:new bl(this.query,e.Xa,s,a,e.mutatedKeys,u===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new AT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new Ix(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new Sx(i))}),t}au(e){this.Ha=e.$s,this.Ya=Ue();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return bl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Wy="SyncEngine";class CF{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class kF{constructor(e){this.key=e,this.cu=!1}}class RF{constructor(e,t,i,r,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new ia(c=>BA(c),dp),this.Pu=new Map,this.Tu=new Set,this.Iu=new ft(Re.comparator),this.Eu=new Map,this.du=new Dy,this.Au={},this.Ru=new Map,this.Vu=Tl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function PF(n,e,t=!0){const i=Px(n);let r;const s=i.hu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.uu()):r=await Ax(i,e,t,!0),r}async function OF(n,e){const t=Px(n);await Ax(t,e,!0,!1)}async function Ax(n,e,t,i){const r=await YV(n.localStore,nr(e)),s=r.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t);let c;return i&&(c=await NF(n,e,s,a==="current",r.resumeToken)),n.isPrimaryClient&&t&&yx(n.remoteStore,r),c}async function NF(n,e,t,i,r){n.fu=(_,v,w)=>async function(I,A,R,L){let j=A.view.tu(R);j.Cs&&(j=await ET(I.localStore,A.query,!1).then(({documents:P})=>A.view.tu(P,j)));const U=L&&L.targetChanges.get(A.targetId),q=L&&L.targetMismatches.get(A.targetId)!=null,G=A.view.applyChanges(j,I.isPrimaryClient,U,q);return RT(I,A.targetId,G.ou),G.snapshot}(n,_,v,w);const s=await ET(n.localStore,e,!0),a=new xF(e,s.$s),c=a.tu(s.documents),u=Bu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),d=a.applyChanges(c,n.isPrimaryClient,u);RT(n,t,d.ou);const m=new CF(e,t,a);return n.hu.set(e,m),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),d.snapshot}async function DF(n,e,t){const i=Ve(n),r=i.hu.get(e),s=i.Pu.get(r.targetId);if(s.length>1)return i.Pu.set(r.targetId,s.filter(a=>!dp(a,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await k_(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&Fy(i.remoteStore,r.targetId),O_(i,r.targetId)}).catch(jl)):(O_(i,r.targetId),await k_(i.localStore,r.targetId,!0))}async function MF(n,e){const t=Ve(n),i=t.hu.get(e),r=t.Pu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Fy(t.remoteStore,i.targetId))}async function LF(n,e,t){const i=BF(n);try{const r=await function(a,c){const u=Ve(a),d=Nt.now(),m=c.reduce((w,b)=>w.add(b.key),Ue());let _,v;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let b=Kr(),I=Ue();return u.Bs.getEntries(w,m).next(A=>{b=A,b.forEach((R,L)=>{L.isValidDocument()||(I=I.add(R))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,b)).next(A=>{_=A;const R=[];for(const L of c){const j=YL(L,_.get(L.key).overlayedDocument);j!=null&&R.push(new Zs(L.key,j,LA(j.value.mapValue),ir.exists(!0)))}return u.mutationQueue.addMutationBatch(w,d,R,c)}).next(A=>{v=A;const R=A.applyToLocalDocumentSet(_,I);return u.documentOverlayCache.saveOverlays(w,A.batchId,R)})}).then(()=>({batchId:v.batchId,changes:KA(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,c,u){let d=a.Au[a.currentUser.toKey()];d||(d=new ft(Fe)),d=d.insert(c,u),a.Au[a.currentUser.toKey()]=d}(i,r.batchId,t),await Wu(i,r.changes),await vp(i.remoteStore)}catch(r){const s=By(r,"Failed to persist write");t.reject(s)}}async function xx(n,e){const t=Ve(n);try{const i=await KV(t.localStore,e);e.targetChanges.forEach((r,s)=>{const a=t.Eu.get(s);a&&(Je(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.cu=!0:r.modifiedDocuments.size>0?Je(a.cu,14607):r.removedDocuments.size>0&&(Je(a.cu,42227),a.cu=!1))}),await Wu(t,i,e)}catch(i){await jl(i)}}function kT(n,e,t){const i=Ve(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.hu.forEach((s,a)=>{const c=a.view.Fa(e);c.snapshot&&r.push(c.snapshot)}),function(a,c){const u=Ve(a);u.onlineState=c;let d=!1;u.queries.forEach((m,_)=>{for(const v of _.Sa)v.Fa(c)&&(d=!0)}),d&&Hy(u)}(i.eventManager,e),r.length&&i.lu.Y_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function VF(n,e,t){const i=Ve(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Eu.get(e),s=r&&r.key;if(s){let a=new ft(Re.comparator);a=a.insert(s,rn.newNoDocument(s,Me.min()));const c=Ue().add(s),u=new gp(Me.min(),new Map,new ft(Fe),a,c);await xx(i,u),i.Iu=i.Iu.remove(s),i.Eu.delete(e),Ky(i)}else await k_(i.localStore,e,!1).then(()=>O_(i,e,t)).catch(jl)}async function FF(n,e){const t=Ve(n),i=e.batch.batchId;try{const r=await WV(t.localStore,e);kx(t,i,null),Cx(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Wu(t,r)}catch(r){await jl(r)}}async function $F(n,e,t){const i=Ve(n);try{const r=await function(a,c){const u=Ve(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let m;return u.mutationQueue.lookupMutationBatch(d,c).next(_=>(Je(_!==null,37113),m=_.keys(),u.mutationQueue.removeMutationBatch(d,_))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,m,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m)).next(()=>u.localDocuments.getDocuments(d,m))})}(i.localStore,e);kx(i,e,t),Cx(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Wu(i,r)}catch(r){await jl(r)}}function Cx(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function kx(n,e,t){const i=Ve(n);let r=i.Au[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Au[i.currentUser.toKey()]=r}}function O_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||Rx(n,i)})}function Rx(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(Fy(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),Ky(n))}function RT(n,e,t){for(const i of t)i instanceof Sx?(n.du.addReference(i.key,e),jF(n,i)):i instanceof Ix?(me(Wy,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||Rx(n,i.key)):Oe(19791,{pu:i})}function jF(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(me(Wy,"New document in limbo: "+t),n.Tu.add(i),Ky(n))}function Ky(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Re(_t.fromString(e)),i=n.Vu.next();n.Eu.set(i,new kF(t)),n.Iu=n.Iu.insert(t,i),yx(n.remoteStore,new Rs(nr(ky(t.path)),i,"TargetPurposeLimboResolution",lp.le))}}async function Wu(n,e,t){const i=Ve(n),r=[],s=[],a=[];i.hu.isEmpty()||(i.hu.forEach((c,u)=>{a.push(i.fu(u,e,t).then(d=>{var m;if((d||t)&&i.isPrimaryClient){const _=d?!d.fromCache:(m=t==null?void 0:t.targetChanges.get(u.targetId))===null||m===void 0?void 0:m.current;i.sharedClientState.updateQueryState(u.targetId,_?"current":"not-current")}if(d){r.push(d);const _=Ly.Rs(u.targetId,d);s.push(_)}}))}),await Promise.all(a),i.lu.Y_(r),await async function(u,d){const m=Ve(u);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Z.forEach(d,v=>Z.forEach(v.ds,w=>m.persistence.referenceDelegate.addReference(_,v.targetId,w)).next(()=>Z.forEach(v.As,w=>m.persistence.referenceDelegate.removeReference(_,v.targetId,w)))))}catch(_){if(!Ul(_))throw _;me(Vy,"Failed to update sequence numbers: "+_)}for(const _ of d){const v=_.targetId;if(!_.fromCache){const w=m.xs.get(v),b=w.snapshotVersion,I=w.withLastLimboFreeSnapshotVersion(b);m.xs=m.xs.insert(v,I)}}}(i.localStore,s))}async function UF(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){me(Wy,"User change. New user:",e.toKey());const i=await px(t.localStore,e);t.currentUser=e,function(s,a){s.Ru.forEach(c=>{c.forEach(u=>{u.reject(new ke(se.CANCELLED,a))})}),s.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Wu(t,i.ks)}}function zF(n,e){const t=Ve(n),i=t.Eu.get(e);if(i&&i.cu)return Ue().add(i.key);{let r=Ue();const s=t.Pu.get(e);if(!s)return r;for(const a of s){const c=t.hu.get(a);r=r.unionWith(c.view.eu)}return r}}function Px(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VF.bind(null,e),e.lu.Y_=SF.bind(null,e.eventManager),e.lu.gu=IF.bind(null,e.eventManager),e}function BF(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$F.bind(null,e),e}class Nf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_p(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return HV(this.persistence,new UV,e.initialUser,this.serializer)}Su(e){return new fx(My.fi,this.serializer)}bu(e){return new XV}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nf.provider={build:()=>new Nf};class HF extends Nf{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Je(this.persistence.referenceDelegate instanceof Pf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new AV(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new fx(i=>Pf.fi(i,t),this.serializer)}}class N_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>kT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=UF.bind(null,this.syncEngine),await vF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wF}()}createDatastore(e){const t=_p(e.databaseInfo.databaseId),i=function(s){return new nF(s)}(e.databaseInfo);return function(s,a,c,u){return new oF(s,a,c,u)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,s,a,c){return new lF(i,r,s,a,c)}(this.localStore,this.datastore,e.asyncQueue,t=>kT(this.syncEngine,t,0),function(){return bT.C()?new bT:new JV}())}createSyncEngine(e,t){return function(r,s,a,c,u,d,m){const _=new RF(r,s,a,c,u,d);return m&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(r){const s=Ve(r);me(Go,"RemoteStore shutting down."),s.da.add(5),await Hu(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}N_.provider={build:()=>new N_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="FirestoreClient";class KF{constructor(e,t,i,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=nn.UNAUTHENTICATED,this.clientId=AA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{me(Ws,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(me(Ws,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=By(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Rg(n,e){n.asyncQueue.verifyOperationInProgress(),me(Ws,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await px(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function PT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await qF(n);me(Ws,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>IT(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>IT(e.remoteStore,r)),n._onlineComponents=e}async function qF(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me(Ws,"Using user provided OfflineComponentProvider");try{await Rg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(r){return r.name==="FirebaseError"?r.code===se.FAILED_PRECONDITION||r.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;_l("Error using user provided cache. Falling back to memory cache: "+t),await Rg(n,new Nf)}}else me(Ws,"Using default OfflineComponentProvider"),await Rg(n,new HF(void 0));return n._offlineComponents}async function Ox(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me(Ws,"Using user provided OnlineComponentProvider"),await PT(n,n._uninitializedComponentsProvider._online)):(me(Ws,"Using default OnlineComponentProvider"),await PT(n,new N_))),n._onlineComponents}function GF(n){return Ox(n).then(e=>e.syncEngine)}async function YF(n){const e=await Ox(n),t=e.eventManager;return t.onListen=PF.bind(null,e.syncEngine),t.onUnlisten=DF.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=OF.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=MF.bind(null,e.syncEngine),t}function QF(n,e,t={}){const i=new Vs;return n.asyncQueue.enqueueAndForget(async()=>function(s,a,c,u,d){const m=new WF({next:v=>{m.xu(),a.enqueueAndForget(()=>bF(s,_));const w=v.docs.has(c);!w&&v.fromCache?d.reject(new ke(se.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&u&&u.source==="server"?d.reject(new ke(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),_=new AF(ky(c.path),m,{includeMetadataChanges:!0,Qa:!0});return TF(s,_)}(await YF(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XF(n,e,t){if(!t)throw new ke(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function JF(n,e,t,i){if(e===!0&&i===!0)throw new ke(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function NT(n){if(!Re.isDocumentKey(n))throw new ke(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Oe(12329,{type:typeof n})}function Yo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ke(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qy(n);throw new ke(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="firestore.googleapis.com",DT=!0;class MT{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ke(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Dx,this.ssl=DT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:DT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SV)throw new ke(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nx((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ke(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ke(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ke(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gy{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Z2;switch(i.type){case"firstParty":return new iL(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ke(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=OT.get(t);i&&(me("ComponentProvider","Removing Datastore"),OT.delete(t),i.terminate())}(this),Promise.resolve()}}function ZF(n,e,t,i={}){var r;n=Yo(n,Gy);const s=Lu(e),a=n._getSettings(),c=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;s&&(nI(`https://${u}`),iI("Firestore",!0)),a.host!==Dx&&a.host!==u&&_l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:u,ssl:s,emulatorOptions:i});if(!zr(d,c)&&(n._setSettings(d),i.mockUserToken)){let m,_;if(typeof i.mockUserToken=="string")m=i.mockUserToken,_=nn.MOCK_USER;else{m=BP(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new ke(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new nn(v)}n._authCredentials=new eL(new SA(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Yy(this.firestore,e,this._query)}}class jn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ku(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}}class ku extends Yy{constructor(e,t,i){super(e,t,ky(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new Re(e))}withConverter(e){return new ku(this.firestore,e,this._path)}}function Qy(n,e,...t){if(n=Mt(n),arguments.length===1&&(e=AA.newId()),XF("doc","path",e),n instanceof Gy){const i=_t.fromString(e,...t);return NT(i),new jn(n,null,new Re(i))}{if(!(n instanceof jn||n instanceof ku))throw new ke(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(_t.fromString(e,...t));return NT(i),new jn(n.firestore,n instanceof ku?n.converter:null,new Re(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="AsyncQueue";class VT{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new gx(this,"async_queue_retry"),this.rc=()=>{const i=kg();i&&me(LT,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=kg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=kg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Vs;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Ul(e))throw e;me(LT,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Wr("INTERNAL UNHANDLED ERROR: ",FT(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const r=zy.createAndSchedule(this,e,t,i,s=>this.uc(s));return this.Zu.push(r),r}oc(){this.Xu&&Oe(47125,{cc:FT(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function FT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ep extends Gy{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new VT,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VT(e),this._firestoreClient=void 0,await e}}}function Mx(n,e){const t=typeof n=="object"?n:ly(),i=typeof n=="string"?n:Sf,r=ta(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=UP("firestore");s&&ZF(r,...s)}return r}function Lx(n){if(n._terminated)throw new ke(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||e4(n),n._firestoreClient}function e4(n){var e,t,i;const r=n._freezeSettings(),s=function(c,u,d,m){return new yL(c,u,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Nx(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new KF(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sl(Qt.fromBase64String(e))}catch(t){throw new ke(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sl(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ke(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ke(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ke(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=/^__.*__$/;class n4{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Zs(e,this.data,this.fieldMask,t,this.fieldTransforms):new zu(e,this.data,t,this.fieldTransforms)}}class Vx{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Zs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Fx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ic:n})}}class bp{constructor(e,t,i,r,s,a){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new bp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.dc({path:i,Rc:!1});return r.Vc(e),r}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.dc({path:i,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Df(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Fx(this.Ic)&&t4.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class i4{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||_p(e)}bc(e,t,i,r=!1){return new bp({Ic:e,methodName:t,wc:i,path:Yt.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $x(n){const e=n._freezeSettings(),t=_p(n._databaseId);return new i4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function r4(n,e,t,i,r,s={}){const a=n.bc(s.merge||s.mergeFields?2:0,e,t,r);ev("Data must be an object, but it was:",a,i);const c=jx(i,a);let u,d;if(s.merge)u=new Fn(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const m=[];for(const _ of s.mergeFields){const v=D_(e,_,t);if(!a.contains(v))throw new ke(se.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);zx(m,v)||m.push(v)}u=new Fn(m),d=a.fieldTransforms.filter(_=>u.covers(_.field))}else u=null,d=a.fieldTransforms;return new n4(new In(c),u,d)}class Sp extends Tp{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sp}}function s4(n,e,t){return new bp({Ic:3,wc:e.settings.wc,methodName:n._methodName,Rc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Zy extends Tp{constructor(e,t){super(e),this.Sc=t}_toFieldTransform(e){const t=s4(this,e,!0),i=this.Sc.map(s=>Ku(s,t)),r=new wl(i);return new WL(e.path,r)}isEqual(e){return e instanceof Zy&&zr(this.Sc,e.Sc)}}function o4(n,e,t,i){const r=n.bc(1,e,t);ev("Data must be an object, but it was:",r,i);const s=[],a=In.empty();Js(i,(u,d)=>{const m=tv(e,u,t);d=Mt(d);const _=r.mc(m);if(d instanceof Sp)s.push(m);else{const v=Ku(d,_);v!=null&&(s.push(m),a.set(m,v))}});const c=new Fn(s);return new Vx(a,c,r.fieldTransforms)}function a4(n,e,t,i,r,s){const a=n.bc(1,e,t),c=[D_(e,i,t)],u=[r];if(s.length%2!=0)throw new ke(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)c.push(D_(e,s[v])),u.push(s[v+1]);const d=[],m=In.empty();for(let v=c.length-1;v>=0;--v)if(!zx(d,c[v])){const w=c[v];let b=u[v];b=Mt(b);const I=a.mc(w);if(b instanceof Sp)d.push(w);else{const A=Ku(b,I);A!=null&&(d.push(w),m.set(w,A))}}const _=new Fn(d);return new Vx(m,_,a.fieldTransforms)}function Ku(n,e){if(Ux(n=Mt(n)))return ev("Unsupported field value:",e,n),jx(n,e);if(n instanceof Tp)return function(i,r){if(!Fx(r.Ic))throw r.gc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const c of i){let u=Ku(c,r.fc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=Mt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return zL(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Nt.fromDate(i);return{timestampValue:Rf(r.serializer,s)}}if(i instanceof Nt){const s=new Nt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Rf(r.serializer,s)}}if(i instanceof Xy)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Sl)return{bytesValue:sx(r.serializer,i._byteString)};if(i instanceof jn){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ny(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Jy)return function(a,c){return{mapValue:{fields:{[DA]:{stringValue:MA},[If]:{arrayValue:{values:a.toArray().map(d=>{if(typeof d!="number")throw c.gc("VectorValues must only contain numeric values.");return Ry(c.serializer,d)})}}}}}}(i,r);throw r.gc(`Unsupported field value: ${qy(i)}`)}(n,e)}function jx(n,e){const t={};return CA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(n,(i,r)=>{const s=Ku(r,e.Ac(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function Ux(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Nt||n instanceof Xy||n instanceof Sl||n instanceof jn||n instanceof Tp||n instanceof Jy)}function ev(n,e,t){if(!Ux(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){const i=qy(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function D_(n,e,t){if((e=Mt(e))instanceof wp)return e._internalPath;if(typeof e=="string")return tv(n,e);throw Df("Field path arguments must be of type string or ",n,!1,void 0,t)}const l4=new RegExp("[~\\*/\\[\\]]");function tv(n,e,t){if(e.search(l4)>=0)throw Df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wp(...e.split("."))._internalPath}catch{throw Df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Df(n,e,t,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new ke(se.INVALID_ARGUMENT,c+n+u)}function zx(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new c4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Hx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class c4 extends Bx{data(){return super.data()}}function Hx(n,e){return typeof e=="string"?tv(n,e):e instanceof wp?e._internalPath:e._delegate._internalPath}class u4{convertValue(e,t="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Js(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertVectorValue(e){var t,i,r;const s=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[If].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>wt(a.doubleValue));return new Jy(s)}convertGeoPoint(e){return new Xy(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=up(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Iu(e));default:return null}}convertTimestamp(e){const t=Us(e);return new Nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=_t.fromString(e);Je(hx(i),9688,{name:e});const r=new Au(i.get(1),i.get(3)),s=new Re(i.popFirst(5));return r.isEqual(t)||Wr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wx extends Bx{constructor(e,t,i,r,s,a){super(e,t,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new f4(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Hx("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class f4 extends Wx{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(n){n=Yo(n,jn);const e=Yo(n.firestore,Ep);return QF(Lx(e),n._key).then(t=>_4(e,n,t))}class p4 extends u4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,t)}}function m4(n,e,t){n=Yo(n,jn);const i=Yo(n.firestore,Ep),r=h4(n.converter,e);return qx(i,[r4($x(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,ir.none())])}function g4(n,e,t,...i){n=Yo(n,jn);const r=Yo(n.firestore,Ep),s=$x(r);let a;return a=typeof(e=Mt(e))=="string"||e instanceof wp?a4(s,"updateDoc",n._key,e,t,i):o4(s,"updateDoc",n._key,e),qx(r,[a.toMutation(n._key,ir.exists(!0))])}function qx(n,e){return function(i,r){const s=new Vs;return i.asyncQueue.enqueueAndForget(async()=>LF(await GF(i),r,s)),s.promise}(Lx(n),e)}function _4(n,e,t){const i=t.docs.get(e._key),r=new p4(n);return new Wx(n,r,e._key,i,new d4(t.hasPendingWrites,t.fromCache),e.converter)}function y4(...n){return new Zy("arrayUnion",n)}(function(e,t=!0){(function(r){$l=r})(Vl),ar(new ki("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),c=new Ep(new tL(i.getProvider("auth-internal")),new rL(a,i.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ke(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(d.options.projectId,m)}(a,r),a);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),ii(Hw,Ww,e),ii(Hw,Ww,"esm2017")})();const v4={apiKey:"AIzaSyAm40NnY5ft7ZJKSJEQQrQhGtXuuggn2j4",authDomain:"medtest-5eb10.firebaseapp.com",projectId:"medtest-5eb10",storageBucket:"medtest-5eb10.firebasestorage.app",messagingSenderId:"976951571415",appId:"1:976951571415:web:0d9a16e90af1073e755192",measurementId:"G-ZCDW1L7X89"},nv=uI(v4);Y2(nv);const Il=RM(nv),Gx=Mx(nv);var Yx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$T=Lr.createContext&&Lr.createContext(Yx),E4=["attr","size","title"];function w4(n,e){if(n==null)return{};var t=T4(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function T4(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Mf(){return Mf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Mf.apply(this,arguments)}function jT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Lf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jT(Object(t),!0).forEach(function(i){b4(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function b4(n,e,t){return e=S4(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function S4(n){var e=I4(n,"string");return typeof e=="symbol"?e:e+""}function I4(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Qx(n){return n&&n.map((e,t)=>Lr.createElement(e.tag,Lf({key:t},e.attr),Qx(e.child)))}function Bl(n){return e=>Lr.createElement(A4,Mf({attr:Lf({},n.attr)},e),Qx(n.child))}function A4(n){var e=t=>{var{attr:i,size:r,title:s}=n,a=w4(n,E4),c=r||t.size||"1em",u;return t.className&&(u=t.className),n.className&&(u=(u?u+" ":"")+n.className),Lr.createElement("svg",Mf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,a,{className:u,style:Lf(Lf({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&Lr.createElement("title",null,s),n.children)};return $T!==void 0?Lr.createElement($T.Consumer,null,t=>e(t)):e(Yx)}function x4(n){return Bl({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(n)}function C4(){const[n,e]=W.useState(""),[t,i]=W.useState(""),[r,s]=W.useState(""),[a,c]=W.useState(""),[u,d]=W.useState(""),m=Zf();W.useEffect(()=>{const w=VI(Il,b=>{b&&m("/test",{replace:!0})});return()=>w()},[m]);const _=()=>{let w=!0;c(""),d("");const b=/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/;return n.trim()?b.test(n)||(c("Neplatný formát emailu."),w=!1):(c("Email je povinný."),w=!1),t?t.length<6&&(d("Heslo musí mať aspoň 6 znakov."),w=!1):(d("Heslo je povinné."),w=!1),w},v=async w=>{if(w.preventDefault(),s(""),!!_())try{const b=await mD(Il,n,t);s("Prihlásenie bolo úspešné."),m("/test",{replace:!0})}catch(b){b.code==="auth/wrong-password"||b.code==="auth/user-not-found"||b.code==="auth/invalid-credential"?s("Neplatné prihlasovacie údaje!"):b.code==="auth/too-many-requests"?s("Príliš veľa pokusov. Skúste to znova neskôr."):s("Chyba pri prihlasovaní: "+b.message)}};return Y.jsxs("div",{className:"container-fluid d-flex justify-content-center align-items-center vh-100 pageBG",children:[Y.jsx("div",{children:Y.jsx("img",{src:"/medTest/logoMED.svg",alt:"logoMED",className:"logoIMG2",height:100})}),Y.jsx("div",{className:"card shadow-sm w-100 formCard",style:{maxWidth:"400px"},children:Y.jsxs("div",{className:"card-body text-light",children:[Y.jsx("h3",{className:"card-title text-center fw-bold mb-4",children:"Prihlásenie"}),r&&Y.jsx("div",{className:"alert alert-info",children:r}),Y.jsxs("form",{onSubmit:v,noValidate:!0,children:[Y.jsxs("div",{className:"mb-3",children:[Y.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),Y.jsx("input",{type:"email",className:`form-control ${a?"is-invalid":""}`,id:"email",value:n,onChange:w=>e(w.target.value),required:!0}),a&&Y.jsx("div",{className:"invalid-feedback",children:a})]}),Y.jsxs("div",{className:"mb-3",children:[Y.jsx("label",{htmlFor:"password",className:"form-label",children:"Heslo"}),Y.jsx("input",{type:"password",className:`form-control ${u?"is-invalid":""}`,id:"password",value:t,onChange:w=>i(w.target.value),required:!0}),u&&Y.jsx("div",{className:"invalid-feedback",children:u})]}),Y.jsxs("button",{type:"submit",className:"btn btn-secondary w-100",children:[Y.jsx(x4,{})," Prihlásiť sa"]})]}),Y.jsxs("div",{className:"mt-3 text-center",children:[Y.jsx("small",{className:"text-secondary p-2",children:" Chcem sa zaregistrovať:"}),Y.jsx(wu,{to:"/register",className:"link-warning",children:"Zaregistruj sa!"})]})]})})]})}function k4(n){return Bl({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"},child:[]}]})(n)}function R4(n){return Bl({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function P4(){const[n,e]=W.useState(""),[t,i]=W.useState(""),[r,s]=W.useState(""),[a,c]=W.useState(""),[u,d]=W.useState(""),[m,_]=W.useState(!1),[v,w]=W.useState(""),[b,I]=W.useState(""),[A,R]=W.useState(""),[L,j]=W.useState(""),U=()=>{let G=!0;w(""),I(""),R(""),j("");const P=/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/;return n.trim()?P.test(n)||(w("Neplatný formát emailu."),G=!1):(w("Email je povinný."),G=!1),t.trim()||(I("Meno je povinné."),G=!1),r?r.length<6&&(R("Heslo musí mať aspoň 6 znakov."),G=!1):(R("Heslo je povinné."),G=!1),a?r!==a&&(j("Heslá sa nezhodujú."),G=!1):(j("Potvrďte heslo."),G=!1),G},q=async G=>{if(G.preventDefault(),d(""),!!U())try{const P=Qy(Gx,"whitelistEmails",n);if(!(await Kx(P)).exists()){d("Tento e-mail nie je povolený na registráciu.");return}const N=(await pD(Il,n,r)).user;await _D(N,{displayName:t}),d("Registrácia bola úspešná, môžeš sa prihlásiť !"),document.getElementById("regForm").style.display="none",_(!0),await FI(Il)}catch(P){P.code==="auth/email-already-in-use"?d("Zadaný email už je registrovaný !"):P.code==="auth/invalid-email"?d("Neplatný formát emailu."):P.code==="auth/weak-password"?d("Heslo je príliš slabé."):d("Chyba pri registrácii: "+P.message)}};return Y.jsxs("div",{className:"container-fluid d-flex justify-content-center align-items-center vh-100 pageBG",children:[Y.jsx("div",{children:Y.jsx("img",{src:"/medTest/logoMED.svg",alt:"logoMED",className:"logoIMG2",height:100})}),Y.jsx("div",{className:"card shadow-sm w-100 formCard text-light",style:{maxWidth:"400px"},children:Y.jsxs("div",{className:"card-body",children:[Y.jsx("h3",{className:"card-title text-center mb-4 fw-bold",children:"Registrácia"}),u&&Y.jsx("div",{className:"alert alert-info",children:u}),Y.jsxs("form",{onSubmit:q,id:"regForm",noValidate:!0,children:[Y.jsxs("div",{className:"mb-3",children:[Y.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),Y.jsx("input",{type:"email",className:`form-control ${v?"is-invalid":""}`,id:"email",value:n,onChange:G=>e(G.target.value),required:!0}),v&&Y.jsx("div",{className:"invalid-feedback",children:v})]}),Y.jsxs("div",{className:"mb-3",children:[Y.jsx("label",{htmlFor:"userName",className:"form-label",children:"Meno"}),Y.jsx("input",{type:"text",className:`form-control ${b?"is-invalid":""}`,id:"userName",value:t,onChange:G=>i(G.target.value),required:!0}),b&&Y.jsx("div",{className:"invalid-feedback",children:b})]}),Y.jsxs("div",{className:"mb-3",children:[Y.jsx("label",{htmlFor:"password",className:"form-label",children:"Heslo"}),Y.jsx("input",{type:"password",className:`form-control ${A?"is-invalid":""}`,id:"password",value:r,onChange:G=>s(G.target.value),required:!0}),A&&Y.jsx("div",{className:"invalid-feedback",children:A})]}),Y.jsxs("div",{className:"mb-3",children:[Y.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Zopakuj heslo"}),Y.jsx("input",{type:"password",className:`form-control ${L?"is-invalid":""}`,id:"confirmPassword",value:a,onChange:G=>c(G.target.value),required:!0}),L&&Y.jsx("div",{className:"invalid-feedback",children:L})]}),Y.jsxs("button",{type:"submit",className:"btn btn-secondary w-100",children:[Y.jsx(R4,{})," Registrovať sa"]})]}),Y.jsx(wu,{to:"/",className:`${m?"d-block":"d-none"}`,children:Y.jsx("button",{className:"btn btn-secondary w-100",children:"Prejsť na prihlásenie"})}),Y.jsxs("div",{className:"mt-3 text-center",children:[Y.jsx("small",{className:"p-2 text-secondary",children:"Už mám účet:"}),Y.jsx(wu,{to:"/",className:"link-warning",children:"Prihlásiť sa!"})]})]})})]})}var hn="top",Un="bottom",zn="right",dn="left",Ip="auto",Hl=[hn,Un,zn,dn],Qo="start",Al="end",Xx="clippingParents",iv="viewport",il="popper",Jx="reference",M_=Hl.reduce(function(n,e){return n.concat([e+"-"+Qo,e+"-"+Al])},[]),rv=[].concat(Hl,[Ip]).reduce(function(n,e){return n.concat([e,e+"-"+Qo,e+"-"+Al])},[]),Zx="beforeRead",eC="read",tC="afterRead",nC="beforeMain",iC="main",rC="afterMain",sC="beforeWrite",oC="write",aC="afterWrite",lC=[Zx,eC,tC,nC,iC,rC,sC,oC,aC];function ur(n){return n?(n.nodeName||"").toLowerCase():null}function Bn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Xo(n){var e=Bn(n).Element;return n instanceof e||n instanceof Element}function ri(n){var e=Bn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function sv(n){if(typeof ShadowRoot>"u")return!1;var e=Bn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function O4(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},s=e.elements[t];!ri(s)||!ur(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(a){var c=r[a];c===!1?s.removeAttribute(a):s.setAttribute(a,c===!0?"":c)}))})}function N4(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},a=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),c=a.reduce(function(u,d){return u[d]="",u},{});!ri(r)||!ur(r)||(Object.assign(r.style,c),Object.keys(s).forEach(function(u){r.removeAttribute(u)}))})}}const ov={name:"applyStyles",enabled:!0,phase:"write",fn:O4,effect:N4,requires:["computeStyles"]};function sr(n){return n.split("-")[0]}var Uo=Math.max,Vf=Math.min,xl=Math.round;function L_(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function cC(){return!/^((?!chrome|android).)*safari/i.test(L_())}function Cl(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),r=1,s=1;e&&ri(n)&&(r=n.offsetWidth>0&&xl(i.width)/n.offsetWidth||1,s=n.offsetHeight>0&&xl(i.height)/n.offsetHeight||1);var a=Xo(n)?Bn(n):window,c=a.visualViewport,u=!cC()&&t,d=(i.left+(u&&c?c.offsetLeft:0))/r,m=(i.top+(u&&c?c.offsetTop:0))/s,_=i.width/r,v=i.height/s;return{width:_,height:v,top:m,right:d+_,bottom:m+v,left:d,x:d,y:m}}function av(n){var e=Cl(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function uC(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&sv(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function qr(n){return Bn(n).getComputedStyle(n)}function D4(n){return["table","td","th"].indexOf(ur(n))>=0}function eo(n){return((Xo(n)?n.ownerDocument:n.document)||window.document).documentElement}function Ap(n){return ur(n)==="html"?n:n.assignedSlot||n.parentNode||(sv(n)?n.host:null)||eo(n)}function UT(n){return!ri(n)||qr(n).position==="fixed"?null:n.offsetParent}function M4(n){var e=/firefox/i.test(L_()),t=/Trident/i.test(L_());if(t&&ri(n)){var i=qr(n);if(i.position==="fixed")return null}var r=Ap(n);for(sv(r)&&(r=r.host);ri(r)&&["html","body"].indexOf(ur(r))<0;){var s=qr(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function qu(n){for(var e=Bn(n),t=UT(n);t&&D4(t)&&qr(t).position==="static";)t=UT(t);return t&&(ur(t)==="html"||ur(t)==="body"&&qr(t).position==="static")?e:t||M4(n)||e}function lv(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function du(n,e,t){return Uo(n,Vf(e,t))}function L4(n,e,t){var i=du(n,e,t);return i>t?t:i}function hC(){return{top:0,right:0,bottom:0,left:0}}function dC(n){return Object.assign({},hC(),n)}function fC(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var V4=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,dC(typeof e!="number"?e:fC(e,Hl))};function F4(n){var e,t=n.state,i=n.name,r=n.options,s=t.elements.arrow,a=t.modifiersData.popperOffsets,c=sr(t.placement),u=lv(c),d=[dn,zn].indexOf(c)>=0,m=d?"height":"width";if(!(!s||!a)){var _=V4(r.padding,t),v=av(s),w=u==="y"?hn:dn,b=u==="y"?Un:zn,I=t.rects.reference[m]+t.rects.reference[u]-a[u]-t.rects.popper[m],A=a[u]-t.rects.reference[u],R=qu(s),L=R?u==="y"?R.clientHeight||0:R.clientWidth||0:0,j=I/2-A/2,U=_[w],q=L-v[m]-_[b],G=L/2-v[m]/2+j,P=du(U,G,q),x=u;t.modifiersData[i]=(e={},e[x]=P,e.centerOffset=P-G,e)}}function $4(n){var e=n.state,t=n.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||uC(e.elements.popper,r)&&(e.elements.arrow=r))}const pC={name:"arrow",enabled:!0,phase:"main",fn:F4,effect:$4,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function kl(n){return n.split("-")[1]}var j4={top:"auto",right:"auto",bottom:"auto",left:"auto"};function U4(n,e){var t=n.x,i=n.y,r=e.devicePixelRatio||1;return{x:xl(t*r)/r||0,y:xl(i*r)/r||0}}function zT(n){var e,t=n.popper,i=n.popperRect,r=n.placement,s=n.variation,a=n.offsets,c=n.position,u=n.gpuAcceleration,d=n.adaptive,m=n.roundOffsets,_=n.isFixed,v=a.x,w=v===void 0?0:v,b=a.y,I=b===void 0?0:b,A=typeof m=="function"?m({x:w,y:I}):{x:w,y:I};w=A.x,I=A.y;var R=a.hasOwnProperty("x"),L=a.hasOwnProperty("y"),j=dn,U=hn,q=window;if(d){var G=qu(t),P="clientHeight",x="clientWidth";if(G===Bn(t)&&(G=eo(t),qr(G).position!=="static"&&c==="absolute"&&(P="scrollHeight",x="scrollWidth")),G=G,r===hn||(r===dn||r===zn)&&s===Al){U=Un;var k=_&&G===q&&q.visualViewport?q.visualViewport.height:G[P];I-=k-i.height,I*=u?1:-1}if(r===dn||(r===hn||r===Un)&&s===Al){j=zn;var N=_&&G===q&&q.visualViewport?q.visualViewport.width:G[x];w-=N-i.width,w*=u?1:-1}}var M=Object.assign({position:c},d&&j4),V=m===!0?U4({x:w,y:I},Bn(t)):{x:w,y:I};if(w=V.x,I=V.y,u){var O;return Object.assign({},M,(O={},O[U]=L?"0":"",O[j]=R?"0":"",O.transform=(q.devicePixelRatio||1)<=1?"translate("+w+"px, "+I+"px)":"translate3d("+w+"px, "+I+"px, 0)",O))}return Object.assign({},M,(e={},e[U]=L?I+"px":"",e[j]=R?w+"px":"",e.transform="",e))}function z4(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=i===void 0?!0:i,s=t.adaptive,a=s===void 0?!0:s,c=t.roundOffsets,u=c===void 0?!0:c,d={placement:sr(e.placement),variation:kl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,zT(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,zT(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const cv={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:z4,data:{}};var wd={passive:!0};function B4(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,s=r===void 0?!0:r,a=i.resize,c=a===void 0?!0:a,u=Bn(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&d.forEach(function(m){m.addEventListener("scroll",t.update,wd)}),c&&u.addEventListener("resize",t.update,wd),function(){s&&d.forEach(function(m){m.removeEventListener("scroll",t.update,wd)}),c&&u.removeEventListener("resize",t.update,wd)}}const uv={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:B4,data:{}};var H4={left:"right",right:"left",bottom:"top",top:"bottom"};function rf(n){return n.replace(/left|right|bottom|top/g,function(e){return H4[e]})}var W4={start:"end",end:"start"};function BT(n){return n.replace(/start|end/g,function(e){return W4[e]})}function hv(n){var e=Bn(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function dv(n){return Cl(eo(n)).left+hv(n).scrollLeft}function K4(n,e){var t=Bn(n),i=eo(n),r=t.visualViewport,s=i.clientWidth,a=i.clientHeight,c=0,u=0;if(r){s=r.width,a=r.height;var d=cC();(d||!d&&e==="fixed")&&(c=r.offsetLeft,u=r.offsetTop)}return{width:s,height:a,x:c+dv(n),y:u}}function q4(n){var e,t=eo(n),i=hv(n),r=(e=n.ownerDocument)==null?void 0:e.body,s=Uo(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Uo(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),c=-i.scrollLeft+dv(n),u=-i.scrollTop;return qr(r||t).direction==="rtl"&&(c+=Uo(t.clientWidth,r?r.clientWidth:0)-s),{width:s,height:a,x:c,y:u}}function fv(n){var e=qr(n),t=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function mC(n){return["html","body","#document"].indexOf(ur(n))>=0?n.ownerDocument.body:ri(n)&&fv(n)?n:mC(Ap(n))}function fu(n,e){var t;e===void 0&&(e=[]);var i=mC(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),s=Bn(i),a=r?[s].concat(s.visualViewport||[],fv(i)?i:[]):i,c=e.concat(a);return r?c:c.concat(fu(Ap(a)))}function V_(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function G4(n,e){var t=Cl(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function HT(n,e,t){return e===iv?V_(K4(n,t)):Xo(e)?G4(e,t):V_(q4(eo(n)))}function Y4(n){var e=fu(Ap(n)),t=["absolute","fixed"].indexOf(qr(n).position)>=0,i=t&&ri(n)?qu(n):n;return Xo(i)?e.filter(function(r){return Xo(r)&&uC(r,i)&&ur(r)!=="body"}):[]}function Q4(n,e,t,i){var r=e==="clippingParents"?Y4(n):[].concat(e),s=[].concat(r,[t]),a=s[0],c=s.reduce(function(u,d){var m=HT(n,d,i);return u.top=Uo(m.top,u.top),u.right=Vf(m.right,u.right),u.bottom=Vf(m.bottom,u.bottom),u.left=Uo(m.left,u.left),u},HT(n,a,i));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function gC(n){var e=n.reference,t=n.element,i=n.placement,r=i?sr(i):null,s=i?kl(i):null,a=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,u;switch(r){case hn:u={x:a,y:e.y-t.height};break;case Un:u={x:a,y:e.y+e.height};break;case zn:u={x:e.x+e.width,y:c};break;case dn:u={x:e.x-t.width,y:c};break;default:u={x:e.x,y:e.y}}var d=r?lv(r):null;if(d!=null){var m=d==="y"?"height":"width";switch(s){case Qo:u[d]=u[d]-(e[m]/2-t[m]/2);break;case Al:u[d]=u[d]+(e[m]/2-t[m]/2);break}}return u}function Rl(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=i===void 0?n.placement:i,s=t.strategy,a=s===void 0?n.strategy:s,c=t.boundary,u=c===void 0?Xx:c,d=t.rootBoundary,m=d===void 0?iv:d,_=t.elementContext,v=_===void 0?il:_,w=t.altBoundary,b=w===void 0?!1:w,I=t.padding,A=I===void 0?0:I,R=dC(typeof A!="number"?A:fC(A,Hl)),L=v===il?Jx:il,j=n.rects.popper,U=n.elements[b?L:v],q=Q4(Xo(U)?U:U.contextElement||eo(n.elements.popper),u,m,a),G=Cl(n.elements.reference),P=gC({reference:G,element:j,placement:r}),x=V_(Object.assign({},j,P)),k=v===il?x:G,N={top:q.top-k.top+R.top,bottom:k.bottom-q.bottom+R.bottom,left:q.left-k.left+R.left,right:k.right-q.right+R.right},M=n.modifiersData.offset;if(v===il&&M){var V=M[r];Object.keys(N).forEach(function(O){var De=[zn,Un].indexOf(O)>=0?1:-1,Se=[hn,Un].indexOf(O)>=0?"y":"x";N[O]+=V[Se]*De})}return N}function X4(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=t.boundary,s=t.rootBoundary,a=t.padding,c=t.flipVariations,u=t.allowedAutoPlacements,d=u===void 0?rv:u,m=kl(i),_=m?c?M_:M_.filter(function(b){return kl(b)===m}):Hl,v=_.filter(function(b){return d.indexOf(b)>=0});v.length===0&&(v=_);var w=v.reduce(function(b,I){return b[I]=Rl(n,{placement:I,boundary:r,rootBoundary:s,padding:a})[sr(I)],b},{});return Object.keys(w).sort(function(b,I){return w[b]-w[I]})}function J4(n){if(sr(n)===Ip)return[];var e=rf(n);return[BT(n),e,BT(e)]}function Z4(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,s=r===void 0?!0:r,a=t.altAxis,c=a===void 0?!0:a,u=t.fallbackPlacements,d=t.padding,m=t.boundary,_=t.rootBoundary,v=t.altBoundary,w=t.flipVariations,b=w===void 0?!0:w,I=t.allowedAutoPlacements,A=e.options.placement,R=sr(A),L=R===A,j=u||(L||!b?[rf(A)]:J4(A)),U=[A].concat(j).reduce(function(oe,de){return oe.concat(sr(de)===Ip?X4(e,{placement:de,boundary:m,rootBoundary:_,padding:d,flipVariations:b,allowedAutoPlacements:I}):de)},[]),q=e.rects.reference,G=e.rects.popper,P=new Map,x=!0,k=U[0],N=0;N<U.length;N++){var M=U[N],V=sr(M),O=kl(M)===Qo,De=[hn,Un].indexOf(V)>=0,Se=De?"width":"height",we=Rl(e,{placement:M,boundary:m,rootBoundary:_,altBoundary:v,padding:d}),_e=De?O?zn:dn:O?Un:hn;q[Se]>G[Se]&&(_e=rf(_e));var ie=rf(_e),ue=[];if(s&&ue.push(we[V]<=0),c&&ue.push(we[_e]<=0,we[ie]<=0),ue.every(function(oe){return oe})){k=M,x=!1;break}P.set(M,ue)}if(x)for(var le=b?3:1,z=function(de){var he=U.find(function(Te){var Ae=P.get(Te);if(Ae)return Ae.slice(0,de).every(function(Le){return Le})});if(he)return k=he,"break"},J=le;J>0;J--){var fe=z(J);if(fe==="break")break}e.placement!==k&&(e.modifiersData[i]._skip=!0,e.placement=k,e.reset=!0)}}const _C={name:"flip",enabled:!0,phase:"main",fn:Z4,requiresIfExists:["offset"],data:{_skip:!1}};function WT(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function KT(n){return[hn,zn,Un,dn].some(function(e){return n[e]>=0})}function e6(n){var e=n.state,t=n.name,i=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,a=Rl(e,{elementContext:"reference"}),c=Rl(e,{altBoundary:!0}),u=WT(a,i),d=WT(c,r,s),m=KT(u),_=KT(d);e.modifiersData[t]={referenceClippingOffsets:u,popperEscapeOffsets:d,isReferenceHidden:m,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":_})}const yC={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:e6};function t6(n,e,t){var i=sr(n),r=[dn,hn].indexOf(i)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,a=s[0],c=s[1];return a=a||0,c=(c||0)*r,[dn,zn].indexOf(i)>=0?{x:c,y:a}:{x:a,y:c}}function n6(n){var e=n.state,t=n.options,i=n.name,r=t.offset,s=r===void 0?[0,0]:r,a=rv.reduce(function(m,_){return m[_]=t6(_,e.rects,s),m},{}),c=a[e.placement],u=c.x,d=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=d),e.modifiersData[i]=a}const vC={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:n6};function i6(n){var e=n.state,t=n.name;e.modifiersData[t]=gC({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const pv={name:"popperOffsets",enabled:!0,phase:"read",fn:i6,data:{}};function r6(n){return n==="x"?"y":"x"}function s6(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,s=r===void 0?!0:r,a=t.altAxis,c=a===void 0?!1:a,u=t.boundary,d=t.rootBoundary,m=t.altBoundary,_=t.padding,v=t.tether,w=v===void 0?!0:v,b=t.tetherOffset,I=b===void 0?0:b,A=Rl(e,{boundary:u,rootBoundary:d,padding:_,altBoundary:m}),R=sr(e.placement),L=kl(e.placement),j=!L,U=lv(R),q=r6(U),G=e.modifiersData.popperOffsets,P=e.rects.reference,x=e.rects.popper,k=typeof I=="function"?I(Object.assign({},e.rects,{placement:e.placement})):I,N=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(G){if(s){var O,De=U==="y"?hn:dn,Se=U==="y"?Un:zn,we=U==="y"?"height":"width",_e=G[U],ie=_e+A[De],ue=_e-A[Se],le=w?-x[we]/2:0,z=L===Qo?P[we]:x[we],J=L===Qo?-x[we]:-P[we],fe=e.elements.arrow,oe=w&&fe?av(fe):{width:0,height:0},de=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:hC(),he=de[De],Te=de[Se],Ae=du(0,P[we],oe[we]),Le=j?P[we]/2-le-Ae-he-N.mainAxis:z-Ae-he-N.mainAxis,Be=j?-P[we]/2+le+Ae+Te+N.mainAxis:J+Ae+Te+N.mainAxis,Lt=e.elements.arrow&&qu(e.elements.arrow),zt=Lt?U==="y"?Lt.clientTop||0:Lt.clientLeft||0:0,Bt=(O=M==null?void 0:M[U])!=null?O:0,ui=_e+Le-Bt-zt,Di=_e+Be-Bt,Mi=du(w?Vf(ie,ui):ie,_e,w?Uo(ue,Di):ue);G[U]=Mi,V[U]=Mi-_e}if(c){var hi,Qr=U==="x"?hn:dn,Li=U==="x"?Un:zn,At=G[q],fn=q==="y"?"height":"width",Xr=At+A[Qr],fr=At-A[Li],Vi=[hn,dn].indexOf(R)!==-1,Jr=(hi=M==null?void 0:M[q])!=null?hi:0,pt=Vi?Xr:At-P[fn]-x[fn]-Jr+N.altAxis,mt=Vi?At+P[fn]+x[fn]-Jr-N.altAxis:fr,Hn=w&&Vi?L4(pt,At,mt):du(w?pt:Xr,At,w?mt:fr);G[q]=Hn,V[q]=Hn-At}e.modifiersData[i]=V}}const EC={name:"preventOverflow",enabled:!0,phase:"main",fn:s6,requiresIfExists:["offset"]};function o6(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function a6(n){return n===Bn(n)||!ri(n)?hv(n):o6(n)}function l6(n){var e=n.getBoundingClientRect(),t=xl(e.width)/n.offsetWidth||1,i=xl(e.height)/n.offsetHeight||1;return t!==1||i!==1}function c6(n,e,t){t===void 0&&(t=!1);var i=ri(e),r=ri(e)&&l6(e),s=eo(e),a=Cl(n,r,t),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(i||!i&&!t)&&((ur(e)!=="body"||fv(s))&&(c=a6(e)),ri(e)?(u=Cl(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):s&&(u.x=dv(s))),{x:a.left+c.scrollLeft-u.x,y:a.top+c.scrollTop-u.y,width:a.width,height:a.height}}function u6(n){var e=new Map,t=new Set,i=[];n.forEach(function(s){e.set(s.name,s)});function r(s){t.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(c){if(!t.has(c)){var u=e.get(c);u&&r(u)}}),i.push(s)}return n.forEach(function(s){t.has(s.name)||r(s)}),i}function h6(n){var e=u6(n);return lC.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}function d6(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function f6(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var qT={placement:"bottom",modifiers:[],strategy:"absolute"};function GT(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function xp(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,r=e.defaultOptions,s=r===void 0?qT:r;return function(c,u,d){d===void 0&&(d=s);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},qT,s),modifiersData:{},elements:{reference:c,popper:u},attributes:{},styles:{}},_=[],v=!1,w={state:m,setOptions:function(R){var L=typeof R=="function"?R(m.options):R;I(),m.options=Object.assign({},s,m.options,L),m.scrollParents={reference:Xo(c)?fu(c):c.contextElement?fu(c.contextElement):[],popper:fu(u)};var j=h6(f6([].concat(i,m.options.modifiers)));return m.orderedModifiers=j.filter(function(U){return U.enabled}),b(),w.update()},forceUpdate:function(){if(!v){var R=m.elements,L=R.reference,j=R.popper;if(GT(L,j)){m.rects={reference:c6(L,qu(j),m.options.strategy==="fixed"),popper:av(j)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(N){return m.modifiersData[N.name]=Object.assign({},N.data)});for(var U=0;U<m.orderedModifiers.length;U++){if(m.reset===!0){m.reset=!1,U=-1;continue}var q=m.orderedModifiers[U],G=q.fn,P=q.options,x=P===void 0?{}:P,k=q.name;typeof G=="function"&&(m=G({state:m,options:x,name:k,instance:w})||m)}}}},update:d6(function(){return new Promise(function(A){w.forceUpdate(),A(m)})}),destroy:function(){I(),v=!0}};if(!GT(c,u))return w;w.setOptions(d).then(function(A){!v&&d.onFirstUpdate&&d.onFirstUpdate(A)});function b(){m.orderedModifiers.forEach(function(A){var R=A.name,L=A.options,j=L===void 0?{}:L,U=A.effect;if(typeof U=="function"){var q=U({state:m,name:R,instance:w,options:j}),G=function(){};_.push(q||G)}})}function I(){_.forEach(function(A){return A()}),_=[]}return w}}var p6=xp(),m6=[uv,pv,cv,ov],g6=xp({defaultModifiers:m6}),_6=[uv,pv,cv,ov,vC,_C,EC,pC,yC],mv=xp({defaultModifiers:_6});const wC=Object.freeze(Object.defineProperty({__proto__:null,afterMain:rC,afterRead:tC,afterWrite:aC,applyStyles:ov,arrow:pC,auto:Ip,basePlacements:Hl,beforeMain:nC,beforeRead:Zx,beforeWrite:sC,bottom:Un,clippingParents:Xx,computeStyles:cv,createPopper:mv,createPopperBase:p6,createPopperLite:g6,detectOverflow:Rl,end:Al,eventListeners:uv,flip:_C,hide:yC,left:dn,main:iC,modifierPhases:lC,offset:vC,placements:rv,popper:il,popperGenerator:xp,popperOffsets:pv,preventOverflow:EC,read:eC,reference:Jx,right:zn,start:Qo,top:hn,variationPlacements:M_,viewport:iv,write:oC},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Ss=new Map,Pg={set(n,e,t){Ss.has(n)||Ss.set(n,new Map);const i=Ss.get(n);if(!i.has(e)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(e,t)},get(n,e){return Ss.has(n)&&Ss.get(n).get(e)||null},remove(n,e){if(!Ss.has(n))return;const t=Ss.get(n);t.delete(e),t.size===0&&Ss.delete(n)}},y6=1e6,v6=1e3,F_="transitionend",TC=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),E6=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),w6=n=>{do n+=Math.floor(Math.random()*y6);while(document.getElementById(n));return n},T6=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const i=Number.parseFloat(e),r=Number.parseFloat(t);return!i&&!r?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*v6)},bC=n=>{n.dispatchEvent(new Event(F_))},$r=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),Ks=n=>$r(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(TC(n)):null,Wl=n=>{if(!$r(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const i=n.closest("summary");if(i&&i.parentNode!==t||i===null)return!1}return e},qs=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",SC=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?SC(n.parentNode):null},Ff=()=>{},Gu=n=>{n.offsetHeight},IC=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Og=[],b6=n=>{document.readyState==="loading"?(Og.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Og)e()}),Og.push(n)):n()},si=()=>document.documentElement.dir==="rtl",ci=n=>{b6(()=>{const e=IC();if(e){const t=n.NAME,i=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=i,n.jQueryInterface)}})},An=(n,e=[],t=n)=>typeof n=="function"?n(...e):t,AC=(n,e,t=!0)=>{if(!t){An(n);return}const r=T6(e)+5;let s=!1;const a=({target:c})=>{c===e&&(s=!0,e.removeEventListener(F_,a),An(n))};e.addEventListener(F_,a),setTimeout(()=>{s||bC(e)},r)},gv=(n,e,t,i)=>{const r=n.length;let s=n.indexOf(e);return s===-1?!t&&i?n[r-1]:n[0]:(s+=t?1:-1,i&&(s=(s+r)%r),n[Math.max(0,Math.min(s,r-1))])},S6=/[^.]*(?=\..*)\.|.*/,I6=/\..*/,A6=/::\d+$/,Ng={};let YT=1;const xC={mouseenter:"mouseover",mouseleave:"mouseout"},x6=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function CC(n,e){return e&&`${e}::${YT++}`||n.uidEvent||YT++}function kC(n){const e=CC(n);return n.uidEvent=e,Ng[e]=Ng[e]||{},Ng[e]}function C6(n,e){return function t(i){return _v(i,{delegateTarget:n}),t.oneOff&&ne.off(n,i.type,e),e.apply(n,[i])}}function k6(n,e,t){return function i(r){const s=n.querySelectorAll(e);for(let{target:a}=r;a&&a!==this;a=a.parentNode)for(const c of s)if(c===a)return _v(r,{delegateTarget:a}),i.oneOff&&ne.off(n,r.type,e,t),t.apply(a,[r])}}function RC(n,e,t=null){return Object.values(n).find(i=>i.callable===e&&i.delegationSelector===t)}function PC(n,e,t){const i=typeof e=="string",r=i?t:e||t;let s=OC(n);return x6.has(s)||(s=n),[i,r,s]}function QT(n,e,t,i,r){if(typeof e!="string"||!n)return;let[s,a,c]=PC(e,t,i);e in xC&&(a=(b=>function(I){if(!I.relatedTarget||I.relatedTarget!==I.delegateTarget&&!I.delegateTarget.contains(I.relatedTarget))return b.call(this,I)})(a));const u=kC(n),d=u[c]||(u[c]={}),m=RC(d,a,s?t:null);if(m){m.oneOff=m.oneOff&&r;return}const _=CC(a,e.replace(S6,"")),v=s?k6(n,t,a):C6(n,a);v.delegationSelector=s?t:null,v.callable=a,v.oneOff=r,v.uidEvent=_,d[_]=v,n.addEventListener(c,v,s)}function $_(n,e,t,i,r){const s=RC(e[t],i,r);s&&(n.removeEventListener(t,s,!!r),delete e[t][s.uidEvent])}function R6(n,e,t,i){const r=e[t]||{};for(const[s,a]of Object.entries(r))s.includes(i)&&$_(n,e,t,a.callable,a.delegationSelector)}function OC(n){return n=n.replace(I6,""),xC[n]||n}const ne={on(n,e,t,i){QT(n,e,t,i,!1)},one(n,e,t,i){QT(n,e,t,i,!0)},off(n,e,t,i){if(typeof e!="string"||!n)return;const[r,s,a]=PC(e,t,i),c=a!==e,u=kC(n),d=u[a]||{},m=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(d).length)return;$_(n,u,a,s,r?t:null);return}if(m)for(const _ of Object.keys(u))R6(n,u,_,e.slice(1));for(const[_,v]of Object.entries(d)){const w=_.replace(A6,"");(!c||e.includes(w))&&$_(n,u,a,v.callable,v.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const i=IC(),r=OC(e),s=e!==r;let a=null,c=!0,u=!0,d=!1;s&&i&&(a=i.Event(e,t),i(n).trigger(a),c=!a.isPropagationStopped(),u=!a.isImmediatePropagationStopped(),d=a.isDefaultPrevented());const m=_v(new Event(e,{bubbles:c,cancelable:!0}),t);return d&&m.preventDefault(),u&&n.dispatchEvent(m),m.defaultPrevented&&a&&a.preventDefault(),m}};function _v(n,e={}){for(const[t,i]of Object.entries(e))try{n[t]=i}catch{Object.defineProperty(n,t,{configurable:!0,get(){return i}})}return n}function XT(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function Dg(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const jr={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${Dg(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${Dg(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of t){let r=i.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=XT(n.dataset[i])}return e},getDataAttribute(n,e){return XT(n.getAttribute(`data-bs-${Dg(e)}`))}};let Yu=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const i=$r(t)?jr.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof i=="object"?i:{},...$r(t)?jr.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[i,r]of Object.entries(t)){const s=e[i],a=$r(s)?"element":E6(s);if(!new RegExp(r).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${a}" but expected type "${r}".`)}}};const P6="5.3.3";class Ni extends Yu{constructor(e,t){super(),e=Ks(e),e&&(this._element=e,this._config=this._getConfig(t),Pg.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Pg.remove(this._element,this.constructor.DATA_KEY),ne.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){AC(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Pg.get(Ks(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return P6}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Mg=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>TC(t)).join(","):null},Ie={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let i=n.parentNode.closest(e);for(;i;)t.push(i),i=i.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!qs(t)&&Wl(t))},getSelectorFromElement(n){const e=Mg(n);return e&&Ie.findOne(e)?e:null},getElementFromSelector(n){const e=Mg(n);return e?Ie.findOne(e):null},getMultipleElementsFromSelector(n){const e=Mg(n);return e?Ie.find(e):[]}},Cp=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,i=n.NAME;ne.on(document,t,`[data-bs-dismiss="${i}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),qs(this))return;const s=Ie.getElementFromSelector(this)||this.closest(`.${i}`);n.getOrCreateInstance(s)[e]()})},O6="alert",N6="bs.alert",NC=`.${N6}`,D6=`close${NC}`,M6=`closed${NC}`,L6="fade",V6="show";class kp extends Ni{static get NAME(){return O6}close(){if(ne.trigger(this._element,D6).defaultPrevented)return;this._element.classList.remove(V6);const t=this._element.classList.contains(L6);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),ne.trigger(this._element,M6),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=kp.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Cp(kp,"close");ci(kp);const F6="button",$6="bs.button",j6=`.${$6}`,U6=".data-api",z6="active",JT='[data-bs-toggle="button"]',B6=`click${j6}${U6}`;class Rp extends Ni{static get NAME(){return F6}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(z6))}static jQueryInterface(e){return this.each(function(){const t=Rp.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}ne.on(document,B6,JT,n=>{n.preventDefault();const e=n.target.closest(JT);Rp.getOrCreateInstance(e).toggle()});ci(Rp);const H6="swipe",Kl=".bs.swipe",W6=`touchstart${Kl}`,K6=`touchmove${Kl}`,q6=`touchend${Kl}`,G6=`pointerdown${Kl}`,Y6=`pointerup${Kl}`,Q6="touch",X6="pen",J6="pointer-event",Z6=40,e3={endCallback:null,leftCallback:null,rightCallback:null},t3={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class $f extends Yu{constructor(e,t){super(),this._element=e,!(!e||!$f.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return e3}static get DefaultType(){return t3}static get NAME(){return H6}dispose(){ne.off(this._element,Kl)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),An(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=Z6)return;const t=e/this._deltaX;this._deltaX=0,t&&An(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ne.on(this._element,G6,e=>this._start(e)),ne.on(this._element,Y6,e=>this._end(e)),this._element.classList.add(J6)):(ne.on(this._element,W6,e=>this._start(e)),ne.on(this._element,K6,e=>this._move(e)),ne.on(this._element,q6,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===X6||e.pointerType===Q6)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const n3="carousel",i3="bs.carousel",to=`.${i3}`,DC=".data-api",r3="ArrowLeft",s3="ArrowRight",o3=500,zc="next",Ya="prev",rl="left",sf="right",a3=`slide${to}`,Lg=`slid${to}`,l3=`keydown${to}`,c3=`mouseenter${to}`,u3=`mouseleave${to}`,h3=`dragstart${to}`,d3=`load${to}${DC}`,f3=`click${to}${DC}`,MC="carousel",Td="active",p3="slide",m3="carousel-item-end",g3="carousel-item-start",_3="carousel-item-next",y3="carousel-item-prev",LC=".active",VC=".carousel-item",v3=LC+VC,E3=".carousel-item img",w3=".carousel-indicators",T3="[data-bs-slide], [data-bs-slide-to]",b3='[data-bs-ride="carousel"]',S3={[r3]:sf,[s3]:rl},I3={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},A3={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Qu extends Ni{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ie.findOne(w3,this._element),this._addEventListeners(),this._config.ride===MC&&this.cycle()}static get Default(){return I3}static get DefaultType(){return A3}static get NAME(){return n3}next(){this._slide(zc)}nextWhenVisible(){!document.hidden&&Wl(this._element)&&this.next()}prev(){this._slide(Ya)}pause(){this._isSliding&&bC(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){ne.one(this._element,Lg,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){ne.one(this._element,Lg,()=>this.to(e));return}const i=this._getItemIndex(this._getActive());if(i===e)return;const r=e>i?zc:Ya;this._slide(r,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&ne.on(this._element,l3,e=>this._keydown(e)),this._config.pause==="hover"&&(ne.on(this._element,c3,()=>this.pause()),ne.on(this._element,u3,()=>this._maybeEnableCycle())),this._config.touch&&$f.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of Ie.find(E3,this._element))ne.on(i,h3,r=>r.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(rl)),rightCallback:()=>this._slide(this._directionToOrder(sf)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),o3+this._config.interval))}};this._swipeHelper=new $f(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=S3[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=Ie.findOne(LC,this._indicatorsElement);t.classList.remove(Td),t.removeAttribute("aria-current");const i=Ie.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(Td),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const i=this._getActive(),r=e===zc,s=t||gv(this._getItems(),i,r,this._config.wrap);if(s===i)return;const a=this._getItemIndex(s),c=w=>ne.trigger(this._element,w,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:a});if(c(a3).defaultPrevented||!i||!s)return;const d=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=s;const m=r?g3:m3,_=r?_3:y3;s.classList.add(_),Gu(s),i.classList.add(m),s.classList.add(m);const v=()=>{s.classList.remove(m,_),s.classList.add(Td),i.classList.remove(Td,_,m),this._isSliding=!1,c(Lg)};this._queueCallback(v,i,this._isAnimated()),d&&this.cycle()}_isAnimated(){return this._element.classList.contains(p3)}_getActive(){return Ie.findOne(v3,this._element)}_getItems(){return Ie.find(VC,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return si()?e===rl?Ya:zc:e===rl?zc:Ya}_orderToDirection(e){return si()?e===Ya?rl:sf:e===Ya?sf:rl}static jQueryInterface(e){return this.each(function(){const t=Qu.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ne.on(document,f3,T3,function(n){const e=Ie.getElementFromSelector(this);if(!e||!e.classList.contains(MC))return;n.preventDefault();const t=Qu.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");if(i){t.to(i),t._maybeEnableCycle();return}if(jr.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});ne.on(window,d3,()=>{const n=Ie.find(b3);for(const e of n)Qu.getOrCreateInstance(e)});ci(Qu);const x3="collapse",C3="bs.collapse",Xu=`.${C3}`,k3=".data-api",R3=`show${Xu}`,P3=`shown${Xu}`,O3=`hide${Xu}`,N3=`hidden${Xu}`,D3=`click${Xu}${k3}`,Vg="show",al="collapse",bd="collapsing",M3="collapsed",L3=`:scope .${al} .${al}`,V3="collapse-horizontal",F3="width",$3="height",j3=".collapse.show, .collapse.collapsing",j_='[data-bs-toggle="collapse"]',U3={parent:null,toggle:!0},z3={parent:"(null|element)",toggle:"boolean"};class Ru extends Ni{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const i=Ie.find(j_);for(const r of i){const s=Ie.getSelectorFromElement(r),a=Ie.find(s).filter(c=>c===this._element);s!==null&&a.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return U3}static get DefaultType(){return z3}static get NAME(){return x3}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(j3).filter(c=>c!==this._element).map(c=>Ru.getOrCreateInstance(c,{toggle:!1}))),e.length&&e[0]._isTransitioning||ne.trigger(this._element,R3).defaultPrevented)return;for(const c of e)c.hide();const i=this._getDimension();this._element.classList.remove(al),this._element.classList.add(bd),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(bd),this._element.classList.add(al,Vg),this._element.style[i]="",ne.trigger(this._element,P3)},a=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[i]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||ne.trigger(this._element,O3).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Gu(this._element),this._element.classList.add(bd),this._element.classList.remove(al,Vg);for(const r of this._triggerArray){const s=Ie.getElementFromSelector(r);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(bd),this._element.classList.add(al),ne.trigger(this._element,N3)};this._element.style[t]="",this._queueCallback(i,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Vg)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Ks(e.parent),e}_getDimension(){return this._element.classList.contains(V3)?F3:$3}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(j_);for(const t of e){const i=Ie.getElementFromSelector(t);i&&this._addAriaAndCollapsedClass([t],this._isShown(i))}}_getFirstLevelChildren(e){const t=Ie.find(L3,this._config.parent);return Ie.find(e,this._config.parent).filter(i=>!t.includes(i))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const i of e)i.classList.toggle(M3,!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const i=Ru.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}ne.on(document,D3,j_,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const e of Ie.getMultipleElementsFromSelector(this))Ru.getOrCreateInstance(e,{toggle:!1}).toggle()});ci(Ru);const ZT="dropdown",B3="bs.dropdown",sa=`.${B3}`,yv=".data-api",H3="Escape",eb="Tab",W3="ArrowUp",tb="ArrowDown",K3=2,q3=`hide${sa}`,G3=`hidden${sa}`,Y3=`show${sa}`,Q3=`shown${sa}`,FC=`click${sa}${yv}`,$C=`keydown${sa}${yv}`,X3=`keyup${sa}${yv}`,sl="show",J3="dropup",Z3="dropend",e$="dropstart",t$="dropup-center",n$="dropdown-center",Fo='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',i$=`${Fo}.${sl}`,of=".dropdown-menu",r$=".navbar",s$=".navbar-nav",o$=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",a$=si()?"top-end":"top-start",l$=si()?"top-start":"top-end",c$=si()?"bottom-end":"bottom-start",u$=si()?"bottom-start":"bottom-end",h$=si()?"left-start":"right-start",d$=si()?"right-start":"left-start",f$="top",p$="bottom",m$={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},g$={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class or extends Ni{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=Ie.next(this._element,of)[0]||Ie.prev(this._element,of)[0]||Ie.findOne(of,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return m$}static get DefaultType(){return g$}static get NAME(){return ZT}toggle(){return this._isShown()?this.hide():this.show()}show(){if(qs(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!ne.trigger(this._element,Y3,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(s$))for(const i of[].concat(...document.body.children))ne.on(i,"mouseover",Ff);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(sl),this._element.classList.add(sl),ne.trigger(this._element,Q3,e)}}hide(){if(qs(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!ne.trigger(this._element,q3,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))ne.off(i,"mouseover",Ff);this._popper&&this._popper.destroy(),this._menu.classList.remove(sl),this._element.classList.remove(sl),this._element.setAttribute("aria-expanded","false"),jr.removeDataAttribute(this._menu,"popper"),ne.trigger(this._element,G3,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!$r(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${ZT.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof wC>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:$r(this._config.reference)?e=Ks(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=mv(e,this._menu,t)}_isShown(){return this._menu.classList.contains(sl)}_getPlacement(){const e=this._parent;if(e.classList.contains(Z3))return h$;if(e.classList.contains(e$))return d$;if(e.classList.contains(t$))return f$;if(e.classList.contains(n$))return p$;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(J3)?t?l$:a$:t?u$:c$}_detectNavbar(){return this._element.closest(r$)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(jr.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...An(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const i=Ie.find(o$,this._menu).filter(r=>Wl(r));i.length&&gv(i,t,e===tb,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=or.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===K3||e.type==="keyup"&&e.key!==eb)return;const t=Ie.find(i$);for(const i of t){const r=or.getInstance(i);if(!r||r._config.autoClose===!1)continue;const s=e.composedPath(),a=s.includes(r._menu);if(s.includes(r._element)||r._config.autoClose==="inside"&&!a||r._config.autoClose==="outside"&&a||r._menu.contains(e.target)&&(e.type==="keyup"&&e.key===eb||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const c={relatedTarget:r._element};e.type==="click"&&(c.clickEvent=e),r._completeHide(c)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),i=e.key===H3,r=[W3,tb].includes(e.key);if(!r&&!i||t&&!i)return;e.preventDefault();const s=this.matches(Fo)?this:Ie.prev(this,Fo)[0]||Ie.next(this,Fo)[0]||Ie.findOne(Fo,e.delegateTarget.parentNode),a=or.getOrCreateInstance(s);if(r){e.stopPropagation(),a.show(),a._selectMenuItem(e);return}a._isShown()&&(e.stopPropagation(),a.hide(),s.focus())}}ne.on(document,$C,Fo,or.dataApiKeydownHandler);ne.on(document,$C,of,or.dataApiKeydownHandler);ne.on(document,FC,or.clearMenus);ne.on(document,X3,or.clearMenus);ne.on(document,FC,Fo,function(n){n.preventDefault(),or.getOrCreateInstance(this).toggle()});ci(or);const jC="backdrop",_$="fade",nb="show",ib=`mousedown.bs.${jC}`,y$={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},v$={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class UC extends Yu{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return y$}static get DefaultType(){return v$}static get NAME(){return jC}show(e){if(!this._config.isVisible){An(e);return}this._append();const t=this._getElement();this._config.isAnimated&&Gu(t),t.classList.add(nb),this._emulateAnimation(()=>{An(e)})}hide(e){if(!this._config.isVisible){An(e);return}this._getElement().classList.remove(nb),this._emulateAnimation(()=>{this.dispose(),An(e)})}dispose(){this._isAppended&&(ne.off(this._element,ib),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(_$),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Ks(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),ne.on(e,ib,()=>{An(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){AC(e,this._getElement(),this._config.isAnimated)}}const E$="focustrap",w$="bs.focustrap",jf=`.${w$}`,T$=`focusin${jf}`,b$=`keydown.tab${jf}`,S$="Tab",I$="forward",rb="backward",A$={autofocus:!0,trapElement:null},x$={autofocus:"boolean",trapElement:"element"};class zC extends Yu{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return A$}static get DefaultType(){return x$}static get NAME(){return E$}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ne.off(document,jf),ne.on(document,T$,e=>this._handleFocusin(e)),ne.on(document,b$,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ne.off(document,jf))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const i=Ie.focusableChildren(t);i.length===0?t.focus():this._lastTabNavDirection===rb?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){e.key===S$&&(this._lastTabNavDirection=e.shiftKey?rb:I$)}}const sb=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ob=".sticky-top",Sd="padding-right",ab="margin-right";class U_{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Sd,t=>t+e),this._setElementAttributes(sb,Sd,t=>t+e),this._setElementAttributes(ob,ab,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Sd),this._resetElementAttributes(sb,Sd),this._resetElementAttributes(ob,ab)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){const r=this.getWidth(),s=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+r)return;this._saveInitialAttribute(a,t);const c=window.getComputedStyle(a).getPropertyValue(t);a.style.setProperty(t,`${i(Number.parseFloat(c))}px`)};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,t){const i=e.style.getPropertyValue(t);i&&jr.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){const i=r=>{const s=jr.getDataAttribute(r,t);if(s===null){r.style.removeProperty(t);return}jr.removeDataAttribute(r,t),r.style.setProperty(t,s)};this._applyManipulationCallback(e,i)}_applyManipulationCallback(e,t){if($r(e)){t(e);return}for(const i of Ie.find(e,this._element))t(i)}}const C$="modal",k$="bs.modal",oi=`.${k$}`,R$=".data-api",P$="Escape",O$=`hide${oi}`,N$=`hidePrevented${oi}`,BC=`hidden${oi}`,HC=`show${oi}`,D$=`shown${oi}`,M$=`resize${oi}`,L$=`click.dismiss${oi}`,V$=`mousedown.dismiss${oi}`,F$=`keydown.dismiss${oi}`,$$=`click${oi}${R$}`,lb="modal-open",j$="fade",cb="show",Fg="modal-static",U$=".modal.show",z$=".modal-dialog",B$=".modal-body",H$='[data-bs-toggle="modal"]',W$={backdrop:!0,focus:!0,keyboard:!0},K$={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Pl extends Ni{constructor(e,t){super(e,t),this._dialog=Ie.findOne(z$,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new U_,this._addEventListeners()}static get Default(){return W$}static get DefaultType(){return K$}static get NAME(){return C$}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||ne.trigger(this._element,HC,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(lb),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||ne.trigger(this._element,O$).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(cb),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){ne.off(window,oi),ne.off(this._dialog,oi),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new UC({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new zC({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=Ie.findOne(B$,this._dialog);t&&(t.scrollTop=0),Gu(this._element),this._element.classList.add(cb);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ne.trigger(this._element,D$,{relatedTarget:e})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){ne.on(this._element,F$,e=>{if(e.key===P$){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),ne.on(window,M$,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ne.on(this._element,V$,e=>{ne.one(this._element,L$,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(lb),this._resetAdjustments(),this._scrollBar.reset(),ne.trigger(this._element,BC)})}_isAnimated(){return this._element.classList.contains(j$)}_triggerBackdropTransition(){if(ne.trigger(this._element,N$).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(Fg)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Fg),this._queueCallback(()=>{this._element.classList.remove(Fg),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){const r=si()?"paddingLeft":"paddingRight";this._element.style[r]=`${t}px`}if(!i&&e){const r=si()?"paddingRight":"paddingLeft";this._element.style[r]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const i=Pl.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](t)}})}}ne.on(document,$$,H$,function(n){const e=Ie.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),ne.one(e,HC,r=>{r.defaultPrevented||ne.one(e,BC,()=>{Wl(this)&&this.focus()})});const t=Ie.findOne(U$);t&&Pl.getInstance(t).hide(),Pl.getOrCreateInstance(e).toggle(this)});Cp(Pl);ci(Pl);const q$="offcanvas",G$="bs.offcanvas",Yr=`.${G$}`,WC=".data-api",Y$=`load${Yr}${WC}`,Q$="Escape",ub="show",hb="showing",db="hiding",X$="offcanvas-backdrop",KC=".offcanvas.show",J$=`show${Yr}`,Z$=`shown${Yr}`,e5=`hide${Yr}`,fb=`hidePrevented${Yr}`,qC=`hidden${Yr}`,t5=`resize${Yr}`,n5=`click${Yr}${WC}`,i5=`keydown.dismiss${Yr}`,r5='[data-bs-toggle="offcanvas"]',s5={backdrop:!0,keyboard:!0,scroll:!1},o5={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Gs extends Ni{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return s5}static get DefaultType(){return o5}static get NAME(){return q$}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||ne.trigger(this._element,J$,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new U_().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(hb);const i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(ub),this._element.classList.remove(hb),ne.trigger(this._element,Z$,{relatedTarget:e})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||ne.trigger(this._element,e5).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(db),this._backdrop.hide();const t=()=>{this._element.classList.remove(ub,db),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new U_().reset(),ne.trigger(this._element,qC)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){ne.trigger(this._element,fb);return}this.hide()},t=!!this._config.backdrop;return new UC({className:X$,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new zC({trapElement:this._element})}_addEventListeners(){ne.on(this._element,i5,e=>{if(e.key===Q$){if(this._config.keyboard){this.hide();return}ne.trigger(this._element,fb)}})}static jQueryInterface(e){return this.each(function(){const t=Gs.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}ne.on(document,n5,r5,function(n){const e=Ie.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),qs(this))return;ne.one(e,qC,()=>{Wl(this)&&this.focus()});const t=Ie.findOne(KC);t&&t!==e&&Gs.getInstance(t).hide(),Gs.getOrCreateInstance(e).toggle(this)});ne.on(window,Y$,()=>{for(const n of Ie.find(KC))Gs.getOrCreateInstance(n).show()});ne.on(window,t5,()=>{for(const n of Ie.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&Gs.getOrCreateInstance(n).hide()});Cp(Gs);ci(Gs);const a5=/^aria-[\w-]*$/i,GC={"*":["class","dir","id","lang","role",a5],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},l5=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),c5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,u5=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?l5.has(t)?!!c5.test(n.nodeValue):!0:e.filter(i=>i instanceof RegExp).some(i=>i.test(t))};function h5(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const r=new window.DOMParser().parseFromString(n,"text/html"),s=[].concat(...r.body.querySelectorAll("*"));for(const a of s){const c=a.nodeName.toLowerCase();if(!Object.keys(e).includes(c)){a.remove();continue}const u=[].concat(...a.attributes),d=[].concat(e["*"]||[],e[c]||[]);for(const m of u)u5(m,d)||a.removeAttribute(m.nodeName)}return r.body.innerHTML}const d5="TemplateFactory",f5={allowList:GC,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},p5={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},m5={entry:"(string|element|function|null)",selector:"(string|element)"};class g5 extends Yu{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return f5}static get DefaultType(){return p5}static get NAME(){return d5}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[r,s]of Object.entries(this._config.content))this._setContent(e,s,r);const t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},m5)}_setContent(e,t,i){const r=Ie.findOne(i,e);if(r){if(t=this._resolvePossibleFunction(t),!t){r.remove();return}if($r(t)){this._putElementInTemplate(Ks(t),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(t);return}r.textContent=t}}_maybeSanitize(e){return this._config.sanitize?h5(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return An(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const _5="tooltip",y5=new Set(["sanitize","allowList","sanitizeFn"]),$g="fade",v5="modal",Id="show",E5=".tooltip-inner",pb=`.${v5}`,mb="hide.bs.modal",Bc="hover",jg="focus",w5="click",T5="manual",b5="hide",S5="hidden",I5="show",A5="shown",x5="inserted",C5="click",k5="focusin",R5="focusout",P5="mouseenter",O5="mouseleave",N5={AUTO:"auto",TOP:"top",RIGHT:si()?"left":"right",BOTTOM:"bottom",LEFT:si()?"right":"left"},D5={allowList:GC,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},M5={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let Pp=class YC extends Ni{constructor(e,t){if(typeof wC>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return D5}static get DefaultType(){return M5}static get NAME(){return _5}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),ne.off(this._element.closest(pb),mb,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=ne.trigger(this._element,this.constructor.eventName(I5)),i=(SC(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this._disposePopper();const r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(r),ne.trigger(this._element,this.constructor.eventName(x5))),this._popper=this._createPopper(r),r.classList.add(Id),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))ne.on(c,"mouseover",Ff);const a=()=>{ne.trigger(this._element,this.constructor.eventName(A5)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||ne.trigger(this._element,this.constructor.eventName(b5)).defaultPrevented)return;if(this._getTipElement().classList.remove(Id),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))ne.off(r,"mouseover",Ff);this._activeTrigger[w5]=!1,this._activeTrigger[jg]=!1,this._activeTrigger[Bc]=!1,this._isHovered=null;const i=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ne.trigger(this._element,this.constructor.eventName(S5)))};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove($g,Id),t.classList.add(`bs-${this.constructor.NAME}-auto`);const i=w6(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add($g),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new g5({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[E5]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains($g)}_isShown(){return this.tip&&this.tip.classList.contains(Id)}_createPopper(e){const t=An(this._config.placement,[this,e,this._element]),i=N5[t.toUpperCase()];return mv(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return An(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...t,...An(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")ne.on(this._element,this.constructor.eventName(C5),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if(t!==T5){const i=t===Bc?this.constructor.eventName(P5):this.constructor.eventName(k5),r=t===Bc?this.constructor.eventName(O5):this.constructor.eventName(R5);ne.on(this._element,i,this._config.selector,s=>{const a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusin"?jg:Bc]=!0,a._enter()}),ne.on(this._element,r,this._config.selector,s=>{const a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusout"?jg:Bc]=a._element.contains(s.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ne.on(this._element.closest(pb),mb,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=jr.getDataAttributes(this._element);for(const i of Object.keys(t))y5.has(i)&&delete t[i];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Ks(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,i]of Object.entries(this._config))this.constructor.Default[t]!==i&&(e[t]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=YC.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};ci(Pp);const L5="popover",V5=".popover-header",F5=".popover-body",$5={...Pp.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},j5={...Pp.DefaultType,content:"(null|string|element|function)"};class vv extends Pp{static get Default(){return $5}static get DefaultType(){return j5}static get NAME(){return L5}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[V5]:this._getTitle(),[F5]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=vv.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ci(vv);const U5="scrollspy",z5="bs.scrollspy",Ev=`.${z5}`,B5=".data-api",H5=`activate${Ev}`,gb=`click${Ev}`,W5=`load${Ev}${B5}`,K5="dropdown-item",Qa="active",q5='[data-bs-spy="scroll"]',Ug="[href]",G5=".nav, .list-group",_b=".nav-link",Y5=".nav-item",Q5=".list-group-item",X5=`${_b}, ${Y5} > ${_b}, ${Q5}`,J5=".dropdown",Z5=".dropdown-toggle",ej={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},tj={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Op extends Ni{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ej}static get DefaultType(){return tj}static get NAME(){return U5}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Ks(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ne.off(this._config.target,gb),ne.on(this._config.target,gb,Ug,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const i=this._rootElement||window,r=t.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:r,behavior:"smooth"});return}i.scrollTop=r}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=a=>this._targetLinks.get(`#${a.target.id}`),i=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(t(a))},r=(this._rootElement||document.documentElement).scrollTop,s=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const a of e){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(a));continue}const c=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&c){if(i(a),!r)return;continue}!s&&!c&&i(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Ie.find(Ug,this._config.target);for(const t of e){if(!t.hash||qs(t))continue;const i=Ie.findOne(decodeURI(t.hash),this._element);Wl(i)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Qa),this._activateParents(e),ne.trigger(this._element,H5,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(K5)){Ie.findOne(Z5,e.closest(J5)).classList.add(Qa);return}for(const t of Ie.parents(e,G5))for(const i of Ie.prev(t,X5))i.classList.add(Qa)}_clearActiveClass(e){e.classList.remove(Qa);const t=Ie.find(`${Ug}.${Qa}`,e);for(const i of t)i.classList.remove(Qa)}static jQueryInterface(e){return this.each(function(){const t=Op.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ne.on(window,W5,()=>{for(const n of Ie.find(q5))Op.getOrCreateInstance(n)});ci(Op);const nj="tab",ij="bs.tab",oa=`.${ij}`,rj=`hide${oa}`,sj=`hidden${oa}`,oj=`show${oa}`,aj=`shown${oa}`,lj=`click${oa}`,cj=`keydown${oa}`,uj=`load${oa}`,hj="ArrowLeft",yb="ArrowRight",dj="ArrowUp",vb="ArrowDown",zg="Home",Eb="End",$o="active",wb="fade",Bg="show",fj="dropdown",QC=".dropdown-toggle",pj=".dropdown-menu",Hg=`:not(${QC})`,mj='.list-group, .nav, [role="tablist"]',gj=".nav-item, .list-group-item",_j=`.nav-link${Hg}, .list-group-item${Hg}, [role="tab"]${Hg}`,XC='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Wg=`${_j}, ${XC}`,yj=`.${$o}[data-bs-toggle="tab"], .${$o}[data-bs-toggle="pill"], .${$o}[data-bs-toggle="list"]`;class Ol extends Ni{constructor(e){super(e),this._parent=this._element.closest(mj),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ne.on(this._element,cj,t=>this._keydown(t)))}static get NAME(){return nj}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),i=t?ne.trigger(t,rj,{relatedTarget:e}):null;ne.trigger(e,oj,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add($o),this._activate(Ie.getElementFromSelector(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Bg);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),ne.trigger(e,aj,{relatedTarget:t})};this._queueCallback(i,e,e.classList.contains(wb))}_deactivate(e,t){if(!e)return;e.classList.remove($o),e.blur(),this._deactivate(Ie.getElementFromSelector(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Bg);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),ne.trigger(e,sj,{relatedTarget:t})};this._queueCallback(i,e,e.classList.contains(wb))}_keydown(e){if(![hj,yb,dj,vb,zg,Eb].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(r=>!qs(r));let i;if([zg,Eb].includes(e.key))i=t[e.key===zg?0:t.length-1];else{const r=[yb,vb].includes(e.key);i=gv(t,e.target,r,!0)}i&&(i.focus({preventScroll:!0}),Ol.getOrCreateInstance(i).show())}_getChildren(){return Ie.find(Wg,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const i of t)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=Ie.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const i=this._getOuterElement(e);if(!i.classList.contains(fj))return;const r=(s,a)=>{const c=Ie.findOne(s,i);c&&c.classList.toggle(a,t)};r(QC,$o),r(pj,Bg),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains($o)}_getInnerElement(e){return e.matches(Wg)?e:Ie.findOne(Wg,e)}_getOuterElement(e){return e.closest(gj)||e}static jQueryInterface(e){return this.each(function(){const t=Ol.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ne.on(document,lj,XC,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!qs(this)&&Ol.getOrCreateInstance(this).show()});ne.on(window,uj,()=>{for(const n of Ie.find(yj))Ol.getOrCreateInstance(n)});ci(Ol);const vj="toast",Ej="bs.toast",no=`.${Ej}`,wj=`mouseover${no}`,Tj=`mouseout${no}`,bj=`focusin${no}`,Sj=`focusout${no}`,Ij=`hide${no}`,Aj=`hidden${no}`,xj=`show${no}`,Cj=`shown${no}`,kj="fade",Tb="hide",Ad="show",xd="showing",Rj={animation:"boolean",autohide:"boolean",delay:"number"},Pj={animation:!0,autohide:!0,delay:5e3};class Np extends Ni{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Pj}static get DefaultType(){return Rj}static get NAME(){return vj}show(){if(ne.trigger(this._element,xj).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(kj);const t=()=>{this._element.classList.remove(xd),ne.trigger(this._element,Cj),this._maybeScheduleHide()};this._element.classList.remove(Tb),Gu(this._element),this._element.classList.add(Ad,xd),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||ne.trigger(this._element,Ij).defaultPrevented)return;const t=()=>{this._element.classList.add(Tb),this._element.classList.remove(xd,Ad),ne.trigger(this._element,Aj)};this._element.classList.add(xd),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ad),super.dispose()}isShown(){return this._element.classList.contains(Ad)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){ne.on(this._element,wj,e=>this._onInteraction(e,!0)),ne.on(this._element,Tj,e=>this._onInteraction(e,!1)),ne.on(this._element,bj,e=>this._onInteraction(e,!0)),ne.on(this._element,Sj,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=Np.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Cp(Np);ci(Np);const Oj=Mx();function Nj({mode:n,user:e}){var fe;const[t,i]=W.useState(0),[r,s]=W.useState({}),[a,c]=W.useState([]),[u,d]=W.useState([]),[m,_]=W.useState([]),[v,w]=W.useState({}),[b,I]=W.useState({}),[A,R]=W.useState({min:1,max:1e3}),[L,j]=W.useState(!0),[U,q]=W.useState(!0),[G,P]=W.useState(0),[x,k]=W.useState(0),[N,M]=W.useState(!0),V=["A","B","C","D","E","F","G","H"],O=(oe,de,he)=>{fetch(`/medTest/assets/${de}`).then(Te=>Te.text()).then(Te=>{const Ae=Te.split(`
`).reduce((Le,Be)=>{if(Be.trim()==="")return Le;const[Lt,zt]=Be.trim().split(" ");return Le[parseInt(Lt)]=zt,Le},{});he?s(Ae):_(Ae)}),fetch(`/medTest/assets/${oe}`).then(Te=>Te.text()).then(Te=>{var Be,Lt;const Ae=Te.split(`
`).filter(zt=>zt.trim()!==""),Le=[];for(let zt=0;zt<Ae.length;zt+=9){const Bt=Ae.slice(zt,zt+9);if(Bt.length!==9){console.log("Skipping block due to incorrect line count:",Bt);continue}const ui=Bt[0].replace(/^\d+\.\s*/,""),Di=((Lt=(Be=Bt[0].match(/^\d+\./))==null?void 0:Be[0])==null?void 0:Lt.slice(0,-1))||"",Mi=Bt.slice(1).reduce((hi,Qr,Li)=>{const At=String.fromCharCode(97+Li);return hi[At]=Qr.trim(),hi},{});Le.push({number:Di,q:ui,...Mi})}he?c(Le):d(Le)})};W.useEffect(()=>{O("B_otazky.txt","B_odpovede.txt",!0),O("C_otazky.txt","C_odpovede.txt",!1),document.body.style.background="#212529"},[]);const De=()=>{const oe=A.min===""?1:A.min,de=A.max===""?1e3:A.max;if(L){let he;do he=Math.floor(Math.random()*(de-oe+1))+oe;while(he-1===t);i(he-1)}else t>=oe-1&&t<=de-1?t+1==de?i(oe-1):i(t+1):i(oe-1);setTimeout(()=>{window.innerWidth>=1450?window.scrollTo({top:0,behavior:"smooth"}):window.innerWidth<=364?window.scrollTo({top:358,behavior:"smooth"}):window.scrollTo({top:308,behavior:"smooth"});const he=document.querySelector("h3"),Te=window.getComputedStyle(he),Ae=parseFloat(Te.marginTop);he.getBoundingClientRect().top+window.scrollY-Ae<=3?he.style.marginTop="1rem":he.style.marginTop="0"},20),w({}),I({}),M(!0)},Se=oe=>{w(de=>({...de,[oe]:!de[oe]}))},we=()=>{const oe=(U?r:m)[t+1]||"",de={};let he=!0;V.forEach((Te,Ae)=>{const Le=oe[Ae]==="S",Be=!!v[Te];Le?(de[Te]=Be?"correct":"missed",Be||(he=!1)):(de[Te]=Be?"wrong":"neutral",Be&&(he=!1))}),J(e.email,U?"bio":"che",t+1,he),I(de),z()},_e=oe=>{const{name:de,value:he}=oe.target;R(Te=>({...Te,[de]:he===""?"":parseInt(he,10)}))},ie=oe=>{let{name:de,value:he}=oe.target;de==="min"&&(he<1||he>=1e3)&&(he=1),de==="max"&&(he<1||he>1e3)&&(he=1e3),A.min===A.max?(R({min:A.min,max:1e3}),de==="max"&&(he=1e3)):A.min>A.max&&(R({min:A.min,max:1e3}),de==="max"&&(he=1e3)),R(Te=>({...Te,[de]:he===""?"":parseInt(he,10)}))},ue=oe=>{oe.target.id=="btnradio1"?j(!0):j(!1)},le=oe=>{oe.target.id=="btnradio3"?q(!0):q(!1),w({}),I({}),i(0),M(!0)},z=()=>{N&&(U?P(G+1):k(x+1)),M(!1)};async function J(oe,de,he,Te){const Ae=Qy(Oj,"users",oe,"tests",de),Le={cisloOtazky:he,spravna:Te,timestamp:Date.now()};try{await g4(Ae,{odpovede:y4(Le)}),console.log("Odpoveď uložená.")}catch(Be){Be.code==="not-found"?(await m4(Ae,{odpovede:[Le]}),console.log("Dokument vytvorený a odpoveď uložená.")):console.error("Chyba pri ukladaní odpovede:",Be)}}return Y.jsxs("div",{className:"d-flex flex-column mainContainer",children:[Y.jsxs("div",{className:"input-group mb-3 rangeHolder ms-auto fixed-top mb-5 d-flex justify-content-center",children:[Y.jsx("div",{className:"d-flex mb-3 doubleMenu justify-content-center align-items-center m-0",children:Y.jsxs("div",{className:"btn-group",role:"group","aria-label":"Basic radio toggle button group",children:[Y.jsx("input",{type:"radio",className:"btn-check",name:"btnradio",id:"btnradio3",defaultChecked:!0,onChange:le}),Y.jsx("label",{className:"btn btn-outline-secondary",htmlFor:"btnradio3",children:"BIOLÓGIA"}),Y.jsx("input",{type:"radio",className:"btn-check",name:"btnradio",id:"btnradio4",onChange:le}),Y.jsx("label",{className:"btn btn-outline-secondary",htmlFor:"btnradio4",children:"CHÉMIA"})]})}),Y.jsxs("div",{className:"btn-group mb-3",role:"group","aria-label":"Basic radio toggle button group",children:[Y.jsx("input",{type:"radio",className:"btn-check",name:"btnradio1",id:"btnradio1",defaultChecked:!0,onChange:ue}),Y.jsx("label",{className:"btn btn-outline-warning",htmlFor:"btnradio1",children:"Náhodný výber"}),Y.jsx("input",{type:"radio",className:"btn-check",name:"btnradio1",id:"btnradio2",onChange:ue}),Y.jsx("label",{className:"btn btn-outline-warning",htmlFor:"btnradio2",children:"Podľa poradia"})]}),Y.jsxs("div",{className:"d-flex rangeSizer mb-3",children:[Y.jsx("span",{className:"input-group-text rozsahText",children:"Rozsah:"}),Y.jsx("input",{type:"number",name:"min",value:A.min,onChange:_e,onBlur:ie,className:"form-control borderForm",placeholder:"Od","aria-label":"Od"}),Y.jsx("span",{className:"input-group-text",children:"-"}),Y.jsx("input",{type:"number",name:"max",value:A.max,onChange:_e,onBlur:ie,className:"form-control maxNmb",placeholder:"Do","aria-label":"Do"})]}),Y.jsxs("div",{className:`d-flex rangeSizer p-2 border rounded align-items-center fs-6  ${n?"text-light border-secondary":" bg-transparent"}`,children:[Y.jsxs("p",{className:"w-50 m-0",children:["BIO - ",G]}),Y.jsxs("p",{className:"m-0",children:["CHE - ",x]})]})]}),Y.jsx("div",{className:n?"text-light":"text-dark",children:a.length>0?Y.jsxs(Y.Fragment,{children:[Y.jsx("h3",{dangerouslySetInnerHTML:{__html:`${t+1}. ${((fe=(U?a:u)[t])==null?void 0:fe.q)||"Načítavam otázky..."}`}}),Y.jsx("div",{className:"d-flex mt-4 flex-column",children:Object.entries((U?a:u)[t]||{}).filter(([oe])=>oe!=="q"&&oe!=="number").map(([oe,de])=>Y.jsxs("div",{className:"form-check d-flex align-items-center p-1",children:[Y.jsx("input",{className:`form-check-input me-2 hvrOption ${n?"border-0":"border-secondary"}`,type:"checkbox",id:`checkbox-${oe}`,checked:!!v[oe.toUpperCase()],onChange:()=>Se(oe.toUpperCase())}),Y.jsx("label",{className:"form-check-label hvrOpt",htmlFor:`checkbox-${oe}`,style:{wordBreak:"break-word",backgroundColor:b[oe.toUpperCase()]==="correct"?"#5e9f58":b[oe.toUpperCase()]==="wrong"||b[oe.toUpperCase()]==="missed"?"#a84d4d":"transparent",color:b[oe.toUpperCase()]==="correct"||b[oe.toUpperCase()]==="wrong"||b[oe.toUpperCase()]==="missed"?"#fff":"",borderRadius:"5px",padding:"5px"},dangerouslySetInnerHTML:{__html:de}})]},oe))})]}):Y.jsx("h3",{children:"Načítavam otázky..."})}),Y.jsx("button",{onClick:we,type:"button",className:"btn btn-secondary mt-5",children:"Vyhodnotiť"}),Y.jsx("button",{onClick:De,type:"button",className:"btn mt-4 btn-warning",id:"resolve",children:"Ďalšia otázka"})]})}function Dj(){return Y.jsxs("div",{className:"ftr",children:[Y.jsx("img",{src:"/medTest/logoMED.svg",alt:"logoMED",className:"logoIMG",height:100}),Y.jsx("p",{className:"credentials",children:"©MB 2024/25."})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ju(n){return n+.5|0}const Ps=(n,e,t)=>Math.max(Math.min(n,t),e);function tu(n){return Ps(Ju(n*2.55),0,255)}function Fs(n){return Ps(Ju(n*255),0,255)}function Pr(n){return Ps(Ju(n/2.55)/100,0,1)}function bb(n){return Ps(Ju(n*100),0,100)}const ti={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},z_=[..."0123456789ABCDEF"],Mj=n=>z_[n&15],Lj=n=>z_[(n&240)>>4]+z_[n&15],Cd=n=>(n&240)>>4===(n&15),Vj=n=>Cd(n.r)&&Cd(n.g)&&Cd(n.b)&&Cd(n.a);function Fj(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&ti[n[1]]*17,g:255&ti[n[2]]*17,b:255&ti[n[3]]*17,a:e===5?ti[n[4]]*17:255}:(e===7||e===9)&&(t={r:ti[n[1]]<<4|ti[n[2]],g:ti[n[3]]<<4|ti[n[4]],b:ti[n[5]]<<4|ti[n[6]],a:e===9?ti[n[7]]<<4|ti[n[8]]:255})),t}const $j=(n,e)=>n<255?e(n):"";function jj(n){var e=Vj(n)?Mj:Lj;return n?"#"+e(n.r)+e(n.g)+e(n.b)+$j(n.a,e):void 0}const Uj=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function JC(n,e,t){const i=e*Math.min(t,1-t),r=(s,a=(s+n/30)%12)=>t-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function zj(n,e,t){const i=(r,s=(r+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function Bj(n,e,t){const i=JC(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function Hj(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function wv(n){const t=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(t,i,r),a=Math.min(t,i,r),c=(s+a)/2;let u,d,m;return s!==a&&(m=s-a,d=c>.5?m/(2-s-a):m/(s+a),u=Hj(t,i,r,m,s),u=u*60+.5),[u|0,d||0,c]}function Tv(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Fs)}function bv(n,e,t){return Tv(JC,n,e,t)}function Wj(n,e,t){return Tv(Bj,n,e,t)}function Kj(n,e,t){return Tv(zj,n,e,t)}function ZC(n){return(n%360+360)%360}function qj(n){const e=Uj.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?tu(+e[5]):Fs(+e[5]));const r=ZC(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=Wj(r,s,a):e[1]==="hsv"?i=Kj(r,s,a):i=bv(r,s,a),{r:i[0],g:i[1],b:i[2],a:t}}function Gj(n,e){var t=wv(n);t[0]=ZC(t[0]+e),t=bv(t),n.r=t[0],n.g=t[1],n.b=t[2]}function Yj(n){if(!n)return;const e=wv(n),t=e[0],i=bb(e[1]),r=bb(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${Pr(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const Sb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ib={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Qj(){const n={},e=Object.keys(Ib),t=Object.keys(Sb);let i,r,s,a,c;for(i=0;i<e.length;i++){for(a=c=e[i],r=0;r<t.length;r++)s=t[r],c=c.replace(s,Sb[s]);s=parseInt(Ib[a],16),n[c]=[s>>16&255,s>>8&255,s&255]}return n}let kd;function Xj(n){kd||(kd=Qj(),kd.transparent=[0,0,0,0]);const e=kd[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Jj=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Zj(n){const e=Jj.exec(n);let t=255,i,r,s;if(e){if(e[7]!==i){const a=+e[7];t=e[8]?tu(a):Ps(a*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?tu(i):Ps(i,0,255)),r=255&(e[4]?tu(r):Ps(r,0,255)),s=255&(e[6]?tu(s):Ps(s,0,255)),{r:i,g:r,b:s,a:t}}}function eU(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Pr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Kg=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Xa=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function tU(n,e,t){const i=Xa(Pr(n.r)),r=Xa(Pr(n.g)),s=Xa(Pr(n.b));return{r:Fs(Kg(i+t*(Xa(Pr(e.r))-i))),g:Fs(Kg(r+t*(Xa(Pr(e.g))-r))),b:Fs(Kg(s+t*(Xa(Pr(e.b))-s))),a:n.a+t*(e.a-n.a)}}function Rd(n,e,t){if(n){let i=wv(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=bv(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function e1(n,e){return n&&Object.assign(e||{},n)}function Ab(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Fs(n[3]))):(e=e1(n,{r:0,g:0,b:0,a:1}),e.a=Fs(e.a)),e}function nU(n){return n.charAt(0)==="r"?Zj(n):qj(n)}class Pu{constructor(e){if(e instanceof Pu)return e;const t=typeof e;let i;t==="object"?i=Ab(e):t==="string"&&(i=Fj(e)||Xj(e)||nU(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=e1(this._rgb);return e&&(e.a=Pr(e.a)),e}set rgb(e){this._rgb=Ab(e)}rgbString(){return this._valid?eU(this._rgb):void 0}hexString(){return this._valid?jj(this._rgb):void 0}hslString(){return this._valid?Yj(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let s;const a=t===s?.5:t,c=2*a-1,u=i.a-r.a,d=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;s=1-d,i.r=255&d*i.r+s*r.r+.5,i.g=255&d*i.g+s*r.g+.5,i.b=255&d*i.b+s*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=tU(this._rgb,e._rgb,t)),this}clone(){return new Pu(this.rgb)}alpha(e){return this._rgb.a=Fs(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Ju(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Rd(this._rgb,2,e),this}darken(e){return Rd(this._rgb,2,-e),this}saturate(e){return Rd(this._rgb,1,e),this}desaturate(e){return Rd(this._rgb,1,-e),this}rotate(e){return Gj(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Cr(){}const iU=(()=>{let n=0;return()=>n++})();function Qe(n){return n==null}function Pt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function qe(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ai(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Yi(n,e){return ai(n)?n:e}function Ke(n,e){return typeof n>"u"?e:n}const rU=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,t1=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function tt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Xe(n,e,t,i){let r,s,a;if(Pt(n))for(s=n.length,r=0;r<s;r++)e.call(t,n[r],r);else if(qe(n))for(a=Object.keys(n),s=a.length,r=0;r<s;r++)e.call(t,n[a[r]],a[r])}function Uf(n,e){let t,i,r,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function zf(n){if(Pt(n))return n.map(zf);if(qe(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=zf(n[t[r]]);return e}return n}function n1(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function sU(n,e,t,i){if(!n1(n))return;const r=e[n],s=t[n];qe(r)&&qe(s)?hr(r,s,i):e[n]=zf(s)}function hr(n,e,t){const i=Pt(e)?e:[e],r=i.length;if(!qe(n))return n;t=t||{};const s=t.merger||sU;let a;for(let c=0;c<r;++c){if(a=i[c],!qe(a))continue;const u=Object.keys(a);for(let d=0,m=u.length;d<m;++d)s(u[d],n,a,t)}return n}function pu(n,e){return hr(n,e,{merger:oU})}function oU(n,e,t){if(!n1(n))return;const i=e[n],r=t[n];qe(i)&&qe(r)?pu(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=zf(r))}const xb={"":n=>n,x:n=>n.x,y:n=>n.y};function aU(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function lU(n){const e=aU(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Jo(n,e){return(xb[e]||(xb[e]=lU(e)))(n)}function Sv(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Ou=n=>typeof n<"u",Ys=n=>typeof n=="function",Cb=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function cU(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ot=Math.PI,It=2*ot,Bf=Number.POSITIVE_INFINITY,uU=ot/180,Ot=ot/2,Po=ot/4,kb=ot*2/3,i1=Math.log10,$s=Math.sign;function af(n,e,t){return Math.abs(n-e)<t}function Rb(n){const e=Math.round(n);n=af(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(i1(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function hU(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}function dU(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Hf(n){return!dU(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function fU(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function pU(n,e,t){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Dr(n){return n*(ot/180)}function mU(n){return n*(180/ot)}function Pb(n){if(!ai(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function r1(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let s=Math.atan2(i,t);return s<-.5*ot&&(s+=It),{angle:s,distance:r}}function gU(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Zi(n){return(n%It+It)%It}function Wf(n,e,t,i){const r=Zi(n),s=Zi(e),a=Zi(t),c=Zi(s-r),u=Zi(a-r),d=Zi(r-s),m=Zi(r-a);return r===s||r===a||i&&s===a||c>u&&d<m}function Cn(n,e,t){return Math.max(e,Math.min(t,n))}function _U(n){return Cn(n,-32768,32767)}function jo(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function Iv(n,e,t){t=t||(a=>n[a]<e);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,t(s)?r=s:i=s;return{lo:r,hi:i}}const B_=(n,e,t,i)=>Iv(n,t,i?r=>{const s=n[r][e];return s<t||s===t&&n[r+1][e]===t}:r=>n[r][e]<t),yU=(n,e,t)=>Iv(n,t,i=>n[i][e]>=t);function vU(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const s1=["push","pop","shift","splice","unshift"];function EU(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),s1.forEach(t=>{const i="_onData"+Sv(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const a=r.apply(this,s);return n._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...s)}),a}})})}function Ob(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(s1.forEach(s=>{delete n[s]}),delete n._chartjs)}function o1(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const a1=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function l1(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,a1.call(window,()=>{i=!1,n.apply(e,t)}))}}function wU(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const c1=n=>n==="start"?"left":n==="end"?"right":"center",Vn=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,TU=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e,Pd=n=>n===0||n===1,Nb=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*It/t)),Db=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*It/t)+1,mu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ot)+1,easeOutSine:n=>Math.sin(n*Ot),easeInOutSine:n=>-.5*(Math.cos(ot*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Pd(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Pd(n)?n:Nb(n,.075,.3),easeOutElastic:n=>Pd(n)?n:Db(n,.075,.3),easeInOutElastic(n){return Pd(n)?n:n<.5?.5*Nb(n*2,.1125,.45):.5+.5*Db(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-mu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?mu.easeInBounce(n*2)*.5:mu.easeOutBounce(n*2-1)*.5+.5};function u1(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Mb(n){return u1(n)?n:new Pu(n)}function qg(n){return u1(n)?n:new Pu(n).saturate(.5).darken(.1).hexString()}const bU=["x","y","borderWidth","radius","tension"],SU=["color","borderColor","backgroundColor"];function IU(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:SU},numbers:{type:"number",properties:bU}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function AU(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Lb=new Map;function xU(n,e){e=e||{};const t=n+JSON.stringify(e);let i=Lb.get(t);return i||(i=new Intl.NumberFormat(n,e),Lb.set(t,i)),i}function Av(n,e,t){return xU(e,t).format(n)}const CU={values(n){return Pt(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let r,s=n;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),s=kU(n,t)}const a=i1(Math.abs(s)),c=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),Av(n,i,u)}};function kU(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var h1={formatters:CU};function RU(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:h1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Zo=Object.create(null),H_=Object.create(null);function gu(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const s=t[i];n=n[s]||(n[s]=Object.create(null))}return n}function Gg(n,e,t){return typeof e=="string"?hr(gu(n,e),t):hr(gu(n,""),e)}class PU{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>qg(r.backgroundColor),this.hoverBorderColor=(i,r)=>qg(r.borderColor),this.hoverColor=(i,r)=>qg(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Gg(this,e,t)}get(e){return gu(this,e)}describe(e,t){return Gg(H_,e,t)}override(e,t){return Gg(Zo,e,t)}route(e,t,i,r){const s=gu(this,e),a=gu(this,i),c="_"+t;Object.defineProperties(s,{[c]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const u=this[c],d=a[r];return qe(u)?Object.assign({},d,u):Ke(u,d)},set(u){this[c]=u}}})}apply(e){e.forEach(t=>t(this))}}var yt=new PU({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[IU,AU,RU]);function OU(n){return!n||Qe(n.size)||Qe(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Vb(n,e,t,i,r){let s=e[r];return s||(s=e[r]=n.measureText(r).width,t.push(r)),s>i&&(i=s),i}function Oo(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function Fb(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function W_(n,e,t,i){d1(n,e,t,i,null)}function d1(n,e,t,i,r){let s,a,c,u,d,m,_,v;const w=e.pointStyle,b=e.rotation,I=e.radius;let A=(b||0)*uU;if(w&&typeof w=="object"&&(s=w.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(A),n.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),n.restore();return}if(!(isNaN(I)||I<=0)){switch(n.beginPath(),w){default:r?n.ellipse(t,i,r/2,I,0,0,It):n.arc(t,i,I,0,It),n.closePath();break;case"triangle":m=r?r/2:I,n.moveTo(t+Math.sin(A)*m,i-Math.cos(A)*I),A+=kb,n.lineTo(t+Math.sin(A)*m,i-Math.cos(A)*I),A+=kb,n.lineTo(t+Math.sin(A)*m,i-Math.cos(A)*I),n.closePath();break;case"rectRounded":d=I*.516,u=I-d,a=Math.cos(A+Po)*u,_=Math.cos(A+Po)*(r?r/2-d:u),c=Math.sin(A+Po)*u,v=Math.sin(A+Po)*(r?r/2-d:u),n.arc(t-_,i-c,d,A-ot,A-Ot),n.arc(t+v,i-a,d,A-Ot,A),n.arc(t+_,i+c,d,A,A+Ot),n.arc(t-v,i+a,d,A+Ot,A+ot),n.closePath();break;case"rect":if(!b){u=Math.SQRT1_2*I,m=r?r/2:u,n.rect(t-m,i-u,2*m,2*u);break}A+=Po;case"rectRot":_=Math.cos(A)*(r?r/2:I),a=Math.cos(A)*I,c=Math.sin(A)*I,v=Math.sin(A)*(r?r/2:I),n.moveTo(t-_,i-c),n.lineTo(t+v,i-a),n.lineTo(t+_,i+c),n.lineTo(t-v,i+a),n.closePath();break;case"crossRot":A+=Po;case"cross":_=Math.cos(A)*(r?r/2:I),a=Math.cos(A)*I,c=Math.sin(A)*I,v=Math.sin(A)*(r?r/2:I),n.moveTo(t-_,i-c),n.lineTo(t+_,i+c),n.moveTo(t+v,i-a),n.lineTo(t-v,i+a);break;case"star":_=Math.cos(A)*(r?r/2:I),a=Math.cos(A)*I,c=Math.sin(A)*I,v=Math.sin(A)*(r?r/2:I),n.moveTo(t-_,i-c),n.lineTo(t+_,i+c),n.moveTo(t+v,i-a),n.lineTo(t-v,i+a),A+=Po,_=Math.cos(A)*(r?r/2:I),a=Math.cos(A)*I,c=Math.sin(A)*I,v=Math.sin(A)*(r?r/2:I),n.moveTo(t-_,i-c),n.lineTo(t+_,i+c),n.moveTo(t+v,i-a),n.lineTo(t-v,i+a);break;case"line":a=r?r/2:Math.cos(A)*I,c=Math.sin(A)*I,n.moveTo(t-a,i-c),n.lineTo(t+a,i+c);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(A)*(r?r/2:I),i+Math.sin(A)*I);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function xv(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Cv(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function kv(n){n.restore()}function NU(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Qe(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function DU(n,e,t,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),a=e-s.actualBoundingBoxLeft,c=e+s.actualBoundingBoxRight,u=t-s.actualBoundingBoxAscent,d=t+s.actualBoundingBoxDescent,m=r.strikethrough?(u+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(a,m),n.lineTo(c,m),n.stroke()}}function MU(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Kf(n,e,t,i,r,s={}){const a=Pt(e)?e:[e],c=s.strokeWidth>0&&s.strokeColor!=="";let u,d;for(n.save(),n.font=r.string,NU(n,s),u=0;u<a.length;++u)d=a[u],s.backdrop&&MU(n,s.backdrop),c&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Qe(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(d,t,i,s.maxWidth)),n.fillText(d,t,i,s.maxWidth),DU(n,t,i,d,s),i+=Number(r.lineHeight);n.restore()}function qf(n,e){const{x:t,y:i,w:r,h:s,radius:a}=e;n.arc(t+a.topLeft,i+a.topLeft,a.topLeft,1.5*ot,ot,!0),n.lineTo(t,i+s-a.bottomLeft),n.arc(t+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,ot,Ot,!0),n.lineTo(t+r-a.bottomRight,i+s),n.arc(t+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,Ot,0,!0),n.lineTo(t+r,i+a.topRight),n.arc(t+r-a.topRight,i+a.topRight,a.topRight,0,-Ot,!0),n.lineTo(t+a.topLeft,i)}const LU=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,VU=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function FU(n,e){const t=(""+n).match(LU);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const $U=n=>+n||0;function Rv(n,e){const t={},i=qe(e),r=i?Object.keys(e):e,s=qe(n)?i?a=>Ke(n[a],n[e[a]]):a=>n[a]:()=>n;for(const a of r)t[a]=$U(s(a));return t}function f1(n){return Rv(n,{top:"y",right:"x",bottom:"y",left:"x"})}function fl(n){return Rv(n,["topLeft","topRight","bottomLeft","bottomRight"])}function li(n){const e=f1(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function un(n,e){n=n||{},e=e||yt.font;let t=Ke(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=Ke(n.style,e.style);i&&!(""+i).match(VU)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ke(n.family,e.family),lineHeight:FU(Ke(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:Ke(n.weight,e.weight),string:""};return r.string=OU(r),r}function ct(n,e,t,i){let r,s,a;for(r=0,s=n.length;r<s;++r)if(a=n[r],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e)),t!==void 0&&Pt(a)&&(a=a[t%a.length]),a!==void 0))return a}function jU(n,e,t){const{min:i,max:r}=n,s=t1(e,(r-i)/2),a=(c,u)=>t&&c===0?0:c+u;return{min:a(i,-Math.abs(s)),max:a(r,s)}}function ql(n,e){return Object.assign(Object.create(n),e)}function Pv(n,e=[""],t,i,r=()=>n[0]){const s=t||n;typeof i>"u"&&(i=_1("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:c=>Pv([c,...n],e,s,i)};return new Proxy(a,{deleteProperty(c,u){return delete c[u],delete c._keys,delete n[0][u],!0},get(c,u){return m1(c,u,()=>GU(u,e,n,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,u){return jb(c).includes(u)},ownKeys(c){return jb(c)},set(c,u,d){const m=c._storage||(c._storage=r());return c[u]=m[u]=d,delete c._keys,!0}})}function Nl(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:p1(n,i),setContext:s=>Nl(n,s,t,i),override:s=>Nl(n.override(s),e,t,i)};return new Proxy(r,{deleteProperty(s,a){return delete s[a],delete n[a],!0},get(s,a,c){return m1(s,a,()=>zU(s,a,c))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(s,a,c){return n[a]=c,delete s[a],!0}})}function p1(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:Ys(t)?t:()=>t,isIndexable:Ys(i)?i:()=>i}}const UU=(n,e)=>n?n+Sv(e):e,Ov=(n,e)=>qe(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function m1(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function zU(n,e,t){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=n;let c=i[e];return Ys(c)&&a.isScriptable(e)&&(c=BU(e,c,n,t)),Pt(c)&&c.length&&(c=HU(e,c,n,a.isIndexable)),Ov(e,c)&&(c=Nl(c,r,s&&s[e],a)),c}function BU(n,e,t,i){const{_proxy:r,_context:s,_subProxy:a,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let u=e(s,a||i);return c.delete(n),Ov(n,u)&&(u=Nv(r._scopes,r,n,u)),u}function HU(n,e,t,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:c}=t;if(typeof s.index<"u"&&i(n))return e[s.index%e.length];if(qe(e[0])){const u=e,d=r._scopes.filter(m=>m!==u);e=[];for(const m of u){const _=Nv(d,r,n,m);e.push(Nl(_,s,a&&a[n],c))}}return e}function g1(n,e,t){return Ys(n)?n(e,t):n}const WU=(n,e)=>n===!0?e:typeof n=="string"?Jo(e,n):void 0;function KU(n,e,t,i,r){for(const s of e){const a=WU(t,s);if(a){n.add(a);const c=g1(a._fallback,t,r);if(typeof c<"u"&&c!==t&&c!==i)return c}else if(a===!1&&typeof i<"u"&&t!==i)return null}return!1}function Nv(n,e,t,i){const r=e._rootScopes,s=g1(e._fallback,t,i),a=[...n,...r],c=new Set;c.add(i);let u=$b(c,a,t,s||t,i);return u===null||typeof s<"u"&&s!==t&&(u=$b(c,a,s,u,i),u===null)?!1:Pv(Array.from(c),[""],r,s,()=>qU(e,t,i))}function $b(n,e,t,i,r){for(;t;)t=KU(n,e,t,i,r);return t}function qU(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return Pt(r)&&qe(t)?t:r||{}}function GU(n,e,t,i){let r;for(const s of e)if(r=_1(UU(s,n),t),typeof r<"u")return Ov(n,r)?Nv(t,i,n,r):r}function _1(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function jb(n){let e=n._keys;return e||(e=n._keys=YU(n._scopes)),e}function YU(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function Dv(){return typeof window<"u"&&typeof document<"u"}function Mv(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Gf(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const Dp=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function QU(n,e){return Dp(n).getPropertyValue(e)}const XU=["top","right","bottom","left"];function zo(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=XU[r];i[s]=parseFloat(n[e+"-"+s+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const JU=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function ZU(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:s}=i;let a=!1,c,u;if(JU(r,s,n.target))c=r,u=s;else{const d=e.getBoundingClientRect();c=i.clientX-d.left,u=i.clientY-d.top,a=!0}return{x:c,y:u,box:a}}function Mo(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=Dp(t),s=r.boxSizing==="border-box",a=zo(r,"padding"),c=zo(r,"border","width"),{x:u,y:d,box:m}=ZU(n,t),_=a.left+(m&&c.left),v=a.top+(m&&c.top);let{width:w,height:b}=e;return s&&(w-=a.width+c.width,b-=a.height+c.height),{x:Math.round((u-_)/w*t.width/i),y:Math.round((d-v)/b*t.height/i)}}function ez(n,e,t){let i,r;if(e===void 0||t===void 0){const s=n&&Mv(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const a=s.getBoundingClientRect(),c=Dp(s),u=zo(c,"border","width"),d=zo(c,"padding");e=a.width-d.width-u.width,t=a.height-d.height-u.height,i=Gf(c.maxWidth,s,"clientWidth"),r=Gf(c.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:i||Bf,maxHeight:r||Bf}}const Od=n=>Math.round(n*10)/10;function tz(n,e,t,i){const r=Dp(n),s=zo(r,"margin"),a=Gf(r.maxWidth,n,"clientWidth")||Bf,c=Gf(r.maxHeight,n,"clientHeight")||Bf,u=ez(n,e,t);let{width:d,height:m}=u;if(r.boxSizing==="content-box"){const v=zo(r,"border","width"),w=zo(r,"padding");d-=w.width+v.width,m-=w.height+v.height}return d=Math.max(0,d-s.width),m=Math.max(0,i?d/i:m-s.height),d=Od(Math.min(d,a,u.maxWidth)),m=Od(Math.min(m,c,u.maxHeight)),d&&!m&&(m=Od(d/2)),(e!==void 0||t!==void 0)&&i&&u.height&&m>u.height&&(m=u.height,d=Od(Math.floor(m*i))),{width:d,height:m}}function Ub(n,e,t){const i=e||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const a=n.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||a.height!==r||a.width!==s?(n.currentDevicePixelRatio=i,a.height=r,a.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const nz=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Dv()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function zb(n,e){const t=QU(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const iz=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},rz=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function pl(n,e,t){return n?iz(e,t):rz()}function y1(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function v1(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Nd(n,e,t){return n.options.clip?n[t]:e[t]}function sz(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:Nd(t,e,"left"),right:Nd(t,e,"right"),top:Nd(i,e,"top"),bottom:Nd(i,e,"bottom")}:e}function oz(n,e){const t=e._clip;if(t.disabled)return!1;const i=sz(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class az{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const s=t.listeners[r],a=t.duration;s.forEach(c=>c({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(i-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=a1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let a=s.length-1,c=!1,u;for(;a>=0;--a)u=s[a],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(e),c=!0):(s[a]=s[s.length-1],s.pop());c&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var kr=new az;const Bb="transparent",lz={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=Mb(n||Bb),r=i.valid&&Mb(e||Bb);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class cz{constructor(e,t,i,r){const s=t[i];r=ct([e.to,r,s,e.from]);const a=ct([e.from,s,r]);this._active=!0,this._fn=e.fn||lz[e.type||typeof a],this._easing=mu[e.easing]||mu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=ct([e.to,t,r,e.from]),this._from=ct([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,s=this._from,a=this._loop,c=this._to;let u;if(this._active=s!==c&&(a||t<i),!this._active){this._target[r]=c,this._notify(!0);return}if(t<0){this._target[r]=s;return}u=t/i%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(s,c,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class E1{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!qe(e))return;const t=Object.keys(yt.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!qe(s))return;const a={};for(const c of t)a[c]=s[c];(Pt(s.properties)&&s.properties||[r]).forEach(c=>{(c===r||!i.has(c))&&i.set(c,a)})})}_animateOptions(e,t){const i=t.options,r=hz(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&uz(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),a=Object.keys(t),c=Date.now();let u;for(u=a.length-1;u>=0;--u){const d=a[u];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(e,t));continue}const m=t[d];let _=s[d];const v=i.get(d);if(_)if(v&&_.active()){_.update(v,m,c);continue}else _.cancel();if(!v||!v.duration){e[d]=m;continue}s[d]=_=new cz(v,e,d,m),r.push(_)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return kr.add(this._chart,i),!0}}function uz(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function hz(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Hb(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function dz(n,e,t){if(t===!1)return!1;const i=Hb(n,t),r=Hb(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function fz(n){let e,t,i,r;return qe(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function w1(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)t.push(i[r].index);return t}function Wb(n,e,t,i={}){const r=n.keys,s=i.mode==="single";let a,c,u,d;if(e===null)return;let m=!1;for(a=0,c=r.length;a<c;++a){if(u=+r[a],u===t){if(m=!0,i.all)continue;break}d=n.values[u],ai(d)&&(s||e===0||$s(e)===$s(d))&&(e+=d)}return!m&&!i.all?0:e}function pz(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",a=Object.keys(n),c=new Array(a.length);let u,d,m;for(u=0,d=a.length;u<d;++u)m=a[u],c[u]={[r]:m,[s]:n[m]};return c}function Yg(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function mz(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function gz(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function _z(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function Kb(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function qb(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:s,vScale:a,index:c}=i,u=s.axis,d=a.axis,m=mz(s,a,i),_=e.length;let v;for(let w=0;w<_;++w){const b=e[w],{[u]:I,[d]:A}=b,R=b._stacks||(b._stacks={});v=R[d]=_z(r,m,I),v[c]=A,v._top=Kb(v,a,!0,i.type),v._bottom=Kb(v,a,!1,i.type);const L=v._visualValues||(v._visualValues={});L[c]=A}}function Qg(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function yz(n,e){return ql(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function vz(n,e,t){return ql(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Hc(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][t]===void 0)return;delete s[i][t],s[i]._visualValues!==void 0&&s[i]._visualValues[t]!==void 0&&delete s[i]._visualValues[t]}}}const Xg=n=>n==="reset"||n==="none",Gb=(n,e)=>e?n:Object.assign({},n),Ez=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:w1(t,!0),values:null};class ml{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Yg(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Hc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(_,v,w,b)=>_==="x"?v:_==="r"?b:w,s=t.xAxisID=Ke(i.xAxisID,Qg(e,"x")),a=t.yAxisID=Ke(i.yAxisID,Qg(e,"y")),c=t.rAxisID=Ke(i.rAxisID,Qg(e,"r")),u=t.indexAxis,d=t.iAxisID=r(u,s,a,c),m=t.vAxisID=r(u,a,s,c);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Ob(this._data,this),e._stacked&&Hc(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(qe(t)){const r=this._cachedMeta;this._data=pz(t,r)}else if(i!==t){if(i){Ob(i,this);const r=this._cachedMeta;Hc(r),r._parsed=[]}t&&Object.isExtensible(t)&&EU(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=t._stacked;t._stacked=Yg(t.vScale,t),t.stack!==i.stack&&(r=!0,Hc(t),t.stack=i.stack),this._resyncElements(e),(r||s!==t._stacked)&&(qb(this,t._parsed),t._stacked=Yg(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:a}=i,c=s.axis;let u=e===0&&t===r.length?!0:i._sorted,d=e>0&&i._parsed[e-1],m,_,v;if(this._parsing===!1)i._parsed=r,i._sorted=!0,v=r;else{Pt(r[e])?v=this.parseArrayData(i,r,e,t):qe(r[e])?v=this.parseObjectData(i,r,e,t):v=this.parsePrimitiveData(i,r,e,t);const w=()=>_[c]===null||d&&_[c]<d[c];for(m=0;m<t;++m)i._parsed[m+e]=_=v[m],u&&(w()&&(u=!1),d=_);i._sorted=u}a&&qb(this,v)}parsePrimitiveData(e,t,i,r){const{iScale:s,vScale:a}=e,c=s.axis,u=a.axis,d=s.getLabels(),m=s===a,_=new Array(r);let v,w,b;for(v=0,w=r;v<w;++v)b=v+i,_[v]={[c]:m||s.parse(d[b],b),[u]:a.parse(t[b],b)};return _}parseArrayData(e,t,i,r){const{xScale:s,yScale:a}=e,c=new Array(r);let u,d,m,_;for(u=0,d=r;u<d;++u)m=u+i,_=t[m],c[u]={x:s.parse(_[0],m),y:a.parse(_[1],m)};return c}parseObjectData(e,t,i,r){const{xScale:s,yScale:a}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=new Array(r);let m,_,v,w;for(m=0,_=r;m<_;++m)v=m+i,w=t[v],d[m]={x:s.parse(Jo(w,c),v),y:a.parse(Jo(w,u),v)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,s=this._cachedMeta,a=t[e.axis],c={keys:w1(r,!0),values:t._stacks[e.axis]._visualValues};return Wb(c,a,s.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const s=i[t.axis];let a=s===null?NaN:s;const c=r&&i._stacks[t.axis];r&&c&&(r.values=c,a=Wb(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,a=r.length,c=this._getOtherScale(e),u=Ez(t,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:_}=gz(c);let v,w;function b(){w=r[v];const I=w[c.axis];return!ai(w[e.axis])||m>I||_<I}for(v=0;v<a&&!(!b()&&(this.updateRangeFromParsed(d,e,w,u),s));++v);if(s){for(v=a-1;v>=0;--v)if(!b()){this.updateRangeFromParsed(d,e,w,u);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,s,a;for(r=0,s=t.length;r<s;++r)a=t[r][e.axis],ai(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=fz(Ke(this.options.clip,dz(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],s=t.chartArea,a=[],c=this._drawStart||0,u=this._drawCount||r.length-c,d=this.options.drawActiveElementsOnTop;let m;for(i.dataset&&i.dataset.draw(e,s,c,u),m=c;m<c+u;++m){const _=r[m];_.hidden||(_.active&&d?a.push(_):_.draw(e,s))}for(m=0;m<a.length;++m)a[m].draw(e,s)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=vz(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=yz(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",s=this._cachedDataOpts,a=e+"-"+t,c=s[a],u=this.enableOptionSharing&&Ou(i);if(c)return Gb(c,u);const d=this.chart.config,m=d.datasetElementScopeKeys(this._type,e),_=r?[`${e}Hover`,"hover",e,""]:[e,""],v=d.getOptionScopes(this.getDataset(),m),w=Object.keys(yt.elements[e]),b=()=>this.getContext(i,r,t),I=d.resolveNamedOptions(v,w,b,_);return I.$shared&&(I.$shared=u,s[a]=Object.freeze(Gb(I,u))),I}_resolveAnimations(e,t,i){const r=this.chart,s=this._cachedDataOpts,a=`animation-${t}`,c=s[a];if(c)return c;let u;if(r.options.animation!==!1){const m=this.chart.config,_=m.datasetAnimationScopeKeys(this._type,t),v=m.getOptionScopes(this.getDataset(),_);u=m.createResolver(v,this.getContext(e,i,t))}const d=new E1(r,u&&u.animations);return u&&u._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Xg(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(t,s)||s!==r;return this.updateSharedOptions(s,t,i),{sharedOptions:s,includeOptions:a}}updateElement(e,t,i,r){Xg(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!Xg(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const s=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[c,u,d]of this._syncList)this[c](u,d);this._syncList=[];const r=i.length,s=t.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,t,i=!0){const r=this._cachedMeta,s=r.data,a=e+t;let c;const u=d=>{for(d.length+=t,c=d.length-1;c>=a;c--)d[c]=d[c-t]};for(u(s),c=e;c<a;++c)s[c]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(e,t),i&&this.updateElements(s,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&Hc(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}be(ml,"defaults",{}),be(ml,"datasetElementType",null),be(ml,"dataElementType",null);function wz(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=t.length;r<s;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=o1(i.sort((r,s)=>r-s))}return n._cache.$bar}function Tz(n){const e=n.iScale,t=wz(e,n.type);let i=e._length,r,s,a,c;const u=()=>{a===32767||a===-32768||(Ou(c)&&(i=Math.min(i,Math.abs(a-c)||i)),c=a)};for(r=0,s=t.length;r<s;++r)a=e.getPixelForValue(t[r]),u();for(c=void 0,r=0,s=e.ticks.length;r<s;++r)a=e.getPixelForTick(r),u();return i}function bz(n,e,t,i){const r=t.barThickness;let s,a;return Qe(r)?(s=e.min*t.categoryPercentage,a=t.barPercentage):(s=r*i,a=1),{chunk:s/i,ratio:a,start:e.pixels[n]-s/2}}function Sz(n,e,t,i){const r=e.pixels,s=r[n];let a=n>0?r[n-1]:null,c=n<r.length-1?r[n+1]:null;const u=t.categoryPercentage;a===null&&(a=s-(c===null?e.end-e.start:c-s)),c===null&&(c=s+s-a);const d=s-(s-Math.min(a,c))/2*u;return{chunk:Math.abs(c-a)/2*u/i,ratio:t.barPercentage,start:d}}function Iz(n,e,t,i){const r=t.parse(n[0],i),s=t.parse(n[1],i),a=Math.min(r,s),c=Math.max(r,s);let u=a,d=c;Math.abs(a)>Math.abs(c)&&(u=c,d=a),e[t.axis]=d,e._custom={barStart:u,barEnd:d,start:r,end:s,min:a,max:c}}function T1(n,e,t,i){return Pt(n)?Iz(n,e,t,i):e[t.axis]=t.parse(n,i),e}function Yb(n,e,t,i){const r=n.iScale,s=n.vScale,a=r.getLabels(),c=r===s,u=[];let d,m,_,v;for(d=t,m=t+i;d<m;++d)v=e[d],_={},_[r.axis]=c||r.parse(a[d],d),u.push(T1(v,_,s,d));return u}function Jg(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function Az(n,e,t){return n!==0?$s(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function xz(n){let e,t,i,r,s;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:t,end:i,reverse:e,top:r,bottom:s}}function Cz(n,e,t,i){let r=e.borderSkipped;const s={};if(!r){n.borderSkipped=s;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:c,reverse:u,top:d,bottom:m}=xz(n);r==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=d:(t._bottom||0)===i?r=m:(s[Qb(m,a,c,u)]=!0,r=d)),s[Qb(r,a,c,u)]=!0,n.borderSkipped=s}function Qb(n,e,t,i){return i?(n=kz(n,e,t),n=Xb(n,t,e)):n=Xb(n,e,t),n}function kz(n,e,t){return n===e?t:n===t?e:n}function Xb(n,e,t){return n==="start"?e:n==="end"?t:n}function Rz(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class lf extends ml{parsePrimitiveData(e,t,i,r){return Yb(e,t,i,r)}parseArrayData(e,t,i,r){return Yb(e,t,i,r)}parseObjectData(e,t,i,r){const{iScale:s,vScale:a}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=s.axis==="x"?c:u,m=a.axis==="x"?c:u,_=[];let v,w,b,I;for(v=i,w=i+r;v<w;++v)I=t[v],b={},b[s.axis]=s.parse(Jo(I,d),v),_.push(T1(Jo(I,m),b,a,v));return _}updateRangeFromParsed(e,t,i,r){super.updateRangeFromParsed(e,t,i,r);const s=i._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:r}=t,s=this.getParsed(e),a=s._custom,c=Jg(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,r){const s=r==="reset",{index:a,_cachedMeta:{vScale:c}}=this,u=c.getBasePixel(),d=c.isHorizontal(),m=this._getRuler(),{sharedOptions:_,includeOptions:v}=this._getSharedOptions(t,r);for(let w=t;w<t+i;w++){const b=this.getParsed(w),I=s||Qe(b[c.axis])?{base:u,head:u}:this._calculateBarValuePixels(w),A=this._calculateBarIndexPixels(w,m),R=(b._stacks||{})[c.axis],L={horizontal:d,base:I.base,enableBorderRadius:!R||Jg(b._custom)||a===R._top||a===R._bottom,x:d?I.head:A.center,y:d?A.center:I.head,height:d?A.size:Math.abs(I.size),width:d?Math.abs(I.size):A.size};v&&(L.options=_||this.resolveDataElementOptions(w,e[w].active?"active":r));const j=L.options||e[w].options;Cz(L,j,R,a),Rz(L,j,m.ratio),this.updateElement(e[w],w,L,r)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),s=i.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(t),u=c&&c[i.axis],d=m=>{const _=m._parsed.find(w=>w[i.axis]===u),v=_&&_[m.vScale.axis];if(Qe(v)||isNaN(v))return!0};for(const m of r)if(!(t!==void 0&&d(m))&&((s===!1||a.indexOf(m.stack)===-1||s===void 0&&m.stack===void 0)&&a.push(m.stack),m.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[Ke(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,i){const r=this._getStacks(e,i),s=t!==void 0?r.indexOf(t):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,r=[];let s,a;for(s=0,a=t.data.length;s<a;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const c=e.barThickness;return{min:c||Tz(t),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:r},options:{base:s,minBarLength:a}}=this,c=s||0,u=this.getParsed(e),d=u._custom,m=Jg(d);let _=u[t.axis],v=0,w=i?this.applyStack(t,u,i):_,b,I;w!==_&&(v=w-_,w=_),m&&(_=d.barStart,w=d.barEnd-d.barStart,_!==0&&$s(_)!==$s(d.barEnd)&&(v=0),v+=_);const A=!Qe(s)&&!m?s:v;let R=t.getPixelForValue(A);if(this.chart.getDataVisibility(e)?b=t.getPixelForValue(v+w):b=R,I=b-R,Math.abs(I)<a){I=Az(I,t,c)*a,_===c&&(R-=I/2);const L=t.getPixelForDecimal(0),j=t.getPixelForDecimal(1),U=Math.min(L,j),q=Math.max(L,j);R=Math.max(Math.min(R,q),U),b=R+I,i&&!m&&(u._stacks[t.axis]._visualValues[r]=t.getValueForPixel(b)-t.getValueForPixel(R))}if(R===t.getPixelForValue(c)){const L=$s(I)*t.getLineWidthForValue(c)/2;R+=L,I-=L}return{size:I,base:R,head:b,center:b+I/2}}_calculateBarIndexPixels(e,t){const i=t.scale,r=this.options,s=r.skipNull,a=Ke(r.maxBarThickness,1/0);let c,u;const d=this._getAxisCount();if(t.grouped){const m=s?this._getStackCount(e):t.stackCount,_=r.barThickness==="flex"?Sz(e,t,r,m*d):bz(e,t,r,m*d),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,w=this._getAxis().indexOf(Ke(v,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+w;c=_.start+_.chunk*b+_.chunk/2,u=Math.min(a,_.chunk*_.ratio)}else c=i.getPixelForValue(this.getParsed(e)[i.axis],e),u=Math.min(a,t.min*t.ratio);return{base:c-u/2,head:c+u/2,center:c,size:u}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[t.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}be(lf,"id","bar"),be(lf,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),be(lf,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Pz(n,e,t){let i=1,r=1,s=0,a=0;if(e<It){const c=n,u=c+e,d=Math.cos(c),m=Math.sin(c),_=Math.cos(u),v=Math.sin(u),w=(j,U,q)=>Wf(j,c,u,!0)?1:Math.max(U,U*t,q,q*t),b=(j,U,q)=>Wf(j,c,u,!0)?-1:Math.min(U,U*t,q,q*t),I=w(0,d,_),A=w(Ot,m,v),R=b(ot,d,_),L=b(ot+Ot,m,v);i=(I-R)/2,r=(A-L)/2,s=-(I+R)/2,a=-(A+L)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:a}}class nu extends ml{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=u=>+i[u];if(qe(i[e])){const{key:u="value"}=this._parsing;s=d=>+Jo(i[d],u)}let a,c;for(a=e,c=e+t;a<c;++a)r._parsed[a]=s(a)}}_getRotation(){return Dr(this.options.rotation-90)}_getCircumference(){return Dr(this.options.circumference)}_getRotationExtents(){let e=It,t=-It;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),a=r._getCircumference();e=Math.min(e,s),t=Math.max(t,s+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,r=this._cachedMeta,s=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-a)/2,0),u=Math.min(rU(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:m,rotation:_}=this._getRotationExtents(),{ratioX:v,ratioY:w,offsetX:b,offsetY:I}=Pz(_,m,u),A=(i.width-a)/v,R=(i.height-a)/w,L=Math.max(Math.min(A,R)/2,0),j=t1(this.options.radius,L),U=Math.max(j*u,0),q=(j-U)/this._getVisibleDatasetWeightTotal();this.offsetX=b*j,this.offsetY=I*j,r.total=this.calculateTotal(),this.outerRadius=j-q*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-q*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/It)}updateElements(e,t,i,r){const s=r==="reset",a=this.chart,c=a.chartArea,d=a.options.animation,m=(c.left+c.right)/2,_=(c.top+c.bottom)/2,v=s&&d.animateScale,w=v?0:this.innerRadius,b=v?0:this.outerRadius,{sharedOptions:I,includeOptions:A}=this._getSharedOptions(t,r);let R=this._getRotation(),L;for(L=0;L<t;++L)R+=this._circumference(L,s);for(L=t;L<t+i;++L){const j=this._circumference(L,s),U=e[L],q={x:m+this.offsetX,y:_+this.offsetY,startAngle:R,endAngle:R+j,circumference:j,outerRadius:b,innerRadius:w};A&&(q.options=I||this.resolveDataElementOptions(L,U.active?"active":r)),R+=j,this.updateElement(U,L,q,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,r;for(r=0;r<t.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?It*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Av(t._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const i=this.chart;let r,s,a,c,u;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){a=i.getDatasetMeta(r),e=a.data,c=a.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)u=c.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(t=Math.max(t,u.borderWidth||0,u.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(Ke(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}be(nu,"id","doughnut"),be(nu,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),be(nu,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),be(nu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((s,a)=>{const u=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:r,lineWidth:u.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class K_ extends nu{}be(K_,"id","pie"),be(K_,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function No(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Lv{constructor(e){be(this,"options");this.options=e||{}}static override(e){Object.assign(Lv.prototype,e)}init(){}formats(){return No()}parse(){return No()}format(){return No()}add(){return No()}diff(){return No()}startOf(){return No()}endOf(){return No()}}var Oz={_date:Lv};function Nz(n,e,t,i){const{controller:r,data:s,_sorted:a}=n,c=r._cachedMeta.iScale,u=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&a&&s.length){const d=c._reversePixels?yU:B_;if(i){if(r._sharedOptions){const m=s[0],_=typeof m.getRange=="function"&&m.getRange(e);if(_){const v=d(s,e,t-_),w=d(s,e,t+_);return{lo:v.lo,hi:w.hi}}}}else{const m=d(s,e,t);if(u){const{vScale:_}=r._cachedMeta,{_parsed:v}=n,w=v.slice(0,m.lo+1).reverse().findIndex(I=>!Qe(I[_.axis]));m.lo-=Math.max(0,w);const b=v.slice(m.hi).findIndex(I=>!Qe(I[_.axis]));m.hi+=Math.max(0,b)}return m}}return{lo:0,hi:s.length-1}}function Mp(n,e,t,i,r){const s=n.getSortedVisibleDatasetMetas(),a=t[e];for(let c=0,u=s.length;c<u;++c){const{index:d,data:m}=s[c],{lo:_,hi:v}=Nz(s[c],e,a,r);for(let w=_;w<=v;++w){const b=m[w];b.skip||i(b,d,w)}}}function Dz(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,a=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function Zg(n,e,t,i,r){const s=[];return!r&&!n.isPointInArea(e)||Mp(n,t,e,function(c,u,d){!r&&!xv(c,n.chartArea,0)||c.inRange(e.x,e.y,i)&&s.push({element:c,datasetIndex:u,index:d})},!0),s}function Mz(n,e,t,i){let r=[];function s(a,c,u){const{startAngle:d,endAngle:m}=a.getProps(["startAngle","endAngle"],i),{angle:_}=r1(a,{x:e.x,y:e.y});Wf(_,d,m)&&r.push({element:a,datasetIndex:c,index:u})}return Mp(n,t,e,s),r}function Lz(n,e,t,i,r,s){let a=[];const c=Dz(t);let u=Number.POSITIVE_INFINITY;function d(m,_,v){const w=m.inRange(e.x,e.y,r);if(i&&!w)return;const b=m.getCenterPoint(r);if(!(!!s||n.isPointInArea(b))&&!w)return;const A=c(e,b);A<u?(a=[{element:m,datasetIndex:_,index:v}],u=A):A===u&&a.push({element:m,datasetIndex:_,index:v})}return Mp(n,t,e,d),a}function e_(n,e,t,i,r,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!i?Mz(n,e,t,r):Lz(n,e,t,i,r,s)}function Jb(n,e,t,i,r){const s=[],a=t==="x"?"inXRange":"inYRange";let c=!1;return Mp(n,t,e,(u,d,m)=>{u[a]&&u[a](e[t],r)&&(s.push({element:u,datasetIndex:d,index:m}),c=c||u.inRange(e.x,e.y,r))}),i&&!c?[]:s}var Vz={modes:{index(n,e,t,i){const r=Mo(e,n),s=t.axis||"x",a=t.includeInvisible||!1,c=t.intersect?Zg(n,r,s,i,a):e_(n,r,s,!1,i,a),u=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const m=c[0].index,_=d.data[m];_&&!_.skip&&u.push({element:_,datasetIndex:d.index,index:m})}),u):[]},dataset(n,e,t,i){const r=Mo(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;let c=t.intersect?Zg(n,r,s,i,a):e_(n,r,s,!1,i,a);if(c.length>0){const u=c[0].datasetIndex,d=n.getDatasetMeta(u).data;c=[];for(let m=0;m<d.length;++m)c.push({element:d[m],datasetIndex:u,index:m})}return c},point(n,e,t,i){const r=Mo(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;return Zg(n,r,s,i,a)},nearest(n,e,t,i){const r=Mo(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;return e_(n,r,s,t.intersect,i,a)},x(n,e,t,i){const r=Mo(e,n);return Jb(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=Mo(e,n);return Jb(n,r,"y",t.intersect,i)}}};const b1=["left","top","right","bottom"];function Wc(n,e){return n.filter(t=>t.pos===e)}function Zb(n,e){return n.filter(t=>b1.indexOf(t.pos)===-1&&t.box.axis===e)}function Kc(n,e){return n.sort((t,i)=>{const r=e?i:t,s=e?t:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function Fz(n){const e=[];let t,i,r,s,a,c;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:s,options:{stack:a,stackWeight:c=1}}=r,e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:c});return e}function $z(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:s}=t;if(!i||!b1.includes(r))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function jz(n,e){const t=$z(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,a,c;for(s=0,a=n.length;s<a;++s){c=n[s];const{fullSize:u}=c.box,d=t[c.stack],m=d&&c.stackWeight/d.weight;c.horizontal?(c.width=m?m*i:u&&e.availableWidth,c.height=r):(c.width=i,c.height=m?m*r:u&&e.availableHeight)}return t}function Uz(n){const e=Fz(n),t=Kc(e.filter(d=>d.box.fullSize),!0),i=Kc(Wc(e,"left"),!0),r=Kc(Wc(e,"right")),s=Kc(Wc(e,"top"),!0),a=Kc(Wc(e,"bottom")),c=Zb(e,"x"),u=Zb(e,"y");return{fullSize:t,leftAndTop:i.concat(s),rightAndBottom:r.concat(u).concat(a).concat(c),chartArea:Wc(e,"chartArea"),vertical:i.concat(r).concat(u),horizontal:s.concat(a).concat(c)}}function eS(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function S1(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function zz(n,e,t,i){const{pos:r,box:s}=t,a=n.maxPadding;if(!qe(r)){t.size&&(n[r]-=t.size);const _=i[t.stack]||{size:0,count:1};_.size=Math.max(_.size,t.horizontal?s.height:s.width),t.size=_.size/_.count,n[r]+=t.size}s.getPadding&&S1(a,s.getPadding());const c=Math.max(0,e.outerWidth-eS(a,n,"left","right")),u=Math.max(0,e.outerHeight-eS(a,n,"top","bottom")),d=c!==n.w,m=u!==n.h;return n.w=c,n.h=u,t.horizontal?{same:d,other:m}:{same:m,other:d}}function Bz(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function Hz(n,e){const t=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{s[a]=Math.max(e[a],t[a])}),s}return i(n?["left","right"]:["top","bottom"])}function iu(n,e,t,i){const r=[];let s,a,c,u,d,m;for(s=0,a=n.length,d=0;s<a;++s){c=n[s],u=c.box,u.update(c.width||e.w,c.height||e.h,Hz(c.horizontal,e));const{same:_,other:v}=zz(e,t,c,i);d|=_&&r.length,m=m||v,u.fullSize||r.push(c)}return d&&iu(r,e,t,i)||m}function Dd(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function tS(n,e,t,i){const r=t.padding;let{x:s,y:a}=e;for(const c of n){const u=c.box,d=i[c.stack]||{placed:0,weight:1},m=c.stackWeight/d.weight||1;if(c.horizontal){const _=e.w*m,v=d.size||u.height;Ou(d.start)&&(a=d.start),u.fullSize?Dd(u,r.left,a,t.outerWidth-r.right-r.left,v):Dd(u,e.left+d.placed,a,_,v),d.start=a,d.placed+=_,a=u.bottom}else{const _=e.h*m,v=d.size||u.width;Ou(d.start)&&(s=d.start),u.fullSize?Dd(u,s,r.top,v,t.outerHeight-r.bottom-r.top):Dd(u,s,e.top+d.placed,v,_),d.start=s,d.placed+=_,s=u.right}}e.x=s,e.y=a}var Os={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=li(n.options.layout.padding),s=Math.max(e-r.width,0),a=Math.max(t-r.height,0),c=Uz(n.boxes),u=c.vertical,d=c.horizontal;Xe(n.boxes,I=>{typeof I.beforeLayout=="function"&&I.beforeLayout()});const m=u.reduce((I,A)=>A.box.options&&A.box.options.display===!1?I:I+1,0)||1,_=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/m,hBoxMaxHeight:a/2}),v=Object.assign({},r);S1(v,li(i));const w=Object.assign({maxPadding:v,w:s,h:a,x:r.left,y:r.top},r),b=jz(u.concat(d),_);iu(c.fullSize,w,_,b),iu(u,w,_,b),iu(d,w,_,b)&&iu(u,w,_,b),Bz(w),tS(c.leftAndTop,w,_,b),w.x+=w.w,w.y+=w.h,tS(c.rightAndBottom,w,_,b),n.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},Xe(c.chartArea,I=>{const A=I.box;Object.assign(A,n.chartArea),A.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class I1{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class Wz extends I1{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const cf="$chartjs",Kz={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},nS=n=>n===null||n==="";function qz(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[cf]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",nS(r)){const s=zb(n,"width");s!==void 0&&(n.width=s)}if(nS(i))if(n.style.height==="")n.height=n.width/(e||2);else{const s=zb(n,"height");s!==void 0&&(n.height=s)}return n}const A1=nz?{passive:!0}:!1;function Gz(n,e,t){n&&n.addEventListener(e,t,A1)}function Yz(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,A1)}function Qz(n,e){const t=Kz[n.type]||n.type,{x:i,y:r}=Mo(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Yf(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function Xz(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const c of s)a=a||Yf(c.addedNodes,i),a=a&&!Yf(c.removedNodes,i);a&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function Jz(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const c of s)a=a||Yf(c.removedNodes,i),a=a&&!Yf(c.addedNodes,i);a&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const Nu=new Map;let iS=0;function x1(){const n=window.devicePixelRatio;n!==iS&&(iS=n,Nu.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function Zz(n,e){Nu.size||window.addEventListener("resize",x1),Nu.set(n,e)}function e9(n){Nu.delete(n),Nu.size||window.removeEventListener("resize",x1)}function t9(n,e,t){const i=n.canvas,r=i&&Mv(i);if(!r)return;const s=l1((c,u)=>{const d=r.clientWidth;t(c,u),d<r.clientWidth&&t()},window),a=new ResizeObserver(c=>{const u=c[0],d=u.contentRect.width,m=u.contentRect.height;d===0&&m===0||s(d,m)});return a.observe(r),Zz(n,s),a}function t_(n,e,t){t&&t.disconnect(),e==="resize"&&e9(n)}function n9(n,e,t){const i=n.canvas,r=l1(s=>{n.ctx!==null&&t(Qz(s,n))},n);return Gz(i,e,r),r}class i9 extends I1{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(qz(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[cf])return!1;const i=t[cf].initial;["height","width"].forEach(s=>{const a=i[s];Qe(a)?t.removeAttribute(s):t.setAttribute(s,a)});const r=i.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[cf],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),a={attach:Xz,detach:Jz,resize:t9}[t]||n9;r[t]=a(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:t_,detach:t_,resize:t_}[t]||Yz)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return tz(e,t,i,r)}isAttached(e){const t=e&&Mv(e);return!!(t&&t.isConnected)}}function r9(n){return!Dv()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Wz:i9}var Hd;let aa=(Hd=class{constructor(){be(this,"x");be(this,"y");be(this,"active",!1);be(this,"options");be(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Hf(this.x)&&Hf(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}},be(Hd,"defaults",{}),be(Hd,"defaultRoutes"),Hd);function s9(n,e){const t=n.options.ticks,i=o9(n),r=Math.min(t.maxTicksLimit||i,i),s=t.major.enabled?l9(e):[],a=s.length,c=s[0],u=s[a-1],d=[];if(a>r)return c9(e,d,s,a/r),d;const m=a9(s,e,r);if(a>0){let _,v;const w=a>1?Math.round((u-c)/(a-1)):null;for(Md(e,d,m,Qe(w)?0:c-w,c),_=0,v=a-1;_<v;_++)Md(e,d,m,s[_],s[_+1]);return Md(e,d,m,u,Qe(w)?e.length:u+w),d}return Md(e,d,m),d}function o9(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function a9(n,e,t){const i=u9(n),r=e.length/t;if(!i)return Math.max(r,1);const s=hU(i);for(let a=0,c=s.length-1;a<c;a++){const u=s[a];if(u>r)return u}return Math.max(r,1)}function l9(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function c9(n,e,t,i){let r=0,s=t[0],a;for(i=Math.ceil(i),a=0;a<n.length;a++)a===s&&(e.push(n[a]),r++,s=t[r*i])}function Md(n,e,t,i,r){const s=Ke(i,0),a=Math.min(Ke(r,n.length),n.length);let c=0,u,d,m;for(t=Math.ceil(t),r&&(u=r-i,t=u/Math.floor(u/t)),m=s;m<0;)c++,m=Math.round(s+c*t);for(d=Math.max(s,0);d<a;d++)d===m&&(e.push(n[d]),c++,m=Math.round(s+c*t))}function u9(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const h9=n=>n==="left"?"right":n==="right"?"left":n,rS=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,sS=(n,e)=>Math.min(e||n,n);function oS(n,e){const t=[],i=n.length/e,r=n.length;let s=0;for(;s<r;s+=i)t.push(n[Math.floor(s)]);return t}function d9(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),s=n._startPixel,a=n._endPixel,c=1e-6;let u=n.getPixelForTick(r),d;if(!(t&&(i===1?d=Math.max(u-s,a-u):e===0?d=(n.getPixelForTick(1)-u)/2:d=(u-n.getPixelForTick(r-1))/2,u+=r<e?d:-d,u<s-c||u>a+c)))return u}function f9(n,e){Xe(n,t=>{const i=t.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete t.data[i[s]];i.splice(0,r)}})}function qc(n){return n.drawTicks?n.tickLength:0}function aS(n,e){if(!n.display)return 0;const t=un(n.font,e),i=li(n.padding);return(Pt(n.text)?n.text.length:1)*t.lineHeight+i.height}function p9(n,e){return ql(n,{scale:e,type:"scale"})}function m9(n,e,t){return ql(n,{tick:t,index:e,type:"tick"})}function g9(n,e,t){let i=c1(n);return(t&&e!=="right"||!t&&e==="right")&&(i=h9(i)),i}function _9(n,e,t,i){const{top:r,left:s,bottom:a,right:c,chart:u}=n,{chartArea:d,scales:m}=u;let _=0,v,w,b;const I=a-r,A=c-s;if(n.isHorizontal()){if(w=Vn(i,s,c),qe(t)){const R=Object.keys(t)[0],L=t[R];b=m[R].getPixelForValue(L)+I-e}else t==="center"?b=(d.bottom+d.top)/2+I-e:b=rS(n,t,e);v=c-s}else{if(qe(t)){const R=Object.keys(t)[0],L=t[R];w=m[R].getPixelForValue(L)-A+e}else t==="center"?w=(d.left+d.right)/2-A+e:w=rS(n,t,e);b=Vn(i,a,r),_=t==="left"?-Ot:Ot}return{titleX:w,titleY:b,maxWidth:v,rotation:_}}class Gl extends aa{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=Yi(e,Number.POSITIVE_INFINITY),t=Yi(t,Number.NEGATIVE_INFINITY),i=Yi(i,Number.POSITIVE_INFINITY),r=Yi(r,Number.NEGATIVE_INFINITY),{min:Yi(e,i),max:Yi(t,r),minDefined:ai(e),maxDefined:ai(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),a;if(r&&s)return{min:t,max:i};const c=this.getMatchingVisibleMetas();for(let u=0,d=c.length;u<d;++u)a=c[u].controller.getMinMax(this,e),r||(t=Math.min(t,a.min)),s||(i=Math.max(i,a.max));return t=s&&t>i?i:t,i=r&&t>i?t:i,{min:Yi(t,Yi(i,t)),max:Yi(i,Yi(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){tt(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:s,ticks:a}=this.options,c=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=jU(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?oS(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=s9(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){tt(this.options.afterUpdate,[this])}beforeSetDimensions(){tt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){tt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),tt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){tt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=tt(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){tt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){tt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=sS(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let a=r,c,u,d;if(!this._isVisible()||!t.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const m=this._getLabelSizes(),_=m.widest.width,v=m.highest.height,w=Cn(this.chart.width-_,0,this.maxWidth);c=e.offset?this.maxWidth/i:w/(i-1),_+6>c&&(c=w/(i-(e.offset?.5:1)),u=this.maxHeight-qc(e.grid)-t.padding-aS(e.title,this.chart.options.font),d=Math.sqrt(_*_+v*v),a=mU(Math.min(Math.asin(Cn((m.highest.height+6)/c,-1,1)),Math.asin(Cn(u/d,-1,1))-Math.asin(Cn(v/d,-1,1)))),a=Math.max(r,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){tt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){tt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:s}}=this,a=this._isVisible(),c=this.isHorizontal();if(a){const u=aS(r,t.options.font);if(c?(e.width=this.maxWidth,e.height=qc(s)+u):(e.height=this.maxHeight,e.width=qc(s)+u),i.display&&this.ticks.length){const{first:d,last:m,widest:_,highest:v}=this._getLabelSizes(),w=i.padding*2,b=Dr(this.labelRotation),I=Math.cos(b),A=Math.sin(b);if(c){const R=i.mirror?0:A*_.width+I*v.height;e.height=Math.min(this.maxHeight,e.height+R+w)}else{const R=i.mirror?0:I*_.width+A*v.height;e.width=Math.min(this.maxWidth,e.width+R+w)}this._calculatePadding(d,m,A,I)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:s,padding:a},position:c}=this.options,u=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,w=0;u?d?(v=r*e.width,w=i*t.height):(v=i*e.height,w=r*t.width):s==="start"?w=t.width:s==="end"?v=e.width:s!=="inner"&&(v=e.width/2,w=t.width/2),this.paddingLeft=Math.max((v-m+a)*this.width/(this.width-m),0),this.paddingRight=Math.max((w-_+a)*this.width/(this.width-_),0)}else{let m=t.height/2,_=e.height/2;s==="start"?(m=0,_=e.height):s==="end"&&(m=t.height,_=0),this.paddingTop=m+a,this.paddingBottom=_+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){tt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Qe(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=oS(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:s}=this,a=[],c=[],u=Math.floor(t/sS(t,i));let d=0,m=0,_,v,w,b,I,A,R,L,j,U,q;for(_=0;_<t;_+=u){if(b=e[_].label,I=this._resolveTickFontOptions(_),r.font=A=I.string,R=s[A]=s[A]||{data:{},gc:[]},L=I.lineHeight,j=U=0,!Qe(b)&&!Pt(b))j=Vb(r,R.data,R.gc,j,b),U=L;else if(Pt(b))for(v=0,w=b.length;v<w;++v)q=b[v],!Qe(q)&&!Pt(q)&&(j=Vb(r,R.data,R.gc,j,q),U+=L);a.push(j),c.push(U),d=Math.max(j,d),m=Math.max(U,m)}f9(s,t);const G=a.indexOf(d),P=c.indexOf(m),x=k=>({width:a[k]||0,height:c[k]||0});return{first:x(0),last:x(t-1),widest:x(G),highest:x(P),widths:a,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return _U(this._alignToPixels?Oo(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=m9(this.getContext(),e,i))}return this.$context||(this.$context=p9(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Dr(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,c=s?s.widest.width+a:0,u=s?s.highest.height+a:0;return this.isHorizontal()?u*i>c*r?c/i:u/r:u*r<c*i?u/i:c/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:s,position:a,border:c}=r,u=s.offset,d=this.isHorizontal(),_=this.ticks.length+(u?1:0),v=qc(s),w=[],b=c.setContext(this.getContext()),I=b.display?b.width:0,A=I/2,R=function(we){return Oo(i,we,I)};let L,j,U,q,G,P,x,k,N,M,V,O;if(a==="top")L=R(this.bottom),P=this.bottom-v,k=L-A,M=R(e.top)+A,O=e.bottom;else if(a==="bottom")L=R(this.top),M=e.top,O=R(e.bottom)-A,P=L+A,k=this.top+v;else if(a==="left")L=R(this.right),G=this.right-v,x=L-A,N=R(e.left)+A,V=e.right;else if(a==="right")L=R(this.left),N=e.left,V=R(e.right)-A,G=L+A,x=this.left+v;else if(t==="x"){if(a==="center")L=R((e.top+e.bottom)/2+.5);else if(qe(a)){const we=Object.keys(a)[0],_e=a[we];L=R(this.chart.scales[we].getPixelForValue(_e))}M=e.top,O=e.bottom,P=L+A,k=P+v}else if(t==="y"){if(a==="center")L=R((e.left+e.right)/2);else if(qe(a)){const we=Object.keys(a)[0],_e=a[we];L=R(this.chart.scales[we].getPixelForValue(_e))}G=L-A,x=G-v,N=e.left,V=e.right}const De=Ke(r.ticks.maxTicksLimit,_),Se=Math.max(1,Math.ceil(_/De));for(j=0;j<_;j+=Se){const we=this.getContext(j),_e=s.setContext(we),ie=c.setContext(we),ue=_e.lineWidth,le=_e.color,z=ie.dash||[],J=ie.dashOffset,fe=_e.tickWidth,oe=_e.tickColor,de=_e.tickBorderDash||[],he=_e.tickBorderDashOffset;U=d9(this,j,u),U!==void 0&&(q=Oo(i,U,ue),d?G=x=N=V=q:P=k=M=O=q,w.push({tx1:G,ty1:P,tx2:x,ty2:k,x1:N,y1:M,x2:V,y2:O,width:ue,color:le,borderDash:z,borderDashOffset:J,tickWidth:fe,tickColor:oe,tickBorderDash:de,tickBorderDashOffset:he}))}return this._ticksLength=_,this._borderValue=L,w}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:s}=i,a=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:d,padding:m,mirror:_}=s,v=qc(i.grid),w=v+m,b=_?-m:w,I=-Dr(this.labelRotation),A=[];let R,L,j,U,q,G,P,x,k,N,M,V,O="middle";if(r==="top")G=this.bottom-b,P=this._getXAxisLabelAlignment();else if(r==="bottom")G=this.top+b,P=this._getXAxisLabelAlignment();else if(r==="left"){const Se=this._getYAxisLabelAlignment(v);P=Se.textAlign,q=Se.x}else if(r==="right"){const Se=this._getYAxisLabelAlignment(v);P=Se.textAlign,q=Se.x}else if(t==="x"){if(r==="center")G=(e.top+e.bottom)/2+w;else if(qe(r)){const Se=Object.keys(r)[0],we=r[Se];G=this.chart.scales[Se].getPixelForValue(we)+w}P=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")q=(e.left+e.right)/2-w;else if(qe(r)){const Se=Object.keys(r)[0],we=r[Se];q=this.chart.scales[Se].getPixelForValue(we)}P=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(u==="start"?O="top":u==="end"&&(O="bottom"));const De=this._getLabelSizes();for(R=0,L=c.length;R<L;++R){j=c[R],U=j.label;const Se=s.setContext(this.getContext(R));x=this.getPixelForTick(R)+s.labelOffset,k=this._resolveTickFontOptions(R),N=k.lineHeight,M=Pt(U)?U.length:1;const we=M/2,_e=Se.color,ie=Se.textStrokeColor,ue=Se.textStrokeWidth;let le=P;a?(q=x,P==="inner"&&(R===L-1?le=this.options.reverse?"left":"right":R===0?le=this.options.reverse?"right":"left":le="center"),r==="top"?d==="near"||I!==0?V=-M*N+N/2:d==="center"?V=-De.highest.height/2-we*N+N:V=-De.highest.height+N/2:d==="near"||I!==0?V=N/2:d==="center"?V=De.highest.height/2-we*N:V=De.highest.height-M*N,_&&(V*=-1),I!==0&&!Se.showLabelBackdrop&&(q+=N/2*Math.sin(I))):(G=x,V=(1-M)*N/2);let z;if(Se.showLabelBackdrop){const J=li(Se.backdropPadding),fe=De.heights[R],oe=De.widths[R];let de=V-J.top,he=0-J.left;switch(O){case"middle":de-=fe/2;break;case"bottom":de-=fe;break}switch(P){case"center":he-=oe/2;break;case"right":he-=oe;break;case"inner":R===L-1?he-=oe:R>0&&(he-=oe/2);break}z={left:he,top:de,width:oe+J.width,height:fe+J.height,color:Se.backdropColor}}A.push({label:U,font:k,textOffset:V,options:{rotation:I,color:_e,strokeColor:ie,strokeWidth:ue,textAlign:le,textBaseline:O,translation:[q,G],backdrop:z}})}return A}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Dr(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,a=this._getLabelSizes(),c=e+s,u=a.widest.width;let d,m;return t==="left"?r?(m=this.right+s,i==="near"?d="left":i==="center"?(d="center",m+=u/2):(d="right",m+=u)):(m=this.right-c,i==="near"?d="right":i==="center"?(d="center",m-=u/2):(d="left",m=this.left)):t==="right"?r?(m=this.left+s,i==="near"?d="right":i==="center"?(d="center",m-=u/2):(d="left",m-=u)):(m=this.left+c,i==="near"?d="left":i==="center"?(d="center",m+=u/2):(d="right",m=this.right)):d="right",{textAlign:d,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:s,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,s,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const c=(u,d,m)=>{!m.width||!m.color||(i.save(),i.lineWidth=m.width,i.strokeStyle=m.color,i.setLineDash(m.borderDash||[]),i.lineDashOffset=m.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(t.display)for(s=0,a=r.length;s<a;++s){const u=r[s];t.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),t.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),a=i.display?s.width:0;if(!a)return;const c=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,m,_,v;this.isHorizontal()?(d=Oo(e,this.left,a)-a/2,m=Oo(e,this.right,c)+c/2,_=v=u):(_=Oo(e,this.top,a)-a/2,v=Oo(e,this.bottom,c)+c/2,d=m=u),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(d,_),t.lineTo(m,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Cv(i,r);const s=this.getLabelItems(e);for(const a of s){const c=a.options,u=a.font,d=a.label,m=a.textOffset;Kf(i,d,0,m,u,c)}r&&kv(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const s=un(i.font),a=li(i.padding),c=i.align;let u=s.lineHeight/2;t==="bottom"||t==="center"||qe(t)?(u+=a.bottom,Pt(i.text)&&(u+=s.lineHeight*(i.text.length-1))):u+=a.top;const{titleX:d,titleY:m,maxWidth:_,rotation:v}=_9(this,u,t,c);Kf(e,i.text,0,0,s,{color:i.color,maxWidth:_,rotation:v,textAlign:g9(c,t,r),textBaseline:"middle",translation:[d,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=Ke(e.grid&&e.grid.z,-1),r=Ke(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Gl.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,a;for(s=0,a=t.length;s<a;++s){const c=t[s];c[i]===this.id&&(!e||c.type===e)&&r.push(c)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return un(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ld{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;E9(t)&&(i=this.register(t));const r=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,y9(e,a,i),this.override&&yt.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in yt[r]&&(delete yt[r][i],this.override&&delete Zo[i])}}function y9(n,e,t){const i=hr(Object.create(null),[t?yt.get(t):{},yt.get(e),n.defaults]);yt.set(e,i),n.defaultRoutes&&v9(e,n.defaultRoutes),n.descriptors&&yt.describe(e,n.descriptors)}function v9(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),s=[n].concat(i).join("."),a=e[t].split("."),c=a.pop(),u=a.join(".");yt.route(s,r,u,c)})}function E9(n){return"id"in n&&"defaults"in n}class w9{constructor(){this.controllers=new Ld(ml,"datasets",!0),this.elements=new Ld(aa,"elements"),this.plugins=new Ld(Object,"plugins"),this.scales=new Ld(Gl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Xe(r,a=>{const c=i||this._getRegistryForType(a);this._exec(e,c,a)})})}_exec(e,t,i){const r=Sv(e);tt(i["before"+r],[],i),t[e](i),tt(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Xi=new w9;class T9{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(s,e,t,i);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,i,r){r=r||{};for(const s of e){const a=s.plugin,c=a[i],u=[t,r,s.options];if(tt(c,u,a)===!1&&r.cancelable)return!1}return!0}invalidate(){Qe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=Ke(i.options&&i.options.plugins,{}),s=b9(i);return r===!1&&!t?[]:I9(e,s,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(s,a)=>s.filter(c=>!a.some(u=>c.plugin.id===u.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function b9(n){const e={},t=[],i=Object.keys(Xi.plugins.items);for(let s=0;s<i.length;s++)t.push(Xi.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const a=r[s];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function S9(n,e){return!e&&n===!1?null:n===!0?{}:n}function I9(n,{plugins:e,localIds:t},i,r){const s=[],a=n.getContext();for(const c of e){const u=c.id,d=S9(i[u],r);d!==null&&s.push({plugin:c,options:A9(n.config,{plugin:c,local:t[u]},d,a)})}return s}function A9(n,{plugin:e,local:t},i,r){const s=n.pluginScopeKeys(e),a=n.getOptionScopes(i,s);return t&&e.defaults&&a.push(e.defaults),n.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function q_(n,e){const t=yt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function x9(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function C9(n,e){return n===e?"_index_":"_value_"}function lS(n){if(n==="x"||n==="y"||n==="r")return n}function k9(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function G_(n,...e){if(lS(n))return n;for(const t of e){const i=t.axis||k9(t.position)||n.length>1&&lS(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function cS(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function R9(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return cS(n,"x",t[0])||cS(n,"y",t[0])}return{}}function P9(n,e){const t=Zo[n.type]||{scales:{}},i=e.scales||{},r=q_(n.type,e),s=Object.create(null);return Object.keys(i).forEach(a=>{const c=i[a];if(!qe(c))return console.error(`Invalid scale configuration for scale: ${a}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=G_(a,c,R9(a,n),yt.scales[c.type]),d=C9(u,r),m=t.scales||{};s[a]=pu(Object.create(null),[{axis:u},c,m[u],m[d]])}),n.data.datasets.forEach(a=>{const c=a.type||n.type,u=a.indexAxis||q_(c,e),m=(Zo[c]||{}).scales||{};Object.keys(m).forEach(_=>{const v=x9(_,u),w=a[v+"AxisID"]||v;s[w]=s[w]||Object.create(null),pu(s[w],[{axis:v},i[w],m[_]])})}),Object.keys(s).forEach(a=>{const c=s[a];pu(c,[yt.scales[c.type],yt.scale])}),s}function C1(n){const e=n.options||(n.options={});e.plugins=Ke(e.plugins,{}),e.scales=P9(n,e)}function k1(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function O9(n){return n=n||{},n.data=k1(n.data),C1(n),n}const uS=new Map,R1=new Set;function Vd(n,e){let t=uS.get(n);return t||(t=e(),uS.set(n,t),R1.add(t)),t}const Gc=(n,e,t)=>{const i=Jo(e,t);i!==void 0&&n.add(i)};class N9{constructor(e){this._config=O9(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=k1(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),C1(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Vd(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Vd(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Vd(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return Vd(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:s}=this,a=this._cachedScopes(e,i),c=a.get(t);if(c)return c;const u=new Set;t.forEach(m=>{e&&(u.add(e),m.forEach(_=>Gc(u,e,_))),m.forEach(_=>Gc(u,r,_)),m.forEach(_=>Gc(u,Zo[s]||{},_)),m.forEach(_=>Gc(u,yt,_)),m.forEach(_=>Gc(u,H_,_))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),R1.has(t)&&a.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,Zo[t]||{},yt.datasets[t]||{},{type:t},yt,H_]}resolveNamedOptions(e,t,i,r=[""]){const s={$shared:!0},{resolver:a,subPrefixes:c}=hS(this._resolverCache,e,r);let u=a;if(M9(a,t)){s.$shared=!1,i=Ys(i)?i():i;const d=this.createResolver(e,i,c);u=Nl(a,i,d)}for(const d of t)s[d]=u[d];return s}createResolver(e,t,i=[""],r){const{resolver:s}=hS(this._resolverCache,e,i);return qe(t)?Nl(s,t,void 0,r):s}}function hS(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let s=i.get(r);return s||(s={resolver:Pv(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},i.set(r,s)),s}const D9=n=>qe(n)&&Object.getOwnPropertyNames(n).some(e=>Ys(n[e]));function M9(n,e){const{isScriptable:t,isIndexable:i}=p1(n);for(const r of e){const s=t(r),a=i(r),c=(a||s)&&n[r];if(s&&(Ys(c)||D9(c))||a&&Pt(c))return!0}return!1}var L9="4.5.0";const V9=["top","bottom","left","right","chartArea"];function dS(n,e){return n==="top"||n==="bottom"||V9.indexOf(n)===-1&&e==="x"}function fS(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function pS(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),tt(t&&t.onComplete,[n],e)}function F9(n){const e=n.chart,t=e.options.animation;tt(t&&t.onProgress,[n],e)}function P1(n){return Dv()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const uf={},mS=n=>{const e=P1(n);return Object.values(uf).filter(t=>t.canvas===e).pop()};function $9(n,e,t){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=e){const a=n[r];delete n[r],(t>0||s>e)&&(n[s+t]=a)}}}function j9(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}var Is;let Lp=(Is=class{static register(...e){Xi.add(...e),gS()}static unregister(...e){Xi.remove(...e),gS()}constructor(e,t){const i=this.config=new N9(t),r=P1(e),s=mS(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||r9(r)),this.platform.updateConfig(i);const c=this.platform.acquireContext(r,a.aspectRatio),u=c&&c.canvas,d=u&&u.height,m=u&&u.width;if(this.id=iU(),this.ctx=c,this.canvas=u,this.width=m,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new T9,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=wU(_=>this.update(_),a.resizeDelay||0),this._dataChanges=[],uf[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}kr.listen(this,"complete",pS),kr.listen(this,"progress",F9),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:s}=this;return Qe(e)?t&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Xi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ub(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Fb(this.canvas,this.ctx),this}stop(){return kr.stop(this),this}resize(e,t){kr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,t,s),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Ub(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),tt(i.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Xe(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((a,c)=>(a[c]=!1,a),{});let s=[];t&&(s=s.concat(Object.keys(t).map(a=>{const c=t[a],u=G_(a,c),d=u==="r",m=u==="x";return{options:c,dposition:d?"chartArea":m?"bottom":"left",dtype:d?"radialLinear":m?"category":"linear"}}))),Xe(s,a=>{const c=a.options,u=c.id,d=G_(u,c),m=Ke(c.type,a.dtype);(c.position===void 0||dS(c.position,d)!==dS(a.dposition))&&(c.position=a.dposition),r[u]=!0;let _=null;if(u in i&&i[u].type===m)_=i[u];else{const v=Xi.getScale(m);_=new v({id:u,type:m,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(c,e)}),Xe(r,(a,c)=>{a||delete i[c]}),Xe(i,a=>{Os.configure(this,a,a.options),Os.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(fS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const s=t[i];let a=this.getDatasetMeta(i);const c=s.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=c,a.indexAxis=s.indexAxis||q_(c,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const u=Xi.getController(c),{datasetElementType:d,dataElementType:m}=yt.datasets[c];Object.assign(u,{dataElementType:Xi.getElement(m),datasetElementType:d&&Xi.getElement(d)}),a.controller=new u(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Xe(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,m=this.data.datasets.length;d<m;d++){const{controller:_}=this.getDatasetMeta(d),v=!r&&s.indexOf(_)===-1;_.buildOrUpdateElements(v),a=Math.max(+_.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||Xe(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(fS("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Xe(this.scales,e=>{Os.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Cb(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of t){const a=i==="_removeElements"?-s:s;$9(e,r,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=s=>new Set(e.filter(a=>a[0]===s).map((a,c)=>c+","+a.splice(1).join(","))),r=i(0);for(let s=1;s<t;s++)if(!Cb(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Os.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Xe(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Ys(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(kr.has(this)?this.attached&&!kr.running(this)&&kr.start(this):(this.draw(),pS({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,s;for(r=0,s=t.length;r<s;++r){const a=t[r];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=oz(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Cv(t,r),e.controller.draw(),r&&kv(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return xv(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const s=Vz.modes[t];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=ql(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,r);Ou(t)?(s.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(s,{visible:i}),this.update(c=>c.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),kr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Fb(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete uf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(s,a)=>{t.addEventListener(this,s,a),e[s]=a},r=(s,a,c)=>{s.offsetX=a,s.offsetY=c,this._eventHandler(s)};Xe(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(u,d)=>{t.addEventListener(this,u,d),e[u]=d},r=(u,d)=>{e[u]&&(t.removeEventListener(this,u,d),delete e[u])},s=(u,d)=>{this.canvas&&this.resize(u,d)};let a;const c=()=>{r("attach",c),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",c)},t.isAttached(this.canvas)?c():a()}unbindEvents(){Xe(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Xe(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let s,a,c,u;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),c=0,u=e.length;c<u;++c){a=e[c];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:s,index:a})=>{const c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[a],index:a}});!Uf(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,s=(u,d)=>u.filter(m=>!d.some(_=>m.datasetIndex===_.datasetIndex&&m.index===_.index)),a=s(t,e),c=i?e:s(e,t);a.length&&this.updateHoverStyle(a,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:s}=this,a=t,c=this._getActiveElements(e,r,i,a),u=cU(e),d=j9(e,this._lastEvent,i,u);i&&(this._lastEvent=null,tt(s.onHover,[e,c,this],this),u&&tt(s.onClick,[e,c,this],this));const m=!Uf(c,r);return(m||t)&&(this._active=c,this._updateHoverStyles(c,r,t)),this._lastEvent=d,m}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},be(Is,"defaults",yt),be(Is,"instances",uf),be(Is,"overrides",Zo),be(Is,"registry",Xi),be(Is,"version",L9),be(Is,"getChart",mS),Is);function gS(){return Xe(Lp.instances,n=>n._plugins.invalidate())}function U9(n,e,t){const{startAngle:i,x:r,y:s,outerRadius:a,innerRadius:c,options:u}=e,{borderWidth:d,borderJoinStyle:m}=u,_=Math.min(d/a,Zi(i-t));if(n.beginPath(),n.arc(r,s,a-d/2,i+_/2,t-_/2),c>0){const v=Math.min(d/c,Zi(i-t));n.arc(r,s,c+d/2,t-v/2,i+v/2,!0)}else{const v=Math.min(d/2,a*Zi(i-t));if(m==="round")n.arc(r,s,v,t-ot/2,i+ot/2,!0);else if(m==="bevel"){const w=2*v*v,b=-w*Math.cos(t+ot/2)+r,I=-w*Math.sin(t+ot/2)+s,A=w*Math.cos(i+ot/2)+r,R=w*Math.sin(i+ot/2)+s;n.lineTo(b,I),n.lineTo(A,R)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function z9(n,e,t){const{startAngle:i,pixelMargin:r,x:s,y:a,outerRadius:c,innerRadius:u}=e;let d=r/c;n.beginPath(),n.arc(s,a,c,i-d,t+d),u>r?(d=r/u,n.arc(s,a,u,t+d,i-d,!0)):n.arc(s,a,r,t+Ot,i-Ot),n.closePath(),n.clip()}function B9(n){return Rv(n,["outerStart","outerEnd","innerStart","innerEnd"])}function H9(n,e,t,i){const r=B9(n.options.borderRadius),s=(t-e)/2,a=Math.min(s,i*e/2),c=u=>{const d=(t-Math.min(s,u))*i/2;return Cn(u,0,Math.min(s,d))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:Cn(r.innerStart,0,a),innerEnd:Cn(r.innerEnd,0,a)}}function Ja(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function Qf(n,e,t,i,r,s){const{x:a,y:c,startAngle:u,pixelMargin:d,innerRadius:m}=e,_=Math.max(e.outerRadius+i+t-d,0),v=m>0?m+i+t+d:0;let w=0;const b=r-u;if(i){const Se=m>0?m-i:0,we=_>0?_-i:0,_e=(Se+we)/2,ie=_e!==0?b*_e/(_e+i):b;w=(b-ie)/2}const I=Math.max(.001,b*_-t/ot)/_,A=(b-I)/2,R=u+A+w,L=r-A-w,{outerStart:j,outerEnd:U,innerStart:q,innerEnd:G}=H9(e,v,_,L-R),P=_-j,x=_-U,k=R+j/P,N=L-U/x,M=v+q,V=v+G,O=R+q/M,De=L-G/V;if(n.beginPath(),s){const Se=(k+N)/2;if(n.arc(a,c,_,k,Se),n.arc(a,c,_,Se,N),U>0){const ue=Ja(x,N,a,c);n.arc(ue.x,ue.y,U,N,L+Ot)}const we=Ja(V,L,a,c);if(n.lineTo(we.x,we.y),G>0){const ue=Ja(V,De,a,c);n.arc(ue.x,ue.y,G,L+Ot,De+Math.PI)}const _e=(L-G/v+(R+q/v))/2;if(n.arc(a,c,v,L-G/v,_e,!0),n.arc(a,c,v,_e,R+q/v,!0),q>0){const ue=Ja(M,O,a,c);n.arc(ue.x,ue.y,q,O+Math.PI,R-Ot)}const ie=Ja(P,R,a,c);if(n.lineTo(ie.x,ie.y),j>0){const ue=Ja(P,k,a,c);n.arc(ue.x,ue.y,j,R-Ot,k)}}else{n.moveTo(a,c);const Se=Math.cos(k)*_+a,we=Math.sin(k)*_+c;n.lineTo(Se,we);const _e=Math.cos(N)*_+a,ie=Math.sin(N)*_+c;n.lineTo(_e,ie)}n.closePath()}function W9(n,e,t,i,r){const{fullCircles:s,startAngle:a,circumference:c}=e;let u=e.endAngle;if(s){Qf(n,e,t,i,u,r);for(let d=0;d<s;++d)n.fill();isNaN(c)||(u=a+(c%It||It))}return Qf(n,e,t,i,u,r),n.fill(),u}function K9(n,e,t,i,r){const{fullCircles:s,startAngle:a,circumference:c,options:u}=e,{borderWidth:d,borderJoinStyle:m,borderDash:_,borderDashOffset:v,borderRadius:w}=u,b=u.borderAlign==="inner";if(!d)return;n.setLineDash(_||[]),n.lineDashOffset=v,b?(n.lineWidth=d*2,n.lineJoin=m||"round"):(n.lineWidth=d,n.lineJoin=m||"bevel");let I=e.endAngle;if(s){Qf(n,e,t,i,I,r);for(let A=0;A<s;++A)n.stroke();isNaN(c)||(I=a+(c%It||It))}b&&z9(n,e,I),u.selfJoin&&I-a>=ot&&w===0&&m!=="miter"&&U9(n,e,I),s||(Qf(n,e,t,i,I,r),n.stroke())}class ll extends aa{constructor(t){super();be(this,"circumference");be(this,"endAngle");be(this,"fullCircles");be(this,"innerRadius");be(this,"outerRadius");be(this,"pixelMargin");be(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,r){const s=this.getProps(["x","y"],r),{angle:a,distance:c}=r1(s,{x:t,y:i}),{startAngle:u,endAngle:d,innerRadius:m,outerRadius:_,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),w=(this.options.spacing+this.options.borderWidth)/2,b=Ke(v,d-u),I=Wf(a,u,d)&&u!==d,A=b>=It||I,R=jo(c,m+w,_+w);return A&&R}getCenterPoint(t){const{x:i,y:r,startAngle:s,endAngle:a,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:m}=this.options,_=(s+a)/2,v=(c+u+m+d)/2;return{x:i+Math.cos(_)*v,y:r+Math.sin(_)*v}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:r}=this,s=(i.offset||0)/4,a=(i.spacing||0)/2,c=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>It?Math.floor(r/It):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*s,Math.sin(u)*s);const d=1-Math.sin(Math.min(ot,r||0)),m=s*d;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,W9(t,this,m,a,c),K9(t,this,m,a,c),t.restore()}}be(ll,"id","arc"),be(ll,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),be(ll,"defaultRoutes",{backgroundColor:"backgroundColor"}),be(ll,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function _S(n,e,t,i){const r=n.options,{[t]:s}=n.getProps([t],i);return Math.abs(e-s)<r.radius+r.hitRadius}class hf extends aa{constructor(t){super();be(this,"parsed");be(this,"skip");be(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,r){const s=this.options,{x:a,y:c}=this.getProps(["x","y"],r);return Math.pow(t-a,2)+Math.pow(i-c,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,i){return _S(this,t,"x",i)}inYRange(t,i){return _S(this,t,"y",i)}getCenterPoint(t){const{x:i,y:r}=this.getProps(["x","y"],t);return{x:i,y:r}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const r=i&&t.borderWidth||0;return(i+r)*2}draw(t,i){const r=this.options;this.skip||r.radius<.1||!xv(this,i,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,W_(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}be(hf,"id","point"),be(hf,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),be(hf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function O1(n,e){const{x:t,y:i,base:r,width:s,height:a}=n.getProps(["x","y","base","width","height"],e);let c,u,d,m,_;return n.horizontal?(_=a/2,c=Math.min(t,r),u=Math.max(t,r),d=i-_,m=i+_):(_=s/2,c=t-_,u=t+_,d=Math.min(i,r),m=Math.max(i,r)),{left:c,top:d,right:u,bottom:m}}function Ns(n,e,t,i){return n?0:Cn(e,t,i)}function q9(n,e,t){const i=n.options.borderWidth,r=n.borderSkipped,s=f1(i);return{t:Ns(r.top,s.top,0,t),r:Ns(r.right,s.right,0,e),b:Ns(r.bottom,s.bottom,0,t),l:Ns(r.left,s.left,0,e)}}function G9(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=fl(r),a=Math.min(e,t),c=n.borderSkipped,u=i||qe(r);return{topLeft:Ns(!u||c.top||c.left,s.topLeft,0,a),topRight:Ns(!u||c.top||c.right,s.topRight,0,a),bottomLeft:Ns(!u||c.bottom||c.left,s.bottomLeft,0,a),bottomRight:Ns(!u||c.bottom||c.right,s.bottomRight,0,a)}}function Y9(n){const e=O1(n),t=e.right-e.left,i=e.bottom-e.top,r=q9(n,t/2,i/2),s=G9(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function n_(n,e,t,i){const r=e===null,s=t===null,c=n&&!(r&&s)&&O1(n,i);return c&&(r||jo(e,c.left,c.right))&&(s||jo(t,c.top,c.bottom))}function Q9(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function X9(n,e){n.rect(e.x,e.y,e.w,e.h)}function i_(n,e,t={}){const i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-i,a=(n.y+n.h!==t.y+t.h?e:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+s,h:n.h+a,radius:n.radius}}class _u extends aa{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:a}=Y9(this),c=Q9(a.radius)?qf:X9;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),c(e,i_(a,t,s)),e.clip(),c(e,i_(s,-t,a)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),c(e,i_(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return n_(this,e,t,i)}inXRange(e,t){return n_(this,e,null,t)}inYRange(e,t){return n_(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}be(_u,"id","bar"),be(_u,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),be(_u,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const yS=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},J9=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class vS extends aa{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=tt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=un(i.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=yS(i,s);let d,m;t.font=r.string,this.isHorizontal()?(d=this.maxWidth,m=this._fitRows(a,s,c,u)+10):(m=this.maxHeight,d=this._fitCols(a,r,c,u)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:s,maxWidth:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],m=r+c;let _=e;s.textAlign="left",s.textBaseline="middle";let v=-1,w=-m;return this.legendItems.forEach((b,I)=>{const A=i+t/2+s.measureText(b.text).width;(I===0||d[d.length-1]+A+2*c>a)&&(_+=m,d[d.length-(I>0?0:1)]=0,w+=m,v++),u[I]={left:0,top:w,row:v,width:A,height:r},d[d.length-1]+=A+c}),_}_fitCols(e,t,i,r){const{ctx:s,maxHeight:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],m=a-e;let _=c,v=0,w=0,b=0,I=0;return this.legendItems.forEach((A,R)=>{const{itemWidth:L,itemHeight:j}=Z9(i,t,s,A,r);R>0&&w+j+2*c>m&&(_+=v+c,d.push({width:v,height:w}),b+=v+c,I++,v=w=0),u[R]={left:b,top:w,col:I,width:L,height:j},v=Math.max(v,L),w+=j+c}),_+=v,d.push({width:v,height:w}),_}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:s}}=this,a=pl(s,this.left,this.width);if(this.isHorizontal()){let c=0,u=Vn(i,this.left+r,this.right-this.lineWidths[c]);for(const d of t)c!==d.row&&(c=d.row,u=Vn(i,this.left+r,this.right-this.lineWidths[c])),d.top+=this.top+e+r,d.left=a.leftForLtr(a.x(u),d.width),u+=d.width+r}else{let c=0,u=Vn(i,this.top+e+r,this.bottom-this.columnSizes[c].height);for(const d of t)d.col!==c&&(c=d.col,u=Vn(i,this.top+e+r,this.bottom-this.columnSizes[c].height)),d.top=u,d.left+=this.left+r,d.left=a.leftForLtr(a.x(d.left),d.width),u+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Cv(e,this),this._draw(),kv(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:s,labels:a}=e,c=yt.color,u=pl(e.rtl,this.left,this.width),d=un(a.font),{padding:m}=a,_=d.size,v=_/2;let w;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:b,boxHeight:I,itemHeight:A}=yS(a,_),R=function(G,P,x){if(isNaN(b)||b<=0||isNaN(I)||I<0)return;r.save();const k=Ke(x.lineWidth,1);if(r.fillStyle=Ke(x.fillStyle,c),r.lineCap=Ke(x.lineCap,"butt"),r.lineDashOffset=Ke(x.lineDashOffset,0),r.lineJoin=Ke(x.lineJoin,"miter"),r.lineWidth=k,r.strokeStyle=Ke(x.strokeStyle,c),r.setLineDash(Ke(x.lineDash,[])),a.usePointStyle){const N={radius:I*Math.SQRT2/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:k},M=u.xPlus(G,b/2),V=P+v;d1(r,N,M,V,a.pointStyleWidth&&b)}else{const N=P+Math.max((_-I)/2,0),M=u.leftForLtr(G,b),V=fl(x.borderRadius);r.beginPath(),Object.values(V).some(O=>O!==0)?qf(r,{x:M,y:N,w:b,h:I,radius:V}):r.rect(M,N,b,I),r.fill(),k!==0&&r.stroke()}r.restore()},L=function(G,P,x){Kf(r,x.text,G,P+A/2,d,{strikethrough:x.hidden,textAlign:u.textAlign(x.textAlign)})},j=this.isHorizontal(),U=this._computeTitleHeight();j?w={x:Vn(s,this.left+m,this.right-i[0]),y:this.top+m+U,line:0}:w={x:this.left+m,y:Vn(s,this.top+U+m,this.bottom-t[0].height),line:0},y1(this.ctx,e.textDirection);const q=A+m;this.legendItems.forEach((G,P)=>{r.strokeStyle=G.fontColor,r.fillStyle=G.fontColor;const x=r.measureText(G.text).width,k=u.textAlign(G.textAlign||(G.textAlign=a.textAlign)),N=b+v+x;let M=w.x,V=w.y;u.setWidth(this.width),j?P>0&&M+N+m>this.right&&(V=w.y+=q,w.line++,M=w.x=Vn(s,this.left+m,this.right-i[w.line])):P>0&&V+q>this.bottom&&(M=w.x=M+t[w.line].width+m,w.line++,V=w.y=Vn(s,this.top+U+m,this.bottom-t[w.line].height));const O=u.x(M);if(R(O,V,G),M=TU(k,M+b+v,j?M+N:this.right,e.rtl),L(u.x(M),V,G),j)w.x+=N+m;else if(typeof G.text!="string"){const De=d.lineHeight;w.y+=N1(G,De)+m}else w.y+=q}),v1(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=un(t.font),r=li(t.padding);if(!t.display)return;const s=pl(e.rtl,this.left,this.width),a=this.ctx,c=t.position,u=i.size/2,d=r.top+u;let m,_=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),m=this.top+d,_=Vn(e.align,_,this.right-v);else{const b=this.columnSizes.reduce((I,A)=>Math.max(I,A.height),0);m=d+Vn(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const w=Vn(c,_,_+v);a.textAlign=s.textAlign(c1(c)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=i.string,Kf(a,t.text,w,m,i)}_computeTitleHeight(){const e=this.options.title,t=un(e.font),i=li(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,s;if(jo(e,this.left,this.right)&&jo(t,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],jo(e,r.left,r.left+r.width)&&jo(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!nB(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=J9(r,i);r&&!s&&tt(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&tt(t.onHover,[e,i,this],this)}else i&&tt(t.onClick,[e,i,this],this)}}function Z9(n,e,t,i,r){const s=eB(i,n,e,t),a=tB(r,i,e.lineHeight);return{itemWidth:s,itemHeight:a}}function eB(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((s,a)=>s.length>a.length?s:a)),e+t.size/2+i.measureText(r).width}function tB(n,e,t){let i=n;return typeof e.text!="string"&&(i=N1(e,t)),i}function N1(n,e){const t=n.text?n.text.length:0;return e*t}function nB(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var iB={id:"legend",_element:vS,start(n,e,t){const i=n.legend=new vS({ctx:n.ctx,options:t,chart:n});Os.configure(n,i,t),Os.addBox(n,i)},stop(n){Os.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;Os.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(t?0:void 0),m=li(d.borderWidth);return{text:e[u.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:a&&(c||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const ru={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,s=0;for(e=0,t=n.length;e<t;++e){const c=n[e].element;if(c&&c.hasValue()){const u=c.tooltipPosition();i.add(u.x),r+=u.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((c,u)=>c+u)/i.size,y:r/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,a,c;for(s=0,a=n.length;s<a;++s){const u=n[s].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),m=gU(e,d);m<r&&(r=m,c=u)}}if(c){const u=c.tooltipPosition();t=u.x,i=u.y}return{x:t,y:i}}};function Qi(n,e){return e&&(Pt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Rr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function rB(n,e){const{element:t,datasetIndex:i,index:r}=e,s=n.getDatasetMeta(i).controller,{label:a,value:c}=s.getLabelAndValue(r);return{chart:n,label:a,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:c,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function ES(n,e){const t=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:a,boxHeight:c}=e,u=un(e.bodyFont),d=un(e.titleFont),m=un(e.footerFont),_=s.length,v=r.length,w=i.length,b=li(e.padding);let I=b.height,A=0,R=i.reduce((U,q)=>U+q.before.length+q.lines.length+q.after.length,0);if(R+=n.beforeBody.length+n.afterBody.length,_&&(I+=_*d.lineHeight+(_-1)*e.titleSpacing+e.titleMarginBottom),R){const U=e.displayColors?Math.max(c,u.lineHeight):u.lineHeight;I+=w*U+(R-w)*u.lineHeight+(R-1)*e.bodySpacing}v&&(I+=e.footerMarginTop+v*m.lineHeight+(v-1)*e.footerSpacing);let L=0;const j=function(U){A=Math.max(A,t.measureText(U).width+L)};return t.save(),t.font=d.string,Xe(n.title,j),t.font=u.string,Xe(n.beforeBody.concat(n.afterBody),j),L=e.displayColors?a+2+e.boxPadding:0,Xe(i,U=>{Xe(U.before,j),Xe(U.lines,j),Xe(U.after,j)}),L=0,t.font=m.string,Xe(n.footer,j),t.restore(),A+=b.width,{width:A,height:I}}function sB(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function oB(n,e,t,i){const{x:r,width:s}=i,a=t.caretSize+t.caretPadding;if(n==="left"&&r+s+a>e.width||n==="right"&&r-s-a<0)return!0}function aB(n,e,t,i){const{x:r,width:s}=t,{width:a,chartArea:{left:c,right:u}}=n;let d="center";return i==="center"?d=r<=(c+u)/2?"left":"right":r<=s/2?d="left":r>=a-s/2&&(d="right"),oB(d,n,e,t)&&(d="center"),d}function wS(n,e,t){const i=t.yAlign||e.yAlign||sB(n,t);return{xAlign:t.xAlign||e.xAlign||aB(n,e,t,i),yAlign:i}}function lB(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function cB(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function TS(n,e,t,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=n,{xAlign:c,yAlign:u}=t,d=r+s,{topLeft:m,topRight:_,bottomLeft:v,bottomRight:w}=fl(a);let b=lB(e,c);const I=cB(e,u,d);return u==="center"?c==="left"?b+=d:c==="right"&&(b-=d):c==="left"?b-=Math.max(m,v)+r:c==="right"&&(b+=Math.max(_,w)+r),{x:Cn(b,0,i.width-e.width),y:Cn(I,0,i.height-e.height)}}function Fd(n,e,t){const i=li(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function bS(n){return Qi([],Rr(n))}function uB(n,e,t){return ql(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function SS(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const D1={beforeTitle:Cr,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Cr,beforeBody:Cr,beforeLabel:Cr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Qe(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Cr,afterBody:Cr,beforeFooter:Cr,footer:Cr,afterFooter:Cr};function Tn(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?D1[e].call(t,i):r}class Y_ extends aa{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,s=new E1(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=uB(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=Tn(i,"beforeTitle",this,e),s=Tn(i,"title",this,e),a=Tn(i,"afterTitle",this,e);let c=[];return c=Qi(c,Rr(r)),c=Qi(c,Rr(s)),c=Qi(c,Rr(a)),c}getBeforeBody(e,t){return bS(Tn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return Xe(e,s=>{const a={before:[],lines:[],after:[]},c=SS(i,s);Qi(a.before,Rr(Tn(c,"beforeLabel",this,s))),Qi(a.lines,Tn(c,"label",this,s)),Qi(a.after,Rr(Tn(c,"afterLabel",this,s))),r.push(a)}),r}getAfterBody(e,t){return bS(Tn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=Tn(i,"beforeFooter",this,e),s=Tn(i,"footer",this,e),a=Tn(i,"afterFooter",this,e);let c=[];return c=Qi(c,Rr(r)),c=Qi(c,Rr(s)),c=Qi(c,Rr(a)),c}_createItems(e){const t=this._active,i=this.chart.data,r=[],s=[],a=[];let c=[],u,d;for(u=0,d=t.length;u<d;++u)c.push(rB(this.chart,t[u]));return e.filter&&(c=c.filter((m,_,v)=>e.filter(m,_,v,i))),e.itemSort&&(c=c.sort((m,_)=>e.itemSort(m,_,i))),Xe(c,m=>{const _=SS(e.callbacks,m);r.push(Tn(_,"labelColor",this,m)),s.push(Tn(_,"labelPointStyle",this,m)),a.push(Tn(_,"labelTextColor",this,m))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=c,c}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let s,a=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const c=ru[i.position].call(this,r,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const u=this._size=ES(this,i),d=Object.assign({},c,u),m=wS(this.chart,i,d),_=TS(i,d,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,s={opacity:1,x:_.x,y:_.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const s=this.getCaretPosition(e,i,r);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:c}=i,{topLeft:u,topRight:d,bottomLeft:m,bottomRight:_}=fl(c),{x:v,y:w}=e,{width:b,height:I}=t;let A,R,L,j,U,q;return s==="center"?(U=w+I/2,r==="left"?(A=v,R=A-a,j=U+a,q=U-a):(A=v+b,R=A+a,j=U-a,q=U+a),L=A):(r==="left"?R=v+Math.max(u,m)+a:r==="right"?R=v+b-Math.max(d,_)-a:R=this.caretX,s==="top"?(j=w,U=j-a,A=R-a,L=R+a):(j=w+I,U=j+a,A=R+a,L=R-a),q=j),{x1:A,x2:R,x3:L,y1:j,y2:U,y3:q}}drawTitle(e,t,i){const r=this.title,s=r.length;let a,c,u;if(s){const d=pl(i.rtl,this.x,this.width);for(e.x=Fd(this,i.titleAlign,i),t.textAlign=d.textAlign(i.titleAlign),t.textBaseline="middle",a=un(i.titleFont),c=i.titleSpacing,t.fillStyle=i.titleColor,t.font=a.string,u=0;u<s;++u)t.fillText(r[u],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+c,u+1===s&&(e.y+=i.titleMarginBottom-c)}}_drawColorBox(e,t,i,r,s){const a=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:u,boxWidth:d}=s,m=un(s.bodyFont),_=Fd(this,"left",s),v=r.x(_),w=u<m.lineHeight?(m.lineHeight-u)/2:0,b=t.y+w;if(s.usePointStyle){const I={radius:Math.min(d,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},A=r.leftForLtr(v,d)+d/2,R=b+u/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,W_(e,I,A,R),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,W_(e,I,A,R)}else{e.lineWidth=qe(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const I=r.leftForLtr(v,d),A=r.leftForLtr(r.xPlus(v,1),d-2),R=fl(a.borderRadius);Object.values(R).some(L=>L!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,qf(e,{x:I,y:b,w:d,h:u,radius:R}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),qf(e,{x:A,y:b+1,w:d-2,h:u-2,radius:R}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(I,b,d,u),e.strokeRect(I,b,d,u),e.fillStyle=a.backgroundColor,e.fillRect(A,b+1,d-2,u-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:c,boxHeight:u,boxWidth:d,boxPadding:m}=i,_=un(i.bodyFont);let v=_.lineHeight,w=0;const b=pl(i.rtl,this.x,this.width),I=function(x){t.fillText(x,b.x(e.x+w),e.y+v/2),e.y+=v+s},A=b.textAlign(a);let R,L,j,U,q,G,P;for(t.textAlign=a,t.textBaseline="middle",t.font=_.string,e.x=Fd(this,A,i),t.fillStyle=i.bodyColor,Xe(this.beforeBody,I),w=c&&A!=="right"?a==="center"?d/2+m:d+2+m:0,U=0,G=r.length;U<G;++U){for(R=r[U],L=this.labelTextColors[U],t.fillStyle=L,Xe(R.before,I),j=R.lines,c&&j.length&&(this._drawColorBox(t,e,U,b,i),v=Math.max(_.lineHeight,u)),q=0,P=j.length;q<P;++q)I(j[q]),v=_.lineHeight;Xe(R.after,I)}w=0,v=_.lineHeight,Xe(this.afterBody,I),e.y-=s}drawFooter(e,t,i){const r=this.footer,s=r.length;let a,c;if(s){const u=pl(i.rtl,this.x,this.width);for(e.x=Fd(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=u.textAlign(i.footerAlign),t.textBaseline="middle",a=un(i.footerFont),t.fillStyle=i.footerColor,t.font=a.string,c=0;c<s;++c)t.fillText(r[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:s,yAlign:a}=this,{x:c,y:u}=e,{width:d,height:m}=i,{topLeft:_,topRight:v,bottomLeft:w,bottomRight:b}=fl(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(c+_,u),a==="top"&&this.drawCaret(e,t,i,r),t.lineTo(c+d-v,u),t.quadraticCurveTo(c+d,u,c+d,u+v),a==="center"&&s==="right"&&this.drawCaret(e,t,i,r),t.lineTo(c+d,u+m-b),t.quadraticCurveTo(c+d,u+m,c+d-b,u+m),a==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(c+w,u+m),t.quadraticCurveTo(c,u+m,c,u+m-w),a==="center"&&s==="left"&&this.drawCaret(e,t,i,r),t.lineTo(c,u+_),t.quadraticCurveTo(c,u,c+_,u),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const a=ru[e.position].call(this,this._active,this._eventPosition);if(!a)return;const c=this._size=ES(this,e),u=Object.assign({},a,this._size),d=wS(t,e,u),m=TS(e,u,d,t);(r._to!==m.x||s._to!==m.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=li(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,t),y1(e,t.textDirection),s.y+=a.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),v1(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:c,index:u})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[u],index:u}}),s=!Uf(i,r),a=this._positionChanged(r,t);(s||a)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],a=this._getActiveElements(e,s,t,i),c=this._positionChanged(a,e),u=t||!Uf(a,s)||c;return u&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),u}_getActiveElements(e,t,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:i,caretY:r,options:s}=this,a=ru[s.position].call(this,e,t);return a!==!1&&(i!==a.x||r!==a.y)}}be(Y_,"positioners",ru);var hB={id:"tooltip",_element:Y_,positioners:ru,afterInit(n,e,t){t&&(n.tooltip=new Y_({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:D1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const dB=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function fB(n,e,t,i){const r=n.indexOf(e);if(r===-1)return dB(n,e,t,i);const s=n.lastIndexOf(e);return r!==s?t:r}const pB=(n,e)=>n===null?null:Cn(Math.round(n),0,e);function IS(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class Q_ extends Gl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:r,label:s}of t)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Qe(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:fB(i,e,Ke(t,e),this._addedLabels),pB(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=t;a++)r.push({value:a});return r}getLabelForValue(e){return IS.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}be(Q_,"id","category"),be(Q_,"defaults",{ticks:{callback:IS}});function mB(n,e){const t=[],{bounds:r,step:s,min:a,max:c,precision:u,count:d,maxTicks:m,maxDigits:_,includeBounds:v}=n,w=s||1,b=m-1,{min:I,max:A}=e,R=!Qe(a),L=!Qe(c),j=!Qe(d),U=(A-I)/(_+1);let q=Rb((A-I)/b/w)*w,G,P,x,k;if(q<1e-14&&!R&&!L)return[{value:I},{value:A}];k=Math.ceil(A/q)-Math.floor(I/q),k>b&&(q=Rb(k*q/b/w)*w),Qe(u)||(G=Math.pow(10,u),q=Math.ceil(q*G)/G),r==="ticks"?(P=Math.floor(I/q)*q,x=Math.ceil(A/q)*q):(P=I,x=A),R&&L&&s&&fU((c-a)/s,q/1e3)?(k=Math.round(Math.min((c-a)/q,m)),q=(c-a)/k,P=a,x=c):j?(P=R?a:P,x=L?c:x,k=d-1,q=(x-P)/k):(k=(x-P)/q,af(k,Math.round(k),q/1e3)?k=Math.round(k):k=Math.ceil(k));const N=Math.max(Pb(q),Pb(P));G=Math.pow(10,Qe(u)?N:u),P=Math.round(P*G)/G,x=Math.round(x*G)/G;let M=0;for(R&&(v&&P!==a?(t.push({value:a}),P<a&&M++,af(Math.round((P+M*q)*G)/G,a,AS(a,U,n))&&M++):P<a&&M++);M<k;++M){const V=Math.round((P+M*q)*G)/G;if(L&&V>c)break;t.push({value:V})}return L&&v&&x!==c?t.length&&af(t[t.length-1].value,c,AS(c,U,n))?t[t.length-1].value=c:t.push({value:c}):(!L||x===c)&&t.push({value:x}),t}function AS(n,e,{horizontal:t,minRotation:i}){const r=Dr(i),s=(t?Math.sin(r):Math.cos(r))||.001,a=.75*e*(""+n).length;return Math.min(e/s,a)}class gB extends Gl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Qe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const a=u=>r=t?r:u,c=u=>s=i?s:u;if(e){const u=$s(r),d=$s(s);u<0&&d<0?c(0):u>0&&d>0&&a(0)}if(r===s){let u=s===0?1:Math.abs(s*.05);c(s+u),e||a(r-u)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,a=mB(r,s);return e.bounds==="ticks"&&pU(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return Av(e,this.chart.options.locale,this.options.ticks.format)}}class X_ extends gB{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ai(e)?e:0,this.max=ai(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=Dr(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}be(X_,"id","linear"),be(X_,"defaults",{ticks:{callback:h1.formatters.numeric}});const Vp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xn=Object.keys(Vp);function xS(n,e){return n-e}function CS(n,e){if(Qe(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),ai(a)||(a=typeof i=="string"?t.parse(a,i):t.parse(a)),a===null?null:(r&&(a=r==="week"&&(Hf(s)||s===!0)?t.startOf(a,"isoWeek",s):t.startOf(a,r)),+a)}function kS(n,e,t,i){const r=xn.length;for(let s=xn.indexOf(n);s<r-1;++s){const a=Vp[xn[s]],c=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(c*a.size))<=i)return xn[s]}return xn[r-1]}function _B(n,e,t,i,r){for(let s=xn.length-1;s>=xn.indexOf(t);s--){const a=xn[s];if(Vp[a].common&&n._adapter.diff(r,i,a)>=e-1)return a}return xn[t?xn.indexOf(t):0]}function yB(n){for(let e=xn.indexOf(n)+1,t=xn.length;e<t;++e)if(Vp[xn[e]].common)return xn[e]}function RS(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=Iv(t,e),s=t[i]>=e?t[i]:t[r];n[s]=!0}}function vB(n,e,t,i){const r=n._adapter,s=+r.startOf(e[0].value,i),a=e[e.length-1].value;let c,u;for(c=s;c<=a;c=+r.add(c,1,i))u=t[c],u>=0&&(e[u].major=!0);return e}function PS(n,e,t){const i=[],r={},s=e.length;let a,c;for(a=0;a<s;++a)c=e[a],r[c]=a,i.push({value:c,major:!1});return s===0||!t?i:vB(n,i,r,t)}class Xf extends Gl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new Oz._date(e.adapters.date);r.init(t),pu(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:CS(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:a,maxDefined:c}=this.getUserBounds();function u(d){!a&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!c&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!c)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=ai(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),s=ai(s)&&!isNaN(s)?s:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,a=this.max,c=vU(r,s,a);return this._unit=t.unit||(i.autoSkip?kS(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):_B(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:yB(this._unit),this.initOffsets(r),e.reverse&&c.reverse(),PS(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=Cn(t,0,a),i=Cn(i,0,a),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,s=r.time,a=s.unit||kS(s.minUnit,t,i,this._getLabelCapacity(t)),c=Ke(r.ticks.stepSize,1),u=a==="week"?s.isoWeekday:!1,d=Hf(u)||u===!0,m={};let _=t,v,w;if(d&&(_=+e.startOf(_,"isoWeek",u)),_=+e.startOf(_,d?"day":a),e.diff(i,t,a)>1e5*c)throw new Error(t+" and "+i+" are too far apart with stepSize of "+c+" "+a);const b=r.ticks.source==="data"&&this.getDataTimestamps();for(v=_,w=0;v<i;v=+e.add(v,c,a),w++)RS(m,v,b);return(v===i||r.bounds==="ticks"||w===1)&&RS(m,v,b),Object.keys(m).sort(xS).map(I=>+I)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,s=this._unit,a=t||r[s];return this._adapter.format(e,a)}_tickFormatFunction(e,t,i,r){const s=this.options,a=s.ticks.callback;if(a)return tt(a,[e,t,i],this);const c=s.time.displayFormats,u=this._unit,d=this._majorUnit,m=u&&c[u],_=d&&c[d],v=i[t],w=d&&_&&v&&v.major;return this._adapter.format(e,r||(w?_:m))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=Dr(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(r),a=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:i*s+c*a,h:i*a+c*s}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,s=this._tickFormatFunction(e,0,PS(this,[e],this._majorUnit),r),a=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(CS(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return o1(e.sort(xS))}}be(Xf,"id","time"),be(Xf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function $d(n,e,t){let i=0,r=n.length-1,s,a,c,u;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=B_(n,"pos",e)),{pos:s,time:c}=n[i],{pos:a,time:u}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=B_(n,"time",e)),{time:s,pos:c}=n[i],{time:a,pos:u}=n[r]);const d=a-s;return d?c+(u-c)*(e-s)/d:c}class OS extends Xf{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=$d(t,this.min),this._tableRange=$d(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],s=[];let a,c,u,d,m;for(a=0,c=e.length;a<c;++a)d=e[a],d>=t&&d<=i&&r.push(d);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(a=0,c=r.length;a<c;++a)m=r[a+1],u=r[a-1],d=r[a],Math.round((m+u)/2)!==d&&s.push({time:d,pos:a/(c-1)});return s}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return($d(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return $d(this._table,i*this._tableRange+this._minPos,!0)}}be(OS,"id","timeseries"),be(OS,"defaults",Xf.defaults);const M1="label";function NS(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function EB(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function L1(n,e){n.labels=e}function V1(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:M1;const i=[];n.datasets=e.map(r=>{const s=n.datasets.find(a=>a[t]===r[t]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function wB(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M1;const t={labels:[],datasets:[]};return L1(t,n.labels),V1(t,n.datasets,e),t}function TB(n,e){const{height:t=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:a,data:c,options:u,plugins:d=[],fallbackContent:m,updateMode:_,...v}=n,w=W.useRef(null),b=W.useRef(null),I=()=>{w.current&&(b.current=new Lp(w.current,{type:a,data:wB(c,s),options:u&&{...u},plugins:d}),NS(e,b.current))},A=()=>{NS(e,null),b.current&&(b.current.destroy(),b.current=null)};return W.useEffect(()=>{!r&&b.current&&u&&EB(b.current,u)},[r,u]),W.useEffect(()=>{!r&&b.current&&L1(b.current.config.data,c.labels)},[r,c.labels]),W.useEffect(()=>{!r&&b.current&&c.datasets&&V1(b.current.config.data,c.datasets,s)},[r,c.datasets]),W.useEffect(()=>{b.current&&(r?(A(),setTimeout(I)):b.current.update(_))},[r,u,c.labels,c.datasets,_]),W.useEffect(()=>{b.current&&(A(),setTimeout(I))},[a]),W.useEffect(()=>(I(),()=>A()),[]),Lr.createElement("canvas",{ref:w,role:"img",height:t,width:i,...v},m)}const bB=W.forwardRef(TB);function F1(n,e){return Lp.register(e),W.forwardRef((t,i)=>Lr.createElement(bB,{...t,ref:i,type:n}))}const SB=F1("bar",lf),r_=F1("pie",K_);/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var DS=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var n=window.screen;if(n)return(n.deviceXDPI||1)/(n.logicalXDPI||1)}return 1}(),yu={toTextLines:function(n){var e=[],t;for(n=[].concat(n);n.length;)t=n.pop(),typeof t=="string"?e.unshift.apply(e,t.split(`
`)):Array.isArray(t)?n.push.apply(n,t):Qe(n)||e.unshift(""+t);return e},textSize:function(n,e,t){var i=[].concat(e),r=i.length,s=n.font,a=0,c;for(n.font=t.string,c=0;c<r;++c)a=Math.max(n.measureText(i[c]).width,a);return n.font=s,{height:r*t.lineHeight,width:a}},bound:function(n,e,t){return Math.max(n,Math.min(e,t))},arrayDiff:function(n,e){var t=n.slice(),i=[],r,s,a,c;for(r=0,a=e.length;r<a;++r)c=e[r],s=t.indexOf(c),s===-1?i.push([c,1]):t.splice(s,1);for(r=0,a=t.length;r<a;++r)i.push([t[r],-1]);return i},rasterize:function(n){return Math.round(n*DS)/DS}};function s_(n,e){var t=e.x,i=e.y;if(t===null)return{x:0,y:-1};if(i===null)return{x:1,y:0};var r=n.x-t,s=n.y-i,a=Math.sqrt(r*r+s*s);return{x:a?r/a:0,y:a?s/a:-1}}function IB(n,e,t,i,r){switch(r){case"center":t=i=0;break;case"bottom":t=0,i=1;break;case"right":t=1,i=0;break;case"left":t=-1,i=0;break;case"top":t=0,i=-1;break;case"start":t=-t,i=-i;break;case"end":break;default:r*=Math.PI/180,t=Math.cos(r),i=Math.sin(r);break}return{x:n,y:e,vx:t,vy:i}}var AB=0,$1=1,j1=2,U1=4,z1=8;function jd(n,e,t){var i=AB;return n<t.left?i|=$1:n>t.right&&(i|=j1),e<t.top?i|=z1:e>t.bottom&&(i|=U1),i}function xB(n,e){for(var t=n.x0,i=n.y0,r=n.x1,s=n.y1,a=jd(t,i,e),c=jd(r,s,e),u,d,m;!(!(a|c)||a&c);)u=a||c,u&z1?(d=t+(r-t)*(e.top-i)/(s-i),m=e.top):u&U1?(d=t+(r-t)*(e.bottom-i)/(s-i),m=e.bottom):u&j1?(m=i+(s-i)*(e.right-t)/(r-t),d=e.right):u&$1&&(m=i+(s-i)*(e.left-t)/(r-t),d=e.left),u===a?(t=d,i=m,a=jd(t,i,e)):(r=d,s=m,c=jd(r,s,e));return{x0:t,x1:r,y0:i,y1:s}}function Ud(n,e){var t=e.anchor,i=n,r,s;return e.clamp&&(i=xB(i,e.area)),t==="start"?(r=i.x0,s=i.y0):t==="end"?(r=i.x1,s=i.y1):(r=(i.x0+i.x1)/2,s=(i.y0+i.y1)/2),IB(r,s,n.vx,n.vy,e.align)}var zd={arc:function(n,e){var t=(n.startAngle+n.endAngle)/2,i=Math.cos(t),r=Math.sin(t),s=n.innerRadius,a=n.outerRadius;return Ud({x0:n.x+i*s,y0:n.y+r*s,x1:n.x+i*a,y1:n.y+r*a,vx:i,vy:r},e)},point:function(n,e){var t=s_(n,e.origin),i=t.x*n.options.radius,r=t.y*n.options.radius;return Ud({x0:n.x-i,y0:n.y-r,x1:n.x+i,y1:n.y+r,vx:t.x,vy:t.y},e)},bar:function(n,e){var t=s_(n,e.origin),i=n.x,r=n.y,s=0,a=0;return n.horizontal?(i=Math.min(n.x,n.base),s=Math.abs(n.base-n.x)):(r=Math.min(n.y,n.base),a=Math.abs(n.base-n.y)),Ud({x0:i,y0:r+a,x1:i+s,y1:r,vx:t.x,vy:t.y},e)},fallback:function(n,e){var t=s_(n,e.origin);return Ud({x0:n.x,y0:n.y,x1:n.x+(n.width||0),y1:n.y+(n.height||0),vx:t.x,vy:t.y},e)}},Mr=yu.rasterize;function CB(n){var e=n.borderWidth||0,t=n.padding,i=n.size.height,r=n.size.width,s=-r/2,a=-i/2;return{frame:{x:s-t.left-e,y:a-t.top-e,w:r+t.width+e*2,h:i+t.height+e*2},text:{x:s,y:a,w:r,h:i}}}function kB(n,e){var t=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!t)return null;if(t.xCenter!==void 0&&t.yCenter!==void 0)return{x:t.xCenter,y:t.yCenter};var i=t.getBasePixel();return n.horizontal?{x:i,y:null}:{x:null,y:i}}function RB(n){return n instanceof ll?zd.arc:n instanceof hf?zd.point:n instanceof _u?zd.bar:zd.fallback}function PB(n,e,t,i,r,s){var a=Math.PI/2;if(s){var c=Math.min(s,r/2,i/2),u=e+c,d=t+c,m=e+i-c,_=t+r-c;n.moveTo(e,d),u<m&&d<_?(n.arc(u,d,c,-Math.PI,-a),n.arc(m,d,c,-a,0),n.arc(m,_,c,0,a),n.arc(u,_,c,a,Math.PI)):u<m?(n.moveTo(u,t),n.arc(m,d,c,-a,a),n.arc(u,d,c,a,Math.PI+a)):d<_?(n.arc(u,d,c,-Math.PI,0),n.arc(u,_,c,0,Math.PI)):n.arc(u,d,c,-Math.PI,Math.PI),n.closePath(),n.moveTo(e,t)}else n.rect(e,t,i,r)}function OB(n,e,t){var i=t.backgroundColor,r=t.borderColor,s=t.borderWidth;!i&&(!r||!s)||(n.beginPath(),PB(n,Mr(e.x)+s/2,Mr(e.y)+s/2,Mr(e.w)-s,Mr(e.h)-s,t.borderRadius),n.closePath(),i&&(n.fillStyle=i,n.fill()),r&&s&&(n.strokeStyle=r,n.lineWidth=s,n.lineJoin="miter",n.stroke()))}function NB(n,e,t){var i=t.lineHeight,r=n.w,s=n.x,a=n.y+i/2;return e==="center"?s+=r/2:(e==="end"||e==="right")&&(s+=r),{h:i,w:r,x:s,y:a}}function DB(n,e,t){var i=n.shadowBlur,r=t.stroked,s=Mr(t.x),a=Mr(t.y),c=Mr(t.w);r&&n.strokeText(e,s,a,c),t.filled&&(i&&r&&(n.shadowBlur=0),n.fillText(e,s,a,c),i&&r&&(n.shadowBlur=i))}function MB(n,e,t,i){var r=i.textAlign,s=i.color,a=!!s,c=i.font,u=e.length,d=i.textStrokeColor,m=i.textStrokeWidth,_=d&&m,v;if(!(!u||!a&&!_))for(t=NB(t,r,c),n.font=c.string,n.textAlign=r,n.textBaseline="middle",n.shadowBlur=i.textShadowBlur,n.shadowColor=i.textShadowColor,a&&(n.fillStyle=s),_&&(n.lineJoin="round",n.lineWidth=m,n.strokeStyle=d),v=0,u=e.length;v<u;++v)DB(n,e[v],{stroked:_,filled:a,w:t.w,x:t.x,y:t.y+t.h*v})}var B1=function(n,e,t,i){var r=this;r._config=n,r._index=i,r._model=null,r._rects=null,r._ctx=e,r._el=t};hr(B1.prototype,{_modelize:function(n,e,t,i){var r=this,s=r._index,a=un(ct([t.font,{}],i,s)),c=ct([t.color,yt.color],i,s);return{align:ct([t.align,"center"],i,s),anchor:ct([t.anchor,"center"],i,s),area:i.chart.chartArea,backgroundColor:ct([t.backgroundColor,null],i,s),borderColor:ct([t.borderColor,null],i,s),borderRadius:ct([t.borderRadius,0],i,s),borderWidth:ct([t.borderWidth,0],i,s),clamp:ct([t.clamp,!1],i,s),clip:ct([t.clip,!1],i,s),color:c,display:n,font:a,lines:e,offset:ct([t.offset,4],i,s),opacity:ct([t.opacity,1],i,s),origin:kB(r._el,i),padding:li(ct([t.padding,4],i,s)),positioner:RB(r._el),rotation:ct([t.rotation,0],i,s)*(Math.PI/180),size:yu.textSize(r._ctx,e,a),textAlign:ct([t.textAlign,"start"],i,s),textShadowBlur:ct([t.textShadowBlur,0],i,s),textShadowColor:ct([t.textShadowColor,c],i,s),textStrokeColor:ct([t.textStrokeColor,c],i,s),textStrokeWidth:ct([t.textStrokeWidth,0],i,s)}},update:function(n){var e=this,t=null,i=null,r=e._index,s=e._config,a,c,u,d=ct([s.display,!0],n,r);d&&(a=n.dataset.data[r],c=Ke(tt(s.formatter,[a,n]),a),u=Qe(c)?[]:yu.toTextLines(c),u.length&&(t=e._modelize(d,u,s,n),i=CB(t))),e._model=t,e._rects=i},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(n,e){var t=this,i=n.ctx,r=t._model,s=t._rects,a;this.visible()&&(i.save(),r.clip&&(a=r.area,i.beginPath(),i.rect(a.left,a.top,a.right-a.left,a.bottom-a.top),i.clip()),i.globalAlpha=yu.bound(0,r.opacity,1),i.translate(Mr(e.x),Mr(e.y)),i.rotate(r.rotation),OB(i,s.frame,r),MB(i,r.lines,s.text,r),i.restore())}});var LB=Number.MIN_SAFE_INTEGER||-9007199254740991,VB=Number.MAX_SAFE_INTEGER||9007199254740991;function Yc(n,e,t){var i=Math.cos(t),r=Math.sin(t),s=e.x,a=e.y;return{x:s+i*(n.x-s)-r*(n.y-a),y:a+r*(n.x-s)+i*(n.y-a)}}function MS(n,e){var t=VB,i=LB,r=e.origin,s,a,c,u,d;for(s=0;s<n.length;++s)a=n[s],c=a.x-r.x,u=a.y-r.y,d=e.vx*c+e.vy*u,t=Math.min(t,d),i=Math.max(i,d);return{min:t,max:i}}function Bd(n,e){var t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);return{vx:(e.x-n.x)/r,vy:(e.y-n.y)/r,origin:n,ln:r}}var H1=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};hr(H1.prototype,{center:function(){var n=this._rect;return{x:n.x+n.w/2,y:n.y+n.h/2}},update:function(n,e,t){this._rotation=t,this._rect={x:e.x+n.x,y:e.y+n.y,w:e.w,h:e.h}},contains:function(n){var e=this,t=1,i=e._rect;return n=Yc(n,e.center(),-e._rotation),!(n.x<i.x-t||n.y<i.y-t||n.x>i.x+i.w+t*2||n.y>i.y+i.h+t*2)},intersects:function(n){var e=this._points(),t=n._points(),i=[Bd(e[0],e[1]),Bd(e[0],e[3])],r,s,a;for(this._rotation!==n._rotation&&i.push(Bd(t[0],t[1]),Bd(t[0],t[3])),r=0;r<i.length;++r)if(s=MS(e,i[r]),a=MS(t,i[r]),s.max<a.min||a.max<s.min)return!1;return!0},_points:function(){var n=this,e=n._rect,t=n._rotation,i=n.center();return[Yc({x:e.x,y:e.y},i,t),Yc({x:e.x+e.w,y:e.y},i,t),Yc({x:e.x+e.w,y:e.y+e.h},i,t),Yc({x:e.x,y:e.y+e.h},i,t)]}});function W1(n,e,t){var i=e.positioner(n,e),r=i.vx,s=i.vy;if(!r&&!s)return{x:i.x,y:i.y};var a=t.w,c=t.h,u=e.rotation,d=Math.abs(a/2*Math.cos(u))+Math.abs(c/2*Math.sin(u)),m=Math.abs(a/2*Math.sin(u))+Math.abs(c/2*Math.cos(u)),_=1/Math.max(Math.abs(r),Math.abs(s));return d*=r*_,m*=s*_,d+=e.offset*r,m+=e.offset*s,{x:i.x+d,y:i.y+m}}function FB(n,e){var t,i,r,s;for(t=n.length-1;t>=0;--t)for(r=n[t].$layout,i=t-1;i>=0&&r._visible;--i)s=n[i].$layout,s._visible&&r._box.intersects(s._box)&&e(r,s);return n}function $B(n){var e,t,i,r,s,a,c;for(e=0,t=n.length;e<t;++e)i=n[e],r=i.$layout,r._visible&&(c=new Proxy(i._el,{get:(u,d)=>u.getProps([d],!0)[d]}),s=i.geometry(),a=W1(c,i.model(),s),r._box.update(a,s,i.rotation()));return FB(n,function(u,d){var m=u._hidable,_=d._hidable;m&&_||_?d._visible=!1:m&&(u._visible=!1)})}var vu={prepare:function(n){var e=[],t,i,r,s,a;for(t=0,r=n.length;t<r;++t)for(i=0,s=n[t].length;i<s;++i)a=n[t][i],e.push(a),a.$layout={_box:new H1,_hidable:!1,_visible:!0,_set:t,_idx:a._index};return e.sort(function(c,u){var d=c.$layout,m=u.$layout;return d._idx===m._idx?m._set-d._set:m._idx-d._idx}),this.update(e),e},update:function(n){var e=!1,t,i,r,s,a;for(t=0,i=n.length;t<i;++t)r=n[t],s=r.model(),a=r.$layout,a._hidable=s&&s.display==="auto",a._visible=r.visible(),e|=a._hidable;e&&$B(n)},lookup:function(n,e){var t,i;for(t=n.length-1;t>=0;--t)if(i=n[t].$layout,i&&i._visible&&i._box.contains(e))return n[t];return null},draw:function(n,e){var t,i,r,s,a,c;for(t=0,i=e.length;t<i;++t)r=e[t],s=r.$layout,s._visible&&(a=r.geometry(),c=W1(r._el,r.model(),a),s._box.update(c,a,r.rotation()),r.draw(n,c))}},jB=function(n){if(Qe(n))return null;var e=n,t,i,r;if(qe(n))if(!Qe(n.label))e=n.label;else if(!Qe(n.r))e=n.r;else for(e="",t=Object.keys(n),r=0,i=t.length;r<i;++r)e+=(r!==0?", ":"")+t[r]+": "+n[t[r]];return""+e},UB={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:jB,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},bn="$datalabels",K1="$default";function zB(n,e){var t=n.datalabels,i={},r=[],s,a;return t===!1?null:(t===!0&&(t={}),e=hr({},[e,t]),s=e.labels||{},a=Object.keys(s),delete e.labels,a.length?a.forEach(function(c){s[c]&&r.push(hr({},[e,s[c],{_key:c}]))}):r.push(e),i=r.reduce(function(c,u){return Xe(u.listeners||{},function(d,m){c[m]=c[m]||{},c[m][u._key||K1]=d}),delete u.listeners,c},{}),{labels:r,listeners:i})}function J_(n,e,t,i){if(e){var r=t.$context,s=t.$groups,a;e[s._set]&&(a=e[s._set][s._key],a&&tt(a,[r,i])===!0&&(n[bn]._dirty=!0,t.update(r)))}}function BB(n,e,t,i,r){var s,a;!t&&!i||(t?i?t!==i&&(a=s=!0):a=!0:s=!0,a&&J_(n,e.leave,t,r),s&&J_(n,e.enter,i,r))}function HB(n,e){var t=n[bn],i=t._listeners,r,s;if(!(!i.enter&&!i.leave)){if(e.type==="mousemove")s=vu.lookup(t._labels,e);else if(e.type!=="mouseout")return;r=t._hovered,t._hovered=s,BB(n,i,r,s,e)}}function WB(n,e){var t=n[bn],i=t._listeners.click,r=i&&vu.lookup(t._labels,e);r&&J_(n,i,r,e)}var KB={id:"datalabels",defaults:UB,beforeInit:function(n){n[bn]={_actives:[]}},beforeUpdate:function(n){var e=n[bn];e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(n,e,t){var i=e.index,r=n[bn],s=r._datasets[i]=[],a=n.isDatasetVisible(i),c=n.data.datasets[i],u=zB(c,t),d=e.meta.data||[],m=n.ctx,_,v,w,b,I,A,R,L;for(m.save(),_=0,w=d.length;_<w;++_)if(R=d[_],R[bn]=[],a&&R&&n.getDataVisibility(_)&&!R.skip)for(v=0,b=u.labels.length;v<b;++v)I=u.labels[v],A=I._key,L=new B1(I,m,R,_),L.$groups={_set:i,_key:A||K1},L.$context={active:!1,chart:n,dataIndex:_,dataset:c,datasetIndex:i},L.update(L.$context),R[bn].push(L),s.push(L);m.restore(),hr(r._listeners,u.listeners,{merger:function(j,U,q){U[j]=U[j]||{},U[j][e.index]=q[j],r._listened=!0}})},afterUpdate:function(n){n[bn]._labels=vu.prepare(n[bn]._datasets)},afterDatasetsDraw:function(n){vu.draw(n,n[bn]._labels)},beforeEvent:function(n,e){if(n[bn]._listened){var t=e.event;switch(t.type){case"mousemove":case"mouseout":HB(n,t);break;case"click":WB(n,t);break}}},afterEvent:function(n){var e=n[bn],t=e._actives,i=e._actives=n.getActiveElements(),r=yu.arrayDiff(t,i),s,a,c,u,d,m,_;for(s=0,a=r.length;s<a;++s)if(d=r[s],d[1])for(_=d[0].element[bn]||[],c=0,u=_.length;c<u;++c)m=_[c],m.$context.active=d[1]===1,m.update(m.$context);(e._dirty||r.length)&&(vu.update(e._labels),n.render()),delete e._dirty}};Lp.register(ll,hB,iB,KB,Q_,X_,_u);function qB({email:n,stats:e,mode:t}){const i={labels:["Správne","Nesprávne"],datasets:[{label:"Bio odpovede",data:[e.bio.spravne,e.bio.nespravne],backgroundColor:["#4bc0c0","#808080"],hoverOffset:25,offset:15}]},r={labels:["Správne","Nesprávne"],datasets:[{label:"Che odpovede",data:[e.che.spravne,e.che.nespravne],backgroundColor:["#4bc0c0","#808080"],hoverOffset:25,offset:15}]},s={labels:["Správne","Nesprávne"],datasets:[{label:"Všetky odpovede",data:[e.che.spravne+e.bio.spravne,e.che.nespravne+e.bio.nespravne],backgroundColor:["#bbdb44","#CD5C5C"],hoverOffset:25,offset:15}]};return Y.jsx("div",{className:"modal fade",id:"scrollableModal",tabIndex:"-1","aria-labelledby":"scrollableModalLabel","aria-hidden":"true",children:Y.jsx("div",{className:"modal-dialog modal-dialog-scrollable modal-xl",children:Y.jsxs("div",{className:`modal-content modalStyle ${t?"bg-dark text-light":"bg-light text-dark"}`,children:[Y.jsxs("div",{className:"modal-header border-secondary",children:[Y.jsx("h5",{className:"modal-title",id:"scrollableModalLabel",children:"Štatistika"}),Y.jsx("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Zavrieť"})]}),Y.jsxs("div",{className:"modal-body",children:[Y.jsxs("div",{className:"modalCntnt",children:[Y.jsxs("div",{className:"text-center",children:[Y.jsx("h6",{children:"Všetky odpovede"}),Y.jsx("div",{className:"pieGraph",children:Y.jsx(r_,{data:s,options:{responsive:!0,maintainAspectRatio:!1,elements:{arc:{borderWidth:0}},plugins:{legend:{position:"bottom",labels:{color:"white"}},datalabels:{color:"black",font:{size:20},formatter:(a,c)=>a}}}},Date.now())})]}),Y.jsxs("div",{className:"text-center graphHolder",children:[Y.jsx("h6",{children:"Biológia"}),Y.jsx("div",{className:"pieGraph",children:Y.jsx(r_,{data:i,options:{responsive:!0,maintainAspectRatio:!1,elements:{arc:{borderWidth:0}},plugins:{legend:{position:"bottom",labels:{color:"white"}},datalabels:{color:"black",font:{size:20},formatter:(a,c)=>a}}}},Date.now())})]}),Y.jsxs("div",{className:"text-center graphHolder",children:[Y.jsx("h6",{children:"Chémia"}),Y.jsx("div",{className:"pieGraph",children:Y.jsx(r_,{data:r,options:{responsive:!0,maintainAspectRatio:!1,elements:{arc:{borderWidth:0}},plugins:{legend:{position:"bottom",labels:{color:"white"}},datalabels:{color:"black",font:{size:20},formatter:(a,c)=>a}}}},Date.now())})]})]}),Y.jsx("br",{}),Y.jsx("hr",{}),Y.jsx("br",{}),Y.jsxs("div",{className:"barChart",children:[Y.jsx("h6",{className:"text-center mb-3",children:"Počet zodpovedaných otázok za posledných 7 dní"}),Y.jsx(SB,{data:{labels:Object.keys(e.answersLast7Days||{}).map(a=>a.slice(5)),datasets:[{label:"Počet odpovedí za deň",data:Object.values(e.answersLast7Days||{}),backgroundColor:"rgba(75, 192, 192, 0.6)",borderRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{color:"white",font:{size:14},anchor:"end",align:"top"}},scales:{x:{ticks:{color:"white"},grid:{color:"rgba(255,255,255,0.1)"}},y:{beginAtZero:!0,ticks:{color:"white",stepSize:1,precision:0},grid:{color:"rgba(255,255,255,0.1)"}}}}},Date.now())]})]})]})})})}function GB(n){return Bl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 256c52.805 0 96-43.201 96-96s-43.195-96-96-96-96 43.201-96 96 43.195 96 96 96zm0 48c-63.598 0-192 32.402-192 96v48h384v-48c0-63.598-128.402-96-192-96z"},child:[]}]})(n)}function YB(n){return Bl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M279.1 48h-46.2v231.1h46.2V48zm111.6 50.2L357.9 131c36.5 29.4 59.9 74.4 59.9 125 0 89.4-72.3 161.8-161.8 161.8S94.2 345.4 94.2 256c0-50.6 23.3-95.7 59.6-125.3l-32.6-32.6C76.4 136.3 48 192.7 48 256c0 114.9 93.1 208 208 208s208-93.1 208-208c0-63.3-28.4-119.7-73.3-157.8z"},child:[]}]})(n)}function QB(n){return Bl({attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M17 2v1h-17v-1h17zM14 6h-14v1h14v-1zM0 11h17v-1h-17v1zM0 15h10v-1h-10v1z"},child:[]}]})(n)}function XB({user:n}){const e=Zf(),[t,i]=W.useState(!1),r=async()=>{try{await FI(Il),e("/",{replace:!0})}catch(d){console.error("Chyba pri odhlaseni:",d)}},[s,a]=W.useState({bio:{spravne:0,nespravne:0},che:{spravne:0,nespravne:0}});async function c(){const d=["bio","che"],m={},_=Array.from({length:7},(w,b)=>{const I=new Date;return I.setDate(I.getDate()-(6-b)),I.toISOString().slice(0,10)}),v={};_.forEach(w=>{v[w]=0});for(const w of d){const b=Qy(Gx,"users",n.email,"tests",w),I=await Kx(b);if(I.exists()){const A=I.data(),R=(A==null?void 0:A.odpovede)??[];let L=0,j=0;R.forEach(U=>{if((U==null?void 0:U.spravna)===!0?L++:j++,U!=null&&U.timestamp){const G=new Date(U.timestamp).toISOString().slice(0,10);_.includes(G)&&v[G]++}}),m[w]={spravne:L,nespravne:j}}else m[w]={spravne:0,nespravne:0}}m.answersLast7Days=v,a(m)}const u=()=>{i(d=>!d),t?document.body.style.background="#FAFAFA":document.body.style.background="#212529"};return W.useEffect(()=>{n.email&&c(),i(!0)},[n.email]),Y.jsxs("div",{children:[Y.jsx("button",{className:`btn text-light fs-4 ${t?"text-light":"text-dark"}`,type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasScrolling","aria-controls":"offcanvasScrolling",children:Y.jsx(QB,{})}),Y.jsxs("div",{className:"offcanvas offcanvas-start custom-sidebar","data-bs-scroll":"true","data-bs-backdrop":"false",tabIndex:"-1",id:"offcanvasScrolling","aria-labelledby":"offcanvasScrollingLabel",children:[Y.jsx("div",{className:"offcanvas-header ",children:Y.jsxs("div",{className:"welcomeMsg d-flex flex-column justify-content-center",children:[Y.jsx(GB,{size:25,className:"m-auto"}),Y.jsx("h6",{className:"m-0 userName",children:n.displayName})]})}),Y.jsx("hr",{}),Y.jsxs("div",{className:"offcanvas-body d-flex flex-column justify-content-center gap-2",children:[Y.jsx("button",{onClick:c,"data-bs-toggle":"modal","data-bs-target":"#scrollableModal",className:"btn  text-dark",children:Y.jsx(k4,{size:25})}),Y.jsx("hr",{}),Y.jsx("div",{className:"form-check form-switch modeWrapper",children:Y.jsx("input",{className:"form-check-input toggler",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault",onChange:u,checked:!!t})}),Y.jsx("hr",{}),Y.jsx("button",{type:"button",class:"btn-close text-reset mx-auto","data-bs-dismiss":"offcanvas","aria-label":"Close"}),Y.jsx("button",{type:"button",className:"btn mt-auto btn-outline-dark ",onClick:r,children:Y.jsx(YB,{size:20})})]})]}),Y.jsx(qB,{mode:t,stats:s,email:n.email}),Y.jsx(Nj,{mode:t,user:n}),Y.jsx(Dj,{})]})}function JB(){const[n,e]=W.useState(null),[t,i]=W.useState(!0);return W.useEffect(()=>VI(Il,s=>{e(s),i(!1)}),[]),t?Y.jsx("div",{children:"Načítavam..."}):Y.jsxs(ZR,{children:[Y.jsx(Wd,{path:"/",element:Y.jsx(C4,{})}),Y.jsx(Wd,{path:"/register",element:Y.jsx(P4,{})}),Y.jsx(Wd,{path:"/test",element:n?Y.jsx(XB,{user:n}):Y.jsx(XR,{to:"/",replace:!0})})]})}aR.createRoot(document.getElementById("root")).render(Y.jsx(W.StrictMode,{children:Y.jsx(bP,{basename:"/medTest",children:Y.jsx(JB,{})})}));
